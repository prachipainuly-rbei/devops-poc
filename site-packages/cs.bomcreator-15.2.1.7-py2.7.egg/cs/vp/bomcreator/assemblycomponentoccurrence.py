#!/usr/bin/env python
# -*- python -*- coding: iso-8859-1 -*-
#
# Copyright (C) 1990 - 2013 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#
from cdb.classbody import classbody
from cdb.objects import Object, Reference_N

from cs.vp.bom import AssemblyComponent


class AssemblyComponentOccurrence(Object):
    """
    For generated BOMs, we store occurrence ids and pathnames for every
    entry such that we will later be able to resynchronize correctly.
    ("Rueckabgleich" to be implemented in a future version.)
    """
    __maps_to__ = "bom_item_occurrence"
    __classname__ = "bom_item_occurrence"


@classbody
class AssemblyComponent(object):
    Occurrences = Reference_N(
        AssemblyComponentOccurrence,
        AssemblyComponentOccurrence.baugruppe == AssemblyComponent.baugruppe,
        AssemblyComponentOccurrence.b_index == AssemblyComponent.b_index,
        AssemblyComponentOccurrence.teilenummer == AssemblyComponent.teilenummer,
        AssemblyComponentOccurrence.t_index == AssemblyComponent.t_index,
        AssemblyComponentOccurrence.variante == AssemblyComponent.variante,
        AssemblyComponentOccurrence.position == AssemblyComponent.position,
        AssemblyComponentOccurrence.auswahlmenge == AssemblyComponent.auswahlmenge)
