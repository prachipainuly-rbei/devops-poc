/**
 * Button Filters
 */

cdb.elink.ready(function() {
  $('body').on(
    'click.buttonfilter.cdbelink',
    'button[data-elink-filter]',
    function() {
      $(this).toggleClass('elink-filter-on');
      $(this).trigger('filter');
    });

  $('body').on(
      'click.buttonfilter.cdbelink',
      '.elink-filter-dropdown [data-elink-filter]',
      function() {
        var btnGrp = $(this).closest('.btn-group');
        var fltBtn = btnGrp.find('button[data-elink-filter]');
        if ($(this).data('elink-filter') != fltBtn.data('elink-filter')) {
          fltBtn.attr('title', $(this).attr('title'));
          fltBtn.data('elink-filter', $(this).data('elink-filter'));
          var cnts = $(this).contents().clone();
          fltBtn.empty().append(cnts);
          fltBtn.removeClass('active').removeClass('elink-filter-on');
        }
        fltBtn.trigger('click');
      });
});
