<metal:treetd define-macro="datatables_tree_td"
              tal:define="node_expandable node_expandable|True">
  <td class="elink-datatables-tree ${tdclass|nothing}">
    <metal:treetdindent define-slot="indent_slot">
      <div class="elink-datatables-tree-indent pull-left"
           tal:condition="indent_level|nothing"
           tal:repeat="level range(indent_level)"></div>
    </metal:treetdindent>
    <div class="elink-datatables-tree-node"
         data-elink-datatables-tree-node="${node_id}"
         data-elink-datatables-tree-parent="${parent_id|''}"
         data-elink-datatables-tree-order="${tree_order|''}"
         data-elink-datatables-tree-loaded="${tree_node_loaded|''}">
        <tal:actions condition="node_expandable">
          <i class="elink-datatables-tree-action expandable icon-caret-right" ></i>
          <i class="elink-datatables-tree-action collapible icon-caret-down hide"></i>
        </tal:actions>
        <tal:actions condition="not:node_expandable">
          <i class="elink-datatables-tree-action invisible icon-caret-right"></i>
        </tal:actions>
        <metal:treetdcontent define-slot="content_slot" />
    </div>
  </td>
</metal:treetd>

<metal:dtcmenu define-macro="dt_col_show_hide_dropdown"
               tal:define="title title|None;
                           title options.labels.cdb_elink_show_hide if title is None else title;
                           columns columns|nothing;
                           additional_container_classes additional_container_classes|''">
	<div class="dt_col_show_hide_properties ${additional_container_classes}">
		<ul class="nav nav-pills">
			<li class="dropdown">
				<a accesskey="v" class="dropdown-toggle" role="button" href="#" data-toggle="dropdown">
					<small>${title}</small>
					<b class="caret"></b>
				</a>
				<ul class="dropdown-menu dt_col_showhide" role="menu"
                    data-elink-default_reset_text="${options.labels.button_reset}">
					<li class="hidden template" role="menuitem">
						<div>
							<form class="dropdown-form dt_col_showhide">
								<a href="#" tabindex="-1"><i class="" style="padding-right:10px;"></i></a>
							</form>
						</div>
					</li>
					<div tal:omit-tag="1" tal:condition="columns" tal:repeat="col columns">
						<li class="" role="menuitem">
							<div>
								<form class="dropdown-form dt_col_showhide">
									<a href="${col.href if (col.href is not None) else '#'}"
									tabindex="${col.tabindex if (col.tabindex is not None) else -1}">
										<i class="${col.iconclass if col.iconclass else ''}" style="padding-right:10px;">
										</i>
										${col.title if col.title else ''}
									</a>
								</form>
							</div>
						</li>
					</div>
				</ul>
			</li>
		</ul>
	</div>
</metal:dtcmenu>
