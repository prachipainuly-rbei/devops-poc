<metal:block define-macro="block_container"
             tal:define="block_order block_order|nothing">
  <div class="block-container"
       data-elink-block-order="${block_order}">
    <div class="block-header">
      <div class="bg-line pull-left">
        <hr/>
      </div>
      <div class="block-title">
        <metal:blocktitle define-slot="block_title" />
      </div>
      <ul class="nav pull-right header-dropdown-actions hide">
        <li class="dropdown">
          <a class="btn btn-small dropdown-toggle" data-toggle="dropdown" href="#">
            <i class="icon-chevron-down"></i>
          </a>
          <metal:menu define-slot="dropdown_menu" />
        </li>
      </ul>
      <div class="bg-line"><hr></div>
    </div>
    <div class="block-content container-fluid">
      <metal:blockcontent define-slot="block_content">
      </metal:blockcontent>
    </div>
  </div>
</metal:block>


<metal:block define-macro="collapsible_block_container"
            tal:define="block_order block_order|nothing;
                        block_expanded block_expanded|False;
                        block_expanded_cls 'default-expanded' if block_expanded else nothing">
  <div class="block-container block-collapsible"
       data-elink-block-order="${block_order}">
    <div class="block-header">
      <div class="block-action pull-left">
        <span data-toggle="collapse"
              data-target="#${block_id}"
              class="action-button ${block_expanded_cls}">
          <i class="elink-icon-open"
             data-elink-toggle-class1="elink-icon-open"
             data-elink-toggle-class2="elink-icon-closed"></i>
        </span>
      </div>
      <div class="block-title">
        <metal:blocktitle define-slot="block_title" />
      </div>
      <ul class="nav pull-right header-dropdown-actions hide">
        <li class="dropdown">
          <a class="btn btn-small dropdown-toggle" data-toggle="dropdown" href="#">
            <i class="icon-chevron-down"></i>
          </a>
          <metal:menu define-slot="dropdown_menu" />
        </li>
      </ul>
      <div class="bg-line"><hr></div>
    </div>
    <div class="block-content container-fluid collapse in ${block_expanded_cls}" id="${block_id}">
      <metal:blockcontent define-slot="block_content">
      </metal:blockcontent>
    </div>
  </div>
</metal:block>
