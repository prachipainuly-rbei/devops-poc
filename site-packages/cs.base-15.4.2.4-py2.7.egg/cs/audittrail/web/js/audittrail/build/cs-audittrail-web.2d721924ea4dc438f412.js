!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("cs-web-components-base"),require("React"),require("cs-web-components-externals"),require("Immutable"),require("ReactBootstrap")):"function"==typeof define&&define.amd?define(["cs-web-components-base","React","cs-web-components-externals","Immutable","ReactBootstrap"],t):"object"==typeof exports?exports["cs-audittrail-web"]=t(require("cs-web-components-base"),require("React"),require("cs-web-components-externals"),require("Immutable"),require("ReactBootstrap")):e["cs-audittrail-web"]=t(e["cs-web-components-base"],e.React,e["cs-web-components-externals"],e.Immutable,e.ReactBootstrap)}(this,function(e,t,n,r,o){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=10)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t){e.exports=n},function(e,t){e.exports=r},function(e,t,n){"use strict";function r(e){return"cs-audittrail-web-"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.prefixNS=r},function(e,t,n){"use strict";function r(e){return{type:s,payload:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){var o=r(),i=o.selectedRows,s=o.singleSelectionMode,c=i.contains(e);return t?n(u(c&&1===i.count()?a.default.OrderedSet():a.default.OrderedSet([e]))):s?n(l.Table.actions.setSelectedRows(c?i.delete(e):a.default.OrderedSet([e]))):i.count()<=2&&c?n(l.Table.actions.setSelectedRows(i.delete(e))):i.count()<2?n(l.Table.actions.setSelectedRows(c?i.delete(e):i.add(e))):null}}Object.defineProperty(t,"__esModule",{value:!0}),t.SET_SINGLE_SELECTION_MODE=void 0,t.setSingleSelectionMode=r,t.selectRow=o;var i=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(0),s=t.SET_SINGLE_SELECTION_MODE="cs-web-components-base-SET_SINGLE_SELECTION_MODE",u=l.Table.actions.setSelectedRows;t.default={SET_SINGLE_SELECTION_MODE:s,setSingleSelectionMode:r,selectRow:o}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.formatStr=t.Format=void 0;var r=n(0);t.Format=r.i18ndb.makeFormat("audittrail"),t.formatStr=r.i18ndb.makeFormatStr("audittrail")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return{}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(3),p=r(f),d=n(2),h=n(0),b=n(8),m=r(b),y=n(4),v=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.object_id=(0,h.parseQuery)(e.location).object_id,n.state={contextObject:void 0,relshipName:""},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.location,r=t.fetchCollection,o=(0,h.parseQuery)(n).restname,i=(0,h.parseQuery)(n).relshipName;r("/api/v1/collection/"+o,{$filter:"cdb_object_id eq '"+(0,h.parseQuery)(n).object_id+"'"}).then(function(t){var n=t.objects[0];e.setState({contextObject:p.default.Map(n),relshipName:i})})}},{key:"render",value:function(){if(!this.state.contextObject)return c.default.createElement(h.Throbber,null);var e=p.default.fromJS([{id:"cdb::argument::tablecolumn.cdb_cdate",desc:!0}]).toSet(),t=p.default.fromJS(["cdb::argument::tablecolumn.parent","cdb::argument::tablecolumn.child"]).toSet();return c.default.createElement("div",{className:(0,y.prefixNS)("audittrail")},c.default.createElement(m.default,{contextObject:this.state.contextObject,relshipName:this.state.relshipName,treeIDColumnID:"cdb::argument::tablecolumn.child",treeColumnID:"cdb::argument::tablecolumn.object_description",treeParentColumnID:"cdb::argument::tablecolumn.parent",relshipLabel:"Audit Trail",relshipIconUrl:"cdb_audittrail",height:"100%",collapsible:!1,expanded:!0,hiddenColumns:t,initSortColums:e}))}}]),t}(u.Component);v.propTypes={fetchCollection:d.PropTypes.func.isRequired,location:d.PropTypes.object,history:d.PropTypes.object};var g={fetchCollection:h.fetchCollection};t.default=(0,d.connect)(l,g)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(0),f=n(12),p=r(f),d=n(13),h=r(d),b=n(19),m=r(b),y=n(21),v=r(y),g=n(4),w=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={detail1:{id:"",desc:""},detail2:{id:"",desc:""},width:0},n.onSelect=n._onSelect.bind(n),n}return a(t,e),l(t,[{key:"_onSelect",value:function(e){if(e&&e.length>0){var t=e[0],n=t[2];if(n){var r=t[3],o=t[4],i=t[5];if(1===e.length&&t[1])return void this.setState({detail1:{id:n,desc:r,old:o,new:i},detail2:{id:"",desc:"",old:"",new:""},width:400});if(2===e.length){var a=e[1],l=a[2];if(l&&a[1]){var s=a[3],u=a[4],c=a[5];return void this.setState({detail1:{id:n,desc:r,old:o,new:i},detail2:{id:l,desc:s,old:u,new:c},width:400})}if(t[1])return void this.setState({detail1:{id:n,desc:r,old:o,new:i},detail2:{id:"",desc:"",short:"",old:"",new:""},width:400})}}}this.setState({detail1:{id:"",desc:"",old:"",new:""},detail2:{id:"",desc:"",old:"",new:""},width:.1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.contextObject,r=t.relshipName,o=t.tableName,i=t.height,a=t.hideTableHeaderPanels,l=t.asTree,s=t.tableLayout;return u.default.createElement(c.SplitLayout,{defaultSize:this.state.width,minSize:0,maxSize:-21,primary:"second",className:(0,g.prefixNS)("split-layout"),style:{position:"static"}},u.default.createElement(m.default,{instanceName:this.instanceName,contextObject:n,relshipName:r,tableName:o,active:this.state.expanded},function(t,o,c,f){return u.default.createElement(h.default,{contextObject:n,relshipName:r,selectionName:e.selectionName,refreshTable:c,height:i,hideTableHeaderPanels:a,tableLayout:s,asTree:l},function(n){return u.default.createElement(p.default,{rows:o,selectionName:e.selectionName,onSelect:e.onSelect},function(r){return e.renderTable(t,o,n,r,f)})})}),u.default.createElement("div",{className:(0,g.prefixNS)("detail")},u.default.createElement(v.default,{detail1:this.state.detail1,detail2:this.state.detail2})))}}]),t}(c.ObjectWidgets.RelationshipTable);t.default=w,w.defaultProps={expanded:!1,hideTableHeaderPanels:!1,collapsible:!0,asTree:!0,singleSelection:!1}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case i.SET_SINGLE_SELECTION_MODE:return void 0===t.payload?e:t.payload;default:return e}}function o(e){return e.singleSelectionMode}Object.defineProperty(t,"__esModule",{value:!0}),t.singleSelectionMode=r,t.getSingleSelectionMode=o;var i=n(5);t.default={singleSelectionMode:r}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),i=n(4),a=n(11),l=r(a),s=n(24),u=r(s),c=n(25),f=r(c);o.Registry.registerComponent((0,i.prefixNS)("MainComponent"),l.default),o.Registry.registerComponent((0,i.prefixNS)("MainComponentOutlet"),u.default),o.Registry.registerComponent((0,i.prefixNS)("AuditTrailOutlet"),f.default),t.default={MainComponent:l.default,MainComponentOutlet:u.default,AuditTrailOutlet:f.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(0),f=n(7),p=r(f),d=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(c.SinglePage,{frameComponent:c.PageFrame.ApplicationFrame,pageContent:p.default})}}]),t}(u.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=r(s),c=n(1),f=r(c),p=n(2),d=n(0),h=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelectionChanged=n.onSelectionChanged.bind(n),n}return a(t,e),l(t,[{key:"selectedObjectIDs",value:function(e){var t=this.props.rows;return u.default.Map(t.filter(function(t){return e.includes(t.get("id"))}).map(function(e){return[e.get("id"),e.get("id").split("\\\\at")]})).valueSeq()}},{key:"onSelectionChanged",value:function(e){var t=this.props.onSelect,n=this.selectedObjectIDs(e).toArray();t&&t(n)}},{key:"render",value:function(){return this.props.children(this.onSelectionChanged)}}]),t}(f.default.Component);h.propTypes={selectionName:p.PropTypes.string.isRequired,rows:p.ImmutablePropTypes.list,onSelect:p.PropTypes.func,setContextObjects:p.PropTypes.func.isRequired},t.default=(0,p.connect)(void 0,{setContextObjects:d.setContextObjects})(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(3),u=r(s),c=n(1),f=r(c),p=n(2),d=n(0),h=n(6),b=n(14),m=r(b),y=n(17),v=r(y),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tableConfig=n.makeTableConfig(e),n.getTableConfig=n.getTableConfig.bind(n),n}return a(t,e),l(t,[{key:"makeTableConfig",value:function(){var e=this,t=d.Table.Manager,n=d.Table.Scrolled,r=d.Table.ContentBlockLayout,o=d.Table.filterable,i=d.Table.treeview,a=d.Table.sortable,l=d.Table.groupable,s=d.Table.column_aggregator,u=d.Table.SettingPanels,c=d.Table.columnResizer,p=d.Table.columnOrderer,b=d.Table.columnDragger,y=d.Table.columnHider,g=d.Table.columnFixer,w=[a,o,i,u];return w.push({toolbarButtons:[function(){return f.default.createElement(d.Button.IconButton,{onClick:e.props.refreshTable,buttonStyle:"info",iconName:"csweb_refresh",title:(0,h.formatStr)("refresh")})}]}),t({Table:n(d.Table.Table),Layout:r,providers:[v.default,o,i,a,m.default,l,s,u],columnActions:[a,o,p,m.default,c,b],toolbarButtons:w,headerPanels:[l],footerPanels:[a,o],settingPanels:[y,l,a,p,g]})}},{key:"componentWillReceiveProps",value:function(e){var t=this;["contextObject","relshipName","selectionName","refreshTable","hideTableHeaderPanels","height","asTree","tableLayout"].some(function(n){return e[n]!==t.props[n]})&&this.makeTableConfig(e)}},{key:"getTableConfig",value:function(){return this.tableConfig}},{key:"render",value:function(){return this.props.children(this.getTableConfig)}}]),t}(f.default.Component);t.default=g,g.propTypes={contextObject:p.PropTypes.instanceOf(u.default.Map),relshipName:p.PropTypes.string.isRequired,selectionName:p.PropTypes.string.isRequired,refreshTable:p.PropTypes.func,height:p.PropTypes.string.isRequired,hideTableHeaderPanels:p.PropTypes.bool,tableLayout:p.PropTypes.func,asTree:p.PropTypes.bool},g.defaultProps={hideTableHeaderPanels:!1,asTree:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(5),i=r(o),a=n(15),l=r(a),s=n(9),u=r(s);t.default={actions:i.default,Provider:l.default,reducers:u.default,getSingleSelectionMode:s.getSingleSelectionMode}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onSelect=t.onSelect.bind(t),t.markRows=t.markRows.bind(t),t.selectorColumn=h.default.Map({id:w,label:"",width:"1em",contentRenderer:g.default,tooltip:(0,y.formatStr)("tabcatalog_select_header")}),t}return l(n,t),u(n,[{key:"componentWillMount",value:function(){void 0!==this.props.initSelected&&this.selectRows(this.props.initSelected,this.props),this.props.setSingleSelectionMode(this.props.singleSelection),this.createSelector(this.props)}},{key:"createSelector",value:function(e){var t=e.setColumns,n=e.setOrderedColumns,r=e.columns,o=e.orderedColumns;e.withSelector&&(r.findIndex(function(e){return e.get("id")===w})<0?(t(r.push(this.selectorColumn)),n(h.default.OrderedSet([w]).union(o))):o.first()!==w&&n(h.default.OrderedSet([w]).union(o)))}},{key:"getValidSelection",value:function(e,t){var n=t.rows;return e.filter(function(e){return n.findIndex(function(t){return t.get("id")===e})>-1})}},{key:"selectRows",value:function(e,t){var n=t.setSelectedRows,r=this.getValidSelection(e,t);n&&(0===e.count()||r.count()>0)&&n(r)}},{key:"componentWillReceiveProps",value:function(e){e.singleSelection!==this.props.singleSelection&&e.setSingleSelectionMode(e.singleSelection),e.columns===this.props.columns&&e.orderedColumns===this.props.orderedColumns||(this.createSelector(e),0===e.rows.size?e.toggleTreeView():e.rows.every(function(e){return"Status"===e.get("columns").get(4)})&&e.toggleTreeView()),h.default.is(e.initSelected,this.props.initSelected)?e.selectedRows!==this.props.selectedRows?(this.markRows(e),e.onSelectRows&&e.onSelectRows(e.selectedRows)):e.rows!==this.props.rows&&(this.markRows(e,!0),0===e.rows.size&&C()):this.selectRows(e.initSelected||h.default.OrderedSet(),e)}},{key:"markRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.rows.map(function(e){return e.get("id")}),r=void 0===e.selectedRows?h.default.OrderedSet():e.selectedRows.intersect(n);t&&!h.default.is(r,e.selectedRows)?e.setSelectedRows(r):e.setRowClassName("selected",r)}},{key:"onSelect",value:function(e){var t=this.props.selectRow,n=e.split("\\at");" nil "!==n[7]&&"Status"!==n[7]&&this.getValidSelection(h.default.OrderedSet([e]),this.props).count()>0&&t(e,!0)}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.singleSelection,delete t.withSelector,delete t.initSelected,delete t.setSingleSelectionMode,delete t.setColumns,delete t.setOrderedColumns,delete t.setSelectedRows,delete t.selectRow,delete t.setRowClassName,delete t.columns,delete t.orderedColumns,delete t.selectedRows,delete t.onSelectRows,delete t.toggleTreeView,f.default.createElement(e,s({},t,{onSelectRow:this.onSelect}))}}]),n}(f.default.Component);return t.propTypes={singleSelection:p.PropTypes.bool,withSelector:p.PropTypes.bool,initSelected:p.ImmutablePropTypes.orderedSet,setSingleSelectionMode:p.PropTypes.func,setColumns:p.PropTypes.func,setOrderedColumns:p.PropTypes.func,setSelectedRows:p.PropTypes.func,selectRow:p.PropTypes.func,setRowClassName:p.PropTypes.func,rows:p.ImmutablePropTypes.list,columns:p.ImmutablePropTypes.list,orderedColumns:p.ImmutablePropTypes.orderedSet,selectedRows:p.ImmutablePropTypes.orderedSet,onSelectRows:p.PropTypes.func,toggleTreeView:p.PropTypes.func},t.defaultProps={singleSelection:!0,withSelector:!1},j(function(e){return{selectedRows:e.selectedRows,columns:e.columns,orderedColumns:e.orderedColumns}},{setSelectedRows:S,setSingleSelectionMode:m.setSingleSelectionMode,selectRow:m.selectRow,setOrderedColumns:O,setColumns:P,setRowClassName:T,toggleTreeView:C})(t)};var c=n(1),f=r(c),p=n(2),d=n(3),h=r(d),b=n(0),m=n(5),y=n(6),v=n(16),g=r(v),w="cs-web-components-base-table-selector-column",_=b.Table.actions,S=_.setSelectedRows,O=_.setOrderedColumns,P=_.setColumns,T=_.setRowClassName,j=b.Table.connect,C=b.Table.treeview.actions.toggleTreeView},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),s=function(e){return e&&e.__esModule?e:{default:e}}(l),u=n(2),c=n(0),f=n(4),p=n(5),d=n(9),h=c.Table.connect,b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onClick=n.onClick.bind(n),n}return i(t,e),a(t,[{key:"onChange",value:function(){}},{key:"getRowID",value:function(){return this.props.row.get("id")}},{key:"onClick",value:function(e){e.stopPropagation();var t=this.props.row;this.props.selectRow(t.get("id"))}},{key:"render",value:function(){var e=this.props,t=e.selectedRows,n=e.singleSelectionMode,r=e.tableID,o=e.row;if(o.get("functionalRow",!1))return null;var i=t.contains(this.getRowID()),a=n?c.FormControl.Radio:c.FormControl.CheckBox;return""===o.get("columns").toJS()[10]?null:s.default.createElement("div",{className:(0,f.prefixNS)("table-selector-column-renderer"),onClick:this.onClick},s.default.createElement(a,{className:(0,f.prefixNS)("table-selector-column-content"),checked:i,onChange:this.onChange,name:(0,f.prefixNS)("table-selector"+r)}))}}]),t}(s.default.Component);b.propTypes={singleSelectionMode:u.PropTypes.bool,selectedRows:u.ImmutablePropTypes.orderedSet,selectRow:u.PropTypes.func,row:u.ImmutablePropTypes.map,tableID:u.PropTypes.number};var m=function(e){return{selectedRows:e.selectedRows,singleSelectionMode:(0,d.getSingleSelectionMode)(e),tableID:e.tableID}};t.default=h(m,{selectRow:p.selectRow})(b)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(18),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={Provider:o.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.filter(function(e){return e.get("columns").get(n)===r}).map(function(r){return b.default.Map({id:r.get("id"),children:s(e,t,n,r.get("columns").get(t))})})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){i(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={treeNodes:b.default.List()},t}return l(n,t),c(n,[{key:"componentWillMount",value:function(){this.updateNodes(this.props)}},{key:"updateNodes",value:function(e){var t=e.rows,n=e.treeParentColumnID,r=e.treeIDColumnID,o=e.columns,i=b.default.List();if(r&&n){var a=o.findIndex(function(e){return e.get("id")===r}),l=o.findIndex(function(e){return e.get("id")===n});a>-1&&l>-1&&(i=s(t,a,l))}this.setState({treeNodes:i})}},{key:"componentWillReceiveProps",value:function(e){e.rows===this.props.rows&&e.columns===this.props.columns&&e.treeParentColumnID===this.props.treeParentColumnID&&e.treeIDColumnID===this.props.treeIDColumnID||this.updateNodes(e)}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.columns,delete t.treeParentColumnID,delete t.treeIDColumnID,p.default.createElement(e,u({},t,{treeNodes:this.state.treeNodes}))}}]),n}(p.default.Component);return t.propTypes={rows:d.ImmutablePropTypes.list,columns:d.ImmutablePropTypes.list,treeParentColumnID:d.PropTypes.string.isRequired,treeIDColumnID:d.PropTypes.string.isRequired},y(function(e){return{columns:e.columns}},{})(t)};var f=n(1),p=r(f),d=n(2),h=n(3),b=r(h),m=n(0),y=m.Table.connect},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){return e.search.instances.getIn([t,"searchResult"])}function l(e,t){return e.search.instances.getIn([t,"searchError"])}function s(e,t,n,r){return{type:"cs-web-components-base-SEARCH:CREATE_RELSHIP_SEARCH_INSTANCE",payload:{instanceName:e,parentObject:t,relshipName:n,tableName:r}}}function u(e,t,n){return{type:"cs-web-components-base-SEARCH:LOAD_RELSHIP_SEARCH_FORM",payload:{instanceName:e,formURL:t,submitURL:n}}}function c(e,t){return e.search.instances.get(t)}function f(e,t){var n=c(e,t);return n.has("searchFormData")&&n.has("submitURL")}function p(e){return"/api/v1/collection/audittrail?object_id="+e.get("cdb_object_id")}function d(e,t){var n=c(e,t);if(f(e,t))return n.get("submitURL");var r=p(n.get("parentObject"));if(void 0!==r)return""+r}function h(e,t){var n=c(e,t);return f(e,t)?{object_navigation_id:null,values:n.get("searchValues")}:{}}function b(e,t){var n=t.contextObject,r=t.relshipName,o=e.operationsByRelship.getIn([n.get("@id"),r,"reference_opinfo",1]);if(o){var i=o.find(function(e){return"CDB_SearchAgain"===e.get("opname")});if(i&&i.get("form_url")&&i.get("submit_url"))return i}}function m(e,t){var n=t.instanceName;return{searchResult:a(e,n),searchError:l(e,n),searchAgainOpInfo:b(e,t)}}Object.defineProperty(t,"__esModule",{value:!0});var y=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),v=n(1),g=function(e){return e&&e.__esModule?e:{default:e}}(v),w=n(20),_=n(2),S=n(0),O=S.SearchApi.Actions.removeSearchInstance,P=function(e){return function(t,n){var r=n(),o=d(r,e);if(f(r,e)){var i=h(r,e);(0,S.postJSON)(o,i).then(function(n){n.error_message||t({type:"cs-web-components-base-SEARCH:RELSHIP_SEARCH_DONE",payload:{instanceName:e,result:n}})})}else(0,S.getJSON)(o).then(function(n){n.error_message||t({type:"cs-web-components-base-SEARCH:RELSHIP_SEARCH_DONE",payload:{instanceName:e,result:n}})})}},T=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refreshTable=n.refreshTable.bind(n),n}return i(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.instanceName,n=e.active,r=e.contextObject,o=e.relshipName,i=e.tableName,a=e.createRelshipSearchInstance,l=e.runSearch;a(t,r,o,i),n&&l(t)}},{key:"componentWillUnmount",value:function(){this.props.removeSearchInstance(this.props.instanceName)}},{key:"componentWillReceiveProps",value:function(e){!this.props.active&&e.active&&e.runSearch(this.props.instanceName),e.searchAgainOpInfo&&e.searchAgainOpInfo!==this.props.searchAgainOpInfo&&e.loadRelshipSearchForm(e.instanceName,e.searchAgainOpInfo.get("form_url"),e.searchAgainOpInfo.get("submit_url"))}},{key:"refreshTable",value:function(){this.props.active&&this.props.runSearch(this.props.instanceName)}},{key:"render",value:function(){var e=this.props,t=e.searchAgainOpInfo,n=e.searchResult,r=e.searchError;return null!==r?g.default.createElement(w.Alert,{bsStyle:"warning"},r):null===n?null:this.props.children(n.get("tabledef"),n.get("rows"),this.refreshTable,t)}}]),t}(g.default.Component);T.propTypes={instanceName:_.PropTypes.string.isRequired,contextObject:_.ImmutablePropTypes.map,relshipName:_.PropTypes.string.isRequired,tableName:_.PropTypes.string,active:_.PropTypes.bool,searchResult:_.ImmutablePropTypes.map,searchError:_.PropTypes.any,searchAgainOpInfo:_.ImmutablePropTypes.map,createRelshipSearchInstance:_.PropTypes.func.isRequired,removeSearchInstance:_.PropTypes.func.isRequired,runSearch:_.PropTypes.func.isRequired,loadRelshipSearchForm:_.PropTypes.func.isRequired},T.defaultProps={tableName:"",active:!0};var j={createRelshipSearchInstance:s,removeSearchInstance:O,runSearch:P,loadRelshipSearchForm:u};t.default=(0,_.connect)(m,j)(T)},function(e,t){e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{getObjectById:function(t){return e.objectsById.get(t)}}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),c=r(u),f=n(3),p=r(f),d=n(2),h=n(0),b=n(6),m=n(4),y=n(22),v=r(y),g=function(e){function t(e){o(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.requestPromise=null,n.state={error:null,detail1:void 0,detail2:void 0,desc_detail1:"",desc_detail2:""},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.detail1,n=e.detail2;t.id&&this.getDetail(t,"detail1"),n.id&&this.getDetail(n,"detail2")}},{key:"componentWillReceiveProps",value:function(e){var t=e.detail1,n=e.detail2;this.props.detail1.id!==t.id&&(t.id?this.getDetail(t,"detail1"):this.setState({detail1:void 0,desc_detail1:""})),this.props.detail2.id!==n.id&&(n.id?this.getDetail(n,"detail2"):this.setState({detail2:void 0,desc_detail2:""}))}},{key:"getDetail",value:function(e,t){var n=this,r="desc_"+t,o="/api/v1/collection/audittrail_detail/",i=this.props.getObjectById(o+e.id);if(void 0===i)this.props.fetchObject(o+e.id).then(function(o){var i={};i[t]=p.default.fromJS(o),i[r]=e.desc,n.setState(i)});else{var a={};a[t]=i,a[r]=e.desc,this.setState(a)}}},{key:"render",value:function(){var e=this,t="",n="",r="";this.state.detail1&&!this.state.detail2?"cdb_audittrail_detail"===this.state.detail1.get("system:classname")?(t=this.props.detail1.old,n=this.props.detail1.new):(t=this.state.detail1.get("cdb_audittrail_longtext_old"),n=this.state.detail1.get("cdb_audittrail_longtext_new"),r="detail1"):this.state.detail1&&this.state.detail2&&("cdb_audittrail_detail"===this.state.detail1.get("system:classname")?t=this.props.detail1.old:(t=this.state.detail1.get("cdb_audittrail_longtext_old"),r="detail1"),t||("cdb_audittrail_detail"===this.state.detail1.get("system:classname")?t=this.props.detail1.new:(t=this.state.detail1.get("cdb_audittrail_longtext_new"),r="detail1")),"cdb_audittrail_detail"===this.state.detail2.get("system:classname")?n=this.props.detail2.new:(n=this.state.detail2.get("cdb_audittrail_longtext_new"),r="detail2"));var o=v.default;return r&&(o=(0,h.getPlugin)("cs-audittrail-detail",function(t){return t===e.state[r].get("system:classname")},v.default)),c.default.createElement(h.ContentBlock,{collapsible:!1,title:(0,b.formatStr)("detail"),className:(0,m.prefixNS)("content")},c.default.createElement(h.ContentBlock.Body,null,this.state.detail1?c.default.createElement("div",null,c.default.createElement("div",{className:(0,m.prefixNS)("description")},c.default.createElement("dl",{className:"dl-horizontal"},c.default.createElement("dt",{className:"text-muted"},(0,b.formatStr)("source")),c.default.createElement("dd",null,this.state.desc_detail1),this.state.detail2?c.default.createElement("div",null,c.default.createElement("dt",{className:"text-muted"},(0,b.formatStr)("target")),c.default.createElement("dd",null,this.state.desc_detail2)):c.default.createElement("div",null,c.default.createElement("dt",{className:"text-muted"},(0,b.formatStr)("target")),c.default.createElement("dd",null,this.state.desc_detail1)))),c.default.createElement("div",{className:(0,m.prefixNS)("compare")},c.default.createElement(o,{old:t,new:n}))):c.default.createElement("div",null,(0,b.formatStr)("select_entry"))))}}]),t}(u.Component);g.propTypes={fetchObject:d.PropTypes.func.isRequired,getObjectById:d.PropTypes.func,detail1:d.PropTypes.object,detail2:d.PropTypes.object};var w={fetchObject:h.fetchObject};t.default=(0,d.connect)(l,w)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(23),f=r(c),p=n(4),d=n(2),h={chars:f.default.diffChars,words:f.default.diffWords,sentences:f.default.diffSentences,json:f.default.diffJson},b=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){var e=h[this.props.type](this.props.old,this.props.new),t=e.map(function(e,t){return e.added?u.default.createElement("ins",{key:t},e.value):e.removed?u.default.createElement("del",{key:t},e.value):u.default.createElement("span",{key:t},e.value)});return u.default.createElement("div",{className:(0,p.prefixNS)("DiffText")},t)}}]),t}(s.Component);t.default=b,b.propTypes={old:d.PropTypes.string.isRequired,new:d.PropTypes.string.isRequired,type:d.PropTypes.string.isRequired},b.defaultProps={old:"",new:"",type:"words"}},function(e,t,n){var r,o;!function(n,i){function a(e,t,n){if(Array.prototype.map)return Array.prototype.map.call(e,t,n);for(var r=new Array(e.length),o=0,i=e.length;o<i;o++)r[o]=t.call(n,e[o],o,e);return r}function l(e){return{newPos:e.newPos,components:e.components.slice(0)}}function s(e){for(var t=[],n=0;n<e.length;n++)e[n]&&t.push(e[n]);return t}function u(e){var t=e;return t=t.replace(/&/g,"&amp;"),t=t.replace(/</g,"&lt;"),t=t.replace(/>/g,"&gt;"),t=t.replace(/"/g,"&quot;")}function c(e,t,n){t=t||[],n=n||[];var r;for(r=0;r<t.length;r+=1)if(t[r]===e)return n[r];var o;if("[object Array]"===d.call(e)){for(t.push(e),o=new Array(e.length),n.push(o),r=0;r<e.length;r+=1)o[r]=c(e[r],t,n);t.pop(),n.pop()}else if("object"==typeof e&&null!==e){t.push(e),o={},n.push(o);var i,a=[];for(i in e)a.push(i);for(a.sort(),r=0;r<a.length;r+=1)i=a[r],o[i]=c(e[i],t,n);t.pop(),n.pop()}else o=e;return o}function f(e,t,n,r){for(var o=0,i=e.length,l=0,s=0;o<i;o++){var u=e[o];if(u.removed){if(u.value=n.slice(s,s+u.count).join(""),s+=u.count,o&&e[o-1].added){var c=e[o-1];e[o-1]=e[o],e[o]=c}}else{if(!u.added&&r){var f=t.slice(l,l+u.count);f=a(f,function(e,t){var r=n[s+t];return r.length>e.length?r:e}),u.value=f.join("")}else u.value=t.slice(l,l+u.count).join("");l+=u.count,u.added||(s+=u.count)}}return e}function p(e){this.ignoreWhitespace=e}var d=Object.prototype.toString;p.prototype={diff:function(e,t,n){function r(e){return n?(setTimeout(function(){n(i,e)},0),!0):e}function o(){for(var n=-1*c;n<=c;n+=2){var o,p=d[n-1],h=d[n+1],b=(h?h.newPos:0)-n;p&&(d[n-1]=i);var m=p&&p.newPos+1<s,y=h&&0<=b&&b<u;if(m||y){if(!m||y&&p.newPos<h.newPos?(o=l(h),a.pushComponent(o.components,i,!0)):(o=p,o.newPos++,a.pushComponent(o.components,!0,i)),b=a.extractCommon(o,t,e,n),o.newPos+1>=s&&b+1>=u)return r(f(o.components,t,e,a.useLongestToken));d[n]=o}else d[n]=i}c++}var a=this;if(t===e)return r([{value:t}]);if(!t)return r([{value:e,removed:!0}]);if(!e)return r([{value:t,added:!0}]);t=this.tokenize(t),e=this.tokenize(e);var s=t.length,u=e.length,c=1,p=s+u,d=[{newPos:-1,components:[]}],h=this.extractCommon(d[0],t,e,0);if(d[0].newPos+1>=s&&h+1>=u)return r([{value:t.join("")}]);if(n)!function e(){setTimeout(function(){if(c>p)return n();o()||e()},0)}();else for(;c<=p;){var b=o();if(b)return b}},pushComponent:function(e,t,n){var r=e[e.length-1];r&&r.added===t&&r.removed===n?e[e.length-1]={count:r.count+1,added:t,removed:n}:e.push({count:1,added:t,removed:n})},extractCommon:function(e,t,n,r){for(var o=t.length,i=n.length,a=e.newPos,l=a-r,s=0;a+1<o&&l+1<i&&this.equals(t[a+1],n[l+1]);)a++,l++,s++;return s&&e.components.push({count:s}),e.newPos=a,l},equals:function(e,t){var n=/\S/;return e===t||this.ignoreWhitespace&&!n.test(e)&&!n.test(t)},tokenize:function(e){return e.split("")}};var h=new p,b=new p(!0),m=new p;b.tokenize=m.tokenize=function(e){return s(e.split(/(\s+|\b)/))};var y=new p(!0);y.tokenize=function(e){return s(e.split(/([{}:;,]|\s+)/))};var v=new p,g=new p;g.ignoreTrim=!0,v.tokenize=g.tokenize=function(e){for(var t=[],n=e.split(/^/m),r=0;r<n.length;r++){var o=n[r],i=n[r-1],a=i&&i[i.length-1];"\n"===o&&"\r"===a?t[t.length-1]=t[t.length-1].slice(0,-1)+"\r\n":(this.ignoreTrim&&(o=o.trim(),r<n.length-1&&(o+="\n")),t.push(o))}return t};var w=new p;w.tokenize=function(e){var t=[],n=e.split(/(\n|\r\n)/);n[n.length-1]||n.pop();for(var r=0;r<n.length;r++){var o=n[r];r%2?t[t.length-1]+=o:t.push(o)}return t};var _=new p;_.tokenize=function(e){return s(e.split(/(\S.+?[.!?])(?=\s+|$)/))};var S=new p;S.useLongestToken=!0,S.tokenize=v.tokenize,S.equals=function(e,t){return v.equals(e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};var O={Diff:p,diffChars:function(e,t,n){return h.diff(e,t,n)},diffWords:function(e,t,n){return b.diff(e,t,n)},diffWordsWithSpace:function(e,t,n){return m.diff(e,t,n)},diffLines:function(e,t,n){return v.diff(e,t,n)},diffTrimmedLines:function(e,t,n){return g.diff(e,t,n)},diffSentences:function(e,t,n){return _.diff(e,t,n)},diffCss:function(e,t,n){return y.diff(e,t,n)},diffJson:function(e,t,n){return S.diff("string"==typeof e?e:JSON.stringify(c(e),i,"  "),"string"==typeof t?t:JSON.stringify(c(t),i,"  "),n)},createTwoFilesPatch:function(e,t,n,r,o,i){function l(e){return a(e,function(e){return" "+e})}function s(e,t,n){var r=c[c.length-2],o=t===c.length-2,i=t===c.length-3&&n.added!==r.added;/\n$/.test(n.value)||!o&&!i||e.push("\\ No newline at end of file")}var u=[];e==t&&u.push("Index: "+e),u.push("==================================================================="),u.push("--- "+e+(void 0===o?"":"\t"+o)),u.push("+++ "+t+(void 0===i?"":"\t"+i));var c=w.diff(n,r);c.push({value:"",lines:[]});for(var f=0,p=0,d=[],h=1,b=1,m=0;m<c.length;m++){var y=c[m],v=y.lines||y.value.replace(/\n$/,"").split("\n");if(y.lines=v,y.added||y.removed){if(!f){var g=c[m-1];f=h,p=b,g&&(d=l(g.lines.slice(-4)),f-=d.length,p-=d.length)}d.push.apply(d,a(v,function(e){return(y.added?"+":"-")+e})),s(d,m,y),y.added?b+=v.length:h+=v.length}else{if(f)if(v.length<=8&&m<c.length-2)d.push.apply(d,l(v));else{var _=Math.min(v.length,4);u.push("@@ -"+f+","+(h-f+_)+" +"+p+","+(b-p+_)+" @@"),u.push.apply(u,d),u.push.apply(u,l(v.slice(0,_))),v.length<=4&&s(u,m,y),f=0,p=0,d=[]}h+=v.length,b+=v.length}}return u.join("\n")+"\n"},createPatch:function(e,t,n,r,o){return O.createTwoFilesPatch(e,e,t,n,r,o)},applyPatch:function(e,t){for(var n=t.split("\n"),r=[],o=0,i=!1,a=!1;o<n.length&&!/^@@/.test(n[o]);)o++;for(;o<n.length;o++)if("@"===n[o][0]){var l=n[o].split(/@@ -(\d+),(\d+) \+(\d+),(\d+) @@/);r.unshift({start:l[3],oldlength:+l[2],removed:[],newlength:l[4],added:[]})}else"+"===n[o][0]?r[0].added.push(n[o].substr(1)):"-"===n[o][0]?r[0].removed.push(n[o].substr(1)):" "===n[o][0]?(r[0].added.push(n[o].substr(1)),r[0].removed.push(n[o].substr(1))):"\\"===n[o][0]&&("+"===n[o-1][0]?i=!0:"-"===n[o-1][0]&&(a=!0));var s=e.split("\n");for(o=r.length-1;o>=0;o--){for(var u=r[o],c=0;c<u.oldlength;c++)if(s[u.start-1+c]!==u.removed[c])return!1;Array.prototype.splice.apply(s,[u.start-1,u.oldlength].concat(u.added))}if(i)for(;!s[s.length-1];)s.pop();else a&&s.push("");return s.join("\n")},convertChangesToXML:function(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];r.added?t.push("<ins>"):r.removed&&t.push("<del>"),t.push(u(r.value)),r.added?t.push("</ins>"):r.removed&&t.push("</del>")}return t.join("")},convertChangesToDMP:function(e){for(var t,n,r=[],o=0;o<e.length;o++)t=e[o],n=t.added?1:t.removed?-1:0,r.push([n,t.value]);return r},canonicalize:c};void 0!==e&&e.exports?e.exports=O:(r=[],(o=function(){return O}.apply(t,r))!==i&&(e.exports=o))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=r(s),c=n(0),f=n(7),p=r(f),d=c.Registry.findComponent("cs-web-components-base-SimpleLayout"),h=function(e){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),l(t,[{key:"render",value:function(){return u.default.createElement(c.SinglePage,{frameComponent:d,pageContent:p.default})}}]),t}(u.default.Component);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.active,n=o(e,["active"]),r=c.default.fromJS([{id:"cdb::argument::tablecolumn.cdb_cdate",desc:!0}]).toSet(),i=c.default.fromJS(["cdb::argument::tablecolumn.parent","cdb::argument::tablecolumn.child"]).toSet();return s.default.createElement(d.default,a({},n,{relshipLabel:"Audit Trail",relshipIconUrl:"/resources/icons/byname/cdb_audittrail",height:"100%",collapsible:!1,expanded:t,hiddenColumns:i,initSortColums:r}))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var l=n(1),s=r(l),u=n(3),c=r(u),f=n(2),p=n(8),d=r(p);i.propTypes={relshipName:f.PropTypes.string.isRequired,active:f.PropTypes.bool.isRequired}}])});
//# sourceMappingURL=cs-audittrail-web.2d721924ea4dc438f412.js.map