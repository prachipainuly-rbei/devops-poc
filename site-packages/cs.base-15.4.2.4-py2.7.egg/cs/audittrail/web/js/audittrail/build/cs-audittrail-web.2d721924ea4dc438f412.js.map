{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cs-audittrail-web.2d721924ea4dc438f412.js","webpack:///webpack/bootstrap 16d365c81bed5734ae36","webpack:///external \"cs-web-components-base\"","webpack:///external \"React\"","webpack:///external \"cs-web-components-externals\"","webpack:///external \"Immutable\"","webpack:///webpack/cs-audittrail-web/src/helpers.js","webpack:///webpack/cs-audittrail-web/src/components/selectable/actions.js","webpack:///webpack/cs-audittrail-web/src/i18n.js","webpack:///webpack/cs-audittrail-web/src/components/AuditTrail.jsx","webpack:///webpack/cs-audittrail-web/src/components/AuditTrailRelshipTable.jsx","webpack:///webpack/cs-audittrail-web/src/components/selectable/reducers.js","webpack:///webpack/cs-audittrail-web/src/index.js","webpack:///webpack/cs-audittrail-web/src/containers/MainComponent.jsx","webpack:///webpack/cs-audittrail-web/src/components/AuditTrailSelectionHelper.jsx","webpack:///webpack/cs-audittrail-web/src/components/AuditTrailTableConfig.jsx","webpack:///webpack/cs-audittrail-web/src/components/selectable/index.js","webpack:///webpack/cs-audittrail-web/src/components/selectable/Provider.jsx","webpack:///webpack/cs-audittrail-web/src/components/selectable/Selector.jsx","webpack:///webpack/cs-audittrail-web/src/components/table_to_tree/index.js","webpack:///webpack/cs-audittrail-web/src/components/table_to_tree/Provider.jsx","webpack:///webpack/cs-audittrail-web/src/components/AuditTrailFetcher.jsx","webpack:///external \"ReactBootstrap\"","webpack:///webpack/cs-audittrail-web/src/components/Detail.jsx","webpack:///webpack/cs-audittrail-web/src/components/Diff.jsx","webpack:///webpack/cs-audittrail-web/node_modules/diff/diff.js","webpack:///webpack/cs-audittrail-web/src/containers/MainComponentOutlet.jsx","webpack:///webpack/cs-audittrail-web/src/components/AuditTrailOutlet.jsx"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_20__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","prefixNS","value","setSingleSelectionMode","isSingle","type","SET_SINGLE_SELECTION_MODE","payload","selectRow","row","clearSelection","arguments","length","undefined","dispatch","getState","_getState","selectedRows","singleSelectionMode","selected","contains","setSelectedRows","count","Immutable","OrderedSet","Table","actions","delete","add","_immutable","_immutable2","obj","default","_csWebComponentsBase","formatStr","Format","i18ndb","makeFormat","makeFormatStr","_interopRequireDefault","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","mapStateToProps","_createClass","defineProperties","target","props","descriptor","key","protoProps","staticProps","_react","_react2","_csWebComponentsExternals","_AuditTrailRelshipTable","_AuditTrailRelshipTable2","_helpers","AuditTrail","_Component","_this","getPrototypeOf","object_id","parseQuery","location","state","contextObject","relshipName","_this2","_props","fetchCollection","restname","$filter","then","data","objects","setState","Map","createElement","Throbber","initSortColumns","fromJS","id","desc","toSet","hiddenColumns","className","treeIDColumnID","treeColumnID","treeParentColumnID","relshipLabel","relshipIconUrl","height","collapsible","expanded","initSortColums","Component","propTypes","PropTypes","func","isRequired","history","connect","_AuditTrailSelectionHelper","_AuditTrailSelectionHelper2","_AuditTrailTableConfig","_AuditTrailTableConfig2","_AuditTrailFetcher","_AuditTrailFetcher2","_Detail","_Detail2","AuditTrailRelationshipTable","_ObjectWidgets$Relati","detail1","detail2","width","onSelect","_onSelect","bind","detail1_id","detail1_desc","o1","n1","old","new","detail2_id","detail2_desc","o2","n2","short","tableName","hideTableHeaderPanels","asTree","tableLayout","SplitLayout","defaultSize","minSize","maxSize","primary","style","position","instanceName","active","tableDef","rowValues","refreshTable","searchAgainOp","selectionName","tableConfig","rows","onSelectionChanged","renderTable","ObjectWidgets","RelationshipTable","defaultProps","singleSelection","action","getSingleSelectionMode","_actions","_MainComponent","_MainComponent2","_MainComponentOutlet","_MainComponentOutlet2","_AuditTrailOutlet","_AuditTrailOutlet2","Registry","registerComponent","MainComponent","MainComponentOutlet","AuditTrailOutlet","_AuditTrail","_AuditTrail2","_React$Component","apply","SinglePage","frameComponent","PageFrame","ApplicationFrame","pageContent","React","AuditTrailSelectionHelper","selectedIds","filter","includes","map","split","valueSeq","selection","selectionIds","selectedObjectIDs","toArray","children","string","ImmutablePropTypes","list","setContextObjects","_i18n","_selectable","_selectable2","_table_to_tree","_table_to_tree2","AuditTrailTableConfig","makeTableConfig","getTableConfig","Manager","Scrolled","ContentBlockLayout","filterable","treeview","sortable","groupable","column_aggregator","SettingPanels","columnResizer","columnOrderer","columnDragger","columnHider","columnFixer","toolbarButtons","push","Button","IconButton","onClick","buttonStyle","iconName","title","Layout","providers","tableToTree","selectable","columnActions","headerPanels","footerPanels","settingPanels","nextProps","_this3","some","propName","instanceOf","bool","_actions2","_Provider","_Provider2","_reducers","_reducers2","Provider","reducers","_objectWithoutProperties","keys","indexOf","_extends","assign","source","WrappedTable","Select","markRows","selectorColumn","SELECTORID","label","contentRenderer","Selector","tooltip","initSelected","selectRows","createSelector","setColumns","setOrderedColumns","columns","orderedColumns","withSelector","findIndex","col","union","first","valid","getValidSelection","size","toggleTreeView","every","v","is","onSelectRows","checkSelection","rowIDs","intersect","setRowClassName","rowdetail","onSelectRow","orderedSet","_Selector","_Selector2","_Table$actions","Renderer","onChange","event","stopPropagation","tableID","checked","getRowID","FormControl","Radio","CheckBox","toJS","number","getNodes","idIndex","parentIDIndex","parentID","TabelToTree","treeNodes","List","updateNodes","nIdx","pIdx","getSearchResult","search","instances","getIn","getSearchError","createRelshipSearchInstance","parentObject","loadRelshipSearchForm","formURL","submitURL","getInstance","relshipHasSearch","has","getRelshipUrl","getSubmitUrl","relship_url","getSearchRequestData","object_navigation_id","values","searchAgainOperation","ownProps","refOpInfos","operationsByRelship","opInfo","find","op","searchResult","searchError","searchAgainOpInfo","_reactBootstrap","removeSearchInstance","SearchApi","Actions","runSearch","searchUrl","request_data","postJSON","result","error_message","getJSON","RelationshipFetcher","_props2","Alert","bsStyle","any","getObjectById","object_link","objectsById","_Diff","_Diff2","Detail","requestPromise","error","desc_detail1","desc_detail2","getDetail","detail","detail_name","desc_name","url","fetchObject","newState","text_old","text_new","plugin","diffComponent","DiffText","getPlugin","cn","ContentBlock","Body","_diff","_diff2","diffChoice","chars","jsdiff","diffChars","words","diffWords","sentences","diffSentences","json","diffJson","diff","part","idx","added","removed","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","global","arr","mapper","that","Array","other","clonePath","path","newPos","components","slice","removeEmpty","array","ret","escapeHTML","replace","canonicalize","stack","replacementStack","canonicalizedObj","objectPrototypeToString","pop","sortedKeys","sort","buildValues","newString","oldString","useLongestToken","componentPos","componentLen","oldPos","component","join","tmp","oldValue","Diff","ignoreWhitespace","toString","callback","done","setTimeout","execEditLength","diagonalPath","editLength","basePath","addPath","bestPath","removePath","canAdd","newLen","canRemove","oldLen","pushComponent","extractCommon","tokenize","maxEditLength","exec","last","commonCount","equals","left","right","reWhitespace","test","CharDiff","WordDiff","WordWithSpaceDiff","CssDiff","LineDiff","TrimmedLineDiff","ignoreTrim","retLines","lines","line","lastLine","lastLineLastChar","trim","PatchDiff","linesAndNewlines","SentenceDiff","JsonDiff","JsDiff","oldStr","newStr","diffWordsWithSpace","diffLines","diffTrimmedLines","diffCss","oldObj","newObj","JSON","stringify","createTwoFilesPatch","oldFileName","newFileName","oldHeader","newHeader","contextLines","entry","eofNL","curRange","current","isLast","isLastOfType","oldRangeStart","newRangeStart","oldLine","newLine","prev","contextSize","Math","min","createPatch","fileName","applyPatch","uniDiff","diffstr","hunks","remEOFNL","addEOFNL","chnukHeader","unshift","start","oldlength","newlength","substr","hunk","j","splice","concat","convertChangesToXML","changes","change","convertChangesToDMP","operation","SimpleLayout","findComponent","others"],"mappings":"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","file":"cs-audittrail-web.2d721924ea4dc438f412.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"Immutable\"), require(\"ReactBootstrap\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-web-components-base\", \"React\", \"cs-web-components-externals\", \"Immutable\", \"ReactBootstrap\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-audittrail-web\"] = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"Immutable\"), require(\"ReactBootstrap\"));\n\telse\n\t\troot[\"cs-audittrail-web\"] = factory(root[\"cs-web-components-base\"], root[\"React\"], root[\"cs-web-components-externals\"], root[\"Immutable\"], root[\"ReactBootstrap\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_20__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"Immutable\"), require(\"ReactBootstrap\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-web-components-base\", \"React\", \"cs-web-components-externals\", \"Immutable\", \"ReactBootstrap\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-audittrail-web\"] = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"Immutable\"), require(\"ReactBootstrap\"));\n\telse\n\t\troot[\"cs-audittrail-web\"] = factory(root[\"cs-web-components-base\"], root[\"React\"], root[\"cs-web-components-externals\"], root[\"Immutable\"], root[\"ReactBootstrap\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_20__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 10);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prefixNS = prefixNS;\n/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: helpers.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\n\nfunction prefixNS(name) {\n  return \"cs-audittrail-web\" + \"-\" + name;\n}\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SET_SINGLE_SELECTION_MODE = undefined;\nexports.setSingleSelectionMode = setSingleSelectionMode;\nexports.selectRow = selectRow;\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: actions.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\n\nvar SET_SINGLE_SELECTION_MODE = exports.SET_SINGLE_SELECTION_MODE = 'cs-web-components-base-SET_SINGLE_SELECTION_MODE';\n\nvar setSelectedRows = _csWebComponentsBase.Table.actions.setSelectedRows;\nfunction setSingleSelectionMode(isSingle) {\n    return {\n        type: SET_SINGLE_SELECTION_MODE,\n        payload: isSingle\n    };\n}\n\nfunction selectRow(row) {\n    var clearSelection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    return function (dispatch, getState) {\n        var _getState = getState(),\n            selectedRows = _getState.selectedRows,\n            singleSelectionMode = _getState.singleSelectionMode;\n\n        var selected = selectedRows.contains(row);\n\n        if (clearSelection) {\n            return dispatch(setSelectedRows(selected && selectedRows.count() === 1 ? _immutable2.default.OrderedSet() : _immutable2.default.OrderedSet([row])));\n        }\n\n        if (singleSelectionMode) {\n            return dispatch(_csWebComponentsBase.Table.actions.setSelectedRows(selected ? selectedRows.delete(row) : _immutable2.default.OrderedSet([row])));\n        } else {\n            if (selectedRows.count() <= 2 && selected) {\n                return dispatch(_csWebComponentsBase.Table.actions.setSelectedRows(selectedRows.delete(row)));\n            } else if (selectedRows.count() < 2) {\n                return dispatch(_csWebComponentsBase.Table.actions.setSelectedRows(selected ? selectedRows.delete(row) : selectedRows.add(row)));\n            } else {\n                return null;\n            }\n        }\n    };\n}\n\nexports.default = {\n    SET_SINGLE_SELECTION_MODE: SET_SINGLE_SELECTION_MODE,\n    setSingleSelectionMode: setSingleSelectionMode, selectRow: selectRow\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatStr = exports.Format = undefined;\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar Format = exports.Format = _csWebComponentsBase.i18ndb.makeFormat('audittrail'); /*\r\n                                                                                     * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                     * All rights reserved.\r\n                                                                                     * http://www.contact-software.com\r\n                                                                                     *\r\n                                                                                     * Revision \"$Id: i18n.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n                                                                                     */\n\nvar formatStr = exports.formatStr = _csWebComponentsBase.i18ndb.makeFormatStr('audittrail');\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _AuditTrailRelshipTable = __webpack_require__(8);\n\nvar _AuditTrailRelshipTable2 = _interopRequireDefault(_AuditTrailRelshipTable);\n\nvar _helpers = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: AuditTrail.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar AuditTrail = function (_Component) {\n    _inherits(AuditTrail, _Component);\n\n    function AuditTrail(props) {\n        _classCallCheck(this, AuditTrail);\n\n        var _this = _possibleConstructorReturn(this, (AuditTrail.__proto__ || Object.getPrototypeOf(AuditTrail)).call(this, props));\n\n        _this.object_id = (0, _csWebComponentsBase.parseQuery)(props.location).object_id;\n        _this.state = { contextObject: undefined,\n            relshipName: \"\" };\n        return _this;\n    }\n\n    _createClass(AuditTrail, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            var _props = this.props,\n                location = _props.location,\n                fetchCollection = _props.fetchCollection;\n\n            var restname = (0, _csWebComponentsBase.parseQuery)(location).restname;\n            var relshipName = (0, _csWebComponentsBase.parseQuery)(location).relshipName;\n            var object_id = (0, _csWebComponentsBase.parseQuery)(location).object_id;\n\n            fetchCollection(\"/api/v1/collection/\" + restname, { \"$filter\": \"cdb_object_id eq '\" + object_id + \"'\" }).then(function (data) {\n                var object = data.objects[0];\n                _this2.setState({ contextObject: _immutable2.default.Map(object),\n                    relshipName: relshipName });\n            });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            if (!this.state.contextObject) {\n                return _react2.default.createElement(_csWebComponentsBase.Throbber, null);\n            }\n            var initSortColumns = _immutable2.default.fromJS([{ id: 'cdb::argument::tablecolumn.cdb_cdate', desc: true }]).toSet();\n            var hiddenColumns = _immutable2.default.fromJS(['cdb::argument::tablecolumn.parent', 'cdb::argument::tablecolumn.child']).toSet();\n            return _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)('audittrail') },\n                _react2.default.createElement(_AuditTrailRelshipTable2.default, {\n                    contextObject: this.state.contextObject,\n                    relshipName: this.state.relshipName,\n                    treeIDColumnID: 'cdb::argument::tablecolumn.child',\n                    treeColumnID: 'cdb::argument::tablecolumn.object_description',\n                    treeParentColumnID: 'cdb::argument::tablecolumn.parent',\n                    relshipLabel: 'Audit Trail',\n                    relshipIconUrl: 'cdb_audittrail',\n                    height: '100%',\n                    collapsible: false,\n                    expanded: true,\n                    hiddenColumns: hiddenColumns,\n                    initSortColums: initSortColumns\n                })\n            );\n        }\n    }]);\n\n    return AuditTrail;\n}(_react.Component);\n\nAuditTrail.propTypes = {\n    fetchCollection: _csWebComponentsExternals.PropTypes.func.isRequired,\n    location: _csWebComponentsExternals.PropTypes.object,\n    history: _csWebComponentsExternals.PropTypes.object\n};\n\nfunction mapStateToProps() {\n    return {};\n}\n\nvar actions = { fetchCollection: _csWebComponentsBase.fetchCollection };\nexports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps, actions)(AuditTrail);\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _AuditTrailSelectionHelper = __webpack_require__(12);\n\nvar _AuditTrailSelectionHelper2 = _interopRequireDefault(_AuditTrailSelectionHelper);\n\nvar _AuditTrailTableConfig = __webpack_require__(13);\n\nvar _AuditTrailTableConfig2 = _interopRequireDefault(_AuditTrailTableConfig);\n\nvar _AuditTrailFetcher = __webpack_require__(19);\n\nvar _AuditTrailFetcher2 = _interopRequireDefault(_AuditTrailFetcher);\n\nvar _Detail = __webpack_require__(21);\n\nvar _Detail2 = _interopRequireDefault(_Detail);\n\nvar _helpers = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               * Revision \"$Id: AuditTrailRelshipTable.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               */\n\nvar AuditTrailRelationshipTable = function (_ObjectWidgets$Relati) {\n    _inherits(AuditTrailRelationshipTable, _ObjectWidgets$Relati);\n\n    function AuditTrailRelationshipTable(props) {\n        _classCallCheck(this, AuditTrailRelationshipTable);\n\n        var _this = _possibleConstructorReturn(this, (AuditTrailRelationshipTable.__proto__ || Object.getPrototypeOf(AuditTrailRelationshipTable)).call(this, props));\n\n        _this.state = { detail1: { id: \"\", desc: \"\" },\n            detail2: { id: \"\", desc: \"\" },\n            width: 0 };\n\n        _this.onSelect = _this._onSelect.bind(_this);\n        return _this;\n    }\n\n    _createClass(AuditTrailRelationshipTable, [{\n        key: '_onSelect',\n        value: function _onSelect(selected) {\n            if (selected && selected.length > 0) {\n                var detail1 = selected[0];\n\n                var detail1_id = detail1[2];\n                if (detail1_id) {\n                    var detail1_desc = detail1[3];\n                    var o1 = detail1[4];\n                    var n1 = detail1[5];\n                    if (selected.length === 1 && detail1[1]) {\n                        this.setState({ detail1: { id: detail1_id, desc: detail1_desc, old: o1, new: n1 },\n                            detail2: { id: \"\", desc: \"\", old: \"\", new: \"\" },\n                            width: 400 });\n                        return;\n                    } else if (selected.length === 2) {\n                        var detail2 = selected[1];\n                        var detail2_id = detail2[2];\n                        if (detail2_id && detail2[1]) {\n                            var detail2_desc = detail2[3];\n                            var o2 = detail2[4];\n                            var n2 = detail2[5];\n                            this.setState({ detail1: { id: detail1_id,\n                                    desc: detail1_desc,\n                                    old: o1,\n                                    new: n1 },\n                                detail2: { id: detail2_id,\n                                    desc: detail2_desc,\n                                    old: o2,\n                                    new: n2 },\n                                width: 400 });\n                            return;\n                        } else if (detail1[1]) {\n                            this.setState({ detail1: { id: detail1_id,\n                                    desc: detail1_desc,\n                                    old: o1,\n                                    new: n1 },\n                                detail2: { id: \"\",\n                                    desc: \"\",\n                                    short: \"\",\n                                    old: \"\",\n                                    new: \"\" },\n                                width: 400 });\n                            return;\n                        }\n                    }\n                }\n            }\n            this.setState({ detail1: { id: \"\",\n                    desc: \"\",\n                    old: \"\",\n                    new: \"\" },\n                detail2: { id: \"\",\n                    desc: \"\",\n                    old: \"\",\n                    new: \"\" },\n                width: 0.1 });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var _props = this.props,\n                contextObject = _props.contextObject,\n                relshipName = _props.relshipName,\n                tableName = _props.tableName,\n                height = _props.height,\n                hideTableHeaderPanels = _props.hideTableHeaderPanels,\n                asTree = _props.asTree,\n                tableLayout = _props.tableLayout;\n\n            return _react2.default.createElement(\n                _csWebComponentsBase.SplitLayout,\n                { defaultSize: this.state.width,\n                    minSize: 0,\n                    maxSize: -21,\n                    primary: 'second',\n                    className: (0, _helpers.prefixNS)('split-layout'),\n                    style: { position: \"static\" } },\n                _react2.default.createElement(\n                    _AuditTrailFetcher2.default,\n                    {\n                        instanceName: this.instanceName,\n                        contextObject: contextObject,\n                        relshipName: relshipName,\n                        tableName: tableName,\n                        active: this.state.expanded },\n                    function (tableDef, rowValues, refreshTable, searchAgainOp) {\n                        return _react2.default.createElement(\n                            _AuditTrailTableConfig2.default,\n                            {\n                                contextObject: contextObject,\n                                relshipName: relshipName,\n                                selectionName: _this2.selectionName,\n                                refreshTable: refreshTable,\n                                height: height,\n                                hideTableHeaderPanels: hideTableHeaderPanels,\n                                tableLayout: tableLayout,\n                                asTree: asTree },\n                            function (tableConfig) {\n                                return _react2.default.createElement(\n                                    _AuditTrailSelectionHelper2.default,\n                                    {\n                                        rows: rowValues,\n                                        selectionName: _this2.selectionName,\n                                        onSelect: _this2.onSelect },\n                                    function (onSelectionChanged) {\n                                        return _this2.renderTable(tableDef, rowValues, tableConfig, onSelectionChanged, searchAgainOp);\n                                    }\n                                );\n                            }\n                        );\n                    }\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: (0, _helpers.prefixNS)('detail') },\n                    _react2.default.createElement(_Detail2.default, { detail1: this.state.detail1,\n                        detail2: this.state.detail2\n                    })\n                )\n            );\n        }\n    }]);\n\n    return AuditTrailRelationshipTable;\n}(_csWebComponentsBase.ObjectWidgets.RelationshipTable);\n\nexports.default = AuditTrailRelationshipTable;\n\n\nAuditTrailRelationshipTable.defaultProps = {\n    expanded: false,\n    hideTableHeaderPanels: false,\n    collapsible: true,\n    asTree: true,\n    singleSelection: false\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.singleSelectionMode = singleSelectionMode;\nexports.getSingleSelectionMode = getSingleSelectionMode;\n\nvar _actions = __webpack_require__(5);\n\nfunction singleSelectionMode() {\n    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n    var action = arguments[1];\n\n    switch (action.type) {\n        case _actions.SET_SINGLE_SELECTION_MODE:\n            return action.payload === undefined ? state : action.payload;\n        default:\n            return state;\n    }\n} /*\r\n   * Copyright (C) 2016 CONTACT Software GmbH\r\n   * All rights reserved.\r\n   * http://www.contact-software.com\r\n   *\r\n   * Revision \"$Id: reducers.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n   */\n\nfunction getSingleSelectionMode(state) {\n    return state.singleSelectionMode;\n}\n\nexports.default = {\n    singleSelectionMode: singleSelectionMode\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _helpers = __webpack_require__(4);\n\nvar _MainComponent = __webpack_require__(11);\n\nvar _MainComponent2 = _interopRequireDefault(_MainComponent);\n\nvar _MainComponentOutlet = __webpack_require__(24);\n\nvar _MainComponentOutlet2 = _interopRequireDefault(_MainComponentOutlet);\n\nvar _AuditTrailOutlet = __webpack_require__(25);\n\nvar _AuditTrailOutlet2 = _interopRequireDefault(_AuditTrailOutlet);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('MainComponent'), _MainComponent2.default); /*\r\n                                                                                                                    * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                    * All rights reserved.\r\n                                                                                                                    * http://www.contact-software.com\r\n                                                                                                                    *\r\n                                                                                                                    * Revision \"$Id: index.js 175809 2018-04-12 08:18:45Z ssa $\"\r\n                                                                                                                    */\n\n_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('MainComponentOutlet'), _MainComponentOutlet2.default);\n_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('AuditTrailOutlet'), _AuditTrailOutlet2.default);\n\nexports.default = {\n  MainComponent: _MainComponent2.default,\n  MainComponentOutlet: _MainComponentOutlet2.default,\n  AuditTrailOutlet: _AuditTrailOutlet2.default\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _AuditTrail = __webpack_require__(7);\n\nvar _AuditTrail2 = _interopRequireDefault(_AuditTrail);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: MainComponent.jsx 174047 2018-03-06 06:26:20Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar MainComponent = function (_React$Component) {\n    _inherits(MainComponent, _React$Component);\n\n    function MainComponent() {\n        _classCallCheck(this, MainComponent);\n\n        return _possibleConstructorReturn(this, (MainComponent.__proto__ || Object.getPrototypeOf(MainComponent)).apply(this, arguments));\n    }\n\n    _createClass(MainComponent, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_csWebComponentsBase.SinglePage, { frameComponent: _csWebComponentsBase.PageFrame.ApplicationFrame,\n                pageContent: _AuditTrail2.default });\n        }\n    }]);\n\n    return MainComponent;\n}(_react2.default.Component);\n\nexports.default = MainComponent;\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2017 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: AuditTrailSelectionHelper.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar AuditTrailSelectionHelper = function (_React$Component) {\n    _inherits(AuditTrailSelectionHelper, _React$Component);\n\n    function AuditTrailSelectionHelper(props) {\n        _classCallCheck(this, AuditTrailSelectionHelper);\n\n        var _this = _possibleConstructorReturn(this, (AuditTrailSelectionHelper.__proto__ || Object.getPrototypeOf(AuditTrailSelectionHelper)).call(this, props));\n\n        _this.onSelectionChanged = _this.onSelectionChanged.bind(_this);\n        return _this;\n    }\n\n    /*\r\n     * Convert the selectionIds from the table to the object IDs for the actual\r\n     * REST objects.\r\n     */\n\n\n    _createClass(AuditTrailSelectionHelper, [{\n        key: 'selectedObjectIDs',\n        value: function selectedObjectIDs(selectedIds) {\n            var rows = this.props.rows;\n            // Build a mapping selection ID => object ID for the selected entries\n\n            var idMap = _immutable2.default.Map(rows.filter(function (row) {\n                return selectedIds.includes(row.get('id'));\n            }).map(function (row) {\n                return [row.get('id'), row.get('id').split(\"\\\\\\\\at\")];\n            }));\n            // For the result, keep the selection order from the table.\n            return idMap.valueSeq();\n        }\n    }, {\n        key: 'onSelectionChanged',\n        value: function onSelectionChanged(selection) {\n            var onSelect = this.props.onSelect;\n\n            var selectionIds = this.selectedObjectIDs(selection).toArray();\n            if (onSelect) {\n                onSelect(selectionIds);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return this.props.children(this.onSelectionChanged);\n        }\n    }]);\n\n    return AuditTrailSelectionHelper;\n}(_react2.default.Component);\n\nAuditTrailSelectionHelper.propTypes = {\n    selectionName: _csWebComponentsExternals.PropTypes.string.isRequired,\n    rows: _csWebComponentsExternals.ImmutablePropTypes.list,\n    onSelect: _csWebComponentsExternals.PropTypes.func,\n    // injected by connect\n    setContextObjects: _csWebComponentsExternals.PropTypes.func.isRequired\n};\n\nexports.default = (0, _csWebComponentsExternals.connect)(undefined, { setContextObjects: _csWebComponentsBase.setContextObjects })(AuditTrailSelectionHelper);\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _i18n = __webpack_require__(6);\n\nvar _selectable = __webpack_require__(14);\n\nvar _selectable2 = _interopRequireDefault(_selectable);\n\nvar _table_to_tree = __webpack_require__(17);\n\nvar _table_to_tree2 = _interopRequireDefault(_table_to_tree);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2017 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: AuditTrailTableConfig.jsx 181902 2018-08-09 10:00:26Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n/**\r\n * Component build after the FACC pattern that build a table configuration\r\n * suitable as prop for TableWrapper\r\n */\nvar AuditTrailTableConfig = function (_React$Component) {\n    _inherits(AuditTrailTableConfig, _React$Component);\n\n    function AuditTrailTableConfig(props) {\n        _classCallCheck(this, AuditTrailTableConfig);\n\n        var _this = _possibleConstructorReturn(this, (AuditTrailTableConfig.__proto__ || Object.getPrototypeOf(AuditTrailTableConfig)).call(this, props));\n\n        _this.tableConfig = _this.makeTableConfig(props);\n        _this.getTableConfig = _this.getTableConfig.bind(_this);\n        return _this;\n    }\n\n    _createClass(AuditTrailTableConfig, [{\n        key: 'makeTableConfig',\n        value: function makeTableConfig() {\n            var _this2 = this;\n\n            var Manager = _csWebComponentsBase.Table.Manager,\n                Scrolled = _csWebComponentsBase.Table.Scrolled,\n                ContentBlockLayout = _csWebComponentsBase.Table.ContentBlockLayout,\n                filterable = _csWebComponentsBase.Table.filterable,\n                treeview = _csWebComponentsBase.Table.treeview,\n                sortable = _csWebComponentsBase.Table.sortable,\n                groupable = _csWebComponentsBase.Table.groupable,\n                column_aggregator = _csWebComponentsBase.Table.column_aggregator,\n                SettingPanels = _csWebComponentsBase.Table.SettingPanels,\n                columnResizer = _csWebComponentsBase.Table.columnResizer,\n                columnOrderer = _csWebComponentsBase.Table.columnOrderer,\n                columnDragger = _csWebComponentsBase.Table.columnDragger,\n                columnHider = _csWebComponentsBase.Table.columnHider,\n                columnFixer = _csWebComponentsBase.Table.columnFixer;\n\n            var toolbarButtons = [sortable, filterable, treeview, SettingPanels];\n            toolbarButtons.push({ toolbarButtons: [function () {\n                    return _react2.default.createElement(_csWebComponentsBase.Button.IconButton, {\n                        onClick: _this2.props.refreshTable,\n                        buttonStyle: 'info',\n                        iconName: 'csweb_refresh',\n                        title: (0, _i18n.formatStr)('refresh') });\n                }] });\n            return Manager({\n                Table: Scrolled(_csWebComponentsBase.Table.Table),\n                Layout: ContentBlockLayout,\n                providers: [_table_to_tree2.default, filterable, treeview, sortable, _selectable2.default, groupable, column_aggregator, SettingPanels],\n                columnActions: [sortable, filterable, columnOrderer, _selectable2.default, columnResizer, columnDragger],\n                toolbarButtons: toolbarButtons,\n                headerPanels: [groupable],\n                footerPanels: [sortable, filterable],\n                settingPanels: [columnHider, groupable, sortable, columnOrderer, columnFixer]\n            });\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var _this3 = this;\n\n            var propNames = [\"contextObject\", \"relshipName\", \"selectionName\", \"refreshTable\", \"hideTableHeaderPanels\", \"height\", \"asTree\", \"tableLayout\"];\n            if (propNames.some(function (propName) {\n                return nextProps[propName] !== _this3.props[propName];\n            })) {\n                this.makeTableConfig(nextProps);\n            }\n        }\n    }, {\n        key: 'getTableConfig',\n        value: function getTableConfig() {\n            return this.tableConfig;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            return this.props.children(this.getTableConfig);\n        }\n    }]);\n\n    return AuditTrailTableConfig;\n}(_react2.default.Component);\n\nexports.default = AuditTrailTableConfig;\n\nAuditTrailTableConfig.propTypes = {\n    contextObject: _csWebComponentsExternals.PropTypes.instanceOf(_immutable2.default.Map),\n    relshipName: _csWebComponentsExternals.PropTypes.string.isRequired,\n    selectionName: _csWebComponentsExternals.PropTypes.string.isRequired,\n    refreshTable: _csWebComponentsExternals.PropTypes.func,\n    height: _csWebComponentsExternals.PropTypes.string.isRequired,\n    hideTableHeaderPanels: _csWebComponentsExternals.PropTypes.bool,\n    tableLayout: _csWebComponentsExternals.PropTypes.func,\n    asTree: _csWebComponentsExternals.PropTypes.bool\n};\n\nAuditTrailTableConfig.defaultProps = {\n    hideTableHeaderPanels: false,\n    asTree: true\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _actions = __webpack_require__(5);\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _Provider = __webpack_require__(15);\n\nvar _Provider2 = _interopRequireDefault(_Provider);\n\nvar _reducers = __webpack_require__(9);\n\nvar _reducers2 = _interopRequireDefault(_reducers);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Provides selecting functionality in a table.\r\n *\r\n * React Properties\r\n * ----------------\r\n * This feature defines some more props for the table component:\r\n *\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | Property              | Type           | Default | Use                                       |\r\n * +=======================+================+=====================================================+\r\n * | singleSelection       | bool           | true    | Single selection mode                     |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | withSelector          | bool           | false   | Whether to display an additional column   |\r\n * |                       |                |         | with checkbox for selection               |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | onSelectRows          | func           | \\-      | Function to be called when item is        |\r\n * |                       |                |         | selected. The IDs of selected rows will   |\r\n * |                       |                |         | be passed to this function.               |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | initSelected          | func           | \\-      | Initial selections to pass to the table   |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n *\r\n * @memberof module:Table\r\n * @module\r\n */\nexports.default = {\n  actions: _actions2.default, Provider: _Provider2.default,\n  reducers: _reducers2.default, getSingleSelectionMode: _reducers.getSingleSelectionMode\n}; /*\r\n    * Copyright (C) 2016 CONTACT Software GmbH\r\n    * All rights reserved.\r\n    * http://www.contact-software.com\r\n    *\r\n    * Revision \"$Id: index.js 174184 2018-03-08 07:26:09Z ssa $\"\r\n    */\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (WrappedTable) {\n    var Select = function (_React$Component) {\n        _inherits(Select, _React$Component);\n\n        function Select(props) {\n            _classCallCheck(this, Select);\n\n            var _this = _possibleConstructorReturn(this, (Select.__proto__ || Object.getPrototypeOf(Select)).call(this, props));\n\n            _this.onSelect = _this.onSelect.bind(_this);\n            _this.markRows = _this.markRows.bind(_this);\n            _this.selectorColumn = _immutable2.default.Map({\n                id: SELECTORID,\n                label: '',\n                width: '1em',\n                contentRenderer: _Selector2.default,\n                tooltip: (0, _i18n.formatStr)('tabcatalog_select_header') // TODO: i18n own label/tooltip\n            });\n\n            return _this;\n        }\n\n        _createClass(Select, [{\n            key: 'componentWillMount',\n            value: function componentWillMount() {\n                if (this.props.initSelected !== undefined) {\n                    this.selectRows(this.props.initSelected, this.props);\n                }\n                this.props.setSingleSelectionMode(this.props.singleSelection);\n                this.createSelector(this.props);\n            }\n        }, {\n            key: 'createSelector',\n            value: function createSelector(props) {\n                var setColumns = props.setColumns,\n                    setOrderedColumns = props.setOrderedColumns,\n                    columns = props.columns,\n                    orderedColumns = props.orderedColumns,\n                    withSelector = props.withSelector;\n\n                if (!withSelector) {\n                    return;\n                }\n                var added = columns.findIndex(function (col) {\n                    return col.get('id') === SELECTORID;\n                });\n                if (added < 0) {\n                    var newColumns = columns.push(this.selectorColumn);\n                    setColumns(newColumns);\n                    setOrderedColumns(_immutable2.default.OrderedSet([SELECTORID]).union(orderedColumns));\n                } else if (orderedColumns.first() !== SELECTORID) {\n                    setOrderedColumns(_immutable2.default.OrderedSet([SELECTORID]).union(orderedColumns));\n                }\n            }\n        }, {\n            key: 'getValidSelection',\n            value: function getValidSelection(selected, props) {\n                var rows = props.rows;\n\n                return selected.filter(function (i) {\n                    return rows.findIndex(function (row) {\n                        return row.get('id') === i;\n                    }) > -1;\n                });\n            }\n        }, {\n            key: 'selectRows',\n            value: function selectRows(selected, props) {\n                var setSelectedRows = props.setSelectedRows;\n\n                var valid = this.getValidSelection(selected, props);\n                // only select valid rows or empty selection\n                if (setSelectedRows && (selected.count() === 0 || valid.count() > 0)) {\n                    setSelectedRows(valid);\n                }\n            }\n\n            // TODO: shouldComponentUpdate\n\n        }, {\n            key: 'componentWillReceiveProps',\n            value: function componentWillReceiveProps(nextProps) {\n                if (nextProps.singleSelection !== this.props.singleSelection) {\n                    nextProps.setSingleSelectionMode(nextProps.singleSelection);\n                }\n                if (nextProps.columns !== this.props.columns || nextProps.orderedColumns !== this.props.orderedColumns) {\n                    this.createSelector(nextProps);\n                    if (nextProps.rows.size === 0) {\n                        nextProps.toggleTreeView();\n                    } else if (nextProps.rows.every(function (v) {\n                        return v.get(\"columns\").get(4) === \"Status\";\n                    })) {\n                        nextProps.toggleTreeView();\n                    }\n                }\n                if (!_immutable2.default.is(nextProps.initSelected, this.props.initSelected)) {\n                    this.selectRows(nextProps.initSelected || _immutable2.default.OrderedSet(), nextProps);\n                } else if (nextProps.selectedRows !== this.props.selectedRows) {\n                    this.markRows(nextProps);\n                    if (nextProps.onSelectRows) {\n                        nextProps.onSelectRows(nextProps.selectedRows);\n                    }\n                } else if (nextProps.rows !== this.props.rows) {\n                    this.markRows(nextProps, true);\n                    if (nextProps.rows.size === 0) {\n                        toggleTreeView();\n                    }\n                }\n            }\n        }, {\n            key: 'markRows',\n            value: function markRows(props) {\n                var checkSelection = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n                var rowIDs = props.rows.map(function (row) {\n                    return row.get('id');\n                });\n                var selected = props.selectedRows === undefined ? _immutable2.default.OrderedSet() : props.selectedRows.intersect(rowIDs);\n\n                // If rows have changed we remove selection for missing rows\n                if (checkSelection && !_immutable2.default.is(selected, props.selectedRows)) {\n                    props.setSelectedRows(selected);\n                } else {\n                    props.setRowClassName('selected', selected);\n                }\n            }\n        }, {\n            key: 'onSelect',\n            value: function onSelect(row) {\n                var selectRow = this.props.selectRow;\n\n                var rowdetail = row.split(\"\\\\at\");\n                if (rowdetail[7] === \" nil \" || rowdetail[7] === \"Status\") {\n                    return;\n                }\n                if (this.getValidSelection(_immutable2.default.OrderedSet([row]), this.props).count() > 0) {\n                    selectRow(row, true);\n                }\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                var props = _objectWithoutProperties(this.props, []);\n\n                delete props.singleSelection;\n                delete props.withSelector;\n                delete props.initSelected;\n                delete props.setSingleSelectionMode;\n                delete props.setColumns;\n                delete props.setOrderedColumns;\n                delete props.setSelectedRows;\n                delete props.selectRow;\n                delete props.setRowClassName;\n                delete props.columns;\n                delete props.orderedColumns;\n                delete props.selectedRows;\n                delete props.onSelectRows;\n                delete props.toggleTreeView;\n                return _react2.default.createElement(WrappedTable, _extends({}, props, {\n                    onSelectRow: this.onSelect }));\n            }\n        }]);\n\n        return Select;\n    }(_react2.default.Component);\n\n    Select.propTypes = {\n        singleSelection: _csWebComponentsExternals.PropTypes.bool,\n        withSelector: _csWebComponentsExternals.PropTypes.bool,\n        initSelected: _csWebComponentsExternals.ImmutablePropTypes.orderedSet,\n        setSingleSelectionMode: _csWebComponentsExternals.PropTypes.func,\n        setColumns: _csWebComponentsExternals.PropTypes.func,\n        setOrderedColumns: _csWebComponentsExternals.PropTypes.func,\n        setSelectedRows: _csWebComponentsExternals.PropTypes.func,\n        selectRow: _csWebComponentsExternals.PropTypes.func,\n        setRowClassName: _csWebComponentsExternals.PropTypes.func,\n        rows: _csWebComponentsExternals.ImmutablePropTypes.list,\n        columns: _csWebComponentsExternals.ImmutablePropTypes.list,\n        orderedColumns: _csWebComponentsExternals.ImmutablePropTypes.orderedSet,\n        selectedRows: _csWebComponentsExternals.ImmutablePropTypes.orderedSet,\n        onSelectRows: _csWebComponentsExternals.PropTypes.func,\n        toggleTreeView: _csWebComponentsExternals.PropTypes.func\n    };\n\n    Select.defaultProps = {\n        singleSelection: true,\n        withSelector: false\n    };\n\n    var mapStateToProps = function mapStateToProps(state) {\n        return {\n            selectedRows: state.selectedRows,\n            columns: state.columns,\n            orderedColumns: state.orderedColumns\n        };\n    };\n\n    return connect(mapStateToProps, { setSelectedRows: setSelectedRows, setSingleSelectionMode: _actions.setSingleSelectionMode, selectRow: _actions.selectRow,\n        setOrderedColumns: setOrderedColumns, setColumns: setColumns, setRowClassName: setRowClassName, toggleTreeView: toggleTreeView })(Select);\n};\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _actions = __webpack_require__(5);\n\nvar _i18n = __webpack_require__(6);\n\nvar _Selector = __webpack_require__(16);\n\nvar _Selector2 = _interopRequireDefault(_Selector);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: Provider.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar SELECTORID = 'cs-web-components-base-table-selector-column';\n\nvar _Table$actions = _csWebComponentsBase.Table.actions,\n    setSelectedRows = _Table$actions.setSelectedRows,\n    setOrderedColumns = _Table$actions.setOrderedColumns,\n    setColumns = _Table$actions.setColumns,\n    setRowClassName = _Table$actions.setRowClassName;\nvar connect = _csWebComponentsBase.Table.connect;\n\nvar toggleTreeView = _csWebComponentsBase.Table.treeview.actions.toggleTreeView;\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _helpers = __webpack_require__(4);\n\nvar _actions = __webpack_require__(5);\n\nvar _reducers = __webpack_require__(9);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: Selector.jsx 174047 2018-03-06 06:26:20Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar connect = _csWebComponentsBase.Table.connect;\n\nvar Renderer = function (_React$Component) {\n    _inherits(Renderer, _React$Component);\n\n    function Renderer(props) {\n        _classCallCheck(this, Renderer);\n\n        var _this = _possibleConstructorReturn(this, (Renderer.__proto__ || Object.getPrototypeOf(Renderer)).call(this, props));\n\n        _this.onChange = _this.onChange.bind(_this);\n        _this.onClick = _this.onClick.bind(_this);\n        return _this;\n    }\n\n    _createClass(Renderer, [{\n        key: 'onChange',\n        value: function onChange() {\n            // Do nothing. The onClick on row takes care.\n        }\n    }, {\n        key: 'getRowID',\n        value: function getRowID() {\n            return this.props.row.get('id');\n        }\n    }, {\n        key: 'onClick',\n        value: function onClick(event) {\n            event.stopPropagation();\n\n            var row = this.props.row;\n\n            this.props.selectRow(row.get('id'));\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                selectedRows = _props.selectedRows,\n                singleSelectionMode = _props.singleSelectionMode,\n                tableID = _props.tableID,\n                row = _props.row;\n\n            if (row.get('functionalRow', false)) {\n                // render Selector only if the row contains data, and is not computed\n                return null;\n            }\n            var checked = selectedRows.contains(this.getRowID());\n            var Selector = singleSelectionMode ? _csWebComponentsBase.FormControl.Radio : _csWebComponentsBase.FormControl.CheckBox;\n            if (row.get(\"columns\").toJS()[10] === \"\") {\n                return null;\n            }\n            return _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)('table-selector-column-renderer'),\n                    onClick: this.onClick },\n                _react2.default.createElement(Selector, { className: (0, _helpers.prefixNS)('table-selector-column-content'),\n                    checked: checked,\n                    onChange: this.onChange,\n                    name: (0, _helpers.prefixNS)('table-selector' + tableID) })\n            );\n        }\n    }]);\n\n    return Renderer;\n}(_react2.default.Component);\n\nRenderer.propTypes = {\n    singleSelectionMode: _csWebComponentsExternals.PropTypes.bool,\n    selectedRows: _csWebComponentsExternals.ImmutablePropTypes.orderedSet,\n    selectRow: _csWebComponentsExternals.PropTypes.func,\n    row: _csWebComponentsExternals.ImmutablePropTypes.map,\n    tableID: _csWebComponentsExternals.PropTypes.number\n};\n\nvar mapStateToProps = function mapStateToProps(state) {\n    return {\n        selectedRows: state.selectedRows,\n        singleSelectionMode: (0, _reducers.getSingleSelectionMode)(state),\n        tableID: state.tableID\n    };\n};\n\nexports.default = connect(mapStateToProps, { selectRow: _actions.selectRow })(Renderer);\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _Provider = __webpack_require__(18);\n\nvar _Provider2 = _interopRequireDefault(_Provider);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\r\n * Transform a normal table to a tree table via\r\n * extracting hierarchical information from the\r\n * rows.\r\n *\r\n * React Properties\r\n * ----------------\r\n * This feature defines some more props for the table component:\r\n *\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | Property              | Type           | Default | Use                                       |\r\n * +=======================+================+=========+===========================================+\r\n * | treeIDColumnID        | string         | \\-      | Which column contains the id of the       |\r\n * |                       |                |         | current node in the tree                  |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | treeParentColumnID    | string         | \\-      | Which column contains the id of the       |\r\n * |                       |                |         | parent node in the tree                   |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n *\r\n * @module\r\n */\nexports.default = {\n  Provider: _Provider2.default\n}; /*\r\n    * Copyright (C) 2016 CONTACT Software GmbH\r\n    * All rights reserved.\r\n    * http://www.contact-software.com\r\n    *\r\n    * Revision \"$Id: index.js 174184 2018-03-08 07:26:09Z ssa $\"\r\n    */\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nexports.default = function (WrappedTable) {\n    var TabelToTree = function (_React$Component) {\n        _inherits(TabelToTree, _React$Component);\n\n        function TabelToTree(props) {\n            _classCallCheck(this, TabelToTree);\n\n            var _this = _possibleConstructorReturn(this, (TabelToTree.__proto__ || Object.getPrototypeOf(TabelToTree)).call(this, props));\n\n            _this.state = {\n                treeNodes: _immutable2.default.List()\n            };\n            return _this;\n        }\n\n        _createClass(TabelToTree, [{\n            key: 'componentWillMount',\n            value: function componentWillMount() {\n                this.updateNodes(this.props);\n            }\n        }, {\n            key: 'updateNodes',\n            value: function updateNodes(props) {\n                var rows = props.rows,\n                    treeParentColumnID = props.treeParentColumnID,\n                    treeIDColumnID = props.treeIDColumnID,\n                    columns = props.columns;\n\n                var treeNodes = _immutable2.default.List();\n                if (treeIDColumnID && treeParentColumnID) {\n                    var nIdx = columns.findIndex(function (col) {\n                        return col.get('id') === treeIDColumnID;\n                    });\n                    var pIdx = columns.findIndex(function (col) {\n                        return col.get('id') === treeParentColumnID;\n                    });\n                    if (nIdx > -1 && pIdx > -1) {\n                        treeNodes = getNodes(rows, nIdx, pIdx);\n                    }\n                }\n                this.setState({ treeNodes: treeNodes });\n            }\n        }, {\n            key: 'componentWillReceiveProps',\n            value: function componentWillReceiveProps(nextProps) {\n                if (nextProps.rows !== this.props.rows || nextProps.columns !== this.props.columns || nextProps.treeParentColumnID !== this.props.treeParentColumnID || nextProps.treeIDColumnID !== this.props.treeIDColumnID) {\n                    this.updateNodes(nextProps);\n                }\n            }\n        }, {\n            key: 'render',\n            value: function render() {\n                var props = _objectWithoutProperties(this.props, []);\n\n                delete props.columns;\n                delete props.treeParentColumnID;\n                delete props.treeIDColumnID;\n\n                return _react2.default.createElement(WrappedTable, _extends({}, props, {\n                    treeNodes: this.state.treeNodes }));\n            }\n        }]);\n\n        return TabelToTree;\n    }(_react2.default.Component);\n\n    TabelToTree.propTypes = {\n        rows: _csWebComponentsExternals.ImmutablePropTypes.list,\n        columns: _csWebComponentsExternals.ImmutablePropTypes.list,\n        treeParentColumnID: _csWebComponentsExternals.PropTypes.string.isRequired,\n        treeIDColumnID: _csWebComponentsExternals.PropTypes.string.isRequired\n    };\n\n    var mapStateToProps = function mapStateToProps(state) {\n        return {\n            columns: state.columns\n        };\n    };\n\n    return connect(mapStateToProps, {})(TabelToTree);\n};\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: Provider.jsx 179723 2018-06-28 13:41:24Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar connect = _csWebComponentsBase.Table.connect;\n\n\nfunction getNodes(rows, idIndex, parentIDIndex) {\n    var parentID = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : '';\n\n    var nodes = rows.filter(function (row) {\n        return row.get('columns').get(parentIDIndex) === parentID;\n    });\n\n    return nodes.map(function (row) {\n        return _immutable2.default.Map({\n            id: row.get('id'),\n            children: getNodes(rows, idIndex, parentIDIndex, row.get('columns').get(idIndex))\n        });\n    });\n}\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _reactBootstrap = __webpack_require__(20);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2017 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: AuditTrailFetcher.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar removeSearchInstance = _csWebComponentsBase.SearchApi.Actions.removeSearchInstance;\n\nfunction getSearchResult(state, instanceName) {\n    return state.search.instances.getIn([instanceName, 'searchResult']);\n}\n\nfunction getSearchError(state, instanceName) {\n    return state.search.instances.getIn([instanceName, 'searchError']);\n}\n\nfunction createRelshipSearchInstance(instanceName, parentObject, relshipName, tableName) {\n    return {\n        type: 'cs-web-components-base-SEARCH:CREATE_RELSHIP_SEARCH_INSTANCE',\n        payload: { instanceName: instanceName, parentObject: parentObject, relshipName: relshipName, tableName: tableName }\n    };\n}\n\nfunction loadRelshipSearchForm(instanceName, formURL, submitURL) {\n    return {\n        type: 'cs-web-components-base-SEARCH:LOAD_RELSHIP_SEARCH_FORM',\n        payload: { instanceName: instanceName, formURL: formURL, submitURL: submitURL }\n    };\n}\n\nfunction getInstance(state, instanceName) {\n    return state.search.instances.get(instanceName);\n}\n\nfunction relshipHasSearch(state, instanceName) {\n    var instance = getInstance(state, instanceName);\n    return instance.has('searchFormData') && instance.has('submitURL');\n}\n\nfunction getRelshipUrl(object) {\n    return \"/api/v1/collection/audittrail?object_id=\" + object.get(\"cdb_object_id\");\n}\n\nfunction getSubmitUrl(state, instanceName) {\n    var instance = getInstance(state, instanceName);\n    if (relshipHasSearch(state, instanceName)) {\n        return instance.get('submitURL');\n    } else {\n        var relship_url = getRelshipUrl(instance.get('parentObject'));\n        if (relship_url === undefined) {\n            return undefined;\n        }\n        return '' + relship_url;\n    }\n}\n\nfunction getSearchRequestData(state, instanceName) {\n    var instance = getInstance(state, instanceName);\n    if (relshipHasSearch(state, instanceName)) {\n        return {\n            object_navigation_id: null,\n            values: instance.get('searchValues') /* ,\r\n                                                 operation_state: instance.getIn(['searchFormData', 'original', 'operation_state']) */\n        };\n    } else {\n        return {};\n    }\n}\n\nvar runSearch = function runSearch(instanceName) {\n    return function (dispatch, getState) {\n        var state = getState();\n        var searchUrl = getSubmitUrl(state, instanceName);\n        if (relshipHasSearch(state, instanceName)) {\n            var request_data = getSearchRequestData(state, instanceName);\n            (0, _csWebComponentsBase.postJSON)(searchUrl, request_data).then(function (result) {\n                if (result.error_message) {\n                    return;\n                } else {\n                    dispatch({\n                        type: 'cs-web-components-base-SEARCH:RELSHIP_SEARCH_DONE',\n                        payload: { instanceName: instanceName, result: result }\n                    });\n                }\n            });\n        } else {\n            // Just GET the data from the relationship URL\n            (0, _csWebComponentsBase.getJSON)(searchUrl).then(function (result) {\n                if (result.error_message) {\n                    return;\n                } else {\n                    dispatch({\n                        type: 'cs-web-components-base-SEARCH:RELSHIP_SEARCH_DONE',\n                        payload: { instanceName: instanceName, result: result }\n                    });\n                }\n            });\n        }\n    };\n};\n\nvar RelationshipFetcher = function (_React$Component) {\n    _inherits(RelationshipFetcher, _React$Component);\n\n    function RelationshipFetcher(props) {\n        _classCallCheck(this, RelationshipFetcher);\n\n        var _this = _possibleConstructorReturn(this, (RelationshipFetcher.__proto__ || Object.getPrototypeOf(RelationshipFetcher)).call(this, props));\n\n        _this.refreshTable = _this.refreshTable.bind(_this);\n        return _this;\n    }\n\n    _createClass(RelationshipFetcher, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _props = this.props,\n                instanceName = _props.instanceName,\n                active = _props.active,\n                contextObject = _props.contextObject,\n                relshipName = _props.relshipName,\n                tableName = _props.tableName,\n                createRelshipSearchInstance = _props.createRelshipSearchInstance,\n                runSearch = _props.runSearch;\n\n            createRelshipSearchInstance(instanceName, contextObject, relshipName, tableName);\n            if (active) {\n                runSearch(instanceName);\n            }\n        }\n    }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n            this.props.removeSearchInstance(this.props.instanceName);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            if (!this.props.active && nextProps.active) {\n                nextProps.runSearch(this.props.instanceName);\n            }\n            if (nextProps.searchAgainOpInfo && nextProps.searchAgainOpInfo !== this.props.searchAgainOpInfo) {\n                nextProps.loadRelshipSearchForm(nextProps.instanceName, nextProps.searchAgainOpInfo.get('form_url'), nextProps.searchAgainOpInfo.get('submit_url'));\n            }\n        }\n    }, {\n        key: 'refreshTable',\n        value: function refreshTable() {\n            if (this.props.active) {\n                this.props.runSearch(this.props.instanceName);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                searchAgainOpInfo = _props2.searchAgainOpInfo,\n                searchResult = _props2.searchResult,\n                searchError = _props2.searchError;\n\n            if (searchError !== null) {\n                // On error, ignore the children and just render an error indication\n                return _react2.default.createElement(\n                    _reactBootstrap.Alert,\n                    { bsStyle: 'warning' },\n                    searchError\n                );\n            }\n            if (searchResult === null) {\n                return null;\n            } else {\n                // Normal case, we have data and call the child function\n                return this.props.children(searchResult.get('tabledef'), searchResult.get('rows'), this.refreshTable, searchAgainOpInfo);\n            }\n        }\n    }]);\n\n    return RelationshipFetcher;\n}(_react2.default.Component);\n\nRelationshipFetcher.propTypes = {\n    instanceName: _csWebComponentsExternals.PropTypes.string.isRequired,\n    contextObject: _csWebComponentsExternals.ImmutablePropTypes.map,\n    relshipName: _csWebComponentsExternals.PropTypes.string.isRequired,\n    tableName: _csWebComponentsExternals.PropTypes.string,\n    active: _csWebComponentsExternals.PropTypes.bool,\n    // store\n    searchResult: _csWebComponentsExternals.ImmutablePropTypes.map,\n    searchError: _csWebComponentsExternals.PropTypes.any,\n    searchAgainOpInfo: _csWebComponentsExternals.ImmutablePropTypes.map,\n    // actions\n    createRelshipSearchInstance: _csWebComponentsExternals.PropTypes.func.isRequired,\n    removeSearchInstance: _csWebComponentsExternals.PropTypes.func.isRequired,\n    runSearch: _csWebComponentsExternals.PropTypes.func.isRequired,\n    loadRelshipSearchForm: _csWebComponentsExternals.PropTypes.func.isRequired\n};\n\nRelationshipFetcher.defaultProps = {\n    tableName: '',\n    active: true\n};\n\nfunction searchAgainOperation(state, ownProps) {\n    var contextObject = ownProps.contextObject,\n        relshipName = ownProps.relshipName;\n\n    var refOpInfos = state.operationsByRelship.getIn([contextObject.get('@id'), relshipName, 'reference_opinfo', 1]);\n    if (!refOpInfos) {\n        return undefined;\n    }\n    var opInfo = refOpInfos.find(function (op) {\n        return op.get('opname') === 'CDB_SearchAgain';\n    });\n    if (!opInfo || !opInfo.get('form_url') || !opInfo.get('submit_url')) {\n        return undefined;\n    }\n    return opInfo;\n}\n\nfunction mapStateToProps(state, ownProps) {\n    var instanceName = ownProps.instanceName;\n\n    return {\n        searchResult: getSearchResult(state, instanceName),\n        searchError: getSearchError(state, instanceName),\n        searchAgainOpInfo: searchAgainOperation(state, ownProps)\n    };\n}\n\nvar actions = {\n    createRelshipSearchInstance: createRelshipSearchInstance, removeSearchInstance: removeSearchInstance,\n    runSearch: runSearch, loadRelshipSearchForm: loadRelshipSearchForm\n};\n\nexports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps, actions)(RelationshipFetcher);\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _i18n = __webpack_require__(6);\n\nvar _helpers = __webpack_require__(4);\n\nvar _Diff = __webpack_require__(22);\n\nvar _Diff2 = _interopRequireDefault(_Diff);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: Detail.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar Detail = function (_Component) {\n    _inherits(Detail, _Component);\n\n    function Detail(props) {\n        _classCallCheck(this, Detail);\n\n        var _this = _possibleConstructorReturn(this, (Detail.__proto__ || Object.getPrototypeOf(Detail)).call(this, props));\n\n        _this.requestPromise = null;\n        _this.state = { error: null,\n            detail1: undefined,\n            detail2: undefined,\n            desc_detail1: \"\",\n            desc_detail2: \"\" };\n        return _this;\n    }\n\n    _createClass(Detail, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _props = this.props,\n                detail1 = _props.detail1,\n                detail2 = _props.detail2;\n\n            if (detail1.id) {\n                this.getDetail(detail1, \"detail1\");\n            }\n            if (detail2.id) {\n                this.getDetail(detail2, \"detail2\");\n            }\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var detail1 = nextProps.detail1,\n                detail2 = nextProps.detail2;\n\n            if (this.props.detail1.id !== detail1.id) {\n                if (detail1.id) {\n                    this.getDetail(detail1, \"detail1\");\n                } else {\n                    this.setState({ detail1: undefined,\n                        desc_detail1: \"\" });\n                }\n            }\n            if (this.props.detail2.id !== detail2.id) {\n                if (detail2.id) {\n                    this.getDetail(detail2, \"detail2\");\n                } else {\n                    this.setState({ detail2: undefined,\n                        desc_detail2: \"\" });\n                }\n            }\n        }\n    }, {\n        key: 'getDetail',\n        value: function getDetail(detail, detail_name) {\n            var _this2 = this;\n\n            var desc_name = \"desc_\" + detail_name;\n            var url = '/api/v1/collection/audittrail_detail/';\n            var obj = this.props.getObjectById(url + detail.id);\n            if (obj === undefined) {\n                this.props.fetchObject(url + detail.id).then(function (data) {\n                    var newState = {};\n                    newState[detail_name] = _immutable2.default.fromJS(data);\n                    newState[desc_name] = detail.desc;\n                    _this2.setState(newState);\n                });\n            } else {\n                var newState = {};\n                newState[detail_name] = obj;\n                newState[desc_name] = detail.desc;\n                this.setState(newState);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var text_old = \"\";\n            var text_new = \"\";\n            var plugin = \"\";\n\n            if (this.state.detail1 && !this.state.detail2) {\n                if (this.state.detail1.get(\"system:classname\") === \"cdb_audittrail_detail\") {\n                    text_old = this.props.detail1.old;\n                    text_new = this.props.detail1.new;\n                } else {\n                    text_old = this.state.detail1.get(\"cdb_audittrail_longtext_old\");\n                    text_new = this.state.detail1.get(\"cdb_audittrail_longtext_new\");\n                    plugin = \"detail1\";\n                }\n            } else if (this.state.detail1 && this.state.detail2) {\n                if (this.state.detail1.get(\"system:classname\") === \"cdb_audittrail_detail\") {\n                    text_old = this.props.detail1.old;\n                } else {\n                    text_old = this.state.detail1.get(\"cdb_audittrail_longtext_old\");\n                    plugin = \"detail1\";\n                }\n                if (!text_old) {\n                    if (this.state.detail1.get(\"system:classname\") === \"cdb_audittrail_detail\") {\n                        text_old = this.props.detail1.new;\n                    } else {\n                        text_old = this.state.detail1.get(\"cdb_audittrail_longtext_new\");\n                        plugin = \"detail1\";\n                    }\n                }\n                if (this.state.detail2.get(\"system:classname\") === \"cdb_audittrail_detail\") {\n                    text_new = this.props.detail2.new;\n                } else {\n                    text_new = this.state.detail2.get(\"cdb_audittrail_longtext_new\");\n                    plugin = \"detail2\";\n                }\n            }\n\n            var diffComponent = _Diff2.default;\n            if (plugin) {\n                diffComponent = (0, _csWebComponentsBase.getPlugin)('cs-audittrail-detail', function (cn) {\n                    return cn === _this3.state[plugin].get(\"system:classname\");\n                }, _Diff2.default);\n            }\n            return _react2.default.createElement(\n                _csWebComponentsBase.ContentBlock,\n                { collapsible: false,\n                    title: (0, _i18n.formatStr)('detail'),\n                    className: (0, _helpers.prefixNS)('content') },\n                _react2.default.createElement(\n                    _csWebComponentsBase.ContentBlock.Body,\n                    null,\n                    !this.state.detail1 ? _react2.default.createElement(\n                        'div',\n                        null,\n                        (0, _i18n.formatStr)('select_entry')\n                    ) : _react2.default.createElement(\n                        'div',\n                        null,\n                        _react2.default.createElement(\n                            'div',\n                            { className: (0, _helpers.prefixNS)('description') },\n                            _react2.default.createElement(\n                                'dl',\n                                { className: 'dl-horizontal' },\n                                _react2.default.createElement(\n                                    'dt',\n                                    { className: 'text-muted' },\n                                    (0, _i18n.formatStr)('source')\n                                ),\n                                _react2.default.createElement(\n                                    'dd',\n                                    null,\n                                    this.state.desc_detail1\n                                ),\n                                !this.state.detail2 ? _react2.default.createElement(\n                                    'div',\n                                    null,\n                                    _react2.default.createElement(\n                                        'dt',\n                                        { className: 'text-muted' },\n                                        (0, _i18n.formatStr)('target')\n                                    ),\n                                    _react2.default.createElement(\n                                        'dd',\n                                        null,\n                                        this.state.desc_detail1\n                                    )\n                                ) : _react2.default.createElement(\n                                    'div',\n                                    null,\n                                    _react2.default.createElement(\n                                        'dt',\n                                        { className: 'text-muted' },\n                                        (0, _i18n.formatStr)('target')\n                                    ),\n                                    _react2.default.createElement(\n                                        'dd',\n                                        null,\n                                        this.state.desc_detail2\n                                    )\n                                )\n                            )\n                        ),\n                        _react2.default.createElement(\n                            'div',\n                            { className: (0, _helpers.prefixNS)('compare') },\n                            _react2.default.createElement(diffComponent, { old: text_old,\n                                new: text_new })\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return Detail;\n}(_react.Component);\n\nDetail.propTypes = {\n    fetchObject: _csWebComponentsExternals.PropTypes.func.isRequired,\n    getObjectById: _csWebComponentsExternals.PropTypes.func,\n    detail1: _csWebComponentsExternals.PropTypes.object,\n    detail2: _csWebComponentsExternals.PropTypes.object\n};\n\nfunction mapStateToProps(state) {\n    return {\n        getObjectById: function getObjectById(object_link) {\n            return state.objectsById.get(object_link);\n        }\n    };\n}\n\nvar actions = { fetchObject: _csWebComponentsBase.fetchObject };\n\nexports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps, actions)(Detail);\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _diff = __webpack_require__(23);\n\nvar _diff2 = _interopRequireDefault(_diff);\n\nvar _helpers = __webpack_require__(4);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: Diff.jsx 174047 2018-03-06 06:26:20Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar diffChoice = {\n    'chars': _diff2.default.diffChars,\n    'words': _diff2.default.diffWords,\n    'sentences': _diff2.default.diffSentences,\n    'json': _diff2.default.diffJson\n};\n\nvar DiffText = function (_Component) {\n    _inherits(DiffText, _Component);\n\n    function DiffText() {\n        _classCallCheck(this, DiffText);\n\n        return _possibleConstructorReturn(this, (DiffText.__proto__ || Object.getPrototypeOf(DiffText)).apply(this, arguments));\n    }\n\n    _createClass(DiffText, [{\n        key: 'render',\n        value: function render() {\n            var diff = diffChoice[this.props.type](this.props.old, this.props.new);\n            var result = diff.map(function (part, idx) {\n                if (part.added) {\n                    return _react2.default.createElement(\n                        'ins',\n                        { key: idx },\n                        part.value\n                    );\n                }\n                if (part.removed) {\n                    return _react2.default.createElement(\n                        'del',\n                        { key: idx },\n                        part.value\n                    );\n                }\n                return _react2.default.createElement(\n                    'span',\n                    { key: idx },\n                    part.value\n                );\n            });\n            return _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)('DiffText') },\n                result\n            );\n        }\n    }]);\n\n    return DiffText;\n}(_react.Component);\n\nexports.default = DiffText;\n\n\nDiffText.propTypes = {\n    old: _csWebComponentsExternals.PropTypes.string.isRequired,\n    new: _csWebComponentsExternals.PropTypes.string.isRequired,\n    type: _csWebComponentsExternals.PropTypes.string.isRequired\n};\n\nDiffText.defaultProps = {\n    old: '',\n    new: '',\n    type: 'words'\n};\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;/* See LICENSE file for terms of use */\n\n/*\n * Text diff implementation.\n *\n * This library supports the following APIS:\n * JsDiff.diffChars: Character by character diff\n * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n * JsDiff.diffLines: Line based diff\n *\n * JsDiff.diffCss: Diff targeted at CSS content\n *\n * These methods are based on the implementation proposed in\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n */\n(function(global, undefined) {\n  var objectPrototypeToString = Object.prototype.toString;\n\n  /*istanbul ignore next*/\n  function map(arr, mapper, that) {\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, mapper, that);\n    }\n\n    var other = new Array(arr.length);\n\n    for (var i = 0, n = arr.length; i < n; i++) {\n      other[i] = mapper.call(that, arr[i], i, arr);\n    }\n    return other;\n  }\n  function clonePath(path) {\n    return { newPos: path.newPos, components: path.components.slice(0) };\n  }\n  function removeEmpty(array) {\n    var ret = [];\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  }\n  function escapeHTML(s) {\n    var n = s;\n    n = n.replace(/&/g, '&amp;');\n    n = n.replace(/</g, '&lt;');\n    n = n.replace(/>/g, '&gt;');\n    n = n.replace(/\"/g, '&quot;');\n\n    return n;\n  }\n\n  // This function handles the presence of circular references by bailing out when encountering an\n  // object that is already on the \"stack\" of items being processed.\n  function canonicalize(obj, stack, replacementStack) {\n    stack = stack || [];\n    replacementStack = replacementStack || [];\n\n    var i;\n\n    for (i = 0; i < stack.length; i += 1) {\n      if (stack[i] === obj) {\n        return replacementStack[i];\n      }\n    }\n\n    var canonicalizedObj;\n\n    if ('[object Array]' === objectPrototypeToString.call(obj)) {\n      stack.push(obj);\n      canonicalizedObj = new Array(obj.length);\n      replacementStack.push(canonicalizedObj);\n      for (i = 0; i < obj.length; i += 1) {\n        canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack);\n      }\n      stack.pop();\n      replacementStack.pop();\n    } else if (typeof obj === 'object' && obj !== null) {\n      stack.push(obj);\n      canonicalizedObj = {};\n      replacementStack.push(canonicalizedObj);\n      var sortedKeys = [],\n          key;\n      for (key in obj) {\n        sortedKeys.push(key);\n      }\n      sortedKeys.sort();\n      for (i = 0; i < sortedKeys.length; i += 1) {\n        key = sortedKeys[i];\n        canonicalizedObj[key] = canonicalize(obj[key], stack, replacementStack);\n      }\n      stack.pop();\n      replacementStack.pop();\n    } else {\n      canonicalizedObj = obj;\n    }\n    return canonicalizedObj;\n  }\n\n  function buildValues(components, newString, oldString, useLongestToken) {\n    var componentPos = 0,\n        componentLen = components.length,\n        newPos = 0,\n        oldPos = 0;\n\n    for (; componentPos < componentLen; componentPos++) {\n      var component = components[componentPos];\n      if (!component.removed) {\n        if (!component.added && useLongestToken) {\n          var value = newString.slice(newPos, newPos + component.count);\n          value = map(value, function(value, i) {\n            var oldValue = oldString[oldPos + i];\n            return oldValue.length > value.length ? oldValue : value;\n          });\n\n          component.value = value.join('');\n        } else {\n          component.value = newString.slice(newPos, newPos + component.count).join('');\n        }\n        newPos += component.count;\n\n        // Common case\n        if (!component.added) {\n          oldPos += component.count;\n        }\n      } else {\n        component.value = oldString.slice(oldPos, oldPos + component.count).join('');\n        oldPos += component.count;\n\n        // Reverse add and remove so removes are output first to match common convention\n        // The diffing algorithm is tied to add then remove output and this is the simplest\n        // route to get the desired output with minimal overhead.\n        if (componentPos && components[componentPos - 1].added) {\n          var tmp = components[componentPos - 1];\n          components[componentPos - 1] = components[componentPos];\n          components[componentPos] = tmp;\n        }\n      }\n    }\n\n    return components;\n  }\n\n  function Diff(ignoreWhitespace) {\n    this.ignoreWhitespace = ignoreWhitespace;\n  }\n  Diff.prototype = {\n    diff: function(oldString, newString, callback) {\n      var self = this;\n\n      function done(value) {\n        if (callback) {\n          setTimeout(function() { callback(undefined, value); }, 0);\n          return true;\n        } else {\n          return value;\n        }\n      }\n\n      // Handle the identity case (this is due to unrolling editLength == 0\n      if (newString === oldString) {\n        return done([{ value: newString }]);\n      }\n      if (!newString) {\n        return done([{ value: oldString, removed: true }]);\n      }\n      if (!oldString) {\n        return done([{ value: newString, added: true }]);\n      }\n\n      newString = this.tokenize(newString);\n      oldString = this.tokenize(oldString);\n\n      var newLen = newString.length, oldLen = oldString.length;\n      var editLength = 1;\n      var maxEditLength = newLen + oldLen;\n      var bestPath = [{ newPos: -1, components: [] }];\n\n      // Seed editLength = 0, i.e. the content starts with the same values\n      var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n      if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n        // Identity per the equality and tokenizer\n        return done([{value: newString.join('')}]);\n      }\n\n      // Main worker method. checks all permutations of a given edit length for acceptance.\n      function execEditLength() {\n        for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n          var basePath;\n          var addPath = bestPath[diagonalPath - 1],\n              removePath = bestPath[diagonalPath + 1],\n              oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n          if (addPath) {\n            // No one else is going to attempt to use this value, clear it\n            bestPath[diagonalPath - 1] = undefined;\n          }\n\n          var canAdd = addPath && addPath.newPos + 1 < newLen,\n              canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n          if (!canAdd && !canRemove) {\n            // If this path is a terminal then prune\n            bestPath[diagonalPath] = undefined;\n            continue;\n          }\n\n          // Select the diagonal that we want to branch from. We select the prior\n          // path whose position in the new string is the farthest from the origin\n          // and does not pass the bounds of the diff graph\n          if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n            basePath = clonePath(removePath);\n            self.pushComponent(basePath.components, undefined, true);\n          } else {\n            basePath = addPath;   // No need to clone, we've pulled it from the list\n            basePath.newPos++;\n            self.pushComponent(basePath.components, true, undefined);\n          }\n\n          oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n          // If we have hit the end of both strings, then we are done\n          if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n            return done(buildValues(basePath.components, newString, oldString, self.useLongestToken));\n          } else {\n            // Otherwise track this path as a potential candidate and continue.\n            bestPath[diagonalPath] = basePath;\n          }\n        }\n\n        editLength++;\n      }\n\n      // Performs the length of edit iteration. Is a bit fugly as this has to support the\n      // sync and async mode which is never fun. Loops over execEditLength until a value\n      // is produced.\n      if (callback) {\n        (function exec() {\n          setTimeout(function() {\n            // This should not happen, but we want to be safe.\n            /*istanbul ignore next */\n            if (editLength > maxEditLength) {\n              return callback();\n            }\n\n            if (!execEditLength()) {\n              exec();\n            }\n          }, 0);\n        }());\n      } else {\n        while (editLength <= maxEditLength) {\n          var ret = execEditLength();\n          if (ret) {\n            return ret;\n          }\n        }\n      }\n    },\n\n    pushComponent: function(components, added, removed) {\n      var last = components[components.length - 1];\n      if (last && last.added === added && last.removed === removed) {\n        // We need to clone here as the component clone operation is just\n        // as shallow array clone\n        components[components.length - 1] = {count: last.count + 1, added: added, removed: removed };\n      } else {\n        components.push({count: 1, added: added, removed: removed });\n      }\n    },\n    extractCommon: function(basePath, newString, oldString, diagonalPath) {\n      var newLen = newString.length,\n          oldLen = oldString.length,\n          newPos = basePath.newPos,\n          oldPos = newPos - diagonalPath,\n\n          commonCount = 0;\n      while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n        newPos++;\n        oldPos++;\n        commonCount++;\n      }\n\n      if (commonCount) {\n        basePath.components.push({count: commonCount});\n      }\n\n      basePath.newPos = newPos;\n      return oldPos;\n    },\n\n    equals: function(left, right) {\n      var reWhitespace = /\\S/;\n      return left === right || (this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right));\n    },\n    tokenize: function(value) {\n      return value.split('');\n    }\n  };\n\n  var CharDiff = new Diff();\n\n  var WordDiff = new Diff(true);\n  var WordWithSpaceDiff = new Diff();\n  WordDiff.tokenize = WordWithSpaceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\s+|\\b)/));\n  };\n\n  var CssDiff = new Diff(true);\n  CssDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/([{}:;,]|\\s+)/));\n  };\n\n  var LineDiff = new Diff();\n\n  var TrimmedLineDiff = new Diff();\n  TrimmedLineDiff.ignoreTrim = true;\n\n  LineDiff.tokenize = TrimmedLineDiff.tokenize = function(value) {\n    var retLines = [],\n        lines = value.split(/^/m);\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i],\n          lastLine = lines[i - 1],\n          lastLineLastChar = lastLine && lastLine[lastLine.length - 1];\n\n      // Merge lines that may contain windows new lines\n      if (line === '\\n' && lastLineLastChar === '\\r') {\n          retLines[retLines.length - 1] = retLines[retLines.length - 1].slice(0, -1) + '\\r\\n';\n      } else {\n        if (this.ignoreTrim) {\n          line = line.trim();\n          // add a newline unless this is the last line.\n          if (i < lines.length - 1) {\n            line += '\\n';\n          }\n        }\n        retLines.push(line);\n      }\n    }\n\n    return retLines;\n  };\n\n  var PatchDiff = new Diff();\n  PatchDiff.tokenize = function(value) {\n    var ret = [],\n        linesAndNewlines = value.split(/(\\n|\\r\\n)/);\n\n    // Ignore the final empty token that occurs if the string ends with a new line\n    if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n      linesAndNewlines.pop();\n    }\n\n    // Merge the content and line separators into single tokens\n    for (var i = 0; i < linesAndNewlines.length; i++) {\n      var line = linesAndNewlines[i];\n\n      if (i % 2) {\n        ret[ret.length - 1] += line;\n      } else {\n        ret.push(line);\n      }\n    }\n    return ret;\n  };\n\n  var SentenceDiff = new Diff();\n  SentenceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\S.+?[.!?])(?=\\s+|$)/));\n  };\n\n  var JsonDiff = new Diff();\n  // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n  // dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n  JsonDiff.useLongestToken = true;\n  JsonDiff.tokenize = LineDiff.tokenize;\n  JsonDiff.equals = function(left, right) {\n    return LineDiff.equals(left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n  };\n\n  var JsDiff = {\n    Diff: Diff,\n\n    diffChars: function(oldStr, newStr, callback) { return CharDiff.diff(oldStr, newStr, callback); },\n    diffWords: function(oldStr, newStr, callback) { return WordDiff.diff(oldStr, newStr, callback); },\n    diffWordsWithSpace: function(oldStr, newStr, callback) { return WordWithSpaceDiff.diff(oldStr, newStr, callback); },\n    diffLines: function(oldStr, newStr, callback) { return LineDiff.diff(oldStr, newStr, callback); },\n    diffTrimmedLines: function(oldStr, newStr, callback) { return TrimmedLineDiff.diff(oldStr, newStr, callback); },\n\n    diffSentences: function(oldStr, newStr, callback) { return SentenceDiff.diff(oldStr, newStr, callback); },\n\n    diffCss: function(oldStr, newStr, callback) { return CssDiff.diff(oldStr, newStr, callback); },\n    diffJson: function(oldObj, newObj, callback) {\n      return JsonDiff.diff(\n        typeof oldObj === 'string' ? oldObj : JSON.stringify(canonicalize(oldObj), undefined, '  '),\n        typeof newObj === 'string' ? newObj : JSON.stringify(canonicalize(newObj), undefined, '  '),\n        callback\n      );\n    },\n\n    createTwoFilesPatch: function(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader) {\n      var ret = [];\n\n      if (oldFileName == newFileName) {\n        ret.push('Index: ' + oldFileName);\n      }\n      ret.push('===================================================================');\n      ret.push('--- ' + oldFileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\n      ret.push('+++ ' + newFileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\n\n      var diff = PatchDiff.diff(oldStr, newStr);\n      diff.push({value: '', lines: []});   // Append an empty value to make cleanup easier\n\n      // Formats a given set of lines for printing as context lines in a patch\n      function contextLines(lines) {\n        return map(lines, function(entry) { return ' ' + entry; });\n      }\n\n      // Outputs the no newline at end of file warning if needed\n      function eofNL(curRange, i, current) {\n        var last = diff[diff.length - 2],\n            isLast = i === diff.length - 2,\n            isLastOfType = i === diff.length - 3 && current.added !== last.added;\n\n        // Figure out if this is the last line for the given file and missing NL\n        if (!(/\\n$/.test(current.value)) && (isLast || isLastOfType)) {\n          curRange.push('\\\\ No newline at end of file');\n        }\n      }\n\n      var oldRangeStart = 0, newRangeStart = 0, curRange = [],\n          oldLine = 1, newLine = 1;\n      for (var i = 0; i < diff.length; i++) {\n        var current = diff[i],\n            lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n        current.lines = lines;\n\n        if (current.added || current.removed) {\n          // If we have previous context, start with that\n          if (!oldRangeStart) {\n            var prev = diff[i - 1];\n            oldRangeStart = oldLine;\n            newRangeStart = newLine;\n\n            if (prev) {\n              curRange = contextLines(prev.lines.slice(-4));\n              oldRangeStart -= curRange.length;\n              newRangeStart -= curRange.length;\n            }\n          }\n\n          // Output our changes\n          curRange.push.apply(curRange, map(lines, function(entry) {\n            return (current.added ? '+' : '-') + entry;\n          }));\n          eofNL(curRange, i, current);\n\n          // Track the updated file position\n          if (current.added) {\n            newLine += lines.length;\n          } else {\n            oldLine += lines.length;\n          }\n        } else {\n          // Identical context lines. Track line changes\n          if (oldRangeStart) {\n            // Close out any changes that have been output (or join overlapping)\n            if (lines.length <= 8 && i < diff.length - 2) {\n              // Overlapping\n              curRange.push.apply(curRange, contextLines(lines));\n            } else {\n              // end the range and output\n              var contextSize = Math.min(lines.length, 4);\n              ret.push(\n                  '@@ -' + oldRangeStart + ',' + (oldLine - oldRangeStart + contextSize)\n                  + ' +' + newRangeStart + ',' + (newLine - newRangeStart + contextSize)\n                  + ' @@');\n              ret.push.apply(ret, curRange);\n              ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\n              if (lines.length <= 4) {\n                eofNL(ret, i, current);\n              }\n\n              oldRangeStart = 0;\n              newRangeStart = 0;\n              curRange = [];\n            }\n          }\n          oldLine += lines.length;\n          newLine += lines.length;\n        }\n      }\n\n      return ret.join('\\n') + '\\n';\n    },\n\n    createPatch: function(fileName, oldStr, newStr, oldHeader, newHeader) {\n      return JsDiff.createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader);\n    },\n\n    applyPatch: function(oldStr, uniDiff) {\n      var diffstr = uniDiff.split('\\n'),\n          hunks = [],\n          i = 0,\n          remEOFNL = false,\n          addEOFNL = false;\n\n      // Skip to the first change hunk\n      while (i < diffstr.length && !(/^@@/.test(diffstr[i]))) {\n        i++;\n      }\n\n      // Parse the unified diff\n      for (; i < diffstr.length; i++) {\n        if (diffstr[i][0] === '@') {\n          var chnukHeader = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\n          hunks.unshift({\n            start: chnukHeader[3],\n            oldlength: +chnukHeader[2],\n            removed: [],\n            newlength: chnukHeader[4],\n            added: []\n          });\n        } else if (diffstr[i][0] === '+') {\n          hunks[0].added.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === '-') {\n          hunks[0].removed.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === ' ') {\n          hunks[0].added.push(diffstr[i].substr(1));\n          hunks[0].removed.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === '\\\\') {\n          if (diffstr[i - 1][0] === '+') {\n            remEOFNL = true;\n          } else if (diffstr[i - 1][0] === '-') {\n            addEOFNL = true;\n          }\n        }\n      }\n\n      // Apply the diff to the input\n      var lines = oldStr.split('\\n');\n      for (i = hunks.length - 1; i >= 0; i--) {\n        var hunk = hunks[i];\n        // Sanity check the input string. Bail if we don't match.\n        for (var j = 0; j < hunk.oldlength; j++) {\n          if (lines[hunk.start - 1 + j] !== hunk.removed[j]) {\n            return false;\n          }\n        }\n        Array.prototype.splice.apply(lines, [hunk.start - 1, hunk.oldlength].concat(hunk.added));\n      }\n\n      // Handle EOFNL insertion/removal\n      if (remEOFNL) {\n        while (!lines[lines.length - 1]) {\n          lines.pop();\n        }\n      } else if (addEOFNL) {\n        lines.push('');\n      }\n      return lines.join('\\n');\n    },\n\n    convertChangesToXML: function(changes) {\n      var ret = [];\n      for (var i = 0; i < changes.length; i++) {\n        var change = changes[i];\n        if (change.added) {\n          ret.push('<ins>');\n        } else if (change.removed) {\n          ret.push('<del>');\n        }\n\n        ret.push(escapeHTML(change.value));\n\n        if (change.added) {\n          ret.push('</ins>');\n        } else if (change.removed) {\n          ret.push('</del>');\n        }\n      }\n      return ret.join('');\n    },\n\n    // See: http://code.google.com/p/google-diff-match-patch/wiki/API\n    convertChangesToDMP: function(changes) {\n      var ret = [],\n          change,\n          operation;\n      for (var i = 0; i < changes.length; i++) {\n        change = changes[i];\n        if (change.added) {\n          operation = 1;\n        } else if (change.removed) {\n          operation = -1;\n        } else {\n          operation = 0;\n        }\n\n        ret.push([operation, change.value]);\n      }\n      return ret;\n    },\n\n    canonicalize: canonicalize\n  };\n\n  /*istanbul ignore next */\n  /*global module */\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = JsDiff;\n  } else if (true) {\n    /*global define */\n    !(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = function() { return JsDiff; }.apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n  } else if (typeof global.JsDiff === 'undefined') {\n    global.JsDiff = JsDiff;\n  }\n}(this));\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _AuditTrail = __webpack_require__(7);\n\nvar _AuditTrail2 = _interopRequireDefault(_AuditTrail);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: MainComponentOutlet.jsx 175809 2018-04-12 08:18:45Z ssa $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar SimpleLayout = _csWebComponentsBase.Registry.findComponent('cs-web-components-base-SimpleLayout');\n\nvar MainComponent = function (_React$Component) {\n    _inherits(MainComponent, _React$Component);\n\n    function MainComponent() {\n        _classCallCheck(this, MainComponent);\n\n        return _possibleConstructorReturn(this, (MainComponent.__proto__ || Object.getPrototypeOf(MainComponent)).apply(this, arguments));\n    }\n\n    _createClass(MainComponent, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(_csWebComponentsBase.SinglePage, { frameComponent: SimpleLayout,\n                pageContent: _AuditTrail2.default });\n        }\n    }]);\n\n    return MainComponent;\n}(_react2.default.Component);\n\nexports.default = MainComponent;\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.default = AuditTrailOutlet;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _immutable = __webpack_require__(3);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csWebComponentsExternals = __webpack_require__(2);\n\nvar _AuditTrailRelshipTable = __webpack_require__(8);\n\nvar _AuditTrailRelshipTable2 = _interopRequireDefault(_AuditTrailRelshipTable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; } /*\r\n                                                                                                                                                                                                                              * Copyright (C) 2018 CONTACT Software GmbH\r\n                                                                                                                                                                                                                              * All rights reserved.\r\n                                                                                                                                                                                                                              * http://www.contact-software.com\r\n                                                                                                                                                                                                                              *\r\n                                                                                                                                                                                                                              * Revision \"$Id: AuditTrailOutlet.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n                                                                                                                                                                                                                              */\n\nfunction AuditTrailOutlet(props) {\n    var active = props.active,\n        others = _objectWithoutProperties(props, ['active']);\n\n    var initSortColumns = _immutable2.default.fromJS([{ id: 'cdb::argument::tablecolumn.cdb_cdate', desc: true }]).toSet();\n    var hiddenColumns = _immutable2.default.fromJS(['cdb::argument::tablecolumn.parent', 'cdb::argument::tablecolumn.child']).toSet();\n\n    return _react2.default.createElement(_AuditTrailRelshipTable2.default, _extends({}, others, {\n        relshipLabel: 'Audit Trail',\n        relshipIconUrl: '/resources/icons/byname/cdb_audittrail',\n        height: '100%',\n        collapsible: false,\n        expanded: active,\n        hiddenColumns: hiddenColumns,\n        initSortColums: initSortColumns\n    }));\n}\nAuditTrailOutlet.propTypes = {\n    relshipName: _csWebComponentsExternals.PropTypes.string.isRequired,\n    active: _csWebComponentsExternals.PropTypes.bool.isRequired\n};\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cs-audittrail-web.2d721924ea4dc438f412.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 10);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 16d365c81bed5734ae36","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-base\"\n// module id = 0\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-externals\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Immutable\"\n// module id = 3\n// module chunks = 0","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: helpers.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nexport function prefixNS(name) {\r\n    return `${componentNameSpace}-${name}`;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.js","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: actions.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nimport Immutable from 'immutable';\r\nimport {Table} from 'cs-web-components-base';\r\n\r\nexport const SET_SINGLE_SELECTION_MODE = 'cs-web-components-base-SET_SINGLE_SELECTION_MODE';\r\n\r\nconst {setSelectedRows} = Table.actions;\r\n\r\nexport function setSingleSelectionMode(isSingle) {\r\n    return {\r\n        type: SET_SINGLE_SELECTION_MODE,\r\n        payload: isSingle\r\n    };\r\n}\r\n\r\nexport function selectRow(row, clearSelection = false) {\r\n    return (dispatch, getState) => {\r\n        const {selectedRows, singleSelectionMode} = getState();\r\n\r\n        const selected = selectedRows.contains(row);\r\n\r\n        if (clearSelection) {\r\n            return dispatch(\r\n                setSelectedRows(\r\n                    selected && selectedRows.count() === 1 ?\r\n                    Immutable.OrderedSet() :\r\n                    Immutable.OrderedSet([row])\r\n                )\r\n            );\r\n        }\r\n\r\n        if (singleSelectionMode) {\r\n            return dispatch(Table.actions.setSelectedRows(selected ?\r\n                selectedRows.delete(row) : Immutable.OrderedSet([row])));\r\n        } else {\r\n            if (selectedRows.count() <= 2 && selected) {\r\n                return dispatch(Table.actions.setSelectedRows(\r\n                    selectedRows.delete(row)));\r\n            }\r\n            else if (selectedRows.count() < 2) {\r\n                return dispatch(Table.actions.setSelectedRows(selected ?\r\n                    selectedRows.delete(row) : selectedRows.add(row)));\r\n            }\r\n            else {\r\n                return null;\r\n            }\r\n        }\r\n    };\r\n}\r\n\r\nexport default {\r\n    SET_SINGLE_SELECTION_MODE,\r\n    setSingleSelectionMode, selectRow\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/selectable/actions.js","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: i18n.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nimport {i18ndb} from 'cs-web-components-base';\r\n\r\nexport const Format = i18ndb.makeFormat('audittrail');\r\nexport const formatStr = i18ndb.makeFormatStr('audittrail');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n.js","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: AuditTrail.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport Immutable from 'immutable';\r\nimport {Component} from 'react';\r\nimport {PropTypes, connect} from 'cs-web-components-externals';\r\nimport {fetchCollection, Throbber, parseQuery} from 'cs-web-components-base';\r\nimport AuditTrailRelshipTable from './AuditTrailRelshipTable';\r\nimport {prefixNS} from '../helpers';\r\n\r\nclass AuditTrail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.object_id = parseQuery(props.location).object_id;\r\n        this.state = {contextObject: undefined,\r\n            relshipName: \"\"};\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {location, fetchCollection} = this.props;\r\n        const restname = parseQuery(location).restname;\r\n        const relshipName = parseQuery(location).relshipName;\r\n        const object_id = parseQuery(location).object_id;\r\n\r\n        fetchCollection(\"/api/v1/collection/\" + restname,\r\n             {\"$filter\": \"cdb_object_id eq '\" + object_id + \"'\"}).then((data) => {\r\n                 const object = data.objects[0];\r\n                 this.setState({contextObject: Immutable.Map(object),\r\n                     relshipName: relshipName});\r\n             });\r\n    }\r\n\r\n    render() {\r\n        if (!this.state.contextObject) {\r\n            return (<Throbber/>);\r\n        }\r\n        const initSortColumns = Immutable.fromJS([\r\n            {id: 'cdb::argument::tablecolumn.cdb_cdate', desc: true}\r\n        ]).toSet();\r\n        const hiddenColumns = Immutable.fromJS([\r\n            'cdb::argument::tablecolumn.parent',\r\n            'cdb::argument::tablecolumn.child'\r\n        ]).toSet();\r\n        return (\r\n            <div className={prefixNS('audittrail')}>\r\n                <AuditTrailRelshipTable\r\n                    contextObject={this.state.contextObject}\r\n                    relshipName={this.state.relshipName}\r\n                    treeIDColumnID=\"cdb::argument::tablecolumn.child\"\r\n                    treeColumnID=\"cdb::argument::tablecolumn.object_description\"\r\n                    treeParentColumnID=\"cdb::argument::tablecolumn.parent\"\r\n                    relshipLabel=\"Audit Trail\"\r\n                    relshipIconUrl=\"cdb_audittrail\"\r\n                    height='100%'\r\n                    collapsible={false}\r\n                    expanded={true}\r\n                    hiddenColumns={hiddenColumns}\r\n                    initSortColums={initSortColumns}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nAuditTrail.propTypes = {\r\n    fetchCollection: PropTypes.func.isRequired,\r\n    location: PropTypes.object,\r\n    history: PropTypes.object\r\n};\r\n\r\nfunction mapStateToProps() {\r\n    return {};\r\n}\r\n\r\nconst actions = {fetchCollection};\r\nexport default connect(mapStateToProps, actions)(AuditTrail);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AuditTrail.jsx"," /*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: AuditTrailRelshipTable.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {SplitLayout, ObjectWidgets} from 'cs-web-components-base';\r\nimport AuditTrailSelectionHelper from './AuditTrailSelectionHelper';\r\nimport AuditTrailTableConfig from './AuditTrailTableConfig';\r\nimport AuditTrailFetcher from './AuditTrailFetcher';\r\nimport Detail from './Detail';\r\nimport {prefixNS} from '../helpers.js';\r\n\r\n\r\nexport default class AuditTrailRelationshipTable extends ObjectWidgets.RelationshipTable {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {detail1: {id: \"\", desc: \"\"},\r\n            detail2: {id: \"\", desc: \"\"},\r\n            width: 0};\r\n\r\n        this.onSelect = this._onSelect.bind(this);\r\n    }\r\n\r\n    _onSelect(selected) {\r\n        if (selected && selected.length > 0) {\r\n            const detail1 = selected[0];\r\n\r\n            const detail1_id = detail1[2];\r\n            if (detail1_id) {\r\n                const detail1_desc = detail1[3];\r\n                const o1 = detail1[4];\r\n                const n1 = detail1[5];\r\n                if (selected.length === 1 && detail1[1]) {\r\n                    this.setState({detail1: {id: detail1_id, desc: detail1_desc, old: o1, new: n1},\r\n                        detail2: {id: \"\", desc: \"\", old: \"\", new: \"\"},\r\n                        width: 400});\r\n                    return;\r\n                }\r\n                else if (selected.length === 2) {\r\n                    const detail2 = selected[1];\r\n                    const detail2_id = detail2[2];\r\n                    if (detail2_id && detail2[1]) {\r\n                        const detail2_desc = detail2[3];\r\n                        const o2 = detail2[4];\r\n                        const n2 = detail2[5];\r\n                        this.setState({detail1: {id: detail1_id,\r\n                            desc: detail1_desc,\r\n                            old: o1,\r\n                            new: n1},\r\n                            detail2: {id: detail2_id,\r\n                                desc: detail2_desc,\r\n                                old: o2,\r\n                                new: n2},\r\n                            width: 400});\r\n                        return;\r\n                    }\r\n                    else if (detail1[1]) {\r\n                        this.setState({detail1: {id: detail1_id,\r\n                            desc: detail1_desc,\r\n                            old: o1,\r\n                            new: n1},\r\n                            detail2: {id: \"\",\r\n                                desc: \"\",\r\n                                short: \"\",\r\n                                old: \"\",\r\n                                new: \"\"},\r\n                            width: 400});\r\n                        return;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.setState({detail1: {id: \"\",\r\n            desc: \"\",\r\n            old: \"\",\r\n            new: \"\"},\r\n            detail2: {id: \"\",\r\n                desc: \"\",\r\n                old: \"\",\r\n                new: \"\"},\r\n            width: 0.1});\r\n\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            contextObject, relshipName, tableName, height,\r\n            hideTableHeaderPanels, asTree, tableLayout\r\n        } = this.props;\r\n        return (\r\n            <SplitLayout defaultSize={this.state.width}\r\n                                 minSize={0}\r\n                                 maxSize={-21}\r\n                                 primary=\"second\"\r\n                                 className={prefixNS('split-layout')}\r\n                                 style={{position: \"static\"}}>\r\n                <AuditTrailFetcher\r\n                        instanceName={this.instanceName}\r\n                        contextObject={contextObject}\r\n                        relshipName={relshipName}\r\n                        tableName={tableName}\r\n                        active={this.state.expanded}>\r\n                    {(tableDef, rowValues, refreshTable, searchAgainOp) => (\r\n                        <AuditTrailTableConfig\r\n                                contextObject={contextObject}\r\n                                relshipName={relshipName}\r\n                                selectionName={this.selectionName}\r\n                                refreshTable={refreshTable}\r\n                                height={height}\r\n                                hideTableHeaderPanels={hideTableHeaderPanels}\r\n                                tableLayout={tableLayout}\r\n                                asTree={asTree}>\r\n                            {tableConfig => (\r\n                                <AuditTrailSelectionHelper\r\n                                        rows={rowValues}\r\n                                        selectionName={this.selectionName}\r\n                                        onSelect={this.onSelect}>\r\n                                    {onSelectionChanged => this.renderTable(\r\n                                        tableDef, rowValues, tableConfig,\r\n                                        onSelectionChanged, searchAgainOp\r\n                                    )}\r\n                                </AuditTrailSelectionHelper>\r\n                            )}\r\n                        </AuditTrailTableConfig>\r\n                    )}\r\n                </AuditTrailFetcher>\r\n                 <div className={prefixNS('detail')}>\r\n                    <Detail detail1={this.state.detail1}\r\n                            detail2={this.state.detail2}\r\n                    />\r\n                </div>\r\n            </SplitLayout>\r\n        );\r\n    }\r\n}\r\n\r\nAuditTrailRelationshipTable.defaultProps = {\r\n    expanded: false,\r\n    hideTableHeaderPanels: false,\r\n    collapsible: true,\r\n    asTree: true,\r\n    singleSelection: false\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AuditTrailRelshipTable.jsx","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: reducers.js 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nimport {SET_SINGLE_SELECTION_MODE} from './actions';\r\n\r\nexport function singleSelectionMode(state = false, action) {\r\n    switch (action.type) {\r\n        case SET_SINGLE_SELECTION_MODE:\r\n            return action.payload === undefined ? state : action.payload;\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\nexport function getSingleSelectionMode(state) {\r\n    return state.singleSelectionMode;\r\n}\r\n\r\nexport default {\r\n    singleSelectionMode\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/selectable/reducers.js","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: index.js 175809 2018-04-12 08:18:45Z ssa $\"\r\n */\r\n\r\nimport {Registry} from 'cs-web-components-base';\r\nimport {prefixNS} from './helpers';\r\nimport MainComponent from './containers/MainComponent';\r\nimport MainComponentOutlet from './containers/MainComponentOutlet';\r\nimport AuditTrailOutlet from './components/AuditTrailOutlet';\r\n\r\nRegistry.registerComponent(prefixNS('MainComponent'), MainComponent);\r\nRegistry.registerComponent(prefixNS('MainComponentOutlet'), MainComponentOutlet);\r\nRegistry.registerComponent(prefixNS('AuditTrailOutlet'), AuditTrailOutlet);\r\n\r\nexport default {\r\n    MainComponent,\r\n    MainComponentOutlet,\r\n    AuditTrailOutlet\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: MainComponent.jsx 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {SinglePage, PageFrame} from 'cs-web-components-base';\r\nimport AuditTrail from '../components/AuditTrail.jsx';\r\n\r\nexport default class MainComponent extends React.Component {\r\n    render() {\r\n        return (<SinglePage frameComponent={PageFrame.ApplicationFrame}\r\n                            pageContent={AuditTrail} />);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/MainComponent.jsx","/*\r\n * Copyright (C) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: AuditTrailSelectionHelper.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport Immutable from 'immutable';\r\nimport React from 'react';\r\nimport {connect, PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';\r\nimport {setContextObjects} from 'cs-web-components-base';\r\n\r\nclass AuditTrailSelectionHelper extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onSelectionChanged = this.onSelectionChanged.bind(this);\r\n    }\r\n\r\n    /*\r\n     * Convert the selectionIds from the table to the object IDs for the actual\r\n     * REST objects.\r\n     */\r\n    selectedObjectIDs(selectedIds) {\r\n        const {rows} = this.props;\r\n        // Build a mapping selection ID => object ID for the selected entries\r\n        const idMap = Immutable.Map(\r\n            rows.filter(row => selectedIds.includes(row.get('id')))\r\n                .map(row => [row.get('id'), row.get('id').split(\"\\\\\\\\at\")])\r\n        );\r\n        // For the result, keep the selection order from the table.\r\n        return idMap.valueSeq();\r\n    }\r\n\r\n    onSelectionChanged(selection) {\r\n        const {onSelect} = this.props;\r\n        const selectionIds = this.selectedObjectIDs(selection).toArray();\r\n        if (onSelect) {\r\n            onSelect(selectionIds);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return this.props.children(this.onSelectionChanged);\r\n    }\r\n}\r\nAuditTrailSelectionHelper.propTypes = {\r\n    selectionName: PropTypes.string.isRequired,\r\n    rows: ImmutablePropTypes.list,\r\n    onSelect: PropTypes.func,\r\n    // injected by connect\r\n    setContextObjects: PropTypes.func.isRequired\r\n};\r\n\r\nexport default connect(undefined, {setContextObjects})(AuditTrailSelectionHelper);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AuditTrailSelectionHelper.jsx","/*\r\n * Copyright (C) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: AuditTrailTableConfig.jsx 181902 2018-08-09 10:00:26Z ssa $\"\r\n */\r\n\r\nimport Immutable from 'immutable';\r\nimport React from 'react';\r\nimport {PropTypes} from 'cs-web-components-externals';\r\nimport {Table, Button} from 'cs-web-components-base';\r\nimport {formatStr} from '../i18n';\r\nimport selectable from './selectable';\r\nimport tableToTree from './table_to_tree';\r\n\r\n/**\r\n * Component build after the FACC pattern that build a table configuration\r\n * suitable as prop for TableWrapper\r\n */\r\nexport default class AuditTrailTableConfig extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.tableConfig = this.makeTableConfig(props);\r\n        this.getTableConfig = this.getTableConfig.bind(this);\r\n    }\r\n\r\n    makeTableConfig() {\r\n        const {Manager, Scrolled, ContentBlockLayout, filterable, treeview,\r\n               sortable, groupable, column_aggregator, SettingPanels,\r\n               columnResizer, columnOrderer, columnDragger, columnHider, columnFixer} = Table;\r\n        const toolbarButtons = [sortable, filterable, treeview, SettingPanels];\r\n        toolbarButtons.push({toolbarButtons: [() => {\r\n            return (\r\n                <Button.IconButton\r\n                  onClick={this.props.refreshTable}\r\n                  buttonStyle=\"info\"\r\n                  iconName=\"csweb_refresh\"\r\n                  title={formatStr('refresh')}/>\r\n            );\r\n        }]});\r\n        return Manager({\r\n            Table: Scrolled(Table.Table),\r\n            Layout: ContentBlockLayout,\r\n            providers: [tableToTree, filterable, treeview, sortable,\r\n                selectable, groupable, column_aggregator,\r\n                SettingPanels\r\n            ],\r\n            columnActions: [sortable, filterable, columnOrderer,\r\n                selectable, columnResizer, columnDragger],\r\n            toolbarButtons: toolbarButtons,\r\n            headerPanels: [groupable],\r\n            footerPanels: [sortable, filterable],\r\n            settingPanels: [columnHider, groupable, sortable,\r\n                columnOrderer, columnFixer]\r\n        });\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const propNames = [\r\n            \"contextObject\", \"relshipName\", \"selectionName\", \"refreshTable\",\r\n            \"hideTableHeaderPanels\", \"height\", \"asTree\", \"tableLayout\"\r\n        ];\r\n        if (propNames.some(\r\n                propName => nextProps[propName] !== this.props[propName])) {\r\n            this.makeTableConfig(nextProps);\r\n        }\r\n    }\r\n\r\n    getTableConfig() {\r\n        return this.tableConfig;\r\n    }\r\n\r\n    render() {\r\n        return this.props.children(this.getTableConfig);\r\n    }\r\n}\r\nAuditTrailTableConfig.propTypes = {\r\n    contextObject: PropTypes.instanceOf(Immutable.Map),\r\n    relshipName: PropTypes.string.isRequired,\r\n    selectionName: PropTypes.string.isRequired,\r\n    refreshTable: PropTypes.func,\r\n    height: PropTypes.string.isRequired,\r\n    hideTableHeaderPanels: PropTypes.bool,\r\n    tableLayout: PropTypes.func,\r\n    asTree: PropTypes.bool,\r\n};\r\n\r\nAuditTrailTableConfig.defaultProps = {\r\n    hideTableHeaderPanels: false,\r\n    asTree: true\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AuditTrailTableConfig.jsx","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: index.js 174184 2018-03-08 07:26:09Z ssa $\"\r\n */\r\n\r\nimport actions from './actions';\r\nimport Provider from './Provider';\r\nimport reducers, {getSingleSelectionMode} from './reducers';\r\n\r\n/**\r\n * Provides selecting functionality in a table.\r\n *\r\n * React Properties\r\n * ----------------\r\n * This feature defines some more props for the table component:\r\n *\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | Property              | Type           | Default | Use                                       |\r\n * +=======================+================+=====================================================+\r\n * | singleSelection       | bool           | true    | Single selection mode                     |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | withSelector          | bool           | false   | Whether to display an additional column   |\r\n * |                       |                |         | with checkbox for selection               |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | onSelectRows          | func           | \\-      | Function to be called when item is        |\r\n * |                       |                |         | selected. The IDs of selected rows will   |\r\n * |                       |                |         | be passed to this function.               |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | initSelected          | func           | \\-      | Initial selections to pass to the table   |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n *\r\n * @memberof module:Table\r\n * @module\r\n */\r\nexport default {\r\n    actions, Provider,\r\n    reducers, getSingleSelectionMode\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/selectable/index.js","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: Provider.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';\r\nimport Immutable from 'immutable';\r\nimport {Table} from 'cs-web-components-base';\r\n\r\nimport {setSingleSelectionMode, selectRow} from './actions';\r\nimport {formatStr} from '../../i18n';\r\nimport Selector from './Selector';\r\n\r\nconst SELECTORID = 'cs-web-components-base-table-selector-column';\r\n\r\nconst {setSelectedRows, setOrderedColumns,\r\n    setColumns, setRowClassName\r\n} = Table.actions;\r\n\r\nconst {connect} = Table;\r\nconst toggleTreeView = Table.treeview.actions.toggleTreeView;\r\n\r\nexport default function(WrappedTable) {\r\n    class Select extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.onSelect = this.onSelect.bind(this);\r\n            this.markRows = this.markRows.bind(this);\r\n            this.selectorColumn = Immutable.Map({\r\n                id: SELECTORID,\r\n                label: '',\r\n                width: '1em',\r\n                contentRenderer: Selector,\r\n                tooltip: formatStr('tabcatalog_select_header')  // TODO: i18n own label/tooltip\r\n            });\r\n\r\n        }\r\n\r\n        componentWillMount() {\r\n            if (this.props.initSelected !== undefined) {\r\n                this.selectRows(this.props.initSelected, this.props);\r\n            }\r\n            this.props.setSingleSelectionMode(this.props.singleSelection);\r\n            this.createSelector(this.props);\r\n        }\r\n\r\n        createSelector(props) {\r\n            const {\r\n                setColumns, setOrderedColumns,\r\n                columns, orderedColumns, withSelector\r\n            } = props;\r\n            if (!withSelector) {\r\n                return;\r\n            }\r\n            const added = columns.findIndex(\r\n                col => col.get('id') === SELECTORID);\r\n            if (added < 0) {\r\n                const newColumns = columns.push(this.selectorColumn);\r\n                setColumns(newColumns);\r\n                setOrderedColumns(\r\n                    Immutable.OrderedSet([SELECTORID]).union(orderedColumns));\r\n            } else if (orderedColumns.first() !== SELECTORID) {\r\n                setOrderedColumns(\r\n                    Immutable.OrderedSet([SELECTORID]).union(orderedColumns));\r\n            }\r\n        }\r\n\r\n        getValidSelection(selected, props) {\r\n            const {rows} = props;\r\n            return selected.filter(\r\n                i => rows.findIndex(row => row.get('id') === i) > -1);\r\n        }\r\n\r\n        selectRows(selected, props) {\r\n            const {setSelectedRows} = props;\r\n            const valid = this.getValidSelection(selected, props);\r\n            // only select valid rows or empty selection\r\n            if (setSelectedRows && (selected.count() === 0 || valid.count() > 0)) {\r\n                setSelectedRows(valid);\r\n            }\r\n        }\r\n\r\n        // TODO: shouldComponentUpdate\r\n        componentWillReceiveProps(nextProps) {\r\n            if (nextProps.singleSelection !== this.props.singleSelection) {\r\n                nextProps.setSingleSelectionMode(nextProps.singleSelection);\r\n            }\r\n            if (nextProps.columns !== this.props.columns ||\r\n                nextProps.orderedColumns !== this.props.orderedColumns) {\r\n                this.createSelector(nextProps);\r\n                if (nextProps.rows.size === 0) {\r\n                    nextProps.toggleTreeView();\r\n                }\r\n                else if (nextProps.rows.every(v => v.get(\"columns\").get(4) === \"Status\")) {\r\n                    nextProps.toggleTreeView();\r\n                }\r\n            }\r\n            if (!Immutable.is(nextProps.initSelected, this.props.initSelected)) {\r\n                this.selectRows(nextProps.initSelected || Immutable.OrderedSet(), nextProps);\r\n            } else if (nextProps.selectedRows !== this.props.selectedRows) {\r\n                this.markRows(nextProps);\r\n                if (nextProps.onSelectRows) {\r\n                    nextProps.onSelectRows(nextProps.selectedRows);\r\n                }\r\n            } else if (nextProps.rows !== this.props.rows) {\r\n                this.markRows(nextProps, true);\r\n                if (nextProps.rows.size === 0) {\r\n                    toggleTreeView();\r\n                }\r\n            }\r\n        }\r\n\r\n        markRows(props, checkSelection = false) {\r\n            const rowIDs = props.rows.map(row => row.get('id'));\r\n            const selected = props.selectedRows === undefined ?\r\n                Immutable.OrderedSet() :\r\n                props.selectedRows.intersect(rowIDs);\r\n\r\n            // If rows have changed we remove selection for missing rows\r\n            if (checkSelection && !Immutable.is(selected, props.selectedRows)) {\r\n                props.setSelectedRows(selected);\r\n            } else {\r\n                props.setRowClassName('selected', selected);\r\n            }\r\n        }\r\n\r\n        onSelect(row) {\r\n            const {selectRow} = this.props;\r\n            const rowdetail = row.split(\"\\\\at\");\r\n            if (rowdetail[7] === \" nil \" || rowdetail[7] === \"Status\") {\r\n                return;\r\n            }\r\n            if (this.getValidSelection(Immutable.OrderedSet([row]), this.props).count() > 0) {\r\n                selectRow(row, true);\r\n            }\r\n        }\r\n\r\n        render() {\r\n            const {...props} = this.props;\r\n            delete props.singleSelection;\r\n            delete props.withSelector;\r\n            delete props.initSelected;\r\n            delete props.setSingleSelectionMode;\r\n            delete props.setColumns;\r\n            delete props.setOrderedColumns;\r\n            delete props.setSelectedRows;\r\n            delete props.selectRow;\r\n            delete props.setRowClassName;\r\n            delete props.columns;\r\n            delete props.orderedColumns;\r\n            delete props.selectedRows;\r\n            delete props.onSelectRows;\r\n            delete props.toggleTreeView;\r\n            return (\r\n                <WrappedTable\r\n                    {...props}\r\n                    onSelectRow={this.onSelect}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    Select.propTypes = {\r\n        singleSelection: PropTypes.bool,\r\n        withSelector: PropTypes.bool,\r\n        initSelected: ImmutablePropTypes.orderedSet,\r\n        setSingleSelectionMode: PropTypes.func,\r\n        setColumns: PropTypes.func,\r\n        setOrderedColumns: PropTypes.func,\r\n        setSelectedRows: PropTypes.func,\r\n        selectRow: PropTypes.func,\r\n        setRowClassName: PropTypes.func,\r\n        rows: ImmutablePropTypes.list,\r\n        columns: ImmutablePropTypes.list,\r\n        orderedColumns: ImmutablePropTypes.orderedSet,\r\n        selectedRows: ImmutablePropTypes.orderedSet,\r\n        onSelectRows: PropTypes.func,\r\n        toggleTreeView: PropTypes.func\r\n    };\r\n\r\n    Select.defaultProps = {\r\n        singleSelection: true,\r\n        withSelector: false\r\n    };\r\n\r\n    const mapStateToProps = (state) => ({\r\n        selectedRows: state.selectedRows,\r\n        columns: state.columns,\r\n        orderedColumns: state.orderedColumns\r\n    });\r\n\r\n    return connect(mapStateToProps,\r\n        {setSelectedRows, setSingleSelectionMode, selectRow,\r\n            setOrderedColumns, setColumns, setRowClassName, toggleTreeView})(Select);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/selectable/Provider.jsx","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: Selector.jsx 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';\r\nimport {Table, FormControl} from 'cs-web-components-base';\r\nimport {prefixNS} from '../../helpers';\r\nimport {selectRow} from './actions';\r\nimport {getSingleSelectionMode} from './reducers';\r\n\r\nconst {connect} = Table;\r\n\r\nclass Renderer extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.onChange = this.onChange.bind(this);\r\n        this.onClick = this.onClick.bind(this);\r\n    }\r\n\r\n    onChange() {\r\n        // Do nothing. The onClick on row takes care.\r\n    }\r\n\r\n    getRowID() {\r\n        return this.props.row.get('id');\r\n    }\r\n\r\n    onClick(event) {\r\n        event.stopPropagation();\r\n\r\n        const {row} = this.props;\r\n        this.props.selectRow(row.get('id'));\r\n    }\r\n\r\n    render() {\r\n        const {selectedRows, singleSelectionMode, tableID, row} = this.props;\r\n        if (row.get('functionalRow', false)) {\r\n            // render Selector only if the row contains data, and is not computed\r\n            return null;\r\n        }\r\n        const checked = selectedRows.contains(this.getRowID());\r\n        const Selector = singleSelectionMode ? FormControl.Radio : FormControl.CheckBox;\r\n        if (row.get(\"columns\").toJS()[10] === \"\") {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className={prefixNS('table-selector-column-renderer')}\r\n                 onClick={this.onClick}>\r\n                <Selector className={prefixNS('table-selector-column-content')}\r\n                          checked={checked}\r\n                          onChange={this.onChange}\r\n                          name={prefixNS(`table-selector${tableID}`)}/>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nRenderer.propTypes = {\r\n    singleSelectionMode: PropTypes.bool,\r\n    selectedRows: ImmutablePropTypes.orderedSet,\r\n    selectRow: PropTypes.func,\r\n    row: ImmutablePropTypes.map,\r\n    tableID: PropTypes.number\r\n};\r\n\r\nconst mapStateToProps = (state) => ({\r\n    selectedRows: state.selectedRows,\r\n    singleSelectionMode: getSingleSelectionMode(state),\r\n    tableID: state.tableID\r\n});\r\n\r\nexport default connect(mapStateToProps, {selectRow})(Renderer);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/selectable/Selector.jsx","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: index.js 174184 2018-03-08 07:26:09Z ssa $\"\r\n */\r\n\r\nimport Provider from './Provider';\r\n\r\n/**\r\n * Transform a normal table to a tree table via\r\n * extracting hierarchical information from the\r\n * rows.\r\n *\r\n * React Properties\r\n * ----------------\r\n * This feature defines some more props for the table component:\r\n *\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | Property              | Type           | Default | Use                                       |\r\n * +=======================+================+=========+===========================================+\r\n * | treeIDColumnID        | string         | \\-      | Which column contains the id of the       |\r\n * |                       |                |         | current node in the tree                  |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n * | treeParentColumnID    | string         | \\-      | Which column contains the id of the       |\r\n * |                       |                |         | parent node in the tree                   |\r\n * +-----------------------+----------------+---------+-------------------------------------------+\r\n *\r\n * @module\r\n */\r\nexport default {\r\n    Provider\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/table_to_tree/index.js","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: Provider.jsx 179723 2018-06-28 13:41:24Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';\r\nimport Immutable from 'immutable';\r\nimport {Table} from 'cs-web-components-base';\r\nconst {connect} = Table;\r\n\r\nfunction getNodes(rows, idIndex, parentIDIndex, parentID = '') {\r\n    const nodes = rows.filter(\r\n        row => row.get('columns').get(parentIDIndex) === parentID);\r\n\r\n    return nodes.map(\r\n        row => Immutable.Map({\r\n            id: row.get('id'),\r\n            children: getNodes(rows, idIndex, parentIDIndex, row.get('columns').get(idIndex))\r\n        })\r\n    );\r\n}\r\n\r\nexport default function(WrappedTable) {\r\n    class TabelToTree extends React.Component {\r\n        constructor(props) {\r\n            super(props);\r\n            this.state = {\r\n                treeNodes: Immutable.List()\r\n            };\r\n        }\r\n\r\n        componentWillMount() {\r\n            this.updateNodes(this.props);\r\n        }\r\n\r\n        updateNodes(props) {\r\n            const {rows, treeParentColumnID, treeIDColumnID, columns} = props;\r\n            let treeNodes = Immutable.List();\r\n            if (treeIDColumnID && treeParentColumnID) {\r\n                const nIdx = columns.findIndex(col => col.get('id') === treeIDColumnID);\r\n                const pIdx = columns.findIndex(col => col.get('id') === treeParentColumnID);\r\n                if (nIdx > -1 && pIdx > -1) {\r\n                    treeNodes = getNodes(rows, nIdx, pIdx);\r\n                }\r\n            }\r\n            this.setState({treeNodes});\r\n        }\r\n\r\n\r\n        componentWillReceiveProps(nextProps) {\r\n            if (nextProps.rows !== this.props.rows ||\r\n                nextProps.columns !== this.props.columns ||\r\n                nextProps.treeParentColumnID !== this.props.treeParentColumnID ||\r\n                nextProps.treeIDColumnID !== this.props.treeIDColumnID) {\r\n                this.updateNodes(nextProps);\r\n            }\r\n        }\r\n\r\n        render() {\r\n            const {...props} = this.props;\r\n            delete props.columns;\r\n            delete props.treeParentColumnID;\r\n            delete props.treeIDColumnID;\r\n\r\n            return (\r\n                <WrappedTable\r\n                    {...props}\r\n                    treeNodes={this.state.treeNodes}/>\r\n            );\r\n        }\r\n    }\r\n\r\n    TabelToTree.propTypes = {\r\n        rows: ImmutablePropTypes.list,\r\n        columns: ImmutablePropTypes.list,\r\n        treeParentColumnID: PropTypes.string.isRequired,\r\n        treeIDColumnID: PropTypes.string.isRequired\r\n    };\r\n\r\n    const mapStateToProps = (state) => {\r\n        return ({\r\n            columns: state.columns\r\n        });\r\n    };\r\n\r\n    return connect(mapStateToProps, {})(TabelToTree);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/table_to_tree/Provider.jsx","/*\r\n * Copyright (C) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: AuditTrailFetcher.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {Alert} from 'react-bootstrap';\r\nimport {PropTypes, ImmutablePropTypes, connect} from 'cs-web-components-externals';\r\nimport {SearchApi, getJSON, postJSON} from 'cs-web-components-base';\r\n\r\nconst removeSearchInstance = SearchApi.Actions.removeSearchInstance;\r\n\r\nfunction getSearchResult(state, instanceName) {\r\n    return state.search.instances.getIn([instanceName, 'searchResult']);\r\n}\r\n\r\nfunction getSearchError(state, instanceName) {\r\n    return state.search.instances.getIn([instanceName, 'searchError']);\r\n}\r\n\r\nfunction createRelshipSearchInstance(instanceName, parentObject, relshipName, tableName) {\r\n    return {\r\n        type: 'cs-web-components-base-SEARCH:CREATE_RELSHIP_SEARCH_INSTANCE',\r\n        payload: {instanceName, parentObject, relshipName, tableName}\r\n    };\r\n}\r\n\r\nfunction loadRelshipSearchForm(instanceName, formURL, submitURL) {\r\n    return {\r\n        type: 'cs-web-components-base-SEARCH:LOAD_RELSHIP_SEARCH_FORM',\r\n        payload: {instanceName, formURL, submitURL}\r\n    };\r\n}\r\n\r\nfunction getInstance(state, instanceName) {\r\n    return state.search.instances.get(instanceName);\r\n}\r\n\r\nfunction relshipHasSearch(state, instanceName) {\r\n    const instance = getInstance(state, instanceName);\r\n    return instance.has('searchFormData') && instance.has('submitURL');\r\n}\r\n\r\nfunction getRelshipUrl(object) {\r\n    return \"/api/v1/collection/audittrail?object_id=\" + object.get(\"cdb_object_id\");\r\n}\r\n\r\nfunction getSubmitUrl(state, instanceName) {\r\n    const instance = getInstance(state, instanceName);\r\n    if (relshipHasSearch(state, instanceName)) {\r\n        return instance.get('submitURL');\r\n    }\r\n    else {\r\n        const relship_url =\r\n            getRelshipUrl(instance.get('parentObject'));\r\n        if (relship_url === undefined) {\r\n            return undefined;\r\n        }\r\n        return `${relship_url}`;\r\n    }\r\n}\r\n\r\nfunction getSearchRequestData(state, instanceName) {\r\n    const instance = getInstance(state, instanceName);\r\n    if (relshipHasSearch(state, instanceName)) {\r\n        return {\r\n            object_navigation_id: null,\r\n            values: instance.get('searchValues') /* ,\r\n            operation_state: instance.getIn(['searchFormData', 'original', 'operation_state']) */\r\n        };\r\n    }\r\n    else {\r\n        return {};\r\n    }\r\n}\r\n\r\nconst runSearch = (instanceName) => (dispatch, getState) => {\r\n    const state = getState();\r\n    const searchUrl = getSubmitUrl(state, instanceName);\r\n    if (relshipHasSearch(state, instanceName)) {\r\n        const request_data = getSearchRequestData(state, instanceName);\r\n        postJSON(searchUrl, request_data).then(\r\n            (result) => {\r\n                if (result.error_message) {\r\n                    return;\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: 'cs-web-components-base-SEARCH:RELSHIP_SEARCH_DONE',\r\n                        payload: {instanceName, result}\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    }\r\n    else {\r\n        // Just GET the data from the relationship URL\r\n        getJSON(searchUrl).then(\r\n            (result) => {\r\n                if (result.error_message) {\r\n                    return;\r\n                }\r\n                else {\r\n                    dispatch({\r\n                        type: 'cs-web-components-base-SEARCH:RELSHIP_SEARCH_DONE',\r\n                        payload: {instanceName, result}\r\n                    });\r\n                }\r\n            }\r\n        );\r\n    }\r\n};\r\n\r\nclass RelationshipFetcher extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.refreshTable = this.refreshTable.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {\r\n            instanceName, active, contextObject, relshipName, tableName,\r\n            createRelshipSearchInstance, runSearch\r\n        } = this.props;\r\n        createRelshipSearchInstance(instanceName, contextObject, relshipName, tableName);\r\n        if (active) {\r\n            runSearch(instanceName);\r\n        }\r\n    }\r\n\r\n    componentWillUnmount() {\r\n        this.props.removeSearchInstance(this.props.instanceName);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        if (!this.props.active && nextProps.active) {\r\n            nextProps.runSearch(this.props.instanceName);\r\n        }\r\n        if (nextProps.searchAgainOpInfo &&\r\n            nextProps.searchAgainOpInfo !== this.props.searchAgainOpInfo)\r\n        {\r\n            nextProps.loadRelshipSearchForm(\r\n                nextProps.instanceName,\r\n                nextProps.searchAgainOpInfo.get('form_url'),\r\n                nextProps.searchAgainOpInfo.get('submit_url'));\r\n        }\r\n    }\r\n\r\n    refreshTable() {\r\n        if (this.props.active) {\r\n            this.props.runSearch(this.props.instanceName);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {searchAgainOpInfo, searchResult, searchError} = this.props;\r\n        if (searchError !== null) {\r\n            // On error, ignore the children and just render an error indication\r\n            return <Alert bsStyle=\"warning\">{searchError}</Alert>;\r\n        }\r\n        if (searchResult === null) {\r\n            return null;\r\n        }\r\n        else {\r\n            // Normal case, we have data and call the child function\r\n            return this.props.children(\r\n                searchResult.get('tabledef'),\r\n                searchResult.get('rows'),\r\n                this.refreshTable,\r\n                searchAgainOpInfo);\r\n        }\r\n    }\r\n}\r\nRelationshipFetcher.propTypes = {\r\n    instanceName: PropTypes.string.isRequired,\r\n    contextObject: ImmutablePropTypes.map,\r\n    relshipName: PropTypes.string.isRequired,\r\n    tableName: PropTypes.string,\r\n    active: PropTypes.bool,\r\n    // store\r\n    searchResult: ImmutablePropTypes.map,\r\n    searchError: PropTypes.any,\r\n    searchAgainOpInfo: ImmutablePropTypes.map,\r\n    // actions\r\n    createRelshipSearchInstance: PropTypes.func.isRequired,\r\n    removeSearchInstance: PropTypes.func.isRequired,\r\n    runSearch: PropTypes.func.isRequired,\r\n    loadRelshipSearchForm: PropTypes.func.isRequired\r\n};\r\n\r\nRelationshipFetcher.defaultProps = {\r\n    tableName: '',\r\n    active: true\r\n};\r\n\r\nfunction searchAgainOperation(state, ownProps) {\r\n    const {contextObject, relshipName} = ownProps;\r\n    const refOpInfos = state.operationsByRelship.getIn(\r\n        [contextObject.get('@id'), relshipName, 'reference_opinfo', 1]);\r\n    if (!refOpInfos) {\r\n        return undefined;\r\n    }\r\n    const opInfo = refOpInfos.find(op => op.get('opname') === 'CDB_SearchAgain');\r\n    if (!opInfo || !opInfo.get('form_url') || !opInfo.get('submit_url')) {\r\n        return undefined;\r\n    }\r\n    return opInfo;\r\n}\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    const {instanceName} = ownProps;\r\n    return {\r\n        searchResult: getSearchResult(state, instanceName),\r\n        searchError: getSearchError(state, instanceName),\r\n        searchAgainOpInfo: searchAgainOperation(state, ownProps)\r\n    };\r\n}\r\n\r\nconst actions = {\r\n    createRelshipSearchInstance, removeSearchInstance,\r\n    runSearch, loadRelshipSearchForm\r\n};\r\n\r\nexport default connect(mapStateToProps, actions)(RelationshipFetcher);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AuditTrailFetcher.jsx","module.exports = __WEBPACK_EXTERNAL_MODULE_20__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactBootstrap\"\n// module id = 20\n// module chunks = 0","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: Detail.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport React, {Component} from 'react';\r\nimport Immutable from 'immutable';\r\nimport {PropTypes, connect} from 'cs-web-components-externals';\r\nimport {ContentBlock, fetchObject, getPlugin} from 'cs-web-components-base';\r\nimport {formatStr} from '../i18n';\r\nimport {prefixNS} from '../helpers';\r\nimport DiffText from './Diff';\r\n\r\n\r\nclass Detail extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.requestPromise = null;\r\n        this.state = {error: null,\r\n            detail1: undefined,\r\n            detail2: undefined,\r\n            desc_detail1: \"\",\r\n            desc_detail2: \"\"};\r\n    }\r\n\r\n\r\n    componentDidMount() {\r\n        const {detail1, detail2} = this.props;\r\n        if (detail1.id) {\r\n            this.getDetail(detail1, \"detail1\");\r\n        }\r\n        if (detail2.id) {\r\n            this.getDetail(detail2, \"detail2\");\r\n        }\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const {detail1, detail2} = nextProps;\r\n        if (this.props.detail1.id !== detail1.id) {\r\n            if (detail1.id) {\r\n                this.getDetail(detail1, \"detail1\");\r\n            }\r\n            else {\r\n                this.setState({detail1: undefined,\r\n                    desc_detail1: \"\"});\r\n            }\r\n        }\r\n        if (this.props.detail2.id !== detail2.id) {\r\n            if (detail2.id) {\r\n                this.getDetail(detail2, \"detail2\");\r\n            }\r\n            else {\r\n                this.setState({detail2: undefined,\r\n                    desc_detail2: \"\"});\r\n            }\r\n        }\r\n    }\r\n\r\n    getDetail(detail, detail_name) {\r\n        const desc_name = \"desc_\" + detail_name;\r\n        const url = '/api/v1/collection/audittrail_detail/';\r\n        const obj = this.props.getObjectById(url + detail.id);\r\n        if (obj === undefined) {\r\n            this.props.fetchObject(url + detail.id).then((data) => {\r\n                const newState = {};\r\n                newState[detail_name] = Immutable.fromJS(data);\r\n                newState[desc_name] = detail.desc;\r\n                this.setState(newState);\r\n            });\r\n        }\r\n        else {\r\n            const newState = {};\r\n            newState[detail_name] = obj;\r\n            newState[desc_name] = detail.desc;\r\n            this.setState(newState);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        let text_old = \"\";\r\n        let text_new = \"\";\r\n        let plugin = \"\";\r\n\r\n        if (this.state.detail1 && !this.state.detail2) {\r\n            if (this.state.detail1.get(\"system:classname\") === \"cdb_audittrail_detail\") {\r\n                text_old = this.props.detail1.old;\r\n                text_new = this.props.detail1.new;\r\n            }\r\n            else {\r\n                text_old = this.state.detail1.get(\"cdb_audittrail_longtext_old\");\r\n                text_new = this.state.detail1.get(\"cdb_audittrail_longtext_new\");\r\n                plugin = \"detail1\";\r\n            }\r\n        }\r\n        else if (this.state.detail1 && this.state.detail2) {\r\n            if (this.state.detail1.get(\"system:classname\") === \"cdb_audittrail_detail\") {\r\n                text_old = this.props.detail1.old;\r\n            }\r\n            else {\r\n                text_old = this.state.detail1.get(\"cdb_audittrail_longtext_old\");\r\n                plugin = \"detail1\";\r\n            }\r\n            if (!text_old) {\r\n                if (this.state.detail1.get(\"system:classname\") === \"cdb_audittrail_detail\") {\r\n                    text_old = this.props.detail1.new;\r\n                }\r\n                else {\r\n                    text_old = this.state.detail1.get(\"cdb_audittrail_longtext_new\");\r\n                    plugin = \"detail1\";\r\n                }\r\n            }\r\n            if (this.state.detail2.get(\"system:classname\") === \"cdb_audittrail_detail\") {\r\n                text_new = this.props.detail2.new;\r\n            }\r\n            else {\r\n                text_new = this.state.detail2.get(\"cdb_audittrail_longtext_new\");\r\n                plugin = \"detail2\";\r\n            }\r\n        }\r\n\r\n        let diffComponent = DiffText;\r\n        if (plugin) {\r\n            diffComponent = getPlugin('cs-audittrail-detail',\r\n                                       cn => cn === this.state[plugin].get(\"system:classname\"),\r\n                                       DiffText);\r\n        }\r\n        return (\r\n            <ContentBlock collapsible={false}\r\n                          title={formatStr('detail')}\r\n                          className={prefixNS('content')}>\r\n                <ContentBlock.Body>\r\n                    {(!this.state.detail1) ?\r\n                        <div>{formatStr('select_entry')}</div> :\r\n                        <div>\r\n                            <div className={prefixNS('description')}>\r\n                                <dl className='dl-horizontal'>\r\n                                    <dt className='text-muted'>\r\n                                        {formatStr('source')}\r\n                                    </dt>\r\n                                    <dd>\r\n                                        {this.state.desc_detail1}\r\n                                    </dd>\r\n                                    {(!this.state.detail2) ?\r\n                                        <div>\r\n                                            <dt className='text-muted'>\r\n                                                {formatStr('target')}\r\n                                            </dt>\r\n                                            <dd>\r\n                                                {this.state.desc_detail1}\r\n                                            </dd>\r\n                                        </div> :\r\n                                        <div>\r\n                                            <dt className='text-muted'>\r\n                                                {formatStr('target')}\r\n                                            </dt>\r\n                                            <dd>\r\n                                                {this.state.desc_detail2}\r\n                                            </dd>\r\n                                        </div>}\r\n                                </dl>\r\n                            </div>\r\n                            <div className={prefixNS('compare')}>\r\n                                {React.createElement(diffComponent, {old: text_old,\r\n                                    new: text_new})}\r\n                            </div>\r\n                        </div>}\r\n                </ContentBlock.Body>\r\n            </ContentBlock>\r\n        );\r\n    }\r\n}\r\n\r\nDetail.propTypes = {\r\n    fetchObject: PropTypes.func.isRequired,\r\n    getObjectById: PropTypes.func,\r\n    detail1: PropTypes.object,\r\n    detail2: PropTypes.object\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        getObjectById: object_link => state.objectsById.get(object_link),\r\n    };\r\n}\r\n\r\n\r\nconst actions = {fetchObject};\r\n\r\nexport default connect(mapStateToProps, actions)(Detail);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Detail.jsx","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: Diff.jsx 174047 2018-03-06 06:26:20Z ssa $\"\r\n */\r\n\r\nimport React, {Component} from 'react';\r\nimport jsdiff from 'diff';\r\nimport {prefixNS} from '../helpers.js';\r\nimport {PropTypes} from 'cs-web-components-externals';\r\n\r\n\r\nconst diffChoice = {\r\n    'chars': jsdiff.diffChars,\r\n    'words': jsdiff.diffWords,\r\n    'sentences': jsdiff.diffSentences,\r\n    'json': jsdiff.diffJson\r\n};\r\n\r\nexport default class DiffText extends Component {\r\n    render() {\r\n        const diff = diffChoice[this.props.type](this.props.old, this.props.new);\r\n        const result = diff.map((part, idx) => {\r\n            if (part.added) {\r\n                return (<ins key={idx}>{part.value}</ins>);\r\n            }\r\n            if (part.removed) {\r\n                return (<del key={idx}>{part.value}</del>);\r\n            }\r\n            return (<span key={idx}>{part.value}</span>);\r\n        });\r\n        return (<div className={prefixNS('DiffText')}>\r\n                    {result}\r\n                </div>);\r\n    }\r\n}\r\n\r\nDiffText.propTypes = {\r\n    old: PropTypes.string.isRequired,\r\n    new: PropTypes.string.isRequired,\r\n    type: PropTypes.string.isRequired\r\n};\r\n\r\nDiffText.defaultProps = {\r\n    old: '',\r\n    new: '',\r\n    type: 'words'\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/Diff.jsx","/* See LICENSE file for terms of use */\n\n/*\n * Text diff implementation.\n *\n * This library supports the following APIS:\n * JsDiff.diffChars: Character by character diff\n * JsDiff.diffWords: Word (as defined by \\b regex) diff which ignores whitespace\n * JsDiff.diffLines: Line based diff\n *\n * JsDiff.diffCss: Diff targeted at CSS content\n *\n * These methods are based on the implementation proposed in\n * \"An O(ND) Difference Algorithm and its Variations\" (Myers, 1986).\n * http://citeseerx.ist.psu.edu/viewdoc/summary?doi=10.1.1.4.6927\n */\n(function(global, undefined) {\n  var objectPrototypeToString = Object.prototype.toString;\n\n  /*istanbul ignore next*/\n  function map(arr, mapper, that) {\n    if (Array.prototype.map) {\n      return Array.prototype.map.call(arr, mapper, that);\n    }\n\n    var other = new Array(arr.length);\n\n    for (var i = 0, n = arr.length; i < n; i++) {\n      other[i] = mapper.call(that, arr[i], i, arr);\n    }\n    return other;\n  }\n  function clonePath(path) {\n    return { newPos: path.newPos, components: path.components.slice(0) };\n  }\n  function removeEmpty(array) {\n    var ret = [];\n    for (var i = 0; i < array.length; i++) {\n      if (array[i]) {\n        ret.push(array[i]);\n      }\n    }\n    return ret;\n  }\n  function escapeHTML(s) {\n    var n = s;\n    n = n.replace(/&/g, '&amp;');\n    n = n.replace(/</g, '&lt;');\n    n = n.replace(/>/g, '&gt;');\n    n = n.replace(/\"/g, '&quot;');\n\n    return n;\n  }\n\n  // This function handles the presence of circular references by bailing out when encountering an\n  // object that is already on the \"stack\" of items being processed.\n  function canonicalize(obj, stack, replacementStack) {\n    stack = stack || [];\n    replacementStack = replacementStack || [];\n\n    var i;\n\n    for (i = 0; i < stack.length; i += 1) {\n      if (stack[i] === obj) {\n        return replacementStack[i];\n      }\n    }\n\n    var canonicalizedObj;\n\n    if ('[object Array]' === objectPrototypeToString.call(obj)) {\n      stack.push(obj);\n      canonicalizedObj = new Array(obj.length);\n      replacementStack.push(canonicalizedObj);\n      for (i = 0; i < obj.length; i += 1) {\n        canonicalizedObj[i] = canonicalize(obj[i], stack, replacementStack);\n      }\n      stack.pop();\n      replacementStack.pop();\n    } else if (typeof obj === 'object' && obj !== null) {\n      stack.push(obj);\n      canonicalizedObj = {};\n      replacementStack.push(canonicalizedObj);\n      var sortedKeys = [],\n          key;\n      for (key in obj) {\n        sortedKeys.push(key);\n      }\n      sortedKeys.sort();\n      for (i = 0; i < sortedKeys.length; i += 1) {\n        key = sortedKeys[i];\n        canonicalizedObj[key] = canonicalize(obj[key], stack, replacementStack);\n      }\n      stack.pop();\n      replacementStack.pop();\n    } else {\n      canonicalizedObj = obj;\n    }\n    return canonicalizedObj;\n  }\n\n  function buildValues(components, newString, oldString, useLongestToken) {\n    var componentPos = 0,\n        componentLen = components.length,\n        newPos = 0,\n        oldPos = 0;\n\n    for (; componentPos < componentLen; componentPos++) {\n      var component = components[componentPos];\n      if (!component.removed) {\n        if (!component.added && useLongestToken) {\n          var value = newString.slice(newPos, newPos + component.count);\n          value = map(value, function(value, i) {\n            var oldValue = oldString[oldPos + i];\n            return oldValue.length > value.length ? oldValue : value;\n          });\n\n          component.value = value.join('');\n        } else {\n          component.value = newString.slice(newPos, newPos + component.count).join('');\n        }\n        newPos += component.count;\n\n        // Common case\n        if (!component.added) {\n          oldPos += component.count;\n        }\n      } else {\n        component.value = oldString.slice(oldPos, oldPos + component.count).join('');\n        oldPos += component.count;\n\n        // Reverse add and remove so removes are output first to match common convention\n        // The diffing algorithm is tied to add then remove output and this is the simplest\n        // route to get the desired output with minimal overhead.\n        if (componentPos && components[componentPos - 1].added) {\n          var tmp = components[componentPos - 1];\n          components[componentPos - 1] = components[componentPos];\n          components[componentPos] = tmp;\n        }\n      }\n    }\n\n    return components;\n  }\n\n  function Diff(ignoreWhitespace) {\n    this.ignoreWhitespace = ignoreWhitespace;\n  }\n  Diff.prototype = {\n    diff: function(oldString, newString, callback) {\n      var self = this;\n\n      function done(value) {\n        if (callback) {\n          setTimeout(function() { callback(undefined, value); }, 0);\n          return true;\n        } else {\n          return value;\n        }\n      }\n\n      // Handle the identity case (this is due to unrolling editLength == 0\n      if (newString === oldString) {\n        return done([{ value: newString }]);\n      }\n      if (!newString) {\n        return done([{ value: oldString, removed: true }]);\n      }\n      if (!oldString) {\n        return done([{ value: newString, added: true }]);\n      }\n\n      newString = this.tokenize(newString);\n      oldString = this.tokenize(oldString);\n\n      var newLen = newString.length, oldLen = oldString.length;\n      var editLength = 1;\n      var maxEditLength = newLen + oldLen;\n      var bestPath = [{ newPos: -1, components: [] }];\n\n      // Seed editLength = 0, i.e. the content starts with the same values\n      var oldPos = this.extractCommon(bestPath[0], newString, oldString, 0);\n      if (bestPath[0].newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n        // Identity per the equality and tokenizer\n        return done([{value: newString.join('')}]);\n      }\n\n      // Main worker method. checks all permutations of a given edit length for acceptance.\n      function execEditLength() {\n        for (var diagonalPath = -1 * editLength; diagonalPath <= editLength; diagonalPath += 2) {\n          var basePath;\n          var addPath = bestPath[diagonalPath - 1],\n              removePath = bestPath[diagonalPath + 1],\n              oldPos = (removePath ? removePath.newPos : 0) - diagonalPath;\n          if (addPath) {\n            // No one else is going to attempt to use this value, clear it\n            bestPath[diagonalPath - 1] = undefined;\n          }\n\n          var canAdd = addPath && addPath.newPos + 1 < newLen,\n              canRemove = removePath && 0 <= oldPos && oldPos < oldLen;\n          if (!canAdd && !canRemove) {\n            // If this path is a terminal then prune\n            bestPath[diagonalPath] = undefined;\n            continue;\n          }\n\n          // Select the diagonal that we want to branch from. We select the prior\n          // path whose position in the new string is the farthest from the origin\n          // and does not pass the bounds of the diff graph\n          if (!canAdd || (canRemove && addPath.newPos < removePath.newPos)) {\n            basePath = clonePath(removePath);\n            self.pushComponent(basePath.components, undefined, true);\n          } else {\n            basePath = addPath;   // No need to clone, we've pulled it from the list\n            basePath.newPos++;\n            self.pushComponent(basePath.components, true, undefined);\n          }\n\n          oldPos = self.extractCommon(basePath, newString, oldString, diagonalPath);\n\n          // If we have hit the end of both strings, then we are done\n          if (basePath.newPos + 1 >= newLen && oldPos + 1 >= oldLen) {\n            return done(buildValues(basePath.components, newString, oldString, self.useLongestToken));\n          } else {\n            // Otherwise track this path as a potential candidate and continue.\n            bestPath[diagonalPath] = basePath;\n          }\n        }\n\n        editLength++;\n      }\n\n      // Performs the length of edit iteration. Is a bit fugly as this has to support the\n      // sync and async mode which is never fun. Loops over execEditLength until a value\n      // is produced.\n      if (callback) {\n        (function exec() {\n          setTimeout(function() {\n            // This should not happen, but we want to be safe.\n            /*istanbul ignore next */\n            if (editLength > maxEditLength) {\n              return callback();\n            }\n\n            if (!execEditLength()) {\n              exec();\n            }\n          }, 0);\n        }());\n      } else {\n        while (editLength <= maxEditLength) {\n          var ret = execEditLength();\n          if (ret) {\n            return ret;\n          }\n        }\n      }\n    },\n\n    pushComponent: function(components, added, removed) {\n      var last = components[components.length - 1];\n      if (last && last.added === added && last.removed === removed) {\n        // We need to clone here as the component clone operation is just\n        // as shallow array clone\n        components[components.length - 1] = {count: last.count + 1, added: added, removed: removed };\n      } else {\n        components.push({count: 1, added: added, removed: removed });\n      }\n    },\n    extractCommon: function(basePath, newString, oldString, diagonalPath) {\n      var newLen = newString.length,\n          oldLen = oldString.length,\n          newPos = basePath.newPos,\n          oldPos = newPos - diagonalPath,\n\n          commonCount = 0;\n      while (newPos + 1 < newLen && oldPos + 1 < oldLen && this.equals(newString[newPos + 1], oldString[oldPos + 1])) {\n        newPos++;\n        oldPos++;\n        commonCount++;\n      }\n\n      if (commonCount) {\n        basePath.components.push({count: commonCount});\n      }\n\n      basePath.newPos = newPos;\n      return oldPos;\n    },\n\n    equals: function(left, right) {\n      var reWhitespace = /\\S/;\n      return left === right || (this.ignoreWhitespace && !reWhitespace.test(left) && !reWhitespace.test(right));\n    },\n    tokenize: function(value) {\n      return value.split('');\n    }\n  };\n\n  var CharDiff = new Diff();\n\n  var WordDiff = new Diff(true);\n  var WordWithSpaceDiff = new Diff();\n  WordDiff.tokenize = WordWithSpaceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\s+|\\b)/));\n  };\n\n  var CssDiff = new Diff(true);\n  CssDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/([{}:;,]|\\s+)/));\n  };\n\n  var LineDiff = new Diff();\n\n  var TrimmedLineDiff = new Diff();\n  TrimmedLineDiff.ignoreTrim = true;\n\n  LineDiff.tokenize = TrimmedLineDiff.tokenize = function(value) {\n    var retLines = [],\n        lines = value.split(/^/m);\n    for (var i = 0; i < lines.length; i++) {\n      var line = lines[i],\n          lastLine = lines[i - 1],\n          lastLineLastChar = lastLine && lastLine[lastLine.length - 1];\n\n      // Merge lines that may contain windows new lines\n      if (line === '\\n' && lastLineLastChar === '\\r') {\n          retLines[retLines.length - 1] = retLines[retLines.length - 1].slice(0, -1) + '\\r\\n';\n      } else {\n        if (this.ignoreTrim) {\n          line = line.trim();\n          // add a newline unless this is the last line.\n          if (i < lines.length - 1) {\n            line += '\\n';\n          }\n        }\n        retLines.push(line);\n      }\n    }\n\n    return retLines;\n  };\n\n  var PatchDiff = new Diff();\n  PatchDiff.tokenize = function(value) {\n    var ret = [],\n        linesAndNewlines = value.split(/(\\n|\\r\\n)/);\n\n    // Ignore the final empty token that occurs if the string ends with a new line\n    if (!linesAndNewlines[linesAndNewlines.length - 1]) {\n      linesAndNewlines.pop();\n    }\n\n    // Merge the content and line separators into single tokens\n    for (var i = 0; i < linesAndNewlines.length; i++) {\n      var line = linesAndNewlines[i];\n\n      if (i % 2) {\n        ret[ret.length - 1] += line;\n      } else {\n        ret.push(line);\n      }\n    }\n    return ret;\n  };\n\n  var SentenceDiff = new Diff();\n  SentenceDiff.tokenize = function(value) {\n    return removeEmpty(value.split(/(\\S.+?[.!?])(?=\\s+|$)/));\n  };\n\n  var JsonDiff = new Diff();\n  // Discriminate between two lines of pretty-printed, serialized JSON where one of them has a\n  // dangling comma and the other doesn't. Turns out including the dangling comma yields the nicest output:\n  JsonDiff.useLongestToken = true;\n  JsonDiff.tokenize = LineDiff.tokenize;\n  JsonDiff.equals = function(left, right) {\n    return LineDiff.equals(left.replace(/,([\\r\\n])/g, '$1'), right.replace(/,([\\r\\n])/g, '$1'));\n  };\n\n  var JsDiff = {\n    Diff: Diff,\n\n    diffChars: function(oldStr, newStr, callback) { return CharDiff.diff(oldStr, newStr, callback); },\n    diffWords: function(oldStr, newStr, callback) { return WordDiff.diff(oldStr, newStr, callback); },\n    diffWordsWithSpace: function(oldStr, newStr, callback) { return WordWithSpaceDiff.diff(oldStr, newStr, callback); },\n    diffLines: function(oldStr, newStr, callback) { return LineDiff.diff(oldStr, newStr, callback); },\n    diffTrimmedLines: function(oldStr, newStr, callback) { return TrimmedLineDiff.diff(oldStr, newStr, callback); },\n\n    diffSentences: function(oldStr, newStr, callback) { return SentenceDiff.diff(oldStr, newStr, callback); },\n\n    diffCss: function(oldStr, newStr, callback) { return CssDiff.diff(oldStr, newStr, callback); },\n    diffJson: function(oldObj, newObj, callback) {\n      return JsonDiff.diff(\n        typeof oldObj === 'string' ? oldObj : JSON.stringify(canonicalize(oldObj), undefined, '  '),\n        typeof newObj === 'string' ? newObj : JSON.stringify(canonicalize(newObj), undefined, '  '),\n        callback\n      );\n    },\n\n    createTwoFilesPatch: function(oldFileName, newFileName, oldStr, newStr, oldHeader, newHeader) {\n      var ret = [];\n\n      if (oldFileName == newFileName) {\n        ret.push('Index: ' + oldFileName);\n      }\n      ret.push('===================================================================');\n      ret.push('--- ' + oldFileName + (typeof oldHeader === 'undefined' ? '' : '\\t' + oldHeader));\n      ret.push('+++ ' + newFileName + (typeof newHeader === 'undefined' ? '' : '\\t' + newHeader));\n\n      var diff = PatchDiff.diff(oldStr, newStr);\n      diff.push({value: '', lines: []});   // Append an empty value to make cleanup easier\n\n      // Formats a given set of lines for printing as context lines in a patch\n      function contextLines(lines) {\n        return map(lines, function(entry) { return ' ' + entry; });\n      }\n\n      // Outputs the no newline at end of file warning if needed\n      function eofNL(curRange, i, current) {\n        var last = diff[diff.length - 2],\n            isLast = i === diff.length - 2,\n            isLastOfType = i === diff.length - 3 && current.added !== last.added;\n\n        // Figure out if this is the last line for the given file and missing NL\n        if (!(/\\n$/.test(current.value)) && (isLast || isLastOfType)) {\n          curRange.push('\\\\ No newline at end of file');\n        }\n      }\n\n      var oldRangeStart = 0, newRangeStart = 0, curRange = [],\n          oldLine = 1, newLine = 1;\n      for (var i = 0; i < diff.length; i++) {\n        var current = diff[i],\n            lines = current.lines || current.value.replace(/\\n$/, '').split('\\n');\n        current.lines = lines;\n\n        if (current.added || current.removed) {\n          // If we have previous context, start with that\n          if (!oldRangeStart) {\n            var prev = diff[i - 1];\n            oldRangeStart = oldLine;\n            newRangeStart = newLine;\n\n            if (prev) {\n              curRange = contextLines(prev.lines.slice(-4));\n              oldRangeStart -= curRange.length;\n              newRangeStart -= curRange.length;\n            }\n          }\n\n          // Output our changes\n          curRange.push.apply(curRange, map(lines, function(entry) {\n            return (current.added ? '+' : '-') + entry;\n          }));\n          eofNL(curRange, i, current);\n\n          // Track the updated file position\n          if (current.added) {\n            newLine += lines.length;\n          } else {\n            oldLine += lines.length;\n          }\n        } else {\n          // Identical context lines. Track line changes\n          if (oldRangeStart) {\n            // Close out any changes that have been output (or join overlapping)\n            if (lines.length <= 8 && i < diff.length - 2) {\n              // Overlapping\n              curRange.push.apply(curRange, contextLines(lines));\n            } else {\n              // end the range and output\n              var contextSize = Math.min(lines.length, 4);\n              ret.push(\n                  '@@ -' + oldRangeStart + ',' + (oldLine - oldRangeStart + contextSize)\n                  + ' +' + newRangeStart + ',' + (newLine - newRangeStart + contextSize)\n                  + ' @@');\n              ret.push.apply(ret, curRange);\n              ret.push.apply(ret, contextLines(lines.slice(0, contextSize)));\n              if (lines.length <= 4) {\n                eofNL(ret, i, current);\n              }\n\n              oldRangeStart = 0;\n              newRangeStart = 0;\n              curRange = [];\n            }\n          }\n          oldLine += lines.length;\n          newLine += lines.length;\n        }\n      }\n\n      return ret.join('\\n') + '\\n';\n    },\n\n    createPatch: function(fileName, oldStr, newStr, oldHeader, newHeader) {\n      return JsDiff.createTwoFilesPatch(fileName, fileName, oldStr, newStr, oldHeader, newHeader);\n    },\n\n    applyPatch: function(oldStr, uniDiff) {\n      var diffstr = uniDiff.split('\\n'),\n          hunks = [],\n          i = 0,\n          remEOFNL = false,\n          addEOFNL = false;\n\n      // Skip to the first change hunk\n      while (i < diffstr.length && !(/^@@/.test(diffstr[i]))) {\n        i++;\n      }\n\n      // Parse the unified diff\n      for (; i < diffstr.length; i++) {\n        if (diffstr[i][0] === '@') {\n          var chnukHeader = diffstr[i].split(/@@ -(\\d+),(\\d+) \\+(\\d+),(\\d+) @@/);\n          hunks.unshift({\n            start: chnukHeader[3],\n            oldlength: +chnukHeader[2],\n            removed: [],\n            newlength: chnukHeader[4],\n            added: []\n          });\n        } else if (diffstr[i][0] === '+') {\n          hunks[0].added.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === '-') {\n          hunks[0].removed.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === ' ') {\n          hunks[0].added.push(diffstr[i].substr(1));\n          hunks[0].removed.push(diffstr[i].substr(1));\n        } else if (diffstr[i][0] === '\\\\') {\n          if (diffstr[i - 1][0] === '+') {\n            remEOFNL = true;\n          } else if (diffstr[i - 1][0] === '-') {\n            addEOFNL = true;\n          }\n        }\n      }\n\n      // Apply the diff to the input\n      var lines = oldStr.split('\\n');\n      for (i = hunks.length - 1; i >= 0; i--) {\n        var hunk = hunks[i];\n        // Sanity check the input string. Bail if we don't match.\n        for (var j = 0; j < hunk.oldlength; j++) {\n          if (lines[hunk.start - 1 + j] !== hunk.removed[j]) {\n            return false;\n          }\n        }\n        Array.prototype.splice.apply(lines, [hunk.start - 1, hunk.oldlength].concat(hunk.added));\n      }\n\n      // Handle EOFNL insertion/removal\n      if (remEOFNL) {\n        while (!lines[lines.length - 1]) {\n          lines.pop();\n        }\n      } else if (addEOFNL) {\n        lines.push('');\n      }\n      return lines.join('\\n');\n    },\n\n    convertChangesToXML: function(changes) {\n      var ret = [];\n      for (var i = 0; i < changes.length; i++) {\n        var change = changes[i];\n        if (change.added) {\n          ret.push('<ins>');\n        } else if (change.removed) {\n          ret.push('<del>');\n        }\n\n        ret.push(escapeHTML(change.value));\n\n        if (change.added) {\n          ret.push('</ins>');\n        } else if (change.removed) {\n          ret.push('</del>');\n        }\n      }\n      return ret.join('');\n    },\n\n    // See: http://code.google.com/p/google-diff-match-patch/wiki/API\n    convertChangesToDMP: function(changes) {\n      var ret = [],\n          change,\n          operation;\n      for (var i = 0; i < changes.length; i++) {\n        change = changes[i];\n        if (change.added) {\n          operation = 1;\n        } else if (change.removed) {\n          operation = -1;\n        } else {\n          operation = 0;\n        }\n\n        ret.push([operation, change.value]);\n      }\n      return ret;\n    },\n\n    canonicalize: canonicalize\n  };\n\n  /*istanbul ignore next */\n  /*global module */\n  if (typeof module !== 'undefined' && module.exports) {\n    module.exports = JsDiff;\n  } else if (typeof define === 'function' && define.amd) {\n    /*global define */\n    define([], function() { return JsDiff; });\n  } else if (typeof global.JsDiff === 'undefined') {\n    global.JsDiff = JsDiff;\n  }\n}(this));\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/diff/diff.js\n// module id = 23\n// module chunks = 0","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: MainComponentOutlet.jsx 175809 2018-04-12 08:18:45Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {Registry, SinglePage} from 'cs-web-components-base';\r\nimport AuditTrail from '../components/AuditTrail.jsx';\r\n\r\nconst SimpleLayout = Registry.findComponent('cs-web-components-base-SimpleLayout');\r\n\r\nexport default class MainComponent extends React.Component {\r\n    render() {\r\n        return (<SinglePage frameComponent={SimpleLayout}\r\n                            pageContent={AuditTrail} />);\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/MainComponentOutlet.jsx","/*\r\n * Copyright (C) 2018 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: AuditTrailOutlet.jsx 181644 2018-08-03 12:02:09Z ssa $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport Immutable from 'immutable';\r\nimport {PropTypes} from 'cs-web-components-externals';\r\nimport AuditTrailRelshipTable from './AuditTrailRelshipTable';\r\n\r\nexport default function AuditTrailOutlet(props) {\r\n    const {active, ...others} = props;\r\n    const initSortColumns = Immutable.fromJS([\r\n        {id: 'cdb::argument::tablecolumn.cdb_cdate', desc: true}\r\n    ]).toSet();\r\n    const hiddenColumns = Immutable.fromJS([\r\n        'cdb::argument::tablecolumn.parent',\r\n        'cdb::argument::tablecolumn.child'\r\n    ]).toSet();\r\n\r\n    return (\r\n        <AuditTrailRelshipTable {...others}\r\n            relshipLabel=\"Audit Trail\"\r\n            relshipIconUrl=\"/resources/icons/byname/cdb_audittrail\"\r\n            height='100%'\r\n            collapsible={false}\r\n            expanded={active}\r\n            hiddenColumns={hiddenColumns}\r\n            initSortColums={initSortColumns}\r\n         />\r\n    );\r\n}\r\nAuditTrailOutlet.propTypes = {\r\n    relshipName: PropTypes.string.isRequired,\r\n    active: PropTypes.bool.isRequired\r\n};\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/AuditTrailOutlet.jsx"],"sourceRoot":""}