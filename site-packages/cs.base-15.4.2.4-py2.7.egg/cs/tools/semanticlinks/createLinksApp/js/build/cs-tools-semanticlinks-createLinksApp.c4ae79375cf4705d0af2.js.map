{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cs-tools-semanticlinks-createLinksApp.c4ae79375cf4705d0af2.js","webpack:///webpack/bootstrap 830e0297dda68b1a2b05","webpack:///external \"cs-web-components-base\"","webpack:///webpack/cs-tools-semanticlinks-createLinksApp/src/helpers.js","webpack:///external \"React\"","webpack:///webpack/cs-tools-semanticlinks-createLinksApp/src/components/CreateLink.jsx","webpack:///webpack/cs-tools-semanticlinks-createLinksApp/src/index.js","webpack:///webpack/cs-tools-semanticlinks-createLinksApp/src/containers/MainComponent.jsx","webpack:///external \"Immutable\"","webpack:///external \"ReactBootstrap\"","webpack:///external \"cs-web-components-externals\"","webpack:///webpack/cs-tools-semanticlinks-createLinksApp/src/i18n.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","prefixNS","value","_interopRequireDefault","obj","default","_defineProperty","key","writable","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","setPrototypeOf","__proto__","mapStateToProps","state","getObjectById","object_link","objectsById","ObjectStore","CreateLink","undefined","_createClass","defineProperties","target","props","length","descriptor","protoProps","staticProps","_react","_react2","_immutable","_immutable2","_reactBootstrap","_csWebComponentsExternals","_csWebComponentsBase","_i18n","_helpers","_Component","_this","getPrototypeOf","obj_link","obj_desc","obj_classname","subj_classname","link_desc","subj_desc","classes","formData","Immutable","fromJS","subject_object_id","link_type_object_id","object_object_id","multi","subjects","fields","formatStr","onSelectItem","bind","onCatalogChange","onCatalogValueChange","getObject","submitForm","closeForm","buttons","mandatory_fields_not_filled","onClick","button_type","label","_this2","_props","fetchCollection","location","contextObject","then","data2","pclasses","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","keys","objects","Symbol","iterator","next","done","pclass","indexOf","object_object_classname","subject_object_classname","push","err","return","setState","set","collection_url","parseQuery","restname","cdb_object_ids","filter","split","map","obj_id","join","$filter","data","subject_obj","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","subj_descs","forEach","cdb_object_id","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","_this3","emptyField","entrySeq","x","missing_fields","createElement","field","msg","addNotification","_this4","subject_id","createObject","toJS","catch","error","response","text","parser","DOMParser","doc","parseFromString","txt","querySelectorAll","innerText","onClose","isCEDesktop","window","external","cdbEFClose","close","_this5","fetchObject","item","link_oid","valueSeq","_classNames","catalogURL","groupClass","classNames","className","FormControl","TextInput","mandatory","readOnly","FormGroup","validationState","data-mandatory","ControlLabel","id","ObjectWidgets","ObjectSearch","hideDefaultTags","searchClasses","searchPlaceholder","ComboBoxCatalog","selectURL","itemsURL","textReadOnly","FormActions","Component","propTypes","PropTypes","func","isRequired","removeNotificationNow","ImmutablePropTypes","actions","connect","withRef","ConnectedCreateLink","_MainComponent","_MainComponent2","_CreateLink","_CreateLink2","Registry","registerComponent","MainComponent","CEWrapper","_React$Component","apply","arguments","children","React","_React$Component2","SinglePage","frameComponent","pageContent","PageFrame","ApplicationFrame","Format","i18ndb","makeFormat","makeFormatStr"],"mappings":"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","file":"cs-tools-semanticlinks-createLinksApp.c4ae79375cf4705d0af2.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"Immutable\"), require(\"ReactBootstrap\"), require(\"cs-web-components-externals\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-web-components-base\", \"React\", \"Immutable\", \"ReactBootstrap\", \"cs-web-components-externals\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-tools-semanticlinks-createLinksApp\"] = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"Immutable\"), require(\"ReactBootstrap\"), require(\"cs-web-components-externals\"));\n\telse\n\t\troot[\"cs-tools-semanticlinks-createLinksApp\"] = factory(root[\"cs-web-components-base\"], root[\"React\"], root[\"Immutable\"], root[\"ReactBootstrap\"], root[\"cs-web-components-externals\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"Immutable\"), require(\"ReactBootstrap\"), require(\"cs-web-components-externals\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-web-components-base\", \"React\", \"Immutable\", \"ReactBootstrap\", \"cs-web-components-externals\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-tools-semanticlinks-createLinksApp\"] = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"Immutable\"), require(\"ReactBootstrap\"), require(\"cs-web-components-externals\"));\n\telse\n\t\troot[\"cs-tools-semanticlinks-createLinksApp\"] = factory(root[\"cs-web-components-base\"], root[\"React\"], root[\"Immutable\"], root[\"ReactBootstrap\"], root[\"cs-web-components-externals\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.prefixNS = prefixNS;\n/* -*- mode: javascript; coding: utf-8 -*-\r\n * $Id: helpers.js 160868 2017-06-26 07:01:02Z ssa $\r\n *\r\n * Copyright (c) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n */\n\nfunction prefixNS(name) {\n  return \"cs-tools-semanticlinks-createLinksApp\" + \"-\" + name;\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CreateLink = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _immutable = __webpack_require__(6);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _reactBootstrap = __webpack_require__(7);\n\nvar _csWebComponentsExternals = __webpack_require__(8);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _i18n = __webpack_require__(9);\n\nvar _helpers = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CreateLink = exports.CreateLink = function (_Component) {\n    _inherits(CreateLink, _Component);\n\n    function CreateLink(props) {\n        _classCallCheck(this, CreateLink);\n\n        var _this = _possibleConstructorReturn(this, (CreateLink.__proto__ || Object.getPrototypeOf(CreateLink)).call(this, props));\n\n        _this.state = {\n            obj_link: '',\n            obj_desc: '',\n            obj_classname: '',\n            subj_classname: '',\n            link_desc: '',\n            subj_desc: '',\n            classes: [],\n            formData: _immutable2.default.fromJS({\n                \"subject_object_id\": \"\",\n                \"link_type_object_id\": \"\",\n                \"object_object_id\": \"\"\n            }),\n            multi: false,\n            subjects: []\n        };\n        _this.fields = {\n            \"subject_object_id\": (0, _i18n.formatStr)(\"subject\"),\n            \"object_object_id\": (0, _i18n.formatStr)(\"object\"),\n            \"link_type_object_id\": (0, _i18n.formatStr)(\"verb\")\n        };\n        _this.onSelectItem = _this.onSelectItem.bind(_this);\n        _this.onCatalogChange = _this.onCatalogChange.bind(_this);\n        _this.onCatalogValueChange = _this.onCatalogValueChange.bind(_this);\n        _this.getObject = _this.getObject.bind(_this);\n        _this.submitForm = _this.submitForm.bind(_this);\n        _this.closeForm = _this.closeForm.bind(_this);\n        _this.buttons = _this.buttons.bind(_this);\n        _this.mandatory_fields_not_filled = _this.mandatory_fields_not_filled.bind(_this);\n        return _this;\n    }\n\n    _createClass(CreateLink, [{\n        key: 'buttons',\n        value: function buttons() {\n            return _immutable2.default.fromJS([{\n                onClick: this.submitForm,\n                button_type: 0,\n                label: (0, _i18n.formatStr)(\"save\") }, {\n                onClick: this.closeForm,\n                button_type: 1,\n                label: (0, _i18n.formatStr)(\"cancel\")\n            }]);\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this2 = this;\n\n            var _props = this.props,\n                fetchCollection = _props.fetchCollection,\n                location = _props.location,\n                contextObject = _props.contextObject;\n\n            if (!contextObject) {\n                var collection_url = \"/api/v1/collection/\" + (0, _csWebComponentsBase.parseQuery)(location).restname;\n                var cdb_object_ids = (0, _csWebComponentsBase.parseQuery)(location).cdb_object_ids;\n                if (cdb_object_ids) {\n                    var filter = cdb_object_ids.split(\";\").map(function (obj_id) {\n                        return \"cdb_object_id eq '\" + obj_id + \"'\";\n                    }).join(\" or \");\n                    fetchCollection(collection_url, { \"$filter\": filter }).then(function (data) {\n                        var subject_obj = data.objects[0];\n                        fetchCollection(\"/api/v1/collection/semantic_link_type\").then(function (data2) {\n                            var pclasses = [];\n                            var _iteratorNormalCompletion = true;\n                            var _didIteratorError = false;\n                            var _iteratorError = undefined;\n\n                            try {\n                                for (var _iterator = Object.keys(data2.objects)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                                    var key = _step.value;\n\n                                    var pclass = data2.objects[key];\n                                    if (pclasses.indexOf(pclass.object_object_classname) === -1 && subject_obj[\"system:classname\"] === pclass.subject_object_classname) {\n                                        pclasses.push(pclass.object_object_classname);\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError = true;\n                                _iteratorError = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion && _iterator.return) {\n                                        _iterator.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError) {\n                                        throw _iteratorError;\n                                    }\n                                }\n                            }\n\n                            var subj_descs = [];\n                            var subjects = [];\n                            data.objects.forEach(function (subject_obj) {\n                                subj_descs.push(subject_obj[\"system:description\"]);\n                                subjects.push(subject_obj[\"cdb_object_id\"]);\n                            });\n                            _this2.setState({ subj_desc: subj_descs.join(\" / \"),\n                                subj_classname: subject_obj[\"system:classname\"],\n                                formData: _this2.state.formData.set(\"subject_object_id\", subject_obj.cdb_object_id),\n                                classes: pclasses,\n                                multi: true,\n                                subjects: subjects });\n                        });\n                    });\n                } else {\n                    fetchCollection(collection_url, { \"$filter\": \"cdb_object_id eq '\" + (0, _csWebComponentsBase.parseQuery)(location).cdb_object_id + \"'\" }).then(function (data) {\n                        var subject_obj = data.objects[0];\n                        fetchCollection(\"/api/v1/collection/semantic_link_type\").then(function (data2) {\n                            var pclasses = [];\n                            var _iteratorNormalCompletion2 = true;\n                            var _didIteratorError2 = false;\n                            var _iteratorError2 = undefined;\n\n                            try {\n                                for (var _iterator2 = Object.keys(data2.objects)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                    var key = _step2.value;\n\n                                    var pclass = data2.objects[key];\n                                    if (pclasses.indexOf(pclass.object_object_classname) === -1 && subject_obj[\"system:classname\"] === pclass.subject_object_classname) {\n                                        pclasses.push(pclass.object_object_classname);\n                                    }\n                                }\n                            } catch (err) {\n                                _didIteratorError2 = true;\n                                _iteratorError2 = err;\n                            } finally {\n                                try {\n                                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                        _iterator2.return();\n                                    }\n                                } finally {\n                                    if (_didIteratorError2) {\n                                        throw _iteratorError2;\n                                    }\n                                }\n                            }\n\n                            _this2.setState({ subj_desc: subject_obj[\"system:description\"],\n                                subj_classname: subject_obj[\"system:classname\"],\n                                formData: _this2.state.formData.set(\"subject_object_id\", subject_obj.cdb_object_id),\n                                classes: pclasses });\n                        });\n                    });\n                }\n            } else {\n                fetchCollection(\"/api/v1/collection/semantic_link_type\").then(function (data2) {\n                    var pclasses = [];\n                    var _iteratorNormalCompletion3 = true;\n                    var _didIteratorError3 = false;\n                    var _iteratorError3 = undefined;\n\n                    try {\n                        for (var _iterator3 = Object.keys(data2.objects)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                            var key = _step3.value;\n\n                            var pclass = data2.objects[key];\n                            if (pclasses.indexOf(pclass.object_object_classname) === -1 && contextObject.get(\"system:classname\") === pclass.subject_object_classname) {\n                                pclasses.push(pclass.object_object_classname);\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError3 = true;\n                        _iteratorError3 = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                _iterator3.return();\n                            }\n                        } finally {\n                            if (_didIteratorError3) {\n                                throw _iteratorError3;\n                            }\n                        }\n                    }\n\n                    _this2.setState({ subj_desc: contextObject.get(\"system:description\"),\n                        subj_classname: contextObject.get(\"system:classname\"),\n                        formData: _this2.state.formData.set(\"subject_object_id\", contextObject.get('cdb_object_id')),\n                        classes: pclasses });\n                });\n            }\n        }\n    }, {\n        key: 'mandatory_fields_not_filled',\n        value: function mandatory_fields_not_filled() {\n            var _this3 = this;\n\n            var emptyField = [];\n            this.state.formData.entrySeq().forEach(function (x) {\n                if (x[1] === \"\") {\n                    emptyField.push(_this3.fields[x[0]]);\n                }\n            });\n            if (emptyField.length > 0) {\n                var missing_fields = _react2.default.createElement(\n                    'p',\n                    null,\n                    emptyField.map(function (field) {\n                        return _react2.default.createElement(\n                            'div',\n                            { key: field },\n                            field\n                        );\n                    })\n                );\n                var msg = _react2.default.createElement(\n                    'div',\n                    null,\n                    _react2.default.createElement(\n                        'p',\n                        null,\n                        (0, _i18n.formatStr)(\"mandatory_fields_not_filled\")\n                    ),\n                    missing_fields\n                );\n                this.props.addNotification(null, (0, _i18n.formatStr)(\"mandatory_fields\"), msg, 'danger', 2, null, 5000);\n                return false;\n            }\n            return true;\n        }\n    }, {\n        key: 'submitForm',\n        value: function submitForm() {\n            var _this4 = this;\n\n            var mandatory_fields_filled = this.mandatory_fields_not_filled();\n            if (mandatory_fields_filled) {\n                if (this.state.multi) {\n                    this.state.subjects.forEach(function (subject_id) {\n                        var formData = _this4.state.formData.set(\"subject_object_id\", subject_id);\n                        _this4.props.createObject(\"/api/v1/collection/semantic_link\", formData.toJS()).then(function () {\n                            _this4.closeForm();\n                        }).catch(function (error) {\n                            error.response.text().then(function (text) {\n                                var parser = new DOMParser();\n                                var doc = parser.parseFromString(text, \"text/html\");\n                                var txt = doc.querySelectorAll('div.error-text')[0].innerText;\n                                _this4.props.addNotification(null, (0, _i18n.formatStr)(\"semantic_link_not_created\"), txt, 'danger', 2, null, 5000);\n                            });\n                        });\n                    });\n                } else {\n                    this.props.createObject(\"/api/v1/collection/semantic_link\", this.state.formData.toJS()).then(function () {\n                        _this4.closeForm();\n                    }).catch(function (error) {\n                        error.response.text().then(function (text) {\n                            var parser = new DOMParser();\n                            var doc = parser.parseFromString(text, \"text/html\");\n                            var txt = doc.querySelectorAll('div.error-text')[0].innerText;\n                            _this4.props.addNotification(null, (0, _i18n.formatStr)(\"semantic_link_not_created\"), txt, 'danger', 2, null, 5000);\n                        });\n                    });\n                }\n            }\n        }\n    }, {\n        key: 'closeForm',\n        value: function closeForm() {\n            if (this.props.onClose) {\n                this.props.onClose();\n            } else {\n                if ((0, _csWebComponentsBase.isCEDesktop)()) {\n                    window.external.cdbEFClose();\n                } else {\n                    window.close();\n                }\n            }\n        }\n    }, {\n        key: 'getObject',\n        value: function getObject(object_link) {\n            var _this5 = this;\n\n            var obj = this.props.getObjectById(object_link);\n            if (obj === undefined) {\n                this.props.fetchObject(object_link).then(function (data) {\n                    _this5.setState({ obj_desc: data[\"system:description\"],\n                        obj_classname: data[\"system:classname\"],\n                        formData: _this5.state.formData.set(\"object_object_id\", data.cdb_object_id) });\n                });\n            } else {\n                this.setState({ obj_desc: obj.get(\"system:description\"),\n                    obj_classname: obj.get(\"system:classname\"),\n                    formData: this.state.formData.set(\"object_object_id\", obj.get(\"cdb_object_id\")) });\n            }\n        }\n    }, {\n        key: 'onSelectItem',\n        value: function onSelectItem(item) {\n            this.getObject(item.get(\"rest_url\"));\n        }\n    }, {\n        key: 'onCatalogChange',\n        value: function onCatalogChange(item) {\n            var link_oid = item[\"link_type_object_id\"];\n            var link_desc = \"\";\n            this.props.ObjectStore.valueSeq().forEach(function (x) {\n                if (x.get(\"cdb_object_id\") === link_oid) {\n                    link_desc = x.get(\"name\");\n                }\n            });\n            this.setState({ formData: this.state.formData.set(\"link_type_object_id\", link_oid),\n                link_desc: link_desc });\n        }\n    }, {\n        key: 'onCatalogValueChange',\n        value: function onCatalogValueChange(value) {\n            this.setState({ link_desc: value });\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _classNames;\n\n            if (this.state.classes.length === 0) {\n                return _react2.default.createElement('div', null);\n            }\n            var catalogURL = \"/internal/uisupport/catalog/cdb_sem_link_type_brows_web/\";\n            var groupClass = (0, _csWebComponentsExternals.classNames)('cs-web-components-base-formcontrols-formcontrol', (_classNames = {}, _defineProperty(_classNames, 'cs-web-components-base-formcontrols-formcontrol-readonly', false), _defineProperty(_classNames, 'cs-web-components-base-formcontrols-formcontrol-focused', false), _defineProperty(_classNames, 'cs-web-components-base-formcontrols-textinput-compact', false), _classNames));\n            return _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)(\"modal-content\") },\n                _react2.default.createElement(_csWebComponentsBase.FormControl.TextInput, { name: 'subject',\n                    label: (0, _i18n.formatStr)(\"subject\"),\n                    value: this.state.subj_desc,\n                    mandatory: true,\n                    readOnly: true }),\n                _react2.default.createElement(\n                    _reactBootstrap.FormGroup,\n                    { className: groupClass,\n                        validationState: this.state.obj_desc ? \"\" : \"error\",\n                        'data-mandatory': true },\n                    _react2.default.createElement(\n                        _reactBootstrap.ControlLabel,\n                        null,\n                        (0, _i18n.formatStr)(\"object\")\n                    ),\n                    _react2.default.createElement(\n                        'div',\n                        { className: (0, _helpers.prefixNS)(\"object-search-wrapper\"), id: 'object-search-wrapper' },\n                        _react2.default.createElement(_csWebComponentsBase.ObjectWidgets.ObjectSearch, { onSelectItem: this.onSelectItem,\n                            hideDefaultTags: true,\n                            searchClasses: this.state.classes,\n                            searchPlaceholder: (0, _i18n.formatStr)(\"search_for_objects\"),\n                            value: this.state.obj_desc })\n                    )\n                ),\n                _react2.default.createElement(_csWebComponentsBase.FormControl.ComboBoxCatalog, { name: 'name',\n                    label: (0, _i18n.formatStr)(\"verb\"),\n                    selectURL: catalogURL + \"selected_values\",\n                    itemsURL: catalogURL + \"items?as_strings=''\",\n                    formData: _immutable2.default.fromJS({ subject_object_classname: this.state.subj_classname,\n                        object_object_classname: this.state.obj_classname,\n                        link_type_object_id: '' }),\n                    onCatalogChange: this.onCatalogChange,\n                    value: this.state.link_desc,\n                    mandatory: true,\n                    readOnly: !this.state.obj_desc,\n                    textReadOnly: !this.state.obj_desc,\n                    validationState: this.state.link_desc ? \"\" : \"error\"\n                }),\n                !this.props.onClose && _react2.default.createElement(_csWebComponentsBase.FormControl.FormActions, { buttons: this.buttons() })\n            );\n        }\n    }]);\n\n    return CreateLink;\n}(_react.Component);\n\nCreateLink.propTypes = {\n    fetchObject: _csWebComponentsExternals.PropTypes.func.isRequired,\n    fetchCollection: _csWebComponentsExternals.PropTypes.func.isRequired,\n    createObject: _csWebComponentsExternals.PropTypes.func.isRequired,\n    addNotification: _csWebComponentsExternals.PropTypes.func.isRequired,\n    removeNotificationNow: _csWebComponentsExternals.PropTypes.func.isRequired,\n    getObjectById: _csWebComponentsExternals.ImmutablePropTypes.map,\n    ObjectStore: _csWebComponentsExternals.ImmutablePropTypes.map,\n    location: _csWebComponentsExternals.PropTypes.object,\n    contextObject: _csWebComponentsExternals.ImmutablePropTypes.map,\n    onClose: _csWebComponentsExternals.PropTypes.func\n};\n\nfunction mapStateToProps(state) {\n    return {\n        getObjectById: function getObjectById(object_link) {\n            return state.objectsById.get(object_link);\n        },\n        ObjectStore: state.objectsById\n    };\n}\n\nvar actions = { addNotification: _csWebComponentsBase.addNotification, removeNotificationNow: _csWebComponentsBase.removeNotificationNow,\n    fetchObject: _csWebComponentsBase.fetchObject, fetchCollection: _csWebComponentsBase.fetchCollection, createObject: _csWebComponentsBase.createObject };\nexports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps, actions, null, { withRef: true })(CreateLink);\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.ConnectedCreateLink = exports.CreateLink = undefined;\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _helpers = __webpack_require__(1);\n\nvar _MainComponent = __webpack_require__(5);\n\nvar _MainComponent2 = _interopRequireDefault(_MainComponent);\n\nvar _CreateLink = __webpack_require__(3);\n\nvar _CreateLink2 = _interopRequireDefault(_CreateLink);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('MainComponent'), _MainComponent2.default); /* -*- mode: javascript; coding: utf-8 -*-\r\n                                                                                                                    * $Id: index.js 180283 2018-07-10 13:22:05Z khi $\r\n                                                                                                                    *\r\n                                                                                                                    * Copyright (c) 2017 CONTACT Software GmbH\r\n                                                                                                                    * All rights reserved.\r\n                                                                                                                    * http://www.contact-software.com\r\n                                                                                                                    */\n\n_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('CreateLink'), _CreateLink2.default);\n\nexports.CreateLink = _CreateLink.CreateLink;\nexports.ConnectedCreateLink = _CreateLink2.default;\nexports.default = {\n    MainComponent: _MainComponent2.default\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(2);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _CreateLink = __webpack_require__(3);\n\nvar _CreateLink2 = _interopRequireDefault(_CreateLink);\n\nvar _helpers = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Created by cla on 07.04.2016.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar CEWrapper = function (_React$Component) {\n    _inherits(CEWrapper, _React$Component);\n\n    function CEWrapper() {\n        _classCallCheck(this, CEWrapper);\n\n        return _possibleConstructorReturn(this, (CEWrapper.__proto__ || Object.getPrototypeOf(CEWrapper)).apply(this, arguments));\n    }\n\n    _createClass(CEWrapper, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                { className: 'cs-web-components-base-application-frame' },\n                _react2.default.createElement(\n                    'div',\n                    { className: (0, _helpers.prefixNS)('application-pagecontent') },\n                    this.props.children\n                )\n            );\n        }\n    }]);\n\n    return CEWrapper;\n}(_react2.default.Component);\n\nvar MainComponent = function (_React$Component2) {\n    _inherits(MainComponent, _React$Component2);\n\n    function MainComponent() {\n        _classCallCheck(this, MainComponent);\n\n        return _possibleConstructorReturn(this, (MainComponent.__proto__ || Object.getPrototypeOf(MainComponent)).apply(this, arguments));\n    }\n\n    _createClass(MainComponent, [{\n        key: 'render',\n        value: function render() {\n            if ((0, _csWebComponentsBase.isCEDesktop)()) {\n                return _react2.default.createElement(_csWebComponentsBase.SinglePage, { frameComponent: CEWrapper,\n                    pageContent: _CreateLink2.default });\n            } else {\n                return _react2.default.createElement(_csWebComponentsBase.SinglePage, { frameComponent: _csWebComponentsBase.PageFrame.ApplicationFrame,\n                    pageContent: _CreateLink2.default });\n            }\n        }\n    }]);\n\n    return MainComponent;\n}(_react2.default.Component);\n\nexports.default = MainComponent;\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatStr = exports.Format = undefined;\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar Format = exports.Format = _csWebComponentsBase.i18ndb.makeFormat('createlinksapp'); /* -*- mode: javascript; coding: utf-8 -*-\r\n                                                                                         * $Id: i18n.js 161425 2017-07-10 06:52:43Z gwe $\r\n                                                                                         *\r\n                                                                                         * Copyright (c) 2017 CONTACT Software GmbH\r\n                                                                                         * All rights reserved.\r\n                                                                                         * http://www.contact-software.com\r\n                                                                                         */\n\nvar formatStr = exports.formatStr = _csWebComponentsBase.i18ndb.makeFormatStr('createlinksapp');\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cs-tools-semanticlinks-createLinksApp.c4ae79375cf4705d0af2.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 830e0297dda68b1a2b05","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-base\"\n// module id = 0\n// module chunks = 0","/* -*- mode: javascript; coding: utf-8 -*-\r\n * $Id: helpers.js 160868 2017-06-26 07:01:02Z ssa $\r\n *\r\n * Copyright (c) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n */\r\n\r\n\r\nexport function prefixNS(name) {\r\n    return `${componentNameSpace}-${name}`;\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 2\n// module chunks = 0","import React from 'react';\r\nimport Immutable from 'immutable';\r\nimport {FormGroup, ControlLabel} from 'react-bootstrap';\r\nimport {Component} from 'react';\r\nimport {PropTypes, connect, ImmutablePropTypes, classNames} from 'cs-web-components-externals';\r\nimport {fetchObject, createObject, fetchCollection, FormControl, ObjectWidgets,\r\n  addNotification, removeNotificationNow, isCEDesktop, parseQuery} from 'cs-web-components-base';\r\nimport {formatStr} from '../i18n.js';\r\nimport {prefixNS} from '../helpers';\r\n\r\nexport class CreateLink extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            obj_link: '',\r\n            obj_desc: '',\r\n            obj_classname: '',\r\n            subj_classname: '',\r\n            link_desc: '',\r\n            subj_desc: '',\r\n            classes: [],\r\n            formData: Immutable.fromJS({\r\n                \"subject_object_id\": \"\",\r\n                \"link_type_object_id\": \"\",\r\n                \"object_object_id\": \"\"\r\n            }),\r\n            multi: false,\r\n            subjects: []\r\n        };\r\n        this.fields =\r\n        {\r\n            \"subject_object_id\": formatStr(\"subject\"),\r\n            \"object_object_id\": formatStr(\"object\"),\r\n            \"link_type_object_id\": formatStr(\"verb\")\r\n        };\r\n        this.onSelectItem = this.onSelectItem.bind(this);\r\n        this.onCatalogChange = this.onCatalogChange.bind(this);\r\n        this.onCatalogValueChange = this.onCatalogValueChange.bind(this);\r\n        this.getObject = this.getObject.bind(this);\r\n        this.submitForm = this.submitForm.bind(this);\r\n        this.closeForm = this.closeForm.bind(this);\r\n        this.buttons = this.buttons.bind(this);\r\n        this.mandatory_fields_not_filled = this.mandatory_fields_not_filled.bind(this);\r\n    }\r\n\r\n    buttons() {\r\n        return Immutable.fromJS([\r\n            {\r\n                onClick: this.submitForm,\r\n                button_type: 0,\r\n                label: formatStr(\"save\")},\r\n            {\r\n                onClick: this.closeForm,\r\n                button_type: 1,\r\n                label: formatStr(\"cancel\")\r\n            }]);\r\n    }\r\n\r\n    componentDidMount() {\r\n        const {fetchCollection, location, contextObject} = this.props;\r\n        if (!contextObject) {\r\n            const collection_url = \"/api/v1/collection/\" + parseQuery(location).restname;\r\n            const cdb_object_ids = parseQuery(location).cdb_object_ids;\r\n            if (cdb_object_ids) {\r\n                const filter = cdb_object_ids.split(\";\").map(obj_id => {\r\n                    return \"cdb_object_id eq '\" + obj_id + \"'\";\r\n                }).join(\" or \");\r\n                fetchCollection(collection_url, {\"$filter\": filter}).then((data) => {\r\n                    const subject_obj = data.objects[0];\r\n                    fetchCollection(\"/api/v1/collection/semantic_link_type\").then((data2) => {\r\n                        const pclasses = [];\r\n                        for (const key of Object.keys(data2.objects)) {\r\n                            const pclass = data2.objects[key];\r\n                            if (pclasses.indexOf(pclass.object_object_classname) === -1 &&\r\n                             subject_obj[\"system:classname\"] === pclass.subject_object_classname) {\r\n                                pclasses.push(pclass.object_object_classname);\r\n                            }\r\n                        }\r\n                        const subj_descs = [];\r\n                        const subjects = [];\r\n                        data.objects.forEach(subject_obj => {\r\n                            subj_descs.push(subject_obj[\"system:description\"]);\r\n                            subjects.push(subject_obj[\"cdb_object_id\"]);\r\n                        });\r\n                        this.setState({subj_desc: subj_descs.join(\" / \"),\r\n                                       subj_classname: subject_obj[\"system:classname\"],\r\n                                       formData: this.state.formData.set(\"subject_object_id\",\r\n                                        subject_obj.cdb_object_id),\r\n                                       classes: pclasses,\r\n                                       multi: true,\r\n                                       subjects: subjects});\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                fetchCollection(collection_url,\r\n                 {\"$filter\": \"cdb_object_id eq '\" + parseQuery(location).cdb_object_id + \"'\"})\r\n                 .then((data) => {\r\n                     const subject_obj = data.objects[0];\r\n                     fetchCollection(\"/api/v1/collection/semantic_link_type\").then((data2) => {\r\n                         const pclasses = [];\r\n                         for (const key of Object.keys(data2.objects)) {\r\n                             const pclass = data2.objects[key];\r\n                             if (pclasses.indexOf(pclass.object_object_classname) === -1 &&\r\n                              subject_obj[\"system:classname\"] === pclass.subject_object_classname) {\r\n                                 pclasses.push(pclass.object_object_classname);\r\n                             }\r\n                         }\r\n                         this.setState({subj_desc: subject_obj[\"system:description\"],\r\n                                        subj_classname: subject_obj[\"system:classname\"],\r\n                                        formData: this.state.formData.set(\"subject_object_id\",\r\n                                        subject_obj.cdb_object_id),\r\n                                        classes: pclasses});\r\n                     });\r\n                 });\r\n            }\r\n        }\r\n        else {\r\n            fetchCollection(\"/api/v1/collection/semantic_link_type\").then((data2) => {\r\n                const pclasses = [];\r\n                for (const key of Object.keys(data2.objects)) {\r\n                    const pclass = data2.objects[key];\r\n                    if (pclasses.indexOf(pclass.object_object_classname) === -1 &&\r\n                     contextObject.get(\"system:classname\") === pclass.subject_object_classname) {\r\n                        pclasses.push(pclass.object_object_classname);\r\n                    }\r\n                }\r\n                this.setState({subj_desc: contextObject.get(\"system:description\"),\r\n                               subj_classname: contextObject.get(\"system:classname\"),\r\n                               formData: this.state.formData.set(\"subject_object_id\",\r\n                               contextObject.get('cdb_object_id')),\r\n                               classes: pclasses});\r\n            });\r\n        }\r\n\r\n    }\r\n\r\n    mandatory_fields_not_filled() {\r\n        const emptyField = [];\r\n        this.state.formData.entrySeq().forEach(x => {\r\n            if (x[1] === \"\") {\r\n                emptyField.push(this.fields[x[0]]);\r\n            }\r\n        });\r\n        if (emptyField.length > 0) {\r\n            const missing_fields = (<p>{emptyField.map((field) => (\r\n                <div key={field}>{field}</div>\r\n            ))}</p>);\r\n            const msg = (\r\n                <div>\r\n                    <p>{formatStr(\"mandatory_fields_not_filled\")}</p>\r\n                    {missing_fields}\r\n                </div>\r\n            );\r\n            this.props.addNotification(\r\n                null,\r\n                formatStr(\"mandatory_fields\"),\r\n                msg,\r\n                'danger',\r\n                2,\r\n                null,\r\n                5000);\r\n            return false;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    submitForm() {\r\n        const mandatory_fields_filled = this.mandatory_fields_not_filled();\r\n        if (mandatory_fields_filled) {\r\n            if (this.state.multi) {\r\n                this.state.subjects.forEach(subject_id => {\r\n                    const formData = this.state.formData.set(\"subject_object_id\", subject_id);\r\n                    this.props.createObject(\"/api/v1/collection/semantic_link\", formData.toJS())\r\n                    .then(() => {this.closeForm()})\r\n                    .catch((error) => {\r\n                        error.response.text().then((text) => {\r\n                            const parser = new DOMParser();\r\n                            const doc = parser.parseFromString(text, \"text/html\");\r\n                            const txt = doc.querySelectorAll('div.error-text')[0].innerText;\r\n                            this.props.addNotification(\r\n                              null,\r\n                              formatStr(\"semantic_link_not_created\"),\r\n                               txt,\r\n                              'danger',\r\n                              2,\r\n                              null,\r\n                              5000);\r\n                        });\r\n                    });\r\n                });\r\n            }\r\n            else {\r\n                this.props.createObject(\"/api/v1/collection/semantic_link\",\r\n                                        this.state.formData.toJS())\r\n                .then(() => {this.closeForm()})\r\n                .catch((error) => {\r\n                    error.response.text().then((text) => {\r\n                        const parser = new DOMParser();\r\n                        const doc = parser.parseFromString(text, \"text/html\");\r\n                        const txt = doc.querySelectorAll('div.error-text')[0].innerText;\r\n                        this.props.addNotification(\r\n                          null,\r\n                          formatStr(\"semantic_link_not_created\"),\r\n                           txt,\r\n                          'danger',\r\n                          2,\r\n                          null,\r\n                          5000);\r\n                    });\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    closeForm() {\r\n        if (this.props.onClose) {\r\n            this.props.onClose();\r\n        }\r\n        else {\r\n            if (isCEDesktop()) {\r\n                window.external.cdbEFClose();\r\n            }\r\n            else {\r\n                window.close();\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    getObject(object_link) {\r\n        const obj = this.props.getObjectById(object_link);\r\n        if (obj === undefined) {\r\n            this.props.fetchObject(object_link).then((data) => {\r\n                this.setState({obj_desc: data[\"system:description\"],\r\n                               obj_classname: data[\"system:classname\"],\r\n                               formData: this.state.formData.set(\"object_object_id\",\r\n                                                                 data.cdb_object_id)});\r\n            });\r\n        }\r\n        else {\r\n            this.setState({obj_desc: obj.get(\"system:description\"),\r\n                           obj_classname: obj.get(\"system:classname\"),\r\n                           formData: this.state.formData.set(\"object_object_id\",\r\n                                                             obj.get(\"cdb_object_id\"))});\r\n        }\r\n    }\r\n\r\n    onSelectItem(item) {\r\n        this.getObject(item.get(\"rest_url\"));\r\n    }\r\n\r\n    onCatalogChange(item) {\r\n        const link_oid = item[\"link_type_object_id\"];\r\n        let link_desc = \"\";\r\n        this.props.ObjectStore.valueSeq().forEach(x => {\r\n            if (x.get(\"cdb_object_id\") === link_oid) {\r\n                link_desc = x.get(\"name\");\r\n            }\r\n        });\r\n        this.setState({formData: this.state.formData.set(\"link_type_object_id\", link_oid),\r\n                       link_desc: link_desc});\r\n    }\r\n\r\n    onCatalogValueChange(value) {\r\n        this.setState({link_desc: value});\r\n    }\r\n\r\n    render() {\r\n        if (this.state.classes.length === 0) {\r\n            return <div />;\r\n        }\r\n        const catalogURL = \"/internal/uisupport/catalog/cdb_sem_link_type_brows_web/\";\r\n        const groupClass = classNames(\r\n            'cs-web-components-base-formcontrols-formcontrol',\r\n            {\r\n                ['cs-web-components-base-formcontrols-formcontrol-readonly']: false,\r\n                ['cs-web-components-base-formcontrols-formcontrol-focused']: false,\r\n                ['cs-web-components-base-formcontrols-textinput-compact']: false\r\n            }\r\n        );\r\n        return (\r\n            <div className={prefixNS(\"modal-content\")}>\r\n                <FormControl.TextInput name=\"subject\"\r\n                                       label={formatStr(\"subject\")}\r\n                                       value = {this.state.subj_desc}\r\n                                       mandatory\r\n                                       readOnly />\r\n                <FormGroup className={groupClass}\r\n                           validationState={this.state.obj_desc ? \"\" : \"error\"}\r\n                           data-mandatory={true}>\r\n                    <ControlLabel>{formatStr(\"object\")}</ControlLabel>\r\n                    <div className={prefixNS(\"object-search-wrapper\")} id=\"object-search-wrapper\">\r\n                        <ObjectWidgets.ObjectSearch onSelectItem = {this.onSelectItem}\r\n                                                    hideDefaultTags = {true}\r\n                                                    searchClasses = {this.state.classes}\r\n                                                    searchPlaceholder = {formatStr(\r\n                                                                            \"search_for_objects\")}\r\n                                                    value = {this.state.obj_desc}/>\r\n                    </div>\r\n                </FormGroup>\r\n                <FormControl.ComboBoxCatalog name=\"name\"\r\n                                             label={formatStr(\"verb\")}\r\n                                             selectURL = {catalogURL + \"selected_values\"}\r\n                                             itemsURL = {catalogURL + \"items?as_strings=''\"}\r\n                                             formData = {Immutable.fromJS(\r\n                                              {subject_object_classname: this.state.subj_classname,\r\n                                               object_object_classname: this.state.obj_classname,\r\n                                               link_type_object_id: ''})}\r\n                                             onCatalogChange = {this.onCatalogChange}\r\n                                             value = {this.state.link_desc}\r\n                                             mandatory\r\n                                             readOnly = {!this.state.obj_desc}\r\n                                             textReadOnly = {!this.state.obj_desc}\r\n                                             validationState = {this.state.link_desc ? \"\" : \"error\"}\r\n                                             />\r\n                {!this.props.onClose &&\r\n                    <FormControl.FormActions buttons={this.buttons()}/>}\r\n            </div>\r\n      );\r\n    }\r\n}\r\n\r\nCreateLink.propTypes = {\r\n    fetchObject: PropTypes.func.isRequired,\r\n    fetchCollection: PropTypes.func.isRequired,\r\n    createObject: PropTypes.func.isRequired,\r\n    addNotification: PropTypes.func.isRequired,\r\n    removeNotificationNow: PropTypes.func.isRequired,\r\n    getObjectById: ImmutablePropTypes.map,\r\n    ObjectStore: ImmutablePropTypes.map,\r\n    location: PropTypes.object,\r\n    contextObject: ImmutablePropTypes.map,\r\n    onClose: PropTypes.func\r\n};\r\n\r\nfunction mapStateToProps(state) {\r\n    return {\r\n        getObjectById: object_link => state.objectsById.get(object_link),\r\n        ObjectStore: state.objectsById\r\n    };\r\n}\r\n\r\n\r\nconst actions = {addNotification, removeNotificationNow,\r\n                 fetchObject, fetchCollection, createObject};\r\nexport default connect(mapStateToProps, actions, null, {withRef: true})(CreateLink);\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/CreateLink.jsx","/* -*- mode: javascript; coding: utf-8 -*-\r\n * $Id: index.js 180283 2018-07-10 13:22:05Z khi $\r\n *\r\n * Copyright (c) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n */\r\n\r\nimport {Registry} from 'cs-web-components-base';\r\nimport {prefixNS} from './helpers';\r\nimport MainComponent from './containers/MainComponent';\r\nimport {CreateLink} from './components/CreateLink';\r\nimport ConnectedCreateLink from './components/CreateLink';\r\n\r\nRegistry.registerComponent(prefixNS('MainComponent'), MainComponent);\r\nRegistry.registerComponent(prefixNS('CreateLink'), ConnectedCreateLink);\r\n\r\nexport {\r\n    CreateLink,\r\n    ConnectedCreateLink\r\n}\r\n\r\nexport default {\r\n    MainComponent\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","/**\r\n * Created by cla on 07.04.2016.\r\n */\r\n\r\nimport React from 'react';\r\nimport {SinglePage, PageFrame, isCEDesktop} from 'cs-web-components-base';\r\nimport CreateLink from '../components/CreateLink';\r\nimport {prefixNS} from '../helpers';\r\n\r\n\r\nclass CEWrapper extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className={'cs-web-components-base-application-frame'}>\r\n                <div className={prefixNS('application-pagecontent')}>\r\n                    {this.props.children}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default class MainComponent extends React.Component {\r\n    render() {\r\n        if (isCEDesktop()) {\r\n            return (<SinglePage frameComponent={CEWrapper}\r\n                                pageContent={CreateLink} />);\r\n        }\r\n        else {\r\n            return (<SinglePage frameComponent={PageFrame.ApplicationFrame}\r\n                                pageContent={CreateLink} />);\r\n        }\r\n    }\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/containers/MainComponent.jsx","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Immutable\"\n// module id = 6\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactBootstrap\"\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-externals\"\n// module id = 8\n// module chunks = 0","/* -*- mode: javascript; coding: utf-8 -*-\r\n * $Id: i18n.js 161425 2017-07-10 06:52:43Z gwe $\r\n *\r\n * Copyright (c) 2017 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n */\r\n\r\nimport {i18ndb} from 'cs-web-components-base';\r\n\r\nexport const Format = i18ndb.makeFormat('createlinksapp');\r\nexport const formatStr = i18ndb.makeFormatStr('createlinksapp');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n.js"],"sourceRoot":""}