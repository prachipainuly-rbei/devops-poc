# -*- Gherkin -*- coding: utf-8 -*-
#
# Copyright (C) 1990 - 2012 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

Feature: Currency
As administrator I want to be able to use the currency conversion

Scenario Outline: Add new currency

     WHEN an administrator creates a new currency
      AND the administrator creates a new conversion with <factor> to <currency>
     THEN that currency should exist
      AND should have a conversion

  Examples:
      | factor | currency |
      |  0.002 |  EUR     |

Scenario Outline: Convert between currencies

    GIVEN an administrator creates a new currency
      AND the administrator creates a new conversion with <factor> to <currency>
     WHEN the API function convertTo is used to convert <amount> to <tocurrency>
     THEN the conversion should result <amountinetocurrency>

  Examples:
      | factor | currency | amount | amountinetocurrency | tocurrency |
      |  0.002 |  EUR     |  200   |    0.4              |   EUR      |
      |  0.002 |  EUR     |  200   |    0.5198           |   USD      |
      |  2     |  EUR     |  400   |    800              |   EUR      |
      |  2     |  EUR     |  400   |    1039.6           |   USD      |


Scenario Outline: Convert to reference currency

    GIVEN an administrator creates a new currency
      AND the administrator creates a new conversion with <factor> to EUR
     WHEN the API function convertToReference is used to convert <amount> to reference
     THEN the conversion should result <amountinetocurrency>

  Examples:
      | factor | amount | amountinetocurrency |
      |  0.002 |  200   |    0.4              |
      |  2     |  400   |    800              |
