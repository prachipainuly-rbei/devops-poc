.. _`15_3_0_relnotes-whatsnew`:

What's New in cs.pcs 15.3.0?
############################

Checklist
=========
The checklist refers to changes that require or are recommended for manual actions before or after the update.

The access rights of project folders now have an impact on the assignment of documents (from SL 27)
  The access rights of project folders now have an impact on the assignment of documents to a folder,
  but not on the document itself (from SL 4).
  Relationship access profiles ``CheckCreateFolderDoc`` and ``CheckDeleteFolderDocument`` have been replaced
  by ``cs.pcs: Folder: Document Assignments``.
  The relationship access profiles ``CheckCreateFolderDoc`` and ``CheckDeleteFolderDocument``
  and their configuration remain in the system as unassigned elements. After the update, you must delete
  these elements manually.

New Status Logic
================

The status logic for projects, project tasks, issues, and checklists has been
comprehensively overhauled. This includes status constraints, and follow-up
status changes. Make sure to thoroughly check if everything is working as
expected, especially if any customizing exists for ``cs.pcs``.

When updating a customized system, you can leverage the acceptance tests found
in ``cs.pcs/tests/accepttests/change_status*.feature``. Start off by simply
running the tests to see which ones are failing and need your attention. The
tests can be run using the ``cdbtest`` command.


Freeze and Resume Projects
==========================

Running projects can now be "frozen" (paused), which causes its elements to not
be shown in the Task Manager. While a project is frozen, none of its data will
be writeable except by its managers.


MS Project and Time Schedules
=============================

From now on, every project can be managed either in the system or in
|tm.project|, which denies the opposing system writing access to the project.
In case of |tm.project| being the editor, a primary time schedule must be set.
The primary time schedule may be opened using a new entry in the project's
context menu. Additionally, a global |tm.project| time schedule template can be
specified.


Internationalization
====================

|con15| and its applications contain many newly translated and updated terms.
The following paragraphs list all affected elements in this application, while
details concerning the actual conversion (called "internationalization" for
simplicity) can be found in each product's release notes.


Renamed Powerscript State and Transition Classes
------------------------------------------------

Classes derived from ``cdb.objects.State`` and ``cdb.objects.Transition`` have
been renamed. Please check your custom modules for any usage of these classes,
and update them accordingly.

+------------------------------------------+-------------------------+---------------------------+
| Parent Class                             | Old Classname           | New Classname             |
+==========================================+=========================+===========================+
| cs.pcs.projects.Project                  | CREATED                 | NEW                       |
+------------------------------------------+-------------------------+---------------------------+
|                                          | INPROCESS               | EXECUTION                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED                | DISCARDED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CLOSED                  | COMPLETED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CREATED_INPROCESS       | NEW_EXECUTION             |
+------------------------------------------+-------------------------+---------------------------+
|                                          | TO_CREATED              | TO_NEW                    |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED_INPROCESS      | DISCARDED_EXECUTION       |
+------------------------------------------+-------------------------+---------------------------+
| cs.pcs.projects.tasks.Task               | CREATED                 | NEW                       |
+------------------------------------------+-------------------------+---------------------------+
|                                          | WAITING                 | READY                     |
+------------------------------------------+-------------------------+---------------------------+
|                                          | INPROCESS               | EXECUTION                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED                | DISCARDED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CLOSED                  | COMPLETED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | TO_CREATED              | TO_NEW                    |
+------------------------------------------+-------------------------+---------------------------+
|                                          | TO_WAITING              | TO_READY                  |
+------------------------------------------+-------------------------+---------------------------+
|                                          | FINISHED_INPROCESS      | FINISHED_EXECUTION        |
+------------------------------------------+-------------------------+---------------------------+
| cs.pcs.projects.checklists.Checklist     | CREATED                 | NEW                       |
+------------------------------------------+-------------------------+---------------------------+
|                                          | WAITING                 | EVALUATION                |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED                | DISCARDED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | RATED                   | COMPLETED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | RATED_TO_WAITING        | COMPLETED_TO_EVALUATION   |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CREATED_TO_WAITING      | NEW_TO_EVALUATION         |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED_TO_WAITING     | DISCARDED_TO_EVALUATION   |
+------------------------------------------+-------------------------+---------------------------+
| cs.pcs.projects.checklists.ChecklistItem | CREATED                 | NEW                       |
+------------------------------------------+-------------------------+---------------------------+
|                                          | WAITING                 | READY                     |
+------------------------------------------+-------------------------+---------------------------+
|                                          | RATED                   | COMPLETED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED                | DISCARDED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | RATED_TO_WAITING        | COMPLETED_TO_READY        |
+------------------------------------------+-------------------------+---------------------------+
| cs.pcs.projects.issues.Issue             | CREATED                 | NEW                       |
+------------------------------------------+-------------------------+---------------------------+
|                                          | ANALYSIS                | EVALUATION                |
+------------------------------------------+-------------------------+---------------------------+
|                                          | INPROCESS               | EXECUTION                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | VERIFICATION            | REVIEW                    |
+------------------------------------------+-------------------------+---------------------------+
|                                          | CANCELED                | DISCARDED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | FINISHED                | COMPLETED                 |
+------------------------------------------+-------------------------+---------------------------+
|                                          | TO_CANCELED_OR_FINISHED | TO_DISCARDED_OR_COMPLETED |
+------------------------------------------+-------------------------+---------------------------+
|                                          | TO_NOT_FINISHED         | TO_NOT_COMPLETED          |
+------------------------------------------+-------------------------+---------------------------+


The following classes have been removed, and had their logic replaced by other
means:

* cs.pcs.projects.tasks.Task

  * FINISHED_OR_CANCELED_TO_INPROCESS
  * INPROCESS_TO_WAITING
  * CREATED_TO_WAITING
  * INPROCESS_TO_FINISHED


.. _15_3_0_cs-pcs-rs-acc:

Translated Relationship Access Profiles
---------------------------------------

The following Relationship Access Profiles have been renamed:

:envvar:`Checkpunkte`
    Renamed to :envvar:`Checklist Items`

:envvar:`Checklisten`
    Renamed to :envvar:`Checklists`

:envvar:`Projektaufgaben`
    Renamed to :envvar:`Project Tasks`

:envvar:`Aufgabenbeziehungen`
    Renamed to :envvar:`Task Dependencies`

:envvar:`Terminplanobjekte`
    Renamed to :envvar:`Time schedule objects`

Please rename any usages in custom relationships accordingly.


.. _15_3_0_cs-pcs-cat-1-n:

Translated Catalogs
-------------------

The following catalogs previously not supporting multiple languages are updated
as detailed in the product release notes:

* Task Category (``cdbpcs_task_category``)
* Checklist Category (``cdbpcs_cl_cat``)
* Effort Category (``cdbpcs_effort_cat``)
* Task Dependency (``cdbpcs_tr_types``)

Also, classes using these catalogs are updated:

* Task (``cdbpcs_task``)
* Checklist (``cdbpcs_checklist``)
* Checklist Item (``cdbpcs_cl_item``)
* Effort (``cdbpcs_effort``)
* Task Dependency (``cdbpcs_taskrel``)


.. _15_3_0_cs-pcs-cat-n-n:

Internationalized Catalogs
--------------------------

The following catalog classes have been internationalized:

* Project Roles Catalog (``cdbpcs_role_def``) (``description`` and ``name``)
* Project Specific Role (``cdbpcs_prj_role``) (``description`` and ``name``)
* Responsible (``cdbpcs_resp_brows``) (``description`` and ``subject_name``)
* Role Assignment (``cdbpcs_subject_base`` and its class hierarchy) (
  ``role_name`` and ``subject_name``)
* Risk Class (``cdbrm_risk_class``) (``name``)
* Project Category (``cdbpcs_project_cat``) (``name_ml``)
* Open Issue Done (``cdbpcs_iss_val``) (``name``)
* Open Issue Priority (``cdbpcs_iss_prio``) (``name``)
* Open Issue Category (``cdbpcs_iss_cat``) (``name``)
* Checklist Item Evaluation (``cdbpcs_rat_val``) (``rating_value``)
* Folder Type (``cdb_folder_type``) (``name``)
* Performance Type (``cdbpcs_effort_activity_type``) (``name``)
* Time Range (``cdbpcs_time_schedule_timerange``) (``name``)
* Manual Light Evaluation (``cdbpcs_rat_val_lights``) (``rating_value``)

Along with their usages in the following classes:

* Project (``cdbpcs_project``)
* Task (``cdbpcs_task``)
* Open Issue (``cdbpcs_issue``)
* Checklist (``cdbpcs_checklist``)
* Checklist Item (``cdbpcs_cl_item``)
* Folder (``cdb_folder``)
* Effort (``cdbpcs_effort``)

  .. note::
    The attribute ``description`` has been removed from the class Project
    Specific Role (``cdbpcs_prj_role``). Catalogs now show the descriptions from
    the class Project Roles Catalog (``cdbpcs_role_def``).

The attribute ``subject_name`` of catalog class ``cdbpcs_resp_brows`` has also
been internationalized, along with the following classes:

* Task (``cdbpcs_task``)
* Checklist (``cdbpcs_checklist``)
* Checklist Item (``cdbpcs_cl_item``)
* Open Issue (``cdbpcs_issue``)
* Resource Schedule (``cdbpcs_resource_schedule``)
* Time Schedule (``cdbpcs_time_schedule``)


.. _15_3_0_cs-pcs-status:

Translated Status Names
-----------------------

Status names have been internationalized for the classes:

* Project (``cdbpcs_project``)
* Status Protocol Project (``cdbpcs_prj_prot``)
* Task (``cdbpcs_task``)
* Status Protocol Task (``cdbpcs_task_prot``)
* Checklist (``cdbpcs_checklist``)
* Status Protocol Checklist (``cdbpcs_cl_prot``)
* Checklist Item (``cdbpcs_cl_item``)
* Status Protocol Checklist Item (``cdbpcs_cli_prot``)
* Open Issue (``cdbpcs_issue``)
* Status Protocol Open Issue (``cdbpcs_iss_prot``)
* Effort (``cdbpcs_effort``)
* Resource Schedule (``cdbpcs_resource_schedule``)
* Time Schedule (``cdbpcs_time_schedule``)

  .. note::
    The attribute ``cdb_status_txt`` has been removed from the class Change Log
    (Details) (``cdbpcs_iss_log``).


.. _15_3_0_cs-pcs-cat-values:

Translated Catalog Values
-------------------------

The following catalog's values have been newly translated:

* Folder Type (``cdb_folder_type``)
* Billable (``cdbpcs_billable``)
* Checklist Category (``cdbpcs_cl_cat``)
* Performance Type (``cdbpcs_effort_activity_type``)
* Effort Category (``cdbpcs_effort_cat``)
* Open Issue Category (``cdbpcs_iss_cat``)
* Open Issue Priority (``cdbpcs_iss_prio``)
* Open Issue Done (``cdbpcs_iss_val``)
* Project Category (``cdbpcs_project_cat``)
* Checklist Item Evaluation (``cdbpcs_rat_val``)
* Manual Light Evaluation (``cdbpcs_rat_val_lights``)
* Project Roles Catalog (``cdbpcs_role_def``)
* Task Category (``cdbpcs_task_category``)
* Time Range (``cdbpcs_time_schedule_timerange``)
* Task Dependency (``cdbpcs_tr_types``)
* Risk Class (``cdbrm_risk_class``)

Keys remain unchanged.

The new translations will be automatically updated.

  .. note::
    This does only apply to catalog values not changed by any custom module.


.. _15_3_0_cs-pcs-rating:

Update Rating Mechanism
-----------------------

The rating mechanism of the classes Checklists (``cdbpcs_checklist``) and
Checklist Item (``cdbpcs_cl_item``) has been changed:

* The attribute ``rating`` has been removed. Internally, only the attribute
  ``rating_id`` is used now, along with the new "Multi-Language Attribute"
  ``rating_value`` for UI purposes.


Miscellaneous
=============

* The view :guilabel:`My Projects` can now be accessed from any project table.

* The context menu of the classes ``cdbpcs_project`` and ``cdbpcs_task`` have been
  completely re-organized. Please check these context menu items in your custom
  solution after the update.

* Some Enumerations (``cdb_enum``) have been removed:

  * Type ``KO_criterion``, along with the catalog ``cdbpcs_ko_criterion`` which
    has been replaced by a checkbox in the dialog ``cdbpcs_qualitygate_report``.

  * Type ``JaNeinOffenTyp``, along with the catalog ``JaNeinOffenType`` that has
    been replaced with the new multi-language catalog ``cdbpcs_billable``.

* The class Gantt Chart Interval (``cdbpcs_gantt_iv``) including its UI elements
  has been removed.

* The tables ``cdbpcs_objstati_br_tab`` and ``cdbpcs_objstati_name_br_tab`` have
  been removed.

  .. note::
    If removed elements have been used in a custom module, those usages have to
    be updated.


.. |con15| replace:: CONTACT Elements 15
