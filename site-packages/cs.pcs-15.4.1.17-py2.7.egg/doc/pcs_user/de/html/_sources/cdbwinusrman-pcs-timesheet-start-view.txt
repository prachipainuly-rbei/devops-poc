.. _`cdbwinusrman-pcs-timesheet-start-view`:

Aufwandserfassung Startansicht
##############################

Der Zugriff auf die Aufwandserfassung erfolgt in der Regel über den Menüpunkt 
:menuselection:`Projekte --> Details --> Aufwandseinträge`.
Über dessen Kontextmenü angeboten, öffnet sich mit der Auswahl der Operation
:guilabel:`Erfassen` der Dialog zur Aufwandserfassung. Alternativ dazu kann die Aufwandserfassung auch über alle
anderen Zugriffsmöglichkeiten, mit denen die Aufwände aufgerufen werden können, gestartet werden
(z.B. Projektübersicht oder Reiter Aufwände).

Per Default sieht der Projektmitarbeiter seine Einträge der aktuellen Woche, sofern es solche gibt.
Der aktuelle Tag steht dabei im Fokus, um direkt die Dateneingabe vornehmen zu können.

Bei Bedarf kann die Personen- und die Wochenzuordnung im oberen Bereich ändert werden.
Der Button :guilabel:`Diese Woche` bringt die Darstellung auf die aktuelle Woche zurück.
Der Kalenderbutton lässt ihn weiter entfernte Wochen gezielt auswählen.

Die Aufwandseinträge werden automatisch in die betreffende Wochentage gruppiert und
innerhalb eines Tages in der Reihenfolge ihres Eintrags sortiert (aktuellste oben). Jeder
Tag besitzt eine eigene Kopfzeile, und zwar auch dann, wenn es für diesen keine Einträge gibt.

Ein Tag ist per Default offen und bleibt dies, solange der Projektmitarbeiter einen Tag nicht über
den Button :guilabel:`Ändern` abschließt. Nur im offenen Zustand können dem Tag weitere Aufwände zugeordnet
werden. Dazu dient die Kopfzeile als Eingabedialog. Das Schließen dient dem Projektmitarbeiter dazu,
gut sichtbar zu vermerken, um welche Tage er sich nicht mehr kümmern braucht.

:guilabel:`Die Tage werden für den Projektmitarbeiter gut sichtbar farblich unterschieden:`
   - :guilabel:`Tag offen` und :guilabel:`Sollstunden erreicht` = grün
   - :guilabel:`Tag offen` und :guilabel:`Sollstunden noch nicht erreicht` = rot
   - :guilabel:`Tag abgeschlossen` = grau

   Die zu erbringenden Sollstunden entnimmt das System aus dem Kalender.
   Wird kein Kalender verwendet, so wird als Default ein Wert von 8 Std. täglich angenommen.
   Der Projektmitarbeiter kann einen Tag auch dann abschließen, wenn die Sollstunden noch nicht
   erreicht sind. Ein geschlossener Tag kann stets wieder zur Bearbeitung geöffnet werden.

:guilabel:`Eingabe eines neuen Aufwands`
   Um einen neuen Aufwand zu erfassen, füllt der Projektmitarbeiter die entsprechende Tages-Kopfzeile
   aus und betätigt den :guilabel:`Speichern`-Button. Der Projekt- und Aufgabenkatalog
   unterstützt über den Katalog die Dateneingabe. Angeboten wird z.B. eine Liste der drei
   zuletzt verwendeten Projekte bzw. Aufgaben (Aufgaben abhängig vom eingegeben Projekt),
   sortiert nach Häufigkeit der eigenen Buchung. Ansonsten erhält der Katalog per Default
   nur jene Projekte, in denen der Projektmitarbeiter Mitglied ist und jene Aufgaben, für die er
   verantwortlich ist.

   Das Feld :guilabel:`Beschreibung` kann frei editiert oder durch Verwendung des Auswahlkatalogs befüllt werden.
   Im Auswahlkatalog werden Checklisten, Prüfpunkte oder Offene Punkte mit konfigurierbaren Eigenschaften angeboten.
   Diese Eigenschaften können durch konfigurierbare Regeln von Ihrem Systemadministrator angepasst werden.

   Die :guilabel:`Leistungsart` müssen Sie durch Verwendung des Auswahlkatalogs befüllen.
   Die Werte des Katalogs können von Ihrem Systemadministrator angepasst werden.

   Alle Eingabefelder sind Pflichtfelder. Mit der Tabulator-Taste wechselt das Eingabefeld
   und die Return-Taste schließt neben dem :guilabel:`Speichern`-Button den Dialog ab.
   Wird der Dialog ohne diese Bestätigung verlassen, verbleiben die bisher eingegeben
   Daten in ihren Feldern, es sei denn, das Programm zur Aufwandserfassung wird insgesamt
   beendet.

:guilabel:`Stoppuhr`
   Statt der manuellen Eingabe der Stunden kann der Projektmitarbeiter eine Stoppuhr verwenden.
   Zum Starten betätigt er den entsprechenden Button neben dem Stundenfeld. Die dort abgebildete Uhr wechselt dann
   zu einem leeren Verbotszeichen und unterhalb des Stundenfelds wird die Startzeit sichtbar.
   Die Uhr kann jederzeit durch erneuten Klick angehalten werden, so dass die Zeit in Stunden aktualisiert wird.
   Die gemessene Zeitdauer wird zum vorhandenen Aufwand addiert. Solange der Eingabedialog
   noch nicht abgeschlossen ist, kann die Zeitnahme jederzeit wieder aufgenommen und weitere Zeiten
   addiert werden. Dies geht auch dann, wenn ein Stundeneintrag zuerst manuell vorgenommen
   wurde.

:guilabel:`Ändern eines vorhandenen Aufwands`
   Solange ein Aufwandseintrag noch nicht archiviert wurde, kann ein Eintrag wieder geändert
   werden. Geschlossene Einträge müssen für Änderungen zunächst wieder geöffnet werden.
   Zum Ändern ist der entsprechende :guilabel:`Ändern`-Button zu betätigen.
   Der betreffende Eintrag wird dann zusätzlich in der Kopfzeile dargestellt.

:guilabel:`Im Dialog zur Aufwandserfassung sind folgende Summen sichtbar:`
   - Die :guilabel:`Wochensumme` wird unter allen Tagenangaben einmalig aufsummiert
   - Die einzelnen :guilabel:`Tagessummen` befinden sich unter dem dem jeweiligen Tag.

   Ist der Tag noch nicht geschlossen, so steht die Summe der noch zu leistenden Stunden
   in grauer Schrift als Vorschlag im Stundenerfassungsfeld der Kopfzeile, solange
   der Projektmitarbeiter hier noch keine Eingaben tätigt.

:guilabel:`Zur Suche bestimmter Aufwandseinträge kann der Projektmitarbeiter folgende Filter nutzen:`
   - :guilabel:`unvollständig` zeigt nur die offene Tage an, deren Sollstunden noch nicht
     erreicht wurden
   - :guilabel:`offen` zeigt nur die offene Tage an, egal ob unvollständig oder nicht
   - :guilabel:`Mo-So` zeigt auch die Kopfzeilen von Samstagen und Sonntagen an.
     Dies ist der Default, wenn der aktuelle Tag ein Samstag oder Sonntag ist, sonst nicht.
   - :guilabel:`Projekt`, angeboten via Auswahlkatalog, ermöglicht die Einträge eines bestimmten
     Projekts herauszufiltern. Die Katalogfunktion zeigt sich wie bei der Aufwandseingabe.
   - :guilabel:`Aufgabe`, angeboten via Auswahlkatalog, ermöglicht die Einträge einer bestimmten
     Aufgabe herauszufiltern. Die Katalogfunktion zeigt sich wie bei der Aufwandseingabe.

   Die Filter bleiben auch beim Wechsel der Woche aktiv. Die Buttons im Dialog zur Aufwandserfassung
   signalisieren dem Projektmitarbeiter, was er gerade im Zugriff hat: D.h. Button in grauer Schrift,
   wenn gerade nicht nutzbar. Beispiel: Der :guilabel:`Speichern`-Button ist nur dann aktiv,
   wenn alle Eingabefelder befüllt sind.

   Die erfassten Aufwändseinträge finden sich in den Trefferlisten, Reitern
   und Datenblättern der Aufwandserfassung wieder.

.. toctree::
   :maxdepth: 2