<metal:title define-macro="widget_title"
             tal:define="project project|nothing">
		<a href="${options.base_uri + kosmodromtools.get_detail_url(project)}"
           target="${options.default_link_target}">
			<h2>${project.GetDescription()}</h2>
		</a>
</metal:title>

<metal:widget_dropdown define-macro="widget_dropdown">
  <metal:menu use-macro="global_plugins['components'].macros.operations_dropdown_menu"
              tal:define="oplist options.operations.get_object_operations_for_context(project)">
    <metal:others fill-slot="pre_list">
      <li><a href="${options.base_uri + kosmodromtools.get_detail_url(project)}"
             target="${options.default_link_target}">${options.labels['cdbpcs_elink_project_details']}</a></li>
      <li class="divider"></li>
    </metal:others>
  </metal:menu>
</metal:widget_dropdown>

<metal:filters define-macro="widget_filters">
</metal:filters>

<metal:widgetcontent define-macro="widget_content"
             tal:define="project project|nothing">
	<div class="container-fluid"  data-elink-cdb_project_id="${project.cdb_project_id}">
		<div class="row-fluid">
			<div class="span4">
	         	<tal:previewImage metal:use-macro="global_plugins['picture_uploader'].macros['preview_image']"
                        define="prev_img kosmodromtools.get_preview_img(project);
                                img_link options.base_uri + kosmodromtools.get_detail_url(project)"/>
     	  	</div>
	      <div class="span8">
	        <div class="projectdetail-info">
	          <div class="container-fluid">
	            <div class="row-fluid detailinfo-label">
	              <div class="span6 fix-text muted">${project.Label('cdb_project_id')}</div>
	              <div class="span6 fix-text muted">${project.Label('project_name')}</div>
	            </div>
	            <div class="row-fluid">
	              <div class="span6 fix-text">${project.cdb_project_id}</div>
	              <div class="span6 fix-text">${project.project_name}</div>
	            </div>
	            <div class="row-fluid detailinfo-label">
	              <div class="span6 fix-text muted">${project.Label('mapped_customer_name')}</div>
	              <div class="span6 fix-text muted">${project.Label('mapped_categ_name')}</div>
	            </div>
	            <div class="row-fluid">
	              <div class="span6 fix-text">${project.mapped_customer_name}</div>
	              <div class="span6 fix-text">${project.mapped_categ_name}</div>
	            </div>
	            <div class="row-fluid detailinfo-label">
	              <div class="span6 fix-text muted">${project.Label('joined_status_name')}</div>
	              <div class="span6 fix-text muted">${project.Label('cost_center')}</div>
	            </div>
	            <div class="row-fluid">
	              <div class="span6 fix-text">${project.joined_status_name}</div>
	              <div class="span6 fix-text">${project.cost_center}</div>
	            </div>
	         </div>
	        </div>
	      </div>
	    </div>
	</div>
</metal:widgetcontent>
