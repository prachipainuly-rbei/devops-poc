{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cs-pcs-projects-web.js","webpack:///webpack/bootstrap d7a566ce903c6fe0dc96","webpack:///external \"cs-web-components-base\"","webpack:///external \"React\"","webpack:///webpack/cs-pcs-projects-web/src/helpers.js","webpack:///external \"cs-web-components-externals\"","webpack:///external \"ReactBootstrap\"","webpack:///webpack/cs-pcs-projects-web/src/components/ProjectTimeLineMilestones.jsx","webpack:///webpack/cs-pcs-projects-web/src/index.js","webpack:///external \"moment\"","webpack:///external \"Immutable\"","webpack:///webpack/cs-pcs-projects-web/src/components/ProjectTimeLine.jsx","webpack:///webpack/cs-pcs-projects-web/src/i18n.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_1__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_4__","__WEBPACK_EXTERNAL_MODULE_7__","__WEBPACK_EXTERNAL_MODULE_8__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","_interopRequireDefault","obj","default","getDateObject","date","arguments","length","undefined","_moment2","moment","ISO_8601","formatDate","format","DATE_FORMAT","prefixNS","componentNameSpace","getTimeLinePosition","project","target","start","end","curr","total","duration","diff","asDays","left","getTodayPosition","getAttributeLabel","classDef","attrName","attrDef","find","attr","getRelship","dflt","_csWebComponentsBase","getAppSetup","getIn","Immutable","Map","value","_moment","_immutable","_immutable2","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","getMilestoneEnd","milestone","getMilestoneState","today","_helpers","indexOf","mapStateToProps","state","ownProps","contextObject","milestones","referencedObjects","RELSHIPNAME","Milestones","Milestone","_createClass","defineProperties","props","descriptor","key","protoProps","staticProps","_react","_react2","_csWebComponentsExternals","_reactBootstrap","_React$PureComponent","getPrototypeOf","apply","createElement","Popover","id","title","_props","clsname","classNames","OverlayTrigger","trigger","rootClose","placement","overlay","renderTooltip","viewBox","className","style","points","React","PureComponent","propTypes","ImmutablePropTypes","map","isRequired","_React$Component","_this2","fetchMilestones","bind","nextProps","fetchRelship","url","getRelshipUrl","_props2","Component","orderedSet","connect","_ProjectTimeLine","_ProjectTimeLine2","_ProjectTimeLineMilestones","_ProjectTimeLineMilestones2","Registry","registerComponent","ProjectTimeLine","ProjectTimeLineMilestones","ProjectTimeLineCircle","_extends","r","cx","cy","ProjectTimeLineTriangle","ProjectTimeLineToday","Math","min","max","tooltip","_i18n","formatStr","ProjectTimeLineProgress","complete","ProgressBar","now","sd","ed","preserveAspectRatio","x1","y1","x2","y2","days","children","assign","source","Format","i18ndb","makeFormat","makeFormatStr"],"mappings":"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","file":"cs-pcs-projects-web.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"ReactBootstrap\"), require(\"moment\"), require(\"Immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-web-components-base\", \"React\", \"cs-web-components-externals\", \"ReactBootstrap\", \"moment\", \"Immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-pcs-projects-web\"] = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"ReactBootstrap\"), require(\"moment\"), require(\"Immutable\"));\n\telse\n\t\troot[\"cs-pcs-projects-web\"] = factory(root[\"cs-web-components-base\"], root[\"React\"], root[\"cs-web-components-externals\"], root[\"ReactBootstrap\"], root[\"moment\"], root[\"Immutable\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"ReactBootstrap\"), require(\"moment\"), require(\"Immutable\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-web-components-base\", \"React\", \"cs-web-components-externals\", \"ReactBootstrap\", \"moment\", \"Immutable\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-pcs-projects-web\"] = factory(require(\"cs-web-components-base\"), require(\"React\"), require(\"cs-web-components-externals\"), require(\"ReactBootstrap\"), require(\"moment\"), require(\"Immutable\"));\n\telse\n\t\troot[\"cs-pcs-projects-web\"] = factory(root[\"cs-web-components-base\"], root[\"React\"], root[\"cs-web-components-externals\"], root[\"ReactBootstrap\"], root[\"moment\"], root[\"Immutable\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_1__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_7__, __WEBPACK_EXTERNAL_MODULE_8__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 6);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.getDateObject = getDateObject;\nexports.formatDate = formatDate;\nexports.prefixNS = prefixNS;\nexports.getTimeLinePosition = getTimeLinePosition;\nexports.getTodayPosition = getTodayPosition;\nexports.getAttributeLabel = getAttributeLabel;\nexports.getRelship = getRelship;\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _moment = __webpack_require__(7);\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _immutable = __webpack_require__(8);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar DATE_FORMAT = (0, _csWebComponentsBase.getAppSetup)().getIn(['formats', 'dateFormat']); /*\r\n                                                                                             * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                             * All rights reserved.\r\n                                                                                             * http://www.contact-software.com\r\n                                                                                             *\r\n                                                                                             * Revision \"$Id: helpers.js 160367 2017-06-16 07:19:31Z yzh $\"\r\n                                                                                             */\n\nfunction getDateObject() {\n    var date = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : (0, _moment2.default)();\n\n    return (0, _moment2.default)(date, _moment2.default.ISO_8601);\n}\n\nfunction formatDate(date) {\n    return getDateObject(date).format(DATE_FORMAT);\n}\n\nfunction prefixNS(name) {\n    return \"cs-pcs-projects-web\" + '-' + name;\n}\n\nfunction getTimeLinePosition(project, target) {\n    var start = getDateObject(project.get('start_time_plan'));\n    var end = getDateObject(project.get('end_time_plan'));\n    var curr = getDateObject(target);\n    var total = _moment2.default.duration(end.diff(start)).asDays();\n    var left = _moment2.default.duration(curr.diff(start)).asDays();\n    return total === 0 ? 100 : left * 100.0 / total;\n}\n\nfunction getTodayPosition(project) {\n    return getTimeLinePosition(project);\n}\n\nfunction getAttributeLabel(classDef, attrName) {\n    var attrDef = classDef ? classDef.get('attributes').find(function (attr) {\n        return attr.get('name') === attrName;\n    }) : null;\n    return attrDef ? attrDef.get('label') : '';\n}\n\nfunction getRelship(name, dflt) {\n    var relshipConfiguration = (0, _csWebComponentsBase.getAppSetup)().getIn(['detail_view', 'relshipConfiguration'], _immutable2.default.Map());\n    return relshipConfiguration.get(name, dflt);\n}\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.Milestones = exports.Milestone = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _helpers = __webpack_require__(2);\n\nvar _csWebComponentsExternals = __webpack_require__(3);\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _reactBootstrap = __webpack_require__(4);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * Revision \"$Id: ProjectTimeLineMilestones.jsx 165761 2017-09-25 14:34:43Z yzh $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\nvar RELSHIPNAME = 'Milestones';\n\nfunction getMilestoneEnd(milestone) {\n    return milestone.get('end_time_fcast');\n}\n\nfunction getMilestoneState(milestone) {\n    var today = (0, _helpers.getDateObject)();\n    var target = (0, _helpers.getDateObject)(getMilestoneEnd(milestone));\n    // TODO: Request that from BE(due to usage of object rules)!!!\n    if (target < today) {\n        if ([180, 200, 250].indexOf(milestone.get('status')) > -1) {\n            return 'success';\n        }\n        return 'danger';\n    }\n    return 'default';\n}\n\nvar Milestone = exports.Milestone = function (_React$PureComponent) {\n    _inherits(Milestone, _React$PureComponent);\n\n    function Milestone() {\n        _classCallCheck(this, Milestone);\n\n        return _possibleConstructorReturn(this, (Milestone.__proto__ || Object.getPrototypeOf(Milestone)).apply(this, arguments));\n    }\n\n    _createClass(Milestone, [{\n        key: 'renderTooltip',\n        value: function renderTooltip() {\n            var milestone = this.props.milestone;\n\n            return _react2.default.createElement(\n                _reactBootstrap.Popover,\n                { id: (0, _helpers.prefixNS)('project-timeline-milestone-info'),\n                    title: milestone.get('task_name') },\n                _react2.default.createElement(\n                    'span',\n                    null,\n                    milestone.get('mapped_subject_name')\n                ),\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'span',\n                    null,\n                    (0, _helpers.formatDate)(getMilestoneEnd(milestone))\n                ),\n                _react2.default.createElement('br', null),\n                _react2.default.createElement(\n                    'span',\n                    null,\n                    milestone.get('joined_status_name')\n                )\n            );\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props = this.props,\n                project = _props.project,\n                milestone = _props.milestone;\n\n            var left = (0, _helpers.getTimeLinePosition)(project, getMilestoneEnd(milestone));\n            var state = getMilestoneState(milestone);\n            var clsname = (0, _csWebComponentsExternals.classNames)((0, _helpers.prefixNS)('project-timeline__milestone'), (0, _helpers.prefixNS)('project-timeline__milestone--' + state));\n            return _react2.default.createElement(\n                _reactBootstrap.OverlayTrigger,\n                {\n                    trigger: 'click',\n                    rootClose: true,\n                    placement: 'top',\n                    overlay: this.renderTooltip(),\n                    key: (0, _helpers.prefixNS)('project-timeline-milestone-info-trigger') },\n                _react2.default.createElement(\n                    'svg',\n                    { viewBox: '-5 -5 10 10',\n                        className: clsname,\n                        style: { left: left + '%' } },\n                    _react2.default.createElement('polygon', { points: '0,-5 -5,0 0,5 5,0' })\n                )\n            );\n        }\n    }]);\n\n    return Milestone;\n}(_react2.default.PureComponent);\n\nMilestone.propTypes = {\n    project: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired,\n    milestone: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nvar Milestones = exports.Milestones = function (_React$Component) {\n    _inherits(Milestones, _React$Component);\n\n    function Milestones(props) {\n        _classCallCheck(this, Milestones);\n\n        var _this2 = _possibleConstructorReturn(this, (Milestones.__proto__ || Object.getPrototypeOf(Milestones)).call(this, props));\n\n        _this2.fetchMilestones = _this2.fetchMilestones.bind();\n        return _this2;\n    }\n\n    _createClass(Milestones, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            if (this.props.contextObject) {\n                this.fetchMilestones(this.props);\n            }\n        }\n    }, {\n        key: 'componentWillReceivProps',\n        value: function componentWillReceivProps(nextProps) {\n            if (nextProps.contextObject && nextProps.contextObject !== this.props.contextObject) {\n                this.fetchMilestones(nextProps);\n            }\n        }\n    }, {\n        key: 'fetchMilestones',\n        value: function fetchMilestones(props) {\n            var contextObject = props.contextObject,\n                fetchRelship = props.fetchRelship;\n\n            var url = (0, _csWebComponentsBase.getRelshipUrl)(contextObject, RELSHIPNAME);\n            if (fetchRelship) {\n                fetchRelship(url);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _props2 = this.props,\n                contextObject = _props2.contextObject,\n                milestones = _props2.milestones;\n\n            if (milestones === undefined) {\n                return null;\n            }\n            return _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)('project-timeline__milestones') },\n                milestones.map(function (milestone) {\n                    return _react2.default.createElement(Milestone, {\n                        key: milestone.get('@id'),\n                        project: contextObject, milestone: milestone });\n                })\n            );\n        }\n    }]);\n\n    return Milestones;\n}(_react2.default.Component);\n\nMilestones.propTypes = {\n    contextObject: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired,\n    milestones: _csWebComponentsExternals.ImmutablePropTypes.orderedSet\n};\n\nfunction mapStateToProps(state, ownProps) {\n    var contextObject = ownProps.contextObject;\n\n    var milestones = (0, _csWebComponentsBase.referencedObjects)(state, contextObject, RELSHIPNAME);\n    return {\n        milestones: milestones\n    };\n}\n\nexports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps, { fetchRelship: _csWebComponentsBase.fetchRelship })(Milestones);\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar _helpers = __webpack_require__(2);\n\nvar _ProjectTimeLine = __webpack_require__(9);\n\nvar _ProjectTimeLine2 = _interopRequireDefault(_ProjectTimeLine);\n\nvar _ProjectTimeLineMilestones = __webpack_require__(5);\n\nvar _ProjectTimeLineMilestones2 = _interopRequireDefault(_ProjectTimeLineMilestones);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: index.js 165760 2017-09-25 14:32:21Z yzh $\"\r\n */\n\n_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('ProjectTimeLine'), _ProjectTimeLine2.default);\n\nmodule.exports = {\n  ProjectTimeLine: _ProjectTimeLine2.default,\n  ProjectTimeLineMilestones: _ProjectTimeLineMilestones2.default\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; /*\r\n                                                                                                                                                                                                                                                                   * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                   * All rights reserved.\r\n                                                                                                                                                                                                                                                                   * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                   *\r\n                                                                                                                                                                                                                                                                   * Revision \"$Id: ProjectTimeLine.jsx 166000 2017-09-27 15:10:43Z yzh $\"\r\n                                                                                                                                                                                                                                                                   */\n\nexports.ProjectTimeLineCircle = ProjectTimeLineCircle;\nexports.ProjectTimeLineTriangle = ProjectTimeLineTriangle;\nexports.ProjectTimeLineToday = ProjectTimeLineToday;\nexports.ProjectTimeLineProgress = ProjectTimeLineProgress;\nexports.default = ProjectTimeLine;\n\nvar _react = __webpack_require__(1);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _helpers = __webpack_require__(2);\n\nvar _csWebComponentsExternals = __webpack_require__(3);\n\nvar _i18n = __webpack_require__(10);\n\nvar _reactBootstrap = __webpack_require__(4);\n\nvar _ProjectTimeLineMilestones = __webpack_require__(5);\n\nvar _ProjectTimeLineMilestones2 = _interopRequireDefault(_ProjectTimeLineMilestones);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction ProjectTimeLineCircle(props) {\n    return _react2.default.createElement(\n        'svg',\n        _extends({ viewBox: '-5 -5 10 10' }, props),\n        _react2.default.createElement('circle', { r: '4', cx: '0', cy: '0' })\n    );\n}\n\nfunction ProjectTimeLineTriangle(props) {\n    return _react2.default.createElement(\n        'svg',\n        _extends({ viewBox: '-5 -5 10 10' }, props),\n        _react2.default.createElement('polygon', { points: '-5,-5 0,5 5,-5' })\n    );\n}\n\nfunction ProjectTimeLineToday(props) {\n    var project = props.contextObject;\n    var today = Math.min(100, Math.max((0, _helpers.getTodayPosition)(project), 0));\n    var tooltip = _react2.default.createElement(\n        _reactBootstrap.Popover,\n        { id: (0, _helpers.prefixNS)('project-timeline-today-info'),\n            title: (0, _i18n.formatStr)('today') },\n        _react2.default.createElement(\n            'span',\n            null,\n            (0, _helpers.formatDate)()\n        ),\n        _react2.default.createElement('br', null)\n    );\n    return _react2.default.createElement(\n        'div',\n        { className: (0, _helpers.prefixNS)('project-timeline__today') },\n        _react2.default.createElement(\n            _reactBootstrap.OverlayTrigger,\n            {\n                trigger: 'click',\n                rootClose: true,\n                placement: 'top',\n                overlay: tooltip,\n                key: (0, _helpers.prefixNS)('project-timeline-today-info-trigger') },\n            _react2.default.createElement(ProjectTimeLineTriangle, { style: { left: today + '%' } })\n        )\n    );\n}\n\nProjectTimeLineToday.propTypes = {\n    contextObject: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nfunction ProjectTimeLineProgress(props) {\n    var project = props.contextObject;\n    var complete = project.get('percent_complet');\n    return _react2.default.createElement(_reactBootstrap.ProgressBar, {\n        className: (0, _helpers.prefixNS)('project-timeline__progress'),\n        now: complete });\n}\n\nProjectTimeLineProgress.propTypes = {\n    contextObject: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nfunction ProjectTimeLine(props) {\n    var project = props.contextObject;\n    var sd = (0, _helpers.formatDate)(project.get('start_time_plan'));\n    var ed = (0, _helpers.formatDate)(project.get('end_time_plan'));\n\n    return _react2.default.createElement(\n        'div',\n        { className: (0, _helpers.prefixNS)('project-timeline') },\n        _react2.default.createElement(\n            'div',\n            { className: (0, _helpers.prefixNS)('project-timeline__base') },\n            _react2.default.createElement(ProjectTimeLineProgress, { contextObject: project }),\n            _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)('project-timeline__base__axis') },\n                _react2.default.createElement(ProjectTimeLineCircle, {\n                    className: (0, _helpers.prefixNS)('project-timeline__base__start') }),\n                _react2.default.createElement(\n                    'svg',\n                    { viewBox: '0 0 100 1',\n                        preserveAspectRatio: 'none',\n                        className: (0, _helpers.prefixNS)('project-timeline__base__line') },\n                    _react2.default.createElement('line', { x1: '0', y1: '1', x2: '100%', y2: '1' })\n                ),\n                _react2.default.createElement(ProjectTimeLineCircle, {\n                    className: (0, _helpers.prefixNS)('project-timeline__base__end') })\n            ),\n            _react2.default.createElement(\n                'div',\n                { className: (0, _helpers.prefixNS)('project-timeline__base__labels') },\n                _react2.default.createElement(\n                    'small',\n                    null,\n                    sd\n                ),\n                _react2.default.createElement(\n                    'small',\n                    { className: (0, _helpers.prefixNS)('project-timeline__base__duration') },\n                    (0, _i18n.formatStr)('total_duration', { days: project.get('days_fcast') })\n                ),\n                _react2.default.createElement(\n                    'small',\n                    null,\n                    ed\n                )\n            )\n        ),\n        _react2.default.createElement(\n            'div',\n            { className: (0, _helpers.prefixNS)('project-timeline__layers') },\n            props.children,\n            _react2.default.createElement(_ProjectTimeLineMilestones2.default, { contextObject: project }),\n            _react2.default.createElement(ProjectTimeLineToday, { contextObject: project })\n        )\n    );\n}\n\nProjectTimeLine.propTypes = {\n    contextObject: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.formatStr = exports.Format = undefined;\n\nvar _csWebComponentsBase = __webpack_require__(0);\n\nvar Format = exports.Format = _csWebComponentsBase.i18ndb.makeFormat('projects'); /*\r\n                                                                                   * Copyright (C) 2016 CONTACT Software GmbH\r\n                                                                                   * All rights reserved.\r\n                                                                                   * http://www.contact-software.com\r\n                                                                                   *\r\n                                                                                   * Revision \"$Id: i18n.js 161425 2017-07-10 06:52:43Z gwe $\"\r\n                                                                                   */\n\nvar formatStr = exports.formatStr = _csWebComponentsBase.i18ndb.makeFormatStr('projects');\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cs-pcs-projects-web.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 6);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap d7a566ce903c6fe0dc96","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-base\"\n// module id = 0\n// module chunks = 0 1","module.exports = __WEBPACK_EXTERNAL_MODULE_1__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 1\n// module chunks = 0 1","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: helpers.js 160367 2017-06-16 07:19:31Z yzh $\"\r\n */\r\n\r\nimport {getAppSetup} from 'cs-web-components-base';\r\nimport moment from 'moment';\r\nimport Immutable from 'immutable';\r\n\r\nconst DATE_FORMAT = getAppSetup().getIn(['formats', 'dateFormat']);\r\n\r\nexport function getDateObject(date = moment()) {\r\n    return moment(date, moment.ISO_8601);\r\n}\r\n\r\nexport function formatDate(date) {\r\n    return getDateObject(date).format(DATE_FORMAT);\r\n}\r\n\r\nexport function prefixNS(name) {\r\n    return `${componentNameSpace}-${name}`;\r\n}\r\n\r\nexport function getTimeLinePosition(project, target) {\r\n    const start = getDateObject(project.get('start_time_plan'));\r\n    const end = getDateObject(project.get('end_time_plan'));\r\n    const curr = getDateObject(target);\r\n    const total = moment.duration(end.diff(start)).asDays();\r\n    const left = moment.duration(curr.diff(start)).asDays();\r\n    return total === 0 ? 100 : left * 100.0 / total;\r\n}\r\n\r\nexport function getTodayPosition(project) {\r\n    return getTimeLinePosition(project);\r\n}\r\n\r\nexport function getAttributeLabel(classDef, attrName) {\r\n    const attrDef = classDef ?\r\n        classDef.get('attributes').find(\r\n            attr => attr.get('name') === attrName\r\n        ) : null;\r\n    return attrDef ? attrDef.get('label') : '';\r\n}\r\n\r\nexport function getRelship(name, dflt) {\r\n    const relshipConfiguration = getAppSetup().getIn(\r\n        ['detail_view', 'relshipConfiguration'], Immutable.Map());\r\n    return relshipConfiguration.get(name, dflt);\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/helpers.js","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-externals\"\n// module id = 3\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_4__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactBootstrap\"\n// module id = 4\n// module chunks = 0","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: ProjectTimeLineMilestones.jsx 165761 2017-09-25 14:34:43Z yzh $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {prefixNS, formatDate, getTimeLinePosition, getDateObject} from '../helpers';\r\nimport {ImmutablePropTypes, classNames, connect} from 'cs-web-components-externals';\r\nimport {referencedObjects, fetchRelship, getRelshipUrl} from 'cs-web-components-base';\r\nimport {Popover, OverlayTrigger} from 'react-bootstrap';\r\n\r\nconst RELSHIPNAME = 'Milestones';\r\n\r\nfunction getMilestoneEnd(milestone) {\r\n    return milestone.get('end_time_fcast');\r\n}\r\n\r\nfunction getMilestoneState(milestone) {\r\n    const today = getDateObject();\r\n    const target = getDateObject(getMilestoneEnd(milestone));\r\n    // TODO: Request that from BE(due to usage of object rules)!!!\r\n    if (target < today) {\r\n        if ([180, 200, 250].indexOf(milestone.get('status')) > -1) {\r\n            return 'success';\r\n        }\r\n        return 'danger';\r\n    }\r\n    return 'default';\r\n}\r\n\r\nexport class Milestone extends React.PureComponent {\r\n    renderTooltip() {\r\n        const {milestone} = this.props;\r\n        return (\r\n            <Popover id={prefixNS('project-timeline-milestone-info')}\r\n                     title={milestone.get('task_name')}>\r\n                <span>{milestone.get('mapped_subject_name')}</span><br />\r\n                <span>{formatDate(getMilestoneEnd(milestone))}</span><br />\r\n                <span>{milestone.get('joined_status_name')}</span>\r\n            </Popover>\r\n        );\r\n    }\r\n\r\n    render() {\r\n        const {project, milestone} = this.props;\r\n        const left = getTimeLinePosition(project, getMilestoneEnd(milestone));\r\n        const state = getMilestoneState(milestone);\r\n        const clsname = classNames(\r\n            prefixNS('project-timeline__milestone'),\r\n            prefixNS(`project-timeline__milestone--${state}`)\r\n        );\r\n        return (\r\n            <OverlayTrigger\r\n                trigger=\"click\"\r\n                rootClose\r\n                placement=\"top\"\r\n                overlay={this.renderTooltip()}\r\n                key={prefixNS('project-timeline-milestone-info-trigger')}>\r\n                <svg viewBox=\"-5 -5 10 10\"\r\n                     className={clsname}\r\n                     style={{left: `${left}%`}}>\r\n                    <polygon points=\"0,-5 -5,0 0,5 5,0\"/>\r\n                </svg>\r\n            </OverlayTrigger>\r\n        );\r\n    }\r\n}\r\n\r\nMilestone.propTypes = {\r\n    project: ImmutablePropTypes.map.isRequired,\r\n    milestone: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nexport class Milestones extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.fetchMilestones = this.fetchMilestones.bind();\r\n    }\r\n\r\n    componentDidMount() {\r\n        if (this.props.contextObject) {\r\n            this.fetchMilestones(this.props);\r\n        }\r\n    }\r\n\r\n    componentWillReceivProps(nextProps) {\r\n        if (nextProps.contextObject &&\r\n            nextProps.contextObject !== this.props.contextObject) {\r\n            this.fetchMilestones(nextProps);\r\n        }\r\n    }\r\n\r\n    fetchMilestones(props) {\r\n        const {contextObject, fetchRelship} = props;\r\n        const url = getRelshipUrl(contextObject, RELSHIPNAME);\r\n        if (fetchRelship) {\r\n            fetchRelship(url);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const {contextObject, milestones} = this.props;\r\n        if (milestones === undefined) {\r\n            return null;\r\n        }\r\n        return (\r\n            <div className={prefixNS('project-timeline__milestones')}>\r\n                {milestones.map(milestone => (\r\n                    <Milestone\r\n                        key={milestone.get('@id')}\r\n                        project={contextObject} milestone={milestone}/>\r\n                ))}\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nMilestones.propTypes = {\r\n    contextObject: ImmutablePropTypes.map.isRequired,\r\n    milestones: ImmutablePropTypes.orderedSet\r\n};\r\n\r\nfunction mapStateToProps(state, ownProps) {\r\n    const {contextObject} = ownProps;\r\n    const milestones = referencedObjects(state, contextObject, RELSHIPNAME);\r\n    return {\r\n        milestones\r\n    };\r\n}\r\n\r\nexport default connect(mapStateToProps, {fetchRelship})(Milestones);\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ProjectTimeLineMilestones.jsx","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: index.js 165760 2017-09-25 14:32:21Z yzh $\"\r\n */\r\n\r\nimport {Registry} from 'cs-web-components-base';\r\nimport {prefixNS} from './helpers';\r\nimport ProjectTimeLine from './components/ProjectTimeLine';\r\nimport ProjectTimeLineMilestones from './components/ProjectTimeLineMilestones';\r\n\r\nRegistry.registerComponent(prefixNS('ProjectTimeLine'), ProjectTimeLine);\r\n\r\nmodule.exports = {\r\n    ProjectTimeLine,\r\n    ProjectTimeLineMilestones\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","module.exports = __WEBPACK_EXTERNAL_MODULE_7__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"moment\"\n// module id = 7\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_8__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Immutable\"\n// module id = 8\n// module chunks = 0","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: ProjectTimeLine.jsx 166000 2017-09-27 15:10:43Z yzh $\"\r\n */\r\n\r\nimport React from 'react';\r\nimport {prefixNS, formatDate, getTodayPosition} from '../helpers';\r\nimport {ImmutablePropTypes} from 'cs-web-components-externals';\r\nimport {formatStr} from '../i18n';\r\nimport {ProgressBar, Popover, OverlayTrigger} from 'react-bootstrap';\r\n\r\nimport ProjectTimeLineMilestones from './ProjectTimeLineMilestones';\r\n\r\nexport function ProjectTimeLineCircle(props) {\r\n    return (\r\n        <svg viewBox=\"-5 -5 10 10\" {...props}>\r\n            <circle r=\"4\" cx=\"0\" cy=\"0\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function ProjectTimeLineTriangle(props) {\r\n    return (\r\n        <svg viewBox=\"-5 -5 10 10\" {...props}>\r\n            <polygon points=\"-5,-5 0,5 5,-5\"/>\r\n        </svg>\r\n    );\r\n}\r\n\r\nexport function ProjectTimeLineToday(props) {\r\n    const project = props.contextObject;\r\n    const today = Math.min(100, Math.max(getTodayPosition(project), 0));\r\n    const tooltip = (\r\n        <Popover id={prefixNS('project-timeline-today-info')}\r\n                 title={formatStr('today')}>\r\n            <span>{formatDate()}</span><br />\r\n        </Popover>\r\n    );\r\n    return (\r\n        <div className={prefixNS('project-timeline__today')}>\r\n            <OverlayTrigger\r\n                trigger=\"click\"\r\n                rootClose\r\n                placement=\"top\"\r\n                overlay={tooltip}\r\n                key={prefixNS('project-timeline-today-info-trigger')}>\r\n                <ProjectTimeLineTriangle style={{left: `${today}%`}}/>\r\n            </OverlayTrigger>\r\n        </div>\r\n    );\r\n}\r\n\r\nProjectTimeLineToday.propTypes = {\r\n    contextObject: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nexport function ProjectTimeLineProgress(props) {\r\n    const project = props.contextObject;\r\n    const complete = project.get('percent_complet');\r\n    return (\r\n        <ProgressBar\r\n            className={prefixNS('project-timeline__progress')}\r\n            now={complete}/>\r\n    );\r\n}\r\n\r\nProjectTimeLineProgress.propTypes = {\r\n    contextObject: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nexport default function ProjectTimeLine(props) {\r\n    const project = props.contextObject;\r\n    const sd = formatDate(project.get('start_time_plan'));\r\n    const ed = formatDate(project.get('end_time_plan'));\r\n\r\n    return (\r\n        <div className={prefixNS('project-timeline')}>\r\n            <div className={prefixNS('project-timeline__base')}>\r\n                <ProjectTimeLineProgress contextObject={project} />\r\n                <div className={prefixNS('project-timeline__base__axis')}>\r\n                    <ProjectTimeLineCircle\r\n                         className={prefixNS('project-timeline__base__start')}/>\r\n                    <svg viewBox=\"0 0 100 1\"\r\n                         preserveAspectRatio=\"none\"\r\n                         className={prefixNS('project-timeline__base__line')}>\r\n                        <line x1=\"0\" y1=\"1\" x2=\"100%\" y2=\"1\" />\r\n                    </svg>\r\n                    <ProjectTimeLineCircle\r\n                         className={prefixNS('project-timeline__base__end')}/>\r\n                </div>\r\n                <div className={prefixNS('project-timeline__base__labels')}>\r\n                    <small>{sd}</small>\r\n                    <small className={prefixNS('project-timeline__base__duration')}>\r\n                        {formatStr(\r\n                            'total_duration', {days: project.get('days_fcast')})}\r\n                    </small>\r\n                    <small>{ed}</small>\r\n                </div>\r\n            </div>\r\n            <div className={prefixNS('project-timeline__layers')}>\r\n                {props.children}\r\n                <ProjectTimeLineMilestones contextObject={project} />\r\n                <ProjectTimeLineToday contextObject={project} />\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nProjectTimeLine.propTypes = {\r\n    contextObject: ImmutablePropTypes.map.isRequired\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/ProjectTimeLine.jsx","/*\r\n * Copyright (C) 2016 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: i18n.js 161425 2017-07-10 06:52:43Z gwe $\"\r\n */\r\n\r\nimport {i18ndb} from 'cs-web-components-base';\r\n\r\nexport const Format = i18ndb.makeFormat('projects');\r\nexport const formatStr = i18ndb.makeFormatStr('projects');\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/i18n.js"],"sourceRoot":""}