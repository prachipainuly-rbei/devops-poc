/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ProjectTimeLine.jsx 159807 2017-06-07 08:43:53Z yzh $"
 */

import React from 'react';
import {storiesOf, wrapContext, appContainer} from 'cs-web-components-storybook';
import {getAppSetup} from 'cs-web-components-base';
import {ProjectTimeLine, ProjectTimeLineMilestones} from 'cs-pcs-projects-web';

const objectUrl = getAppSetup().getIn([
    'storybook', 'stories', componentNameSpace, 'project'
]);

const store = {};

storiesOf('Project', module)
    .addDecorator(wrapContext(objectUrl, store))
    .addDecorator(appContainer)
    .addWithInfo(
        'TimeLine',
        '',
        () => {
            const {contextObject} = store;
            return (
                <div style={{width: '400px', margin: '1em'}}>
                    <ProjectTimeLine contextObject={contextObject}></ProjectTimeLine>
                </div>
            );
        },
        {propTables: []}
    )
    .addWithInfo(
        'TimeLine with Milestones',
        '',
        () => {
            const {contextObject} = store;
            return (
                <div style={{width: '400px', marginTop: '10em', marginLeft: '1em'}}>
                    <ProjectTimeLine contextObject={contextObject}>
                        <ProjectTimeLineMilestones contextObject={contextObject} />
                    </ProjectTimeLine>
                </div>
            );
        },
        {propTables: []}
    )
    .addWithInfo(
        'TimeLine  with Milestones show today',
        '',
        () => {
            const {contextObject} = store;
            const changed = contextObject.set('end_time_plan', '2025-12-31T00:00:00');
            return (
                <div style={{width: '400px', marginTop: '10em', marginLeft: '1em'}}>
                    <ProjectTimeLine contextObject={changed}>
                        <ProjectTimeLineMilestones contextObject={changed} />
                    </ProjectTimeLine>
                </div>
            );
        },
        {propTables: []}
    )
;
