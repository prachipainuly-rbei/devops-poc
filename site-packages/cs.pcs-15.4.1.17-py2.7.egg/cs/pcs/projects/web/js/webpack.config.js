/* -*- mode: javascript; coding: utf-8 -*-
 * $Id: webpack.config.js 161560 2017-07-12 07:04:42Z psz $
 *
 * Copyright (c) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 */
const configModule = require(process.env.WEBPACK_CONFIG_COMMON);
const commonConfig = configModule.makeConfig();
const componentNameSpace = configModule.getComponentNameSpace();

const moreExternals = Object.assign({}, commonConfig.externals, {
    'cs-web-dashboard': 'cs-web-dashboard',
    'cs-pcs-projects-web': 'cs-pcs-projects-web'
});

module.exports = Object.assign({}, commonConfig, {
    // here the app specific configs
    entry: Object.assign({}, commonConfig.entry, {
        [`${componentNameSpace}-stories`]: "./src/stories/index.js"
    }),
    externals: moreExternals
});
