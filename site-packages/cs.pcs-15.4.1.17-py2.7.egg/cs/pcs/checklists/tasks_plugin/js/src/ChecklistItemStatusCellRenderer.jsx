/* -*- mode: javascript; coding: utf-8 -*-
 * $Id: ChecklistItemStatusCellRenderer.jsx 182658 2018-08-22 11:58:52Z cso $
 *
 * Copyright (c) 1990 - 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 */

import React from 'react';
import {prefixTM} from './helpers';
import {ImmutablePropTypes, PropTypes} from 'cs-web-components-externals';
import {Registry} from 'cs-web-components-base';

const Icon = Registry.findComponent('cs-web-components-base-Icon');

function ChecklistItemStatusCellRenderer({value}) {
    const custom_data = value.get('data');

    return (
        <div
            className={prefixTM('status')}
            title={custom_data.get('label')}
        >
            <Icon
                src={custom_data.get('icon_url')}
                title={custom_data.get('label')}
                size='sm'
            />
            {custom_data.get('label')}
        </div>
    );
}

ChecklistItemStatusCellRenderer.propTypes = {
    isGroup: PropTypes.bool,
    value: ImmutablePropTypes.contains({
        custom_renderer: PropTypes.string.isRequired,
        data: ImmutablePropTypes.contains({
            label: PropTypes.string.isRequired,
            rating_schema: PropTypes.string,
            icon_url: PropTypes.string.isRequired,
            priority: PropTypes.number,
            rating_id: PropTypes.string
        })
    }).isRequired
};

export default ChecklistItemStatusCellRenderer;
