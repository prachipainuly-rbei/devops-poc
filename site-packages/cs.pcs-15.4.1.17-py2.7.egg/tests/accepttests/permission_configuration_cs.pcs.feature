# Copyright (C) 1990 - 2012 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

Feature: Permissions on Projects/PO-Objects

In order to work with projects and respective Project Office objects in a controlled and secure way
As a project manager
I want to
     - have all necessary system permissions to do my work*
     - have the system to prevent the access to my projects from users which *don't* have
       the nessecary permissions to access them

* this is already tested by the various other features

Background:
    Given a project exists


Scenario Outline: A project member tries to handle the project
    When <role> tries to <action> the project
    Then he's <result> the necessary permissions
    Examples:
    | role            | action | result      |
    | Projektmitglied | read   | granted     |
    | Projektmitglied | save   | not granted |
    | Projektmitglied | delete | not granted |


Scenario Outline: A project member tries to handle a task
    Given a task exists
    When <role> tries to <action> the task
    Then he's <result> the necessary permissions
    Examples:
    | role            | action   | result      |
    | Projektmitglied | read     | granted     |
    | Projektmitglied | save     | not granted |
    | Projektmitglied | create   | not granted |
    | Projektmitglied | delete   | not granted |


Scenario Outline: A project member tries to handle a project role
    Given a project role exists
    When <role> tries to <action> the specific project role
    Then he's <result> the necessary permissions
    Examples:
    | role            | action   | result      |
    | Projektmitglied | read     | granted     |
    | Projektmitglied | save     | not granted |
    | Projektmitglied | create   | not granted |
    | Projektmitglied | delete   | not granted |


Scenario Outline: A project member tries to delete a checklist
    Given a checklist exists
    When <role> tries to <action> the checklist
    Then he's <result> the necessary permissions
    Examples:
    | role            | action   | result      |
    | Projektmitglied | delete   | not granted |


Scenario Outline: A project member tries to delete a checkpoint
    Given a checklist exists
        And a checkpoint exists
    When <role> tries to <action> the checkpoint
    Then he's <result> the necessary permissions
    Examples:
    | role            | action   | result      |
    | Projektmitglied | delete   | not granted |
