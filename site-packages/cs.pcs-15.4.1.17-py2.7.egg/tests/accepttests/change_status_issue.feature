# Copyright (C) 2016 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

Feature: Change Issue Status

Tests status changes of project issues including their consequences.


Background:
    GIVEN a project exists
        AND the project's status is Execution


Scenario Outline: Start Issue
    GIVEN a task exists
        AND a task issue exists
        AND the task's status is <task>
    WHEN Projektleiter changes the status of the issue from Completed to Execution
    THEN the changed status of the issue is <saved>

    Examples:
        | task      | saved     |
        | New       | saved     |  # 71
        | Ready     | saved     |  # 72
        | Execution | saved     |  # 73
        | Finished  | not saved |  # 74
        | Completed | not saved |  # 75
        | Discarded | not saved |  # 76


Scenario Outline: Stop Issue
    GIVEN a task exists
        AND a task issue exists
        AND the task's status is Execution
        AND the task <group> a task group
    WHEN Projektleiter changes the status of the issue from Execution to <issue_to>
    THEN the changed status of the issue is saved
        AND the status of the task is <task_to>

    Examples:
        | group  | issue_to  | task_to   |
        | is     | Completed | Finished  |  # 86
        | is not | Completed | Finished  |  # 86
        | is     | Discarded | Execution |  # 89
        | is not | Discarded | Execution |  # 89
