
import os
from cs.platform.web.root import Root
from cs.web.components.configurable_ui import ConfigurableUIModel, ConfigurableUIApp


class Model(ConfigurableUIModel):
    def config_filename(self):
        return os.path.join(__file__, '..', 'config', 'testapp.json')


class App(ConfigurableUIApp):
    def __init__(self):
        super(App, self).__init__()


@Root.mount(app=App, path="/%(PACKAGE_JS)s")
def _mount_app():
    return App()


@App.path(path="", model=Model)
def _get_model():
    return Model()


@App.view(model=Model, name="base_path", internal=True)
def get_base_path(model, request):
    return request.path
