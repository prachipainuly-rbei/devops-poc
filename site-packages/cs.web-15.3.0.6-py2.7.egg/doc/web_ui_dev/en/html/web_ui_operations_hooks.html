

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Dialog Hooks &mdash; Web UI Development</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Web UI Development" href="index.html"/>
        <link rel="up" title="Kernel operations and the Web UI" href="web_ui_operations.html"/>
        <link rel="next" title="Restrictions running operations with WEB UI" href="web_ui_operations_restrictions.html"/>
        <link rel="prev" title="Web UI Operation Config" href="web_ui_operations_config.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="/doc/en" class="icon fa-book">
            Documentation Portal
          </a>
        

        
          <a href="index.html" class="icon icon-home"> Web UI Development
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="web_ui_technical.html">Web UI technical background</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#rendering-an-application">Rendering an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#disable-cache-in-development-scenarios">Disable cache in development scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#frontend-registry">Frontend Registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#immutable-objects">Immutable objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#styling">Styling</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#rd-party-javascript-libraries">3rd party JavaScript libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#development-toolchain">Development toolchain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_dev_guidelines.html">Guidelines for developing Web UI applications and components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#babel-presets">Babel Presets</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#javascript-style-guide">JavaScript style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#react-style-guide">React style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#naming-rules">Naming rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#promise">Promise</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#error-boundaries">Error Boundaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_branding.html">Branding and Styling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_branding.html#overriding-styles">Overriding styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_branding.html#customizing-fonts">Customizing Fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_branding.html#image-urls">Image URLs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_configuration.html">Configuring Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#basic-configuration-framework">Basic configuration framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#application-page">Application Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#generic-page">Generic Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#object-page">Object Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#class-page">Class Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#configuration-files-for-components">Configuration files for components</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#outlets">Outlets</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#display-contexts">Display Contexts</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="web_ui_operations.html">Kernel operations and the Web UI</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_config.html">Web UI Operation Config</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Dialog Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_restrictions.html">Restrictions running operations with WEB UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_ui.html">Integrating Operation Handling into User Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_wincdb.html">Embedded Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_wincdb.html#handling-modifications-in-embedded-web-applications">Handling Modifications in Embedded Web Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_history.html">Recently Used Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_plugins.html">Frontend Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_plugins.html#plugin-configuration">Plugin configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_plugins.html#cs-web-components-plugin-config">cs.web.components.plugin_config</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_dashboard.html">The Dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dashboard.html#design">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dashboard.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dashboard.html#implementation">Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_make.html">Building And Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_make_create.html">Creating an application template</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_make_doc.html">Generating documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_make_build.html">Building web applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_app_impl_tut.html">Implementing Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_layout.html">Application Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_backend.html">Backend-specific tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_frontend.html">Frontend-specific tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_i18n.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_customize.html">Customizing BaseApp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing cs.web Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing.html#testing-with-selenium">Testing with Selenium</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_jsdoc.html">App Development References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#python-apis">Python APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#javascript-apis">Javascript-APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#known-problems">Known Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#concept-for-selected-objects">Concept for selected objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_dev_glossary.html">Glossary</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Web UI Development</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="web_ui_operations.html">Kernel operations and the Web UI</a> &raquo;</li>
      
    <li>Dialog Hooks</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/web_ui_operations_hooks.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="dialog-hooks">
<span id="operations-dialog-hooks"></span><h1>Dialog Hooks<a class="headerlink" href="#dialog-hooks" title="Permalink to this headline">¶</a></h1>
<p>If you use the forms defined as masks in CONTACT Elements you can adapt the
form behaviour by adding own code that is called whenever the user changes
a specific value of the form. There are two kinds of dialog hooks - hooks
that are executed in the backend and hooks that are executed in the frontend.</p>
<div class="section" id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this headline">¶</a></h2>
<div class="section" id="dialog-hook-function">
<span id="helpid-csweb-dialog-hook-function"></span><span id="id1"></span><h3>Dialog Hook Function<a class="headerlink" href="#dialog-hook-function" title="Permalink to this headline">¶</a></h3>
<p>A dialog hook function object defines which piece of code has to be
executed and defines if this code is part of the frontend or the backend.</p>
<p>The dialog has these members:</p>
<ul class="simple">
<li><span class="guilabel">Label</span>: The name of the hook. The name is used to reference the
function.</li>
<li><span class="guilabel">Function</span>: The name of the function that implements the hook.
This is the full qualified python name if the hook is implemented in the
backend or the name of a JavaScript function for frontend hooks.</li>
<li><span class="guilabel">Backend</span>: The checkbox has to be set if the hook is implemented
in the backend.</li>
<li><span class="guilabel">Description</span>: A text that describes the function of the hook.</li>
<li><span class="guilabel">Module</span>: The software module this configuration belongs to.</li>
</ul>
<div class="section" id="predefined-hook-function">
<h4>Predefined hook function<a class="headerlink" href="#predefined-hook-function" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">EmulateLegacyDialogItemChange</span></code>: This backend hook function emulates the
behaviour of the Windows client. An operation is constructed and usually
an user exit of kind <code class="docutils literal"><span class="pre">dialogitem_change</span></code> is called. The action is
quite expensive - usually you should prefer to migrate the code.</li>
<li><code class="docutils literal"><span class="pre">EmulateLegacyDialogButton</span></code>: This backend hook function emulates the
behaviour of the Windows client. An operation is constructed and usually
an user exit of kind <code class="docutils literal"><span class="pre">button_pressed</span></code> is called. The action is
quite expensive - usually you should prefer to migrate the code.</li>
</ul>
</div>
</div>
<div class="section" id="dialog-hook">
<span id="helpid-csweb-dialog-hook"></span><span id="id2"></span><h3>Dialog Hook<a class="headerlink" href="#dialog-hook" title="Permalink to this headline">¶</a></h3>
<p>If you want a dialog hook to be executed you have to connect a dialog hook
function with a dialog configuration. You will usually add a hook using
the register <span class="guilabel">Dialog Hooks</span> of the mask configuration. The
configuration contains this fields:</p>
<ul class="simple">
<li><span class="guilabel">Mask Name</span>: The name of the dialog that is adapted by the hook.</li>
<li><span class="guilabel">Attribute</span>: The attribute that triggers the hook. If the value
of the given attribute changes the hook is called. There are some special
values that can be used as attribute names:<ul>
<li><code class="docutils literal"><span class="pre">*</span></code>: This value activates a hook for all changes of the dialog.
This is ok for frontend hooks but might lead to performance problems
if you implement the hook in the backend.</li>
<li><code class="docutils literal"><span class="pre">::PRE_SUBMIT::</span></code>: This value can be used if you want to check the
dialog values before the dialog is closed as the result of clicking
on a submit button.</li>
<li><code class="docutils literal"><span class="pre">::PRE_DISPLAY::</span></code>: This value can be used to configure backend hooks
that calculates additional values before the dialog ist shown. The hook
parameter of the callback function is derived from
<a class="reference internal" href="#cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay" title="cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay"><code class="xref py py-obj docutils literal"><span class="pre">cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay</span></code></a>. At this
time frontend hooks are not called for <code class="docutils literal"><span class="pre">::PRE_DISPLAY::</span></code>.</li>
</ul>
</li>
<li><span class="guilabel">Label</span>: The name of the <a class="reference internal" href="#dialog-hook-function"><span class="std std-ref">hook function</span></a>
to be called.</li>
<li><span class="guilabel">Function</span>, <code class="xref py py-obj docutils literal"><span class="pre">Backend</span></code>: Some information retrieved from the
<a class="reference internal" href="#dialog-hook-function"><span class="std std-ref">hook function</span></a>.</li>
<li><span class="guilabel">Position</span>: If there are several hooks defined for an attribute
the position defines the calling order. Hooks with a low position are called
first. Note that frontend hooks are always called before backend hooks.</li>
<li><span class="guilabel">Active</span>: The checkbox has to be set if the hook should be executed.</li>
<li><span class="guilabel">Module</span>: The software module this configuration belongs to.</li>
</ul>
</div>
</div>
<div class="section" id="implementation">
<h2>Implementation<a class="headerlink" href="#implementation" title="Permalink to this headline">¶</a></h2>
<p>In general you should prefer to write frontend hooks because they do not need
a roundtrip to the server.</p>
<div class="section" id="frontend-hooks">
<h3>Frontend Hooks<a class="headerlink" href="#frontend-hooks" title="Permalink to this headline">¶</a></h3>
<p>If you implement a frontend hook you have to ensure that the library that
contains the JavaScript function is part of the page where the mask is shown.
The call of frontend hooks is synchron.</p>
</div>
<div class="section" id="backend-hooks">
<h3>Backend Hooks<a class="headerlink" href="#backend-hooks" title="Permalink to this headline">¶</a></h3>
<p>To implement a backend hook you have to implement a python function with
one parameter. This parameter can be used to retrieve information about
the actual mask and to manipulate the form. It is of type
<a class="reference internal" href="#cs.web.components.ui_support.dialog_hooks.DialogHook" title="cs.web.components.ui_support.dialog_hooks.DialogHook"><code class="xref py py-obj docutils literal"><span class="pre">cs.web.components.ui_support.dialog_hooks.DialogHook</span></code></a>. An implementation
might look as follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">handle_categ_change</span><span class="p">(</span><span class="n">hook</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    (De)-activates the dialog field for the subcategory depending</span>
<span class="sd">    on the actual category</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">categ</span> <span class="o">=</span> <span class="n">hook</span><span class="o">.</span><span class="n">get_new_values</span><span class="p">[</span><span class="s2">&quot;categ&quot;</span><span class="p">]</span>
    <span class="k">if</span> <span class="n">has_subcategs</span><span class="p">(</span><span class="n">categ</span><span class="p">):</span>
        <span class="n">hook</span><span class="o">.</span><span class="n">set_writeable</span><span class="p">(</span><span class="s2">&quot;categ2&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">hook</span><span class="o">.</span><span class="n">set_readonly</span><span class="p">(</span><span class="s2">&quot;categ2&quot;</span><span class="p">)</span>
        <span class="n">hook</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;categ2&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>At this time backend dialog hooks are called asynchron which means that
the user might continue his work before the hook result is applied to the
form.</p>
<div class="section" id="module-cs.web.components.ui_support.dialog_hooks">
<span id="cs-web-components-ui-support-dialog-hooks"></span><h4>cs.web.components.ui_support.dialog_hooks<a class="headerlink" href="#module-cs.web.components.ui_support.dialog_hooks" title="Permalink to this headline">¶</a></h4>
<p>This module implements the infrastructure for calling dialog hooks
implemented in the backend.</p>
<dl class="class">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook">
<em class="property">class </em><code class="descclassname">cs.web.components.ui_support.dialog_hooks.</code><code class="descname">DialogHook</code><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook" title="Permalink to this definition">¶</a></dt>
<dd><p>Class that provides the context to implement dialog hooks
that are part of the backend.</p>
<p>Construction of the hook. This is usually done by the system.</p>
<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_request">
<code class="descname">set_request</code><span class="sig-paren">(</span><em>request</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the request that is e.g. used to generate links.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_hooks">
<code class="descname">get_hooks</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_hooks" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of type <code class="xref py py-obj docutils literal"><span class="pre">WebUIDialogHookFunction</span></code> that
contains the hooks to be called with the actual request.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_operation">
<code class="descname">get_operation</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_operation" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the <code class="xref py py-obj docutils literal"><span class="pre">cdbwrapc.Operation</span></code> object this hook works with.
The call is quite expensive so you should try to avoid to call
this function if possible.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_operation_state_info">
<code class="descname">get_operation_state_info</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_operation_state_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the <code class="xref py py-obj docutils literal"><span class="pre">cdb.platform.mom.operations.OperationStateInfo</span></code> object
for the operation the hook works with. You can use this object to
get further information about the operation context.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_operation_name">
<code class="descname">get_operation_name</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_operation_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the operation name for the operation the hook works with.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_changed_fields">
<code class="descname">get_changed_fields</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_changed_fields" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a map of fields that have changed with the identifier as key
and the new value as value.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_values">
<code class="descname">get_new_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary that contains the actual values of the dialog.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_value">
<code class="descname">get_new_value</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the typed value of the field <code class="xref py py-obj docutils literal"><span class="pre">name</span></code> which should be the
attribute identifier. Using the attribute name is also supported but
less performant. Raises a <code class="xref py py-obj docutils literal"><span class="pre">KeyError</span></code> if name is not accessible</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_object_value">
<code class="descname">get_new_object_value</code><span class="sig-paren">(</span><em>name</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_object_value" title="Permalink to this definition">¶</a></dt>
<dd><p>Like <a class="reference internal" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_value" title="cs.web.components.ui_support.dialog_hooks.DialogHook.get_new_value"><code class="xref py py-obj docutils literal"><span class="pre">get_new_value</span></code></a> but if <code class="xref py py-obj docutils literal"><span class="pre">name</span></code> is not part of the
new values and the operation works on an object the value
is retrieved from that object.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set">
<code class="descname">set</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the value of the field identified by <code class="xref py py-obj docutils literal"><span class="pre">name</span></code>
to the JSON representation of <code class="xref py py-obj docutils literal"><span class="pre">value</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_readonly">
<code class="descname">set_readonly</code><span class="sig-paren">(</span><em>fieldname</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_readonly" title="Permalink to this definition">¶</a></dt>
<dd><p>Prevents the field specified in <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> from being
edited on the display mask. <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> can be a string
or a list of strings.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_writeable">
<code class="descname">set_writeable</code><span class="sig-paren">(</span><em>fieldname</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_writeable" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows the field specified in <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> to be edited on the display
mask. <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> can be a string
or a list of strings.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_mandatory">
<code class="descname">set_mandatory</code><span class="sig-paren">(</span><em>fieldname</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_mandatory" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns the field specified in <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> into a mandatory
field on the display mask. <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> can be a string
or a list of strings.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_optional">
<code class="descname">set_optional</code><span class="sig-paren">(</span><em>fieldname</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_optional" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns the field specified in <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> into an optional field
on the display mask. <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> can be a string
or a list of strings.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.get_fieldtype">
<code class="descname">get_fieldtype</code><span class="sig-paren">(</span><em>fieldname</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.get_fieldtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the type of the attribute <code class="xref py py-obj docutils literal"><span class="pre">fieldname</span></code> that is used
in the UI. Usually this is the type defined in the data dictionary.
The most common types are <code class="docutils literal"><span class="pre">sqlapi.SQL_CHAR</span></code>, <code class="docutils literal"><span class="pre">sqlapi.SQL_INTEGER</span></code>,
<code class="docutils literal"><span class="pre">sqlapi.SQL_FLOAT</span></code> and <code class="docutils literal"><span class="pre">sqlapi.SQL_DATE</span></code>.
If the type could not be determined the function returns <code class="docutils literal"><span class="pre">-1</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.apply_dlg_changes">
<code class="descname">apply_dlg_changes</code><span class="sig-paren">(</span><em>changes</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.apply_dlg_changes" title="Permalink to this definition">¶</a></dt>
<dd><p>Set the changes you got by calling <code class="xref py py-obj docutils literal"><span class="pre">Operation.get_dialog_changes</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_error">
<code class="descname">set_error</code><span class="sig-paren">(</span><em>title</em>, <em>message</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds an error message to be displayed in the frontend</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_dialog">
<code class="descname">set_dialog</code><span class="sig-paren">(</span><em>dialog</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_dialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a dialog to be shown in the frontend</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHook.set_next_dialog">
<code class="descname">set_next_dialog</code><span class="sig-paren">(</span><em>dialog_name</em>, <em>classname=None</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHook.set_next_dialog" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets a dialog to replace the current dialog in the frontend.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">classname</span></code> is not <code class="docutils literal"><span class="pre">None</span></code>, the dialog is replaced by a dialog from
the CONTACT Elements dialog configuration in the context of the given class.</p>
<p>If <code class="xref py py-obj docutils literal"><span class="pre">classname</span></code> is <code class="docutils literal"><span class="pre">None</span></code>, the operation state of the hook is used to get the
specific class. If the class can not be determined, a dialog without the
context of a specific class is used.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay">
<em class="property">class </em><code class="descclassname">cs.web.components.ui_support.dialog_hooks.</code><code class="descname">DialogHookPreDisplay</code><span class="sig-paren">(</span><em>hook</em>, <em>values</em>, <em>wizard_progress</em>, <em>opstate</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay" title="Permalink to this definition">¶</a></dt>
<dd><p>A dialog hook that is called to manipulate values before they are sent
to the frontend. At this time the hook only supports setting values and wizard progess data.</p>
<p>Get the context object for <code class="xref py py-obj docutils literal"><span class="pre">hook</span></code> which is a <code class="xref py py-obj docutils literal"><span class="pre">WebUIDialogHook</span></code> object
or just a string that contains the hooks name.
<code class="xref py py-obj docutils literal"><span class="pre">values</span></code> is a dictionary that contains the actual values.
<code class="xref py py-obj docutils literal"><span class="pre">type_dict</span></code> is dictionary that contains the types of the actual form.</p>
<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay.get_new_values">
<code class="descname">get_new_values</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay.get_new_values" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a dictionary that contains the actual values of the dialog.</p>
</dd></dl>

<dl class="method">
<dt id="cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay.perform">
<code class="descname">perform</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.web.components.ui_support.dialog_hooks.DialogHookPreDisplay.perform" title="Permalink to this definition">¶</a></dt>
<dd><p>Executes the configured callable and returns the values set during
the execution in the JSON Format of the values.</p>
</dd></dl>

</dd></dl>

</div>
</div>
</div>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>The following code-snippet gives an example how a backend-based dialog hook may display
a simple choice to the user:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">example_hook</span><span class="p">(</span><span class="n">hook</span><span class="p">):</span>
    <span class="kn">from</span> <span class="nn">cs.web.components.ui_support.frontend_dialog</span> <span class="kn">import</span> <span class="n">FrontendDialog</span>
    <span class="n">fe</span> <span class="o">=</span> <span class="n">FrontendDialog</span><span class="p">(</span><span class="s1">&#39;This is a FrontendDialog&#39;</span><span class="p">,</span>
                        <span class="s1">&#39;Please select a choice to continue&#39;</span><span class="p">)</span>
    <span class="n">fe</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s1">&#39;Call Server&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FrontendDialog</span><span class="o">.</span><span class="n">ActionCallServer</span><span class="p">,</span> <span class="n">is_default</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">fe</span><span class="o">.</span><span class="n">add_button</span><span class="p">(</span><span class="s1">&#39;To Dialog&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">FrontendDialog</span><span class="o">.</span><span class="n">ActionBackToDialog</span><span class="p">,</span> <span class="n">is_cancel</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
    <span class="n">hook</span><span class="o">.</span><span class="n">set_dialog</span><span class="p">(</span><span class="n">fe</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="web_ui_operations_restrictions.html" class="btn btn-neutral float-right" title="Restrictions running operations with WEB UI" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="web_ui_operations_config.html" class="btn btn-neutral" title="Web UI Operation Config" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Contact Software.
      Last updated on 01.11.2018.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'15.3.0.6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>