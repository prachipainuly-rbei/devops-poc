

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>OperationHandler &mdash; Web UI Development</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../../genindex.html"/>
        <link rel="search" title="Search" href="../../search.html"/>
    <link rel="top" title="Web UI Development" href="../../index.html"/>
        <link rel="up" title="cs-web-components-base" href="__package_index__.html"/>
        <link rel="next" title="OperationScope" href="OperationScope.html"/>
        <link rel="prev" title="DisplayForm" href="DisplayForm.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="/doc/en" class="icon fa-book">
            Documentation Portal
          </a>
        

        
          <a href="../../index.html" class="icon icon-home"> Web UI Development
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_technical.html">Web UI technical background</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#rendering-an-application">Rendering an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#disable-cache-in-development-scenarios">Disable cache in development scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#frontend-registry">Frontend Registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#immutable-objects">Immutable objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#styling">Styling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#rd-party-javascript-libraries">3rd party JavaScript libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_technical.html#development-toolchain">Development toolchain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_dev_guidelines.html">Guidelines for developing Web UI applications and components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dev_guidelines.html#babel-presets">Babel Presets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dev_guidelines.html#javascript-style-guide">JavaScript style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dev_guidelines.html#react-style-guide">React style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dev_guidelines.html#naming-rules">Naming rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dev_guidelines.html#promise">Promise</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dev_guidelines.html#error-boundaries">Error Boundaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_branding.html">Branding and Styling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_branding.html#overriding-styles">Overriding styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_branding.html#customizing-fonts">Customizing Fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_branding.html#image-urls">Image URLs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_configuration.html">Configuring Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#basic-configuration-framework">Basic configuration framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#application-page">Application Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#generic-page">Generic Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#object-page">Object Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#class-page">Class Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#configuration-files-for-components">Configuration files for components</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#outlets">Outlets</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_configuration.html#display-contexts">Display Contexts</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_operations.html">Kernel operations and the Web UI</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_operations_config.html">Web UI Operation Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_operations_hooks.html">Dialog Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_operations_restrictions.html">Restrictions running operations with WEB UI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_operations_ui.html">Integrating Operation Handling into User Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_operations_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_wincdb.html">Embedded Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_wincdb.html#handling-modifications-in-embedded-web-applications">Handling Modifications in Embedded Web Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_history.html">Recently Used Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_plugins.html">Frontend Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_plugins.html#plugin-configuration">Plugin configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_plugins.html#cs-web-components-plugin-config">cs.web.components.plugin_config</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_dashboard.html">The Dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dashboard.html#design">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dashboard.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_dashboard.html#implementation">Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_make.html">Building And Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_make_create.html">Creating an application template</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_make_doc.html">Generating documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_make_build.html">Building web applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_app_impl_tut.html">Implementing Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_app_impl_tut_layout.html">Application Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_app_impl_tut_backend.html">Backend-specific tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_app_impl_tut_frontend.html">Frontend-specific tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_app_impl_tut_i18n.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_app_impl_tut_customize.html">Customizing BaseApp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../testing.html">Testing cs.web Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../testing.html#testing-with-selenium">Testing with Selenium</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="../../web_ui_jsdoc.html">App Development References</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_jsdoc.html#python-apis">Python APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_jsdoc.html#javascript-apis">Javascript-APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../web_ui_jsdoc.html#known-problems">Known Problems</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../web_ui_jsdoc.html#concept-for-selected-objects">Concept for selected objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../web_ui_dev_glossary.html">Glossary</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../../index.html">Web UI Development</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html">Docs</a> &raquo;</li>
      
          <li><a href="../../web_ui_jsdoc.html">App Development References</a> &raquo;</li>
      
          <li><a href="../toctree.html">Index</a> &raquo;</li>
      
          <li><a href="__package_index__.html">cs-web-components-base</a> &raquo;</li>
      
    <li>OperationHandler</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/_js/cs-web-components-base/OperationHandler.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="operationhandler">
<span id="cs-web-components-base-form-containers-operationhandler-module"></span><h1>OperationHandler<a class="headerlink" href="#operationhandler" title="Permalink to this headline">¶</a></h1>
<div class="contents local topic" id="local-navigation">
<p class="topic-title first">Local Navigation</p>
<ul class="simple">
<li><a class="reference internal" href="#description" id="id1">Description</a><ul>
<li><a class="reference internal" href="#handler-names" id="id2">Handler Names</a></li>
<li><a class="reference internal" href="#operation-state" id="id3">Operation State</a></li>
<li><a class="reference internal" href="#function-properties-passed-to-the-wrapped-component" id="id4">Function Properties passed to the wrapped component</a></li>
</ul>
</li>
<li><a class="reference internal" href="#contents" id="id5">Contents</a><ul>
<li><a class="reference internal" href="#functions" id="id6">Functions</a></li>
</ul>
</li>
</ul>
</div>
<div class="section" id="description">
<h2><a class="toc-backref" href="#id1">Description</a><a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Operation Handlers are container components who can be used to allow the
user to control the execution of an operation. Usually they will present
a configured form to the user, and – on user interaction – send actions
to the saga running the operation.</p>
<p>In order to do that, the HOC
<a class="reference internal" href="#cs-web-components-base-form-containers-operationhandler-withoperationhandler"><span class="std std-ref">WithOperationHandler</span></a>
provides several functions and fields to the wrapped component to interact
with the saga.</p>
<div class="section" id="handler-names">
<h3><a class="toc-backref" href="#id2">Handler Names</a><a class="headerlink" href="#handler-names" title="Permalink to this headline">¶</a></h3>
<p>The operation handler is identified by its handler name. This can either
be set for a whole class of operation handlers when creating the operation
handler component with
<a class="reference internal" href="#cs-web-components-base-form-containers-operationhandler-withoperationhandler"><span class="std std-ref">WithOperationHandler</span></a>
or specifically for one instance of a component, by passing the property
handlerName to the component. Note that this property must not change during
the handlers React component lifecycle, as the handler will be registered in
componentWillMount and unregistered again on componentDidUnmount.</p>
</div>
<div class="section" id="operation-state">
<h3><a class="toc-backref" href="#id3">Operation State</a><a class="headerlink" href="#operation-state" title="Permalink to this headline">¶</a></h3>
<p>The current state of the operation will be passed in as property <code class="docutils literal"><span class="pre">operationState</span></code>.
This <code class="docutils literal"><span class="pre">Immutable.Map</span></code> contains the following fields describing the current state of
the operation:</p>
<ul class="simple">
<li><strong>mode</strong>: The mode the operation’s execution is currently in. See
<a class="reference internal" href="constants.html#cs-web-components-base-form-constants-module"><span class="std std-ref">form-constants</span></a>.</li>
<li><strong>info</strong>: The operation info object, describing the operation that is executed.</li>
<li><strong>params</strong>: Parameters with which the operation was initialized.</li>
<li><strong>values</strong>: The current values of the operation state.</li>
<li><strong>registers</strong>: The registers/fields of the operation.</li>
<li><strong>unchecked</strong>: A list of unchecked fields.</li>
<li><strong>query</strong>: Presubmit Dialog Hooks allow a dialog to be displayed to the user. If
a dialog hook calls the set_dialog function, the dialog configuration will be
passed to the operation handler in this field.</li>
<li><strong>queryCancel</strong>: Boolean that is set, if the user wants to cancel the operation,
but values have changed preventing cancellation.</li>
<li><strong>displayForm</strong>: Boolean that is set if the form should be displayed.</li>
<li><strong>submitDisabled</strong>: Boolean that is set if the OperationHandler should disable
submitting the operation.</li>
<li><strong>pendingChecks</strong>: an <code class="docutils literal"><span class="pre">Immutable.Map</span></code> containing the fields for which asynchonuous
value checks are currently pending.</li>
</ul>
<p>The following fields are provided to determine the current mode of the operation
handler:</p>
<ul class="simple">
<li><strong>isInstanceActive</strong>: An operation has been started, though the operation state may
not yet be initialized.</li>
<li><strong>isInstanceRunning</strong>: An operation has been started, and its operation state has
been initialized.</li>
</ul>
</div>
<div class="section" id="function-properties-passed-to-the-wrapped-component">
<h3><a class="toc-backref" href="#id4">Function Properties passed to the wrapped component</a><a class="headerlink" href="#function-properties-passed-to-the-wrapped-component" title="Permalink to this headline">¶</a></h3>
<p>Basic interaction is achieved via the following functions:</p>
<p><strong>runOperation</strong>: start the execution of an operation. For parametrization, see
<a class="reference internal" href="operations-4.html#cs-web-components-base-operations-actions-operations-runoperation-parameters"><span class="std std-ref">Operation Parameters</span></a>.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>runOperation(
  operation: Immutable.map,
  operationParameters: object,
  operationHandler = undefined: string,
)
</pre></div>
</div>
<p><strong>onChangeValues</strong>: If the user changes one or more values, call this function to update
the operation state. <code class="docutils literal"><span class="pre">operationState.get('values')</span></code> will yield the updated values.
See also: <a class="reference internal" href="operations-4.html#cs-web-components-base-operations-actions-operations-changeoperationvalues"><span class="std std-ref">changeOperationValues</span></a></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>onChangeValues(
  values: Immutable.map,
  unchecked: boolean,
)
</pre></div>
</div>
<p><strong>onSubmit</strong>: This will enter presubmit state. Validity Checks and Dialog Hooks will be run,
and the operation will be submitted, or the operation state will be updated accordingly.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>onSubmit()
</pre></div>
</div>
<p>For ways to cancel a running operation, the following functions are provided:</p>
<p><strong>onCancel</strong>: Cancel the operation. If values have been changed, this will
result in <code class="docutils literal"><span class="pre">operationState.get('queryCancel')</span></code> to be set. The operation handler may
now either continue the operation or cancel it, by invoking <code class="docutils literal"><span class="pre">queryCancelBack</span></code> or
<code class="docutils literal"><span class="pre">queryCancelForce</span></code>.
To bypass checking for changed values, set parameter <code class="docutils literal"><span class="pre">force</span></code> to <code class="docutils literal"><span class="pre">false</span></code>
See also <a class="reference internal" href="operations-4.html#cs-web-components-base-operations-actions-operations-canceloperation"><span class="std std-ref">cancelOperation</span></a></p>
<div class="highlight-none"><div class="highlight"><pre><span></span>onCancel(force = false)
</pre></div>
</div>
<p><strong>queryCancelForce</strong>: If <code class="docutils literal"><span class="pre">queryCancel</span></code> is set, this will cancel the operation.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>queryCancelForce()
</pre></div>
</div>
<p><strong>queryCancelBack</strong>: If <code class="docutils literal"><span class="pre">queryCancel</span></code> is set, this will continue the operation.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>queryCancelBack()
</pre></div>
</div>
<p><strong>forceCancel</strong>: Force cancellation of the operation, regardless of changed values.
This is a conveniance function for calling cancelOperation with parameter <code class="docutils literal"><span class="pre">force</span></code>
set.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>forceCancel()
</pre></div>
</div>
<p>If a presubmit hook displays a dialog to the user, the following functions should be
mapped to the buttons of the dialog if available:</p>
<p><strong>preSubmitDialogBackToDialog</strong>: Update the operation’s values according to
<code class="docutils literal"><span class="pre">attribute</span></code>, and return to the configured form.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>preSubmitDialogBackToDialog(
  attribute: {
    name: string,
    value
  }
)
</pre></div>
</div>
<p><strong>preSubmitDialogCallServer</strong>: Update the operation’s values according to
<code class="docutils literal"><span class="pre">attribute</span></code>, and invoke the dialog hooks again.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>preSubmitDialogCallServer(
  attribute: {
    name: string,
    value
  }
)
</pre></div>
</div>
<p><strong>preSubmitDialogSubmit</strong>: Update the operation’s values according to
<code class="docutils literal"><span class="pre">attribute</span></code>, and submit the operation. Note that you should not call
<code class="docutils literal"><span class="pre">onSubmit</span></code> in the context of a dialog hook.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>preSubmitDialogSubmit(
  attribute: {
    name: string,
    value
  }
)
</pre></div>
</div>
<p><strong>preSubmitDialogCancel</strong>: Cancel the operation. This will query the user for
loss of changed data. There is no way to override this. Note that calling
<code class="docutils literal"><span class="pre">onCancel</span></code> or <code class="docutils literal"><span class="pre">forceCancel</span></code> will not work in the context of a dialog.</p>
<div class="highlight-none"><div class="highlight"><pre><span></span>preSubmitDialogCancel()
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">attribute</span></code> value that three of these functions may provide is used
to update the values in the operation state. These are usually provided in the
dialog configuration and should be retrieved from the operation state by the
component managing the user interation.</p>
</div>
</div>
<div class="section" id="contents">
<h2><a class="toc-backref" href="#id5">Contents</a><a class="headerlink" href="#contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions">
<h3><a class="toc-backref" href="#id6">Functions</a><a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<div class="section" id="withoperationhandler">
<span id="cs-web-components-base-form-containers-operationhandler-withoperationhandler"></span><h4>WithOperationHandler<a class="headerlink" href="#withoperationhandler" title="Permalink to this headline">¶</a></h4>
<p>HOC for creating
<a class="reference internal" href="#cs-web-components-base-form-containers-operationhandler-module"><span class="std std-ref">OperationHandler</span></a>
components. Wrapping a component with this HOC has two effects:</p>
<ul class="simple">
<li>The component is connected to the form_with_operations actions and reducers
allowing the component to execute operations, display the operation state
and interact with the saga executing the operation.</li>
<li>it is registered as a provider using the provider-name provided as a property.
OperationTrigger components may trigger an operation to be executed using this
component.</li>
</ul>
<p>Parameters:</p>
<ul class="simple">
<li>Component: The component to be wrapped</li>
<li>defaultHandlerName: The default handler name, with
which the component will be registered. Component Instances may override this,
by passing in the property <code class="docutils literal"><span class="pre">handlerName</span></code>.</li>
</ul>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="OperationScope.html" class="btn btn-neutral float-right" title="OperationScope" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="DisplayForm.html" class="btn btn-neutral" title="DisplayForm" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Contact Software.
      Last updated on 01.11.2018.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../../',
            VERSION:'15.3.0.6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../../_static/jquery.js"></script>
      <script type="text/javascript" src="../../_static/underscore.js"></script>
      <script type="text/javascript" src="../../_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="../../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>