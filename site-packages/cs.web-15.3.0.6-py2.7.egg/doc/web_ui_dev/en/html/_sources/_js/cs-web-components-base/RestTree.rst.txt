.. _`cs-web-components-base-tree.RestTree.RestTree`:

========
RestTree
========

.. contents:: Local Navigation
   :local:
   :depth: 2

Description
===========

RestTree is a subclass of ``Tree``, that implements a tree view based on the
traversal of references using the generic REST API.

Resolving references
--------------------

TreeDownReferences are specified as a JSON object containing, for each class
that may appear in the tree (as it is the root node, or by following
treedownreferences) the relationship to follow. An example of the syntax of
treeDownReferences is given in
:ref:`cs-web-components-base-RestTree.__module__.example`.

When a node in the tree should be expanded, treeDownReferences is searched
for the class of the object and each of its base classes. Objects that are
related via the relations found that way, will be displayed as child nodes.

``checkChildren`` may be set to ``true`` to prefetch Children of not yet
expanded nodes. This enables a tree to know if a tree node is a leaf before
it is expanded. Note that this may impact performance for large structures.

Rendering the title
-------------------

By default the objects system:description attribute is rendered as the trees title.
If the property titleAttribute is specified, this attribute will be rendered as the
title instead.  If property title is specified this will be rendered instead of an
attribute.

If a custom title renderer component is specified, ``titleAttribute`` and ``title``
properties will be ignored.

.. _`cs-web-components-base-RestTree.__module__.example`:

Example Usage
-------------

**Javascript:**

**Configuration:**

.. code-block:: json

   {
     "name": "cs-web-components-base-ContextObjectSetter",
     "properties": {"setPath": "orgTree"},
     "children": [
       {
         "name": "cs-web-components-base-RestTree",
         "properties": {
           "treeDownReferences": {
             "cdb_organization": [
               {
                 "id": "Suborganizations",
                 "viewName": "complete-target"
               },
               {
                 "id": "Cdb_organization_to_cdb_person",
                 "viewName": "complete-target"
               }
             ],
             "angestellter": [
               {
                 "id": "someRelation",
                 "viewName": "complete-target"
               }
             ]
           }
         }
       }
     ]
   }

React Properties
================

+-----------------------+----------+---------+--------------------------------------+
| Property              | Type     | Default | Use                                  |
+=======================+==========+=========+======================================+
| contextObject         | Object   | -       | The REST API object that is the      |
|                       |          |         | root of the tree                     |
+-----------------------+----------+---------+--------------------------------------+
| titleAttribute        | string   | -       | Specify an object attribute to be    |
|                       |          |         | rendered as title.                   |
+-----------------------+----------+---------+--------------------------------------+
| treeDownReferences    | Object   | -       | Specifies the references that        |
|                       |          |         | should be followed                   |
+-----------------------+----------+---------+--------------------------------------+
| onSelect              | function | -       | Callback function that will be       |
|                       |          |         | invoked when a tree node is selected |
+-----------------------+----------+---------+--------------------------------------+
| checkChildren         | bool     | -       | If set to true prefetch children of  |
|                       |          |         | children to decide if expander       |
|                       |          |         | should be displayed                  |
+-----------------------+----------+---------+--------------------------------------+




