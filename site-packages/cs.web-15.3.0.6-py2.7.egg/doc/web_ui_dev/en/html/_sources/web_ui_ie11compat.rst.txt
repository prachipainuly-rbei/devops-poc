.. _`cs-web-components-base-web_ui_ie11compat`:

Text Input in Internet Explorer 11
##################################

Due to a bug in the key handling for text fields in Internet Explorer
11, the input of text fields may become corrupted. The issue is
explained in `Issue 7027 <https://github.com/facebook/react/issues/7027>`
of the React project.

If the components state is update in parallel to a change to a text
field, a race condition between Reacts state handling and the key
event handling of IE11 may cause the input of text fields to be
overwritten with old data.

As a workaround it is necessary to synchronize state changes that are
triggered by an onChange event in the TextInput component, to be
executed after the changes have been persisted. A simple example may
look as follows:

.. code-block:: javascript

   onValueChange(newValue) {
      setState(
          {value: newValue},
          () => doAsynchronousStateChange()
      );
   }

   render() {
      return (
         <TextInput onValueChange={this.onValueChange}
                    value={this.state.value}
                    ... />
      );
   }
