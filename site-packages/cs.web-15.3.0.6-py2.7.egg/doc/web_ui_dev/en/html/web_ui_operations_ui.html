

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Integrating Operation Handling into User Interfaces &mdash; Web UI Development</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Web UI Development" href="index.html"/>
        <link rel="up" title="Kernel operations and the Web UI" href="web_ui_operations.html"/>
        <link rel="next" title="Examples" href="web_ui_operations_examples.html"/>
        <link rel="prev" title="Restrictions running operations with WEB UI" href="web_ui_operations_restrictions.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="/doc/en" class="icon fa-book">
            Documentation Portal
          </a>
        

        
          <a href="index.html" class="icon icon-home"> Web UI Development
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="web_ui_technical.html">Web UI technical background</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#rendering-an-application">Rendering an application</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#disable-cache-in-development-scenarios">Disable cache in development scenarios</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#frontend-registry">Frontend Registry</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#immutable-objects">Immutable objects</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#styling">Styling</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#rd-party-javascript-libraries">3rd party JavaScript libraries</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_technical.html#development-toolchain">Development toolchain</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_dev_guidelines.html">Guidelines for developing Web UI applications and components</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#babel-presets">Babel Presets</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#javascript-style-guide">JavaScript style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#react-style-guide">React style guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#naming-rules">Naming rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#promise">Promise</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dev_guidelines.html#error-boundaries">Error Boundaries</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_branding.html">Branding and Styling</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_branding.html#overriding-styles">Overriding styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_branding.html#customizing-fonts">Customizing Fonts</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_branding.html#image-urls">Image URLs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_configuration.html">Configuring Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#basic-configuration-framework">Basic configuration framework</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#application-page">Application Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#generic-page">Generic Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#object-page">Object Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#class-page">Class Page</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#configuration-files-for-components">Configuration files for components</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#outlets">Outlets</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_configuration.html#display-contexts">Display Contexts</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="web_ui_operations.html">Kernel operations and the Web UI</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_config.html">Web UI Operation Config</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_hooks.html">Dialog Hooks</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_restrictions.html">Restrictions running operations with WEB UI</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Integrating Operation Handling into User Interfaces</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_operations_examples.html">Examples</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_wincdb.html">Embedded Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_wincdb.html#handling-modifications-in-embedded-web-applications">Handling Modifications in Embedded Web Applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_history.html">Recently Used Objects</a></li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_plugins.html">Frontend Plugins</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_plugins.html#plugin-configuration">Plugin configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_plugins.html#cs-web-components-plugin-config">cs.web.components.plugin_config</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_dashboard.html">The Dashboard</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dashboard.html#design">Design</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dashboard.html#configuration">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_dashboard.html#implementation">Implementation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_make.html">Building And Deployment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_make_create.html">Creating an application template</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_make_doc.html">Generating documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_make_build.html">Building web applications</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_app_impl_tut.html">Implementing Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_layout.html">Application Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_backend.html">Backend-specific tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_frontend.html">Frontend-specific tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_i18n.html">Internationalization</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_app_impl_tut_customize.html">Customizing BaseApp</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="testing.html">Testing cs.web Web Applications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="testing.html#testing-with-selenium">Testing with Selenium</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_jsdoc.html">App Development References</a><ul>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#python-apis">Python APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#javascript-apis">Javascript-APIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#known-problems">Known Problems</a></li>
<li class="toctree-l2"><a class="reference internal" href="web_ui_jsdoc.html#concept-for-selected-objects">Concept for selected objects</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="web_ui_dev_glossary.html">Glossary</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Web UI Development</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="web_ui_operations.html">Kernel operations and the Web UI</a> &raquo;</li>
      
    <li>Integrating Operation Handling into User Interfaces</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/web_ui_operations_ui.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="integrating-operation-handling-into-user-interfaces">
<h1>Integrating Operation Handling into User Interfaces<a class="headerlink" href="#integrating-operation-handling-into-user-interfaces" title="Permalink to this headline">¶</a></h1>
<p>In order to integrate operation handling into custom user interfaces,
two aspects need to be adressed:</p>
<ul class="simple">
<li>Firstly, the available operations for an object or a class need to
be retrieved from the server.</li>
<li>Secondly, these operations need to be executed, possibly involving
user interaction, collecting data, as well as updating the pages to
display results of operations.</li>
</ul>
<p>These different aspects of operation execution may be handled
separately from each other, so that implementors may use the provided
APIs in a flexible way.</p>
<div class="section" id="retrieving-operation-information-from-the-server">
<h2>Retrieving operation information from the server<a class="headerlink" href="#retrieving-operation-information-from-the-server" title="Permalink to this headline">¶</a></h2>
<p>The server provides a REST API to retrieve operation information
objects, which can be used as an input to the operation handling API.
Operation information may be adressed in three different ways:</p>
<ul class="simple">
<li>By name, e.g. <code class="docutils literal"><span class="pre">CDB_Create</span></code>, <code class="docutils literal"><span class="pre">CDB_Modify</span></code>,…</li>
<li>By operation contexts, i.e. a set of operations that may defined in
the backend</li>
<li>All operations given a class</li>
</ul>
<p>The lowest level of retrieving operations are the Redux Actions that
query operations and operation contexts from the server. Though it is
possible to fetch operations by invoking the REST API directly, using
the provided Redux Actions minimizes the number of requests sent, if
operations are fetched multiple times, due to them being required in
multiple places in the interface.</p>
<p>The two methods provided by the interface are:</p>
<ul class="simple">
<li><a class="reference internal" href="_js/cs-web-components-base/operations.html#cs-web-components-base-actions-operations-fetchoperationcontext"><span class="std std-ref">fetchOperationContext</span></a></li>
<li><a class="reference internal" href="_js/cs-web-components-base/operations.html#cs-web-components-base-actions-operations-fetchoperationinfo"><span class="std std-ref">fetchOperationInfo</span></a></li>
</ul>
<p>These will insert the requested operations into the reducer
<code class="docutils literal"><span class="pre">operationsById</span></code> and the requested operation context objects into
<code class="docutils literal"><span class="pre">operationContextById</span></code>. Assuming the Redux State is bound to
variable <code class="docutils literal"><span class="pre">state</span></code>, you may retrieve the operation info objects by
accessing the Redux State:</p>
<div class="highlight-javascript"><div class="highlight"><pre><span></span><span class="kd">function</span> <span class="nx">mapStateToProps</span><span class="p">(</span><span class="nx">state</span><span class="p">,</span> <span class="nx">ownProps</span><span class="p">)</span> <span class="p">{</span>
  <span class="kr">const</span> <span class="nx">myOperation</span> <span class="o">=</span> <span class="nx">state</span><span class="p">.</span><span class="nx">operationsById</span><span class="p">.</span><span class="nx">getIn</span><span class="p">([</span>
    <span class="nx">ownProps</span><span class="p">.</span><span class="nx">myClass</span><span class="p">,</span>
    <span class="s1">&#39;operations&#39;</span><span class="p">,</span>
    <span class="nx">ownProps</span><span class="p">.</span><span class="nx">myOpName</span><span class="p">,</span>
  <span class="p">]);</span>

  <span class="k">return</span> <span class="p">{</span><span class="nx">myOperation</span><span class="p">};</span>
<span class="p">}</span>
</pre></div>
</div>
<p>As an alternative to these interfaces, Web UI also provides a higher
order component –
<a class="reference internal" href="_js/cs-web-components-base/WithOperations.html#cs-web-components-base-components-withoperations-module"><span class="std std-ref">WithOperations</span></a>
– that may be used to supply the wrapped component with
a set of operations in its props. This set is always restricted to an
object class, either determined by naming the type, or calculated from
the set of objects provided to the HOC. For most use cases, using
<code class="docutils literal"><span class="pre">WithOperations</span></code> should be sufficient.</p>
</div>
<div class="section" id="executing-operations">
<span id="operations-frontend-execution"></span><h2>Executing operations<a class="headerlink" href="#executing-operations" title="Permalink to this headline">¶</a></h2>
<p>In order to execute operations from the server, there are multiple
ways to execute an operation.</p>
<p><strong>FormWithOperations</strong>: The simplest way is by embedding the
<a class="reference internal" href="_js/cs-web-components-base/FormWithOperations.html#cs-web-components-base-form-containers-formwithoperations-formwithoperations"><span class="std std-ref">FormWithOperations</span></a>,
component, which does not require manually fetching the
operations. This component may simply be embedded into a page, where
it may be used to execute operations using the classic CONTACT Elements
masks.</p>
<p><strong>Custom Handling</strong>: If a developer wants more control over the way
the user may start, submit and cancel operations or customize the way in
which data required for the operation is collected, OperationScope-based
operation execution may be used. This mechanism basically consists of
three components:</p>
<ul class="simple">
<li><a class="reference internal" href="_js/cs-web-components-base/OperationTrigger.html#cs-web-components-base-form-containers-operationtrigger-module"><span class="std std-ref">OperationTrigger</span></a></li>
<li><a class="reference internal" href="_js/cs-web-components-base/OperationHandler.html#cs-web-components-base-form-containers-operationhandler-module"><span class="std std-ref">OperationHandler</span></a></li>
<li><a class="reference internal" href="_js/cs-web-components-base/OperationScope.html#cs-web-components-base-form-containers-operationscope-module"><span class="std std-ref">OperationScope</span></a></li>
</ul>
<p>An
<a class="reference internal" href="_js/cs-web-components-base/OperationTrigger.html#cs-web-components-base-form-containers-operationtrigger-module"><span class="std std-ref">OperationTrigger</span></a>
initiates an operation by dispatching a
<a class="reference internal" href="_js/cs-web-components-base/operations-4.html#cs-web-components-base-operations-actions-operations-runoperation"><span class="std std-ref">runOperation</span></a>.
E.g. the application bars in the Web UI implement an <code class="docutils literal"><span class="pre">OperationTrigger</span></code>
that displays the available operations for the pages entities and starts
the execution of the selected operation.</p>
<p>An
<a class="reference internal" href="_js/cs-web-components-base/OperationHandler.html#cs-web-components-base-form-containers-operationhandler-module"><span class="std std-ref">OperationHandler</span></a>
is responsible for executing the operation: It may
collect data, either by displaying a configured mask or rendering a
frontend-based form, execute the operation, and finally update the
page accordingly (if custom update handling is required).</p>
<p>In order for <code class="docutils literal"><span class="pre">OperationTrigger</span></code> and <code class="docutils literal"><span class="pre">OperationHandler</span></code> to
communicate with each other, an <code class="docutils literal"><span class="pre">OperationScope</span></code> is required.  This
component is above both trigger and handler in the component
hierarchy.  A handler then registers itself in the scope, and the
trigger uses the scope to determine the correct handler to be invoked
for the scope.</p>
<p>Handlers and Operation Information objects both define a
<span class="guilabel">Presentation ID</span>, that is used to identify the correct
handler for an operation. E.g., the id <code class="docutils literal"><span class="pre">modal</span></code> is used to execute an
operation using a modal dialog.</p>
<p><code class="docutils literal"><span class="pre">OperationScopes</span></code> may be nested, in that case, the trigger will
search upwards in the hierarchy until a matching handler is found.</p>
<p>Each web application is automatically rendered with two operation
handlers. Firstly, one that handles those operations that are based
on E-Link applications, e.g. the <code class="docutils literal"><span class="pre">share</span></code>-operation, by redirecting
to the appropriate E-Link page. Secondly, there is a default operation
handler that handles all form-based operations by rendering the form
in a modal dialog.
If you do not define an operation scope with custom
operation handlers in your page, these two handlers will handle the
execution of your operations nonetheless.</p>
</div>
<div class="section" id="starting-operation-execution">
<h2>Starting operation execution<a class="headerlink" href="#starting-operation-execution" title="Permalink to this headline">¶</a></h2>
<p>To start the execution of an operation a component needs to dispatch a
<code class="docutils literal"><span class="pre">runOperation</span></code> action. It is not recommended to dispatch this action
directly but either use one of the provided components such as
<code class="docutils literal"><span class="pre">TableOperationToolbar</span></code> and <code class="docutils literal"><span class="pre">ContentOperationToolbar</span></code> or to
implement a custom OperationTrigger.</p>
</div>
<div class="section" id="handling-operation-results">
<h2>Handling Operation Results<a class="headerlink" href="#handling-operation-results" title="Permalink to this headline">¶</a></h2>
<p>Operation Results may be handled in different ways. If the
OperationHandlers <code class="docutils literal"><span class="pre">submitOperation</span></code> method is executed, the server
will respond with a response object that may either contain a
<code class="docutils literal"><span class="pre">ui_link</span></code> field, or an <code class="docutils literal"><span class="pre">object</span></code> field.</p>
<p>The <code class="docutils literal"><span class="pre">ui_link</span></code> field usually means, that the result of the operation
can be displayed by navigating the browser to the URL value of the
field, while the <code class="docutils literal"><span class="pre">object</span></code> field may, e.g., contain a modified or
created object.</p>
<p>By default <code class="docutils literal"><span class="pre">OperationHandler</span></code> will handle these results as follows:</p>
<ul class="simple">
<li><code class="docutils literal"><span class="pre">ui_link</span></code> will result in the provided URL to be navigated in the
browser tab in which the operation was submitted</li>
<li>an <code class="docutils literal"><span class="pre">object</span></code> will result in an update of the store, which in turn
will update connected components in the page.</li>
</ul>
<p>Custom behaviour may be implemented by <code class="docutils literal"><span class="pre">OperationTrigger</span></code> and
<code class="docutils literal"><span class="pre">OperationHandler</span></code> components by calling <code class="docutils literal"><span class="pre">setSubmitHandler</span></code> and
providing a callback that should be executed.</p>
</div>
<div class="section" id="handling-of-cdb-delete">
<h2>Handling of <code class="docutils literal"><span class="pre">CDB_Delete</span></code><a class="headerlink" href="#handling-of-cdb-delete" title="Permalink to this headline">¶</a></h2>
<p>Due to technical reasons, the operation <code class="docutils literal"><span class="pre">CDB_Delete</span></code> should usually
be invoked using <code class="docutils literal"><span class="pre">navigation-id='delete'</span></code>. For one reason the delete
operation has no associated form, while default operation handlers are
based on a configured form from the backend.
The other reason is the handling of deleting the context object of detail
pages. Since detail pages usually rely on the context object, the detail
page is not valid after deletion, and the default <code class="docutils literal"><span class="pre">delete</span></code> Handler
handles this case.</p>
</div>
<div class="section" id="navigation-based-operations">
<h2>Navigation-based Operations<a class="headerlink" href="#navigation-based-operations" title="Permalink to this headline">¶</a></h2>
<p>Operations like <code class="docutils literal"><span class="pre">CDB_ShareObject</span></code>, which should navigate directly to
a new tab but don’t expect any input parameters, should be configured
with <code class="docutils literal"><span class="pre">navigation-id='navigate-new-tab'</span></code>. Note, that in order to
avoid popup-blockers, the OperationTrigger for these Operations should
only be invoked from the browser’s event handling thread (e.g., by
pressing a button).</p>
</div>
<div class="section" id="operations-without-user-interaction">
<h2>Operations without user interaction<a class="headerlink" href="#operations-without-user-interaction" title="Permalink to this headline">¶</a></h2>
<p>If an operation should always be run without any user interation, you
should configure the operation with <code class="docutils literal"><span class="pre">navigation-id='no-form'</span></code>.</p>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="web_ui_operations_examples.html" class="btn btn-neutral float-right" title="Examples" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="web_ui_operations_restrictions.html" class="btn btn-neutral" title="Restrictions running operations with WEB UI" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Contact Software.
      Last updated on 01.11.2018.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'15.3.0.6',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>