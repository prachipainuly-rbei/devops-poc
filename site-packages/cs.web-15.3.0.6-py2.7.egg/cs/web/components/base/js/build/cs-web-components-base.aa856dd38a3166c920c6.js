!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("React"),require("cs-web-components-externals"),require("Immutable"),require("ReactBootstrap"),require("moment"),require("ReactDOM")):"function"==typeof define&&define.amd?define(["React","cs-web-components-externals","Immutable","ReactBootstrap","moment","ReactDOM"],t):"object"==typeof exports?exports["cs-web-components-base"]=t(require("React"),require("cs-web-components-externals"),require("Immutable"),require("ReactBootstrap"),require("moment"),require("ReactDOM")):e["cs-web-components-base"]=t(e.React,e["cs-web-components-externals"],e.Immutable,e.ReactBootstrap,e.moment,e.ReactDOM)}(this,function(e,t,n,r,o,a){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=238)}([function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return z}function a(){var e=document.createElement("p");e.style.width="100%",e.style.height="200px";var t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="150px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);var n=e.offsetWidth;t.style.overflow="scroll";var r=n===e.offsetWidth?t.clientWidth:e.offsetWidth;return document.body.removeChild(t),n-r}function i(e,t){return(e===window.document?e.body:e).contains(t)}function s(e){return"cs-web-components-base-"+e}function l(e,t){return e.getIn(["system:relships","relships",t])}function u(e,t,n){var r=l(t,n),o=e.relshipsById.get(r);return null===o||void 0===o?o:"string"==typeof o?e.objectsById.get(o):o.map(function(t){return e.objectsById.get(t)}).filter(function(e){return void 0!==e})}function c(e){return e.displayName||e.name||"Component"}function p(e){if(!e)return"";var t=void 0;t=e.endsWith("T00:00:00")?o().getIn(["formats","dateFormat"]):o().getIn(["formats","dateTimeFormat"]).replace("hh","HH");var n=(0,D.default)(e,D.default.ISO_8601).format(t);return"Invalid date"===n?e:n}function f(e){if(e){var t=e.get("value");if(void 0!==t)return t.get(0)+" "+t.get(1)}return""}function d(e){if(void 0!==e){var t=new H.default(e).formatVariableFixed();return t=H.default.removeTrailingDecimalsZeros(t)}return e}function h(e){return d(e)}function y(e,t){return t===L.DATA_TYPES.PQ?f(e):t===L.DATA_TYPES.DATE?p(e):t===L.DATA_TYPES.FLOAT?d(e):t===L.DATA_TYPES.INTEGER?h(e):e}function m(e){var t=!1;return{promise:new Promise(function(n,r){e.then(function(e){return t?r({isCanceled:!0}):n(e)}),e.catch(function(e){return r(t?{isCanceled:!0}:e)})}),cancel:function(){t=!0}}}function g(e){var t=Promise.resolve();return e.forEach(function(e){t=t.then(function(){return e.call()})}),t}function b(e){function t(e){return r.push(e),e}function n(e){return o=!0,t(e)}var r=[],o=!1,a=Promise.resolve();return e.forEach(function(e){a=a.then(function(){return e.call().then(t,n)})}),a.then(function(){return o?Promise.reject(r):Promise.resolve(r)})}function v(e,t){var n=window.location.origin+t;if(0===e.indexOf(n))return e.substr(window.location.origin.length)}function _(e,t,n){var r=o().getIn(["pluginConfiguration",e]);return void 0===r?n:r.toSeq().filter(function(e){return t(e.get("discriminator"))}).map(function(e){return x.Registry.findComponent(e.get("component"))}).filter(function(e){return void 0!==e}).get(0,n)}function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t?"?"+F.qs.stringify(t):"";return""+o().getIn(["links","common","iconBase"])+e+n}function O(){return o().getIn(["appSettings","isCEDesktop"])}function T(e){return e&&L.SUPPORTED_IMAGE_TYPES.indexOf(e.toLowerCase())>-1}function E(e){return e&&L.SUPPORTED_VIDEO_TYPES.indexOf(e.toLowerCase())>-1}function C(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.getIn(["relship:files","targets"],A.default.List()).filter(function(e){return T(e.get("system:content_type"))});return n.size>0?n.first().get("@id"):t}function w(e){var t=e?e.search.substring(1):"";return F.qs.parse(t)}function P(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=e?e.search.substring(1):"",o=F.qs.parse(r),a=n?Object.assign(o,t):t;return Object.assign({},e,{search:F.qs.stringify(a)})}function N(e){var t=e?e.get("label",""):"";return""!==t.trim()?t:e?e.get("attribute_label",""):""}function I(e,t){var n=o().getIn(["links","common",e]);return void 0===n&&G.warn("appSetup.links.common."+e+" is undefined!"),Object.keys(t).reduce(function(e,n){return e.replace("${"+n+"}",t[n])},n)}function R(e,t){return e.replace(/\${[^}]+}/g,function(e){return t?t.get(e.substring(2,e.length-1),""):""})}function j(e){return e.startsWith("/")||W.test(e)?e:"http://"+e}Object.defineProperty(t,"__esModule",{value:!0}),t.compose=t.Console=t.debugMode=void 0,t.getAppSetup=o,t.getScrollBarWidth=a,t.contains=i,t.prefixNS=s,t.getRelshipUrl=l,t.referencedObjects=u,t.getDisplayName=c,t.timeToDisplayFormat=p,t.getPhysQuantText=f,t.floatToDisplayFormat=d,t.intToDisplayFormat=h,t.toDisplayFormat=y,t.makeCancelable=m,t.makeSequence=g,t.makeSequenceWithResults=b,t.getLocalPathForURL=v,t.getPlugin=_,t.getIcon=S,t.isCEDesktop=O,t.isSupportedImageType=T,t.isSupportedVideoType=E,t.getObjectImage=C,t.parseQuery=w,t.updateQuery=P,t.getStandaloneLabel=N,t.createLinkWithPattern=I,t.substitute_link_variables=R,t.ensureLinkProtocol=j;var x=n(13),M=n(3),A=r(M),k=n(23),D=r(k),L=n(18),F=n(1),B=n(50),H=r(B),z=A.default.fromJS(window.appSetup||{}),U=t.debugMode=o().getIn(["appSettings","debugMode"]),V=function(e){return U?e:function(){}},G=t.Console={log:V(console.log.bind(window.console)),warn:V(console.warn.bind(window.console)),error:V(console.error.bind(window.console))},W=(t.compose=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(function(e,t){return t(e)},e)},new RegExp("^[A-Za-z]+:\\/\\/"))},function(e,t){e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t.formatStr=t.Format=t.i18ndb=void 0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(0),p=r(c),f=n(1),d=n(10),h=n(2),y=function(){function e(t){a(this,e),this._locale=t,this._getMessageFormat=(0,f.memoizeFormatConstructor)(f.IntlMessageFormat.default),this._messages=u.default.Map()}return s(e,[{key:"setLocale",value:function(e){var t=this;this._locale=e;var n=(0,h.getAppSetup)().getIn(["links","common","i18nLabels"]);return(0,d.getJSON)(n).then(function(e){t._messages=t._messages.mergeDeep(e)},function(e){h.Console.error("Loading i18n labels failed:",e)})}},{key:"makeMessageId",value:function(e,t){return e+"."+t}},{key:"makeMessageDescriptor",value:function(e,t){return{id:this.makeMessageId(e,t),defaultMessage:this.getMessage(e,t)}}},{key:"getMessage",value:function(e,t){var n=this._messages.getIn([e,t]);return void 0===n?"[Missing label: "+this.makeMessageId(e,t)+"]":n}},{key:"makeFormat",value:function(e){var t=this,n=function(n){var r=n.messageId,a=n.domainId,s=o(n,["messageId","domainId"]),l=a||e;return p.default.createElement(f.ReactIntl.FormattedMessage,i({},s,{id:t.makeMessageId(l,r),defaultMessage:t.getMessage(l,r)}))};return n.propTypes={messageId:f.PropTypes.string.isRequired,domainId:f.PropTypes.string,values:f.PropTypes.object},n}},{key:"makeMessageFormatter",value:function(e,t){return this._getMessageFormat(this.getMessage(e,t),this._locale)}},{key:"formatString",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.makeMessageFormatter(t,e).format(n)}},{key:"makeFormatStr",value:function(e){var t=this;return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return t.makeMessageFormatter(e,n).format(r)}catch(t){return h.Console.error("Resolving i18n label failed: ",t),"[Error resolving i18n string {"+e+"."+n+"}]"}}}},{key:"defaultMessages",value:function(e){var t=e.domainId,n=e.messages;this._messages=this._messages.mergeIn([t],n)}}]),e}(),m=t.i18ndb=new y;t.Format=m.makeFormat("base"),t.formatStr=m.makeFormatStr("base")},,function(e,t){e.exports=r},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return function(t){return I.default.createElement(j.ButtonGroup,P({title:e},t))}}function u(e){var t=P({},e),n=!0,r=!1,o=void 0;try{for(var a,i=ae[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){delete t[a.value]}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return t}function c(e){var t=e.buttonStyle,n=e.label,r=e.title,a=e.className,i=o(e,["buttonStyle","label","title","className"]),s=(0,R.classNames)((0,A.prefixNS)("text-button"),(0,A.prefixNS)("semantic-button-"+t),"btn","btn-default",a),l=n||r;return I.default.createElement(L.default,P({className:s,title:r},i),l)}function p(e){var t=e.iconSrc,n=e.iconName,r=e.className,a=e.title,i=e.buttonStyle,s=e.label,l=o(e,["iconSrc","iconName","className","title","buttonStyle","label"]),u=s||a;return I.default.createElement(L.default,P({title:a,className:(0,R.classNames)((0,A.prefixNS)("text-button"),(0,A.prefixNS)("icon-text-button-"+i),(0,A.prefixNS)("semantic-button-"+i),"btn","btn-default",r)},l),I.default.createElement(k.SVGIconAndLabel,{name:n,src:t,label:u}))}function f(e,t,n){var r=o(e,[]);return delete r.buttonStyle,delete r.iconSrc,delete r.iconName,I.default.createElement(le,P({buttonStyle:t,iconSrc:n},r))}function d(e){return f(e,"auxiliary",G.default)}function h(e){return f(e,"danger",G.default)}function y(e){return f(e,"auxiliary",q.default)}function m(e){return f(e,"auxiliary",Z.default)}function g(e){return f(e,"info",ne.default)}function b(e){return f(e,"auxiliary",oe.default)}function v(e){return f(e,"auxiliary",U.default)}function _(e){return f(e,"auxiliary",H.default)}function S(e){return f(e,"primary",ee.default)}function O(e){return f(e,"info",X.default)}function T(e){return f(e,"info",J.default)}function E(e){return f(e,"primary",X.default)}function C(e){return f(e,"primary",J.default)}Object.defineProperty(t,"__esModule",{value:!0}),t.DownloadButton=t.DropdownIconTextButton=t.IconTextButton=t.DropdownIconButton=t.IconButton=t.DropdownTextButton=t.TextButton=void 0;var w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.LinkAsTextButton=c,t.LinkAsIconTextButton=p,t.CloseButton=d,t.CancelButton=h,t.ResizeSmallerButton=y,t.ResizeBiggerButton=m,t.SettingsButton=g,t.EditButton=b,t.ExpanderButtonExpanded=v,t.ExpanderButtonCollapsed=_,t.FilterButton=S,t.IncreaseButton=O,t.DecreaseButton=T,t.ZoomInButton=E,t.ZoomOutButton=C;var N=n(0),I=r(N),R=n(1),j=n(6),x=n(11),M=r(x),A=n(2),k=n(25),D=n(29),L=r(D),F=n(4),B=n(114),H=r(B),z=n(82),U=r(z),V=n(66),G=r(V),W=n(115),q=r(W),Y=n(116),Z=r(Y),Q=n(117),J=r(Q),K=n(83),X=r(K),$=n(84),ee=r($),te=n(85),ne=r(te),re=n(118),oe=r(re),ae=["noCaret","pullRight","caret"],ie=t.TextButton=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.buttonStyle,n=e.label,r=e.title,a=e.className,i=e.caret,s=o(e,["buttonStyle","label","title","className","caret"]),l=(0,R.classNames)((0,A.prefixNS)("text-button"),(0,A.prefixNS)("semantic-button-"+t),a),c=n||r;return I.default.createElement(j.Button,P({"aria-label":r,bsStyle:"link"===t?"link":"default",className:l},u(s)),c,i?I.default.createElement("span",{key:"caret",className:"caret"}):null)}}]),t}(I.default.Component);ie.propTypes={buttonStyle:R.PropTypes.string,label:R.PropTypes.node,title:R.PropTypes.string,className:R.PropTypes.string,caret:R.PropTypes.bool},ie.defaultProps={buttonStyle:"outline"};var se=t.DropdownTextButton=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ButtonGroupWithTooltip=l(e.title),n}return s(t,e),w(t,[{key:"componentWillReceiveProps",value:function(e){e.title!==this.props.title&&(this.ButtonGroupWithTooltip=l(e.title))}},{key:"render",value:function(){var e=this.props,t=e.buttonStyle,n=e.children,r=e.className,a=e.label,i=e.title,s=o(e,["buttonStyle","children","className","label","title"]),l=(0,R.classNames)((0,A.prefixNS)("text-button"),(0,A.prefixNS)("semantic-button-"+t),r),u=I.default.createElement("span",null,a||i);return I.default.createElement(j.DropdownButton,P({componentClass:this.ButtonGroupWithTooltip,title:u,bsStyle:"link"===t?"link":"default",className:l},s),n)}}]),t}(I.default.Component);se.propTypes={buttonStyle:R.PropTypes.string,label:R.PropTypes.node,title:R.PropTypes.string,className:R.PropTypes.string},se.defaultProps={buttonStyle:"outline"};var le=t.IconButton=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.tabIndex,n=e.iconSrc,r=e.iconName,a=e.className,i=e.title,s=e.size,l=e.buttonStyle,c=o(e,["tabIndex","iconSrc","iconName","className","title","size","buttonStyle"]);return I.default.createElement(j.Button,P({tabIndex:t,title:i,className:(0,R.classNames)(a,(0,A.prefixNS)("icon-button"),(0,A.prefixNS)("icon-button-size-"+s),(0,A.prefixNS)("icon-button-"+l),(0,A.prefixNS)("semantic-button-"+l))},u(c)),I.default.createElement(M.default,{name:r,src:n,size:s}))}}]),t}(I.default.Component);le.propTypes={tabIndex:R.PropTypes.number,buttonStyle:R.PropTypes.string,iconName:R.PropTypes.string,iconSrc:R.PropTypes.string,size:R.PropTypes.string,title:R.PropTypes.string,className:R.PropTypes.string},le.defaultProps={buttonStyle:"primary",size:"sm"};var ue=t.DropdownIconButton=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ButtonGroupWithTooltip=l(e.title),n}return s(t,e),w(t,[{key:"componentDidMount",value:function(){A.Console.warn("DropdownIconButton is deprecated. Please use Overlays.DropdownIconButton instead.")}},{key:"componentWillReceiveProps",value:function(e){e.title!==this.props.title&&(this.ButtonGroupWithTooltip=l(e.title))}},{key:"render",value:function(){var e=this.props,t=e.buttonStyle,n=e.children,r=e.className,a=e.iconName,i=e.iconSrc,s=e.size,l=o(e,["buttonStyle","children","className","iconName","iconSrc","size"]),u=I.default.createElement(M.default,{name:a,src:i,size:s});return I.default.createElement(j.DropdownButton,P({},l,{componentClass:this.ButtonGroupWithTooltip,title:u,className:(0,R.classNames)(r,(0,A.prefixNS)("icon-button"),(0,A.prefixNS)("icon-button-size-"+s),(0,A.prefixNS)("icon-button-"+t),(0,A.prefixNS)("semantic-button-"+t))}),n)}}]),t}(I.default.Component);ue.propTypes={buttonStyle:R.PropTypes.string,iconName:R.PropTypes.string,iconSrc:R.PropTypes.string,size:R.PropTypes.string,title:R.PropTypes.string,className:R.PropTypes.string},ue.defaultProps={buttonStyle:"primary",size:"sm"};var ce=t.IconTextButton=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),w(t,[{key:"render",value:function(){var e=this.props,t=e.iconSrc,n=e.iconName,r=e.caret,a=e.className,i=e.title,s=e.buttonStyle,l=e.label,c=o(e,["iconSrc","iconName","caret","className","title","buttonStyle","label"]);return I.default.createElement(j.Button,P({"aria-label":i,className:(0,R.classNames)(a,(0,A.prefixNS)("text-button"),(0,A.prefixNS)("icon-text-button-"+s),(0,A.prefixNS)("semantic-button-"+s))},u(c)),I.default.createElement(k.SVGIconAndLabel,{name:n,src:t,label:l}),r?I.default.createElement("span",{key:"caret",className:"caret"}):null)}}]),t}(I.default.Component);ce.propTypes={buttonStyle:R.PropTypes.string,iconName:R.PropTypes.string,iconSrc:R.PropTypes.string,className:R.PropTypes.string,title:R.PropTypes.string,label:R.PropTypes.node,caret:R.PropTypes.bool},ce.defaultProps={buttonStyle:"outline"};var pe=t.DropdownIconTextButton=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.ButtonGroupWithTooltip=l(e.title),n}return s(t,e),w(t,[{key:"componentWillReceiveProps",value:function(e){e.title!==this.props.title&&(this.ButtonGroupWithTooltip=l(e.title))}},{key:"render",value:function(){var e=this.props,t=e.buttonStyle,n=e.children,r=e.className,a=e.label,i=e.title,s=e.iconSrc,l=e.iconName,u=o(e,["buttonStyle","children","className","label","title","iconSrc","iconName"]),c=(0,R.classNames)((0,A.prefixNS)("text-button"),(0,A.prefixNS)("icon-text-button-"+t),(0,A.prefixNS)("semantic-button-"+t),r),p=I.default.createElement(k.SVGIconAndLabel,{label:a||i,name:l,src:s});return I.default.createElement(j.DropdownButton,P({componentClass:this.ButtonGroupWithTooltip,title:p,className:c},u),n)}}]),t}(I.default.Component);pe.propTypes={buttonStyle:R.PropTypes.string,label:R.PropTypes.node,title:R.PropTypes.string,className:R.PropTypes.string,iconSrc:R.PropTypes.string,iconName:R.PropTypes.string},pe.defaultProps={buttonStyle:"outline"},c.propTypes={buttonStyle:R.PropTypes.string,label:R.PropTypes.string,title:R.PropTypes.string,className:R.PropTypes.string},c.defaultProps={buttonStyle:"outline"},p.propTypes={buttonStyle:R.PropTypes.string,iconName:R.PropTypes.string,iconSrc:R.PropTypes.string,title:R.PropTypes.string,className:R.PropTypes.string,label:R.PropTypes.string},p.defaultProps={buttonStyle:"outline"};var fe=t.DownloadButton=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={url:e.url},n.downloadDocument=n.downloadDocument.bind(n),n}return s(t,e),w(t,[{key:"downloadDocument",value:function(){return window.open(this.state.url)}},{key:"render",value:function(){var e=o(this.props,[]);return delete e.url,I.default.createElement(le,P({},e,{title:(0,F.formatStr)("file_preview_download_label"),onClick:this.downloadDocument}))}}]),t}(I.default.Component);fe.propTypes={url:R.PropTypes.string},fe.defaultProps={buttonStyle:"primary",iconName:"csweb_download"},t.default={TextButton:ie,DropdownTextButton:se,IconButton:le,DropdownIconButton:ue,IconTextButton:ce,DropdownIconTextButton:pe,LinkAsTextButton:c,LinkAsIconTextButton:p,CloseButton:d,CancelButton:h,ResizeBiggerButton:m,ResizeSmallerButton:y,SettingsButton:g,EditButton:b,ExpanderButtonCollapsed:_,ExpanderButtonExpanded:v,FilterButton:S,IncreaseButton:O,DecreaseButton:T,ZoomInButton:E,ZoomOutButton:C,DownloadButton:fe}},function(e,t,n){"use strict";function r(){var e=arguments.length>0?arguments.length<=0?void 0:arguments[0]:null,t=arguments.length>1?arguments.length<=1?void 0:arguments[1]:null,n=arguments.length>2?arguments.length<=2?void 0:arguments[2]:null,r=Object.assign({},arguments.length>3?arguments.length<=3?void 0:arguments[3]:null,{storeKey:"tableStore"});return(0,o.connect)(e,t,n,r)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(1)},function(e,t,n){"use strict";function r(e){this.message=e||"Network Error"}function o(e){if(e.ok)return e;var t=new Error(e.statusText);throw t.response=e,y.Console.log("Error in response: ",t),t}function a(e){if(m[e])return m[e];var t=new RegExp(e+"=([^;]+)"),n=t.exec(document.cookie);return n&&(m[e]=unescape(n[1])),m[e]}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object.assign(t,{credentials:"same-origin"});return n.headers||(n.headers={}),n.headers["X-Csrf-Token"]=a("CSRFToken"),void 0===e&&y.Console.log("Fetch error: URL is undefined."),fetch(e,n).catch(function(e){throw y.Console.log("Request error: ",e),new r(e.message)}).then(o)}function s(e,t){if(t){var n=document.createElement("a");n.href=e;var r="?";return n.search?r="&":e.endsWith("?")&&(r=""),""+e+r+h.qs.stringify(t,{indices:!1})}return e}function l(e,t){return i(s(e,t)).then(function(e){return e.json()})}function u(e,t,n){return i(e,{method:t,headers:{Accept:"application/json","Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(n)}).then(function(e){return e.text().then(function(e){return e?Promise.resolve(JSON.parse(e)):Promise.resolve(e)})})}function c(e,t){return u(e,"POST",t)}function p(e,t){return i(e,{method:"POST",body:t}).then(function(e){return e.json()})}function f(e,t){return u(e,"PUT",t)}function d(e){return i(e,{method:"DELETE"})}Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkError=r,t.fetchAndCheck=i,t.urlWithParams=s,t.getJSON=l,t.postJSON=c,t.postForm=p,t.putJSON=f,t.deleteObject=d;var h=n(1),y=n(2);r.prototype=Object.create(Error.prototype),r.prototype.name="NetworkError",r.prototype.constructor=r;var m={}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=b[e];if(void 0===t){var n=v[e];if(void 0!==n)return n;var r=(0,y.fetchAndCheck)(e).then(function(t){return delete v[e],t.headers.get("Content-Type").startsWith(_)?b[e]=t.text():b[e]=null,b[e]},function(t){throw delete v[e],b[e]=null,t});return v[e]=r,r}return Promise.resolve(t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(1),h=n(2),y=n(10),m=n(65),g=r(m),b={},v={},_="image/svg+xml",S="data:image/svg+xml;base64,".length,O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={svg:null,src:""},n.promise=null;var r=e.size;return"xs"!==r&&"xl"!==r&&"xxs"!==r&&"xxl"!==r||h.Console.warn("The prop `size` of value `"+r+'` supplied to `SVGIcon` is deprecated. Please use one of ["sm","md","lg"]'),n.onImageError=n.onImageError.bind(n),n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){this.loadSVG(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.getURL(e)!==this.getURL(this.props)&&this.loadSVG(e)}},{key:"componentWillUnmount",value:function(){null!==this.promise&&(this.promise.cancel(),this.promise=null)}},{key:"loadEmbeddedSVGData",value:function(e){var t=e.substring(S),n=atob(t);this.setState({svg:n})}},{key:"loadSVGfromURL",value:function(e,t){var n=this;if(null!==this.promise&&this.promise.cancel(),e.startsWith("data:image/svg+xml;base64,"))return void this.loadEmbeddedSVGData(e);this.promise=(0,h.makeCancelable)(l(e)),this.promise.promise.then(function(r){if(null!==n.promise){var o=t.fallbackSVG;if(n.promise=null,null===r&&void 0!==o&&o!==e)n.loadSVGfromURL(o,t);else{var a=n.getURL(t);n.setState({svg:r||null,src:a})}}}).catch(function(){if(null!==n.promise){n.promise=null;var e=n.getURL(t);n.setState({svg:null,src:e})}})}},{key:"loadSVG",value:function(e){var t=this.getURL(e),n=e.fallbackSVG;void 0===t&&void 0===n||this.loadSVGfromURL(t,e)}},{key:"getURL",value:function(e){var t=e.src,n=e.name;return t||(n?(0,h.getIcon)(n):void 0)}},{key:"renderSVG",value:function(){return{__html:this.state.svg}}},{key:"onImageError",value:function(){this.loadEmbeddedSVGData(g.default)}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.className,r=o(e,["size","className"]);delete r.name,delete r.src,delete r.fallbackSVG,delete r.onError;var a=(0,d.classNames)(n,(0,h.prefixNS)("svg-icon"),(0,h.prefixNS)("icon-size-"+t));return this.state.svg?f.default.createElement("div",u({dangerouslySetInnerHTML:this.renderSVG(),className:a},r)):this.state.src?f.default.createElement("img",u({src:this.state.src,className:a,onError:this.onImageError},r)):f.default.createElement("div",u({className:a},r))}}]),t}(f.default.Component);t.default=O,O.propTypes={name:d.PropTypes.string,src:d.PropTypes.string,fallbackSVG:d.PropTypes.string,className:d.PropTypes.string,size:d.PropTypes.oneOf(["xxs","xs","sm","md","lg","xl","xxl"])},O.defaultProps={size:"sm"}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return{type:X,payload:e}}function a(e){return{type:$,payload:e}}function i(e){return{type:te,payload:e}}function s(e){return{type:ne,payload:e}}function l(e){return{type:re,payload:e}}function u(e){return{type:oe,payload:e}}function c(e){return{type:ae,payload:e}}function p(){return{type:ie,payload:void 0}}function f(e){return{type:F,payload:e}}function d(e){return{type:B,payload:e}}function h(e){return{type:H,payload:e}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:z,payload:{rows:e,selectionAnchor:t}}}function m(e){return{type:U,payload:e}}function g(){return{type:me}}function b(){return{type:ge}}function v(e){return{type:V,payload:e}}function _(e){return{type:G,payload:e}}function S(e){return{type:W,payload:e}}function O(e){return{type:q,payload:e}}function T(e){return{type:Y,payload:e}}function E(e){return{type:Q,payload:e}}function C(e){return{type:Z,payload:e}}function w(e){return{type:J,payload:e}}function P(e,t){return{type:K,payload:{columnID:e,width:t}}}function N(e,t){return{type:ee,payload:r({},e,t)}}function I(e,t){return{type:se,payload:{columnID:e,renderer:t}}}function R(e){return{type:le,payload:e}}function j(e){return{type:ue,payload:e}}function x(e){return{type:ce,payload:e}}function M(e){return{type:pe,payload:e}}function A(e){return{type:fe,payload:e}}function k(e){return{type:he,payload:e}}function D(e,t,n){return{type:de,payload:{from:e,to:t,include:n}}}function L(e){return{type:ye,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setTableUserSettings=o,t.setTableSettingsFetched=a,t.setTableUserSettingConfigurations=i,t.setTableChangeConfiguration=s,t.setTableCurrentConfiguration=l,t.setTableNewConfiguration=u,t.setTableRemoveConfiguration=c,t.setTableResetConfiguration=p,t.setColumns=f,t.setOrderedColumns=d,t.setHiddenColumns=h,t.setSelectedRows=y,t.setFocusedRow=m,t.setFocusTable=g,t.resetFocusTable=b,t.setFocusedColumn=v,t.setColumnActions=_,t.setHeaderPanels=S,t.setFooterPanels=O,t.setToolbarButtons=T,t.setToolbarMenu=E,t.setSettingPanels=C,t.setColumnHeaderClicked=w,t.setColumnWidth=P,t.setRowClassName=N,t.addColumnRenderer=I,t.addUnhidableColumns=R,t.removeUnhidableColumns=j,t.setFixedColumns=x,t.navigate=M,t.selectAllRows=A,t.setSelectableRowsAggregationState=k,t.selectRange=D,t.setRenderDirectives=L;var F=t.SET_COLUMNS="cs-web-components-base-SET_COLUMNS",B=t.SET_ORDERED_COLUMNS="cs-web-components-base-SET_ORDERED_COLUMNS",H=t.SET_HIDDEN_COLUMNS="cs-web-components-base-SET_HIDDEN_COLUMNS",z=t.SET_SELECTED_ROWS="cs-web-components-base-SET_SELECTED_ROWS",U=t.SET_FOCUSED_ROW="cs-web-components-base-SET_FOCUSED_ROW",V=t.SET_FOCUSED_COLUMN="cs-web-components-base-SET_FOCUSED_COLUMN",G=t.SET_COLUMN_ACTIONS="cs-web-components-base-SET_COLUMN_ACTIONS",W=t.SET_HEADER_PANELS="cs-web-components-base-SET_HEADER_PANELS",q=t.SET_FOOTER_PANELS="cs-web-components-base-SET_FOOTER_PANELS",Y=t.SET_TOOLBAR_BUTTONS="cs-web-components-base-SET_TOOLBAR_BUTTONS",Z=t.SET_SETTING_PANELS="cs-web-components-base-SET_SETTING_PANELS",Q=t.SET_TOOLBAR_MENU="cs-web-components-base-SET_TOOLBAR_MENU",J=t.SET_COLUMN_HEADER_CLICKED="cs-web-components-base-SET_COLUMN_HEADER_CLICKED",K=t.SET_COLUMN_WIDTH="cs-web-components-base-SET_COLUMN_WIDTH",X=t.SET_TABLE_USER_SETTING="cs-web-components-base-SET_TABLE_USER_SETTING",$=t.SET_TABLE_SETTINGS_FETCHED="cs-web-components-base-SET_TABLE_SETTINGS_FETCHED",ee=t.SET_ROW_CLASS_NAME="cs-web-components-base-SET_ROW_CLASS_NAME",te=t.SET_TABLE_USER_SETTING_CONFIGURATIONS="cs-web-components-base-SET_TABLE_USER_SETTING_CONFIGURATIONS",ne=t.SET_TABLE_CHANGE_CONFIGURATION="cs-web-components-base-SET_TABLE_CHANGE_CONFIGURATION",re=t.SET_TABLE_CURRENT_CONFIGURATION="cs-web-components-base-SET_TABLE_CURRENT_CONFIGURATION",oe=t.SET_TABLE_NEW_CONFIGURATION="cs-web-components-base-SET_TABLE_NEW_CONFIGURATION",ae=t.SET_TABLE_REMOVE_CONFIGURATION="cs-web-components-base-SET_TABLE_REMOVE_CONFIGURATION",ie=t.SET_TABLE_RESET_CONFIGURATION="cs-web-components-base-SET_TABLE_RESET_CONFIGURATION",se=t.ADD_COLUMN_RENDERER="cs-web-components-base-ADD_COLUMN_RENDERER",le=t.ADD_UNHIDABLE_COLUMNS="cs-web-components-base-ADD_UNHIDABLE_COLUMNS",ue=t.REMOVE_UNHIDABLE_COLUMNS="cs-web-components-base-REMOVE_UNHIDABLE_COLUMNS",ce=t.SET_FIXED_COLUMNS="cs-web-components-base-SET_FIXED_COLUMNS",pe=t.NAVIGATE="cs-web-components-base-NAVIGATE",fe=t.SELECT_ALL_ROWS_EVENT="cs-web-components-base-SELECT_ALL_ROWS_EVENT",de=t.SELECT_RANGE_EVENT="cs-web-components-base-SELECT_RANGE_EVENT",he=t.SET_SELECTABLE_ROWS_AGGREGATION_STATE="cs-web-components-base-SET_SELECTABLE_ROWS_AGGREGATION_STATE",ye=t.SET_RENDER_DIRECTIVES="cs-web-components-base-SET_RENDER_DIRECTIVES",me=t.SET_FOCUS_TABLE="cs-web-components-base-SET_FOCUS_TABLE",ge=t.RESET_FOCUS_TABLE="cs-web-components-base-RESET_FOCUS_TABLE";t.default={SET_COLUMNS:F,SET_ORDERED_COLUMNS:B,SET_HIDDEN_COLUMNS:H,SET_SELECTED_ROWS:z,SET_FOCUSED_ROW:U,SET_FOCUSED_COLUMN:V,SET_COLUMN_ACTIONS:G,SET_HEADER_PANELS:W,SET_FOOTER_PANELS:q,SET_TOOLBAR_BUTTONS:Y,SET_TOOLBAR_MENU:Q,SET_SETTING_PANELS:Z,SET_COLUMN_HEADER_CLICKED:J,SET_COLUMN_WIDTH:K,SET_TABLE_USER_SETTING:X,SET_TABLE_SETTINGS_FETCHED:$,SET_ROW_CLASS_NAME:ee,ADD_COLUMN_RENDERER:se,setColumns:f,setOrderedColumns:d,setHiddenColumns:h,setSelectedRows:y,setFocusedRow:m,setFocusedColumn:v,setColumnActions:_,setHeaderPanels:S,setFooterPanels:O,setToolbarButtons:T,setToolbarMenu:E,setSettingPanels:C,setColumnHeaderClicked:w,setColumnWidth:P,setTableUserSettings:o,setTableSettingsFetched:a,setRowClassName:N,setTableChangeConfiguration:s,setTableCurrentConfiguration:l,setTableNewConfiguration:u,addColumnRenderer:I,ADD_UNHIDABLE_COLUMNS:le,addUnhidableColumns:R,REMOVE_UNHIDABLE_COLUMNS:ue,removeUnhidableColumns:j,SET_FIXED_COLUMNS:ce,setFixedColumns:x,SELECT_ALL_ROWS_EVENT:fe,selectAllRows:A,SET_SELECTABLE_ROWS_AGGREGATION_STATE:he,setSelectableRowsAggregationState:k,SET_RENDER_DIRECTIVES:ye,setRenderDirectives:L,SET_FOCUS_TABLE:me,RESET_FOCUS_TABLE:ge}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});t.Registry=function(){var e={},t={},n={},o=[];return{registerComponent:function(t,n){e[t]=n},findComponent:function(t){return e[t]},registerReducer:function(e,n){t[e]=n},registerReducers:function(e){Object.assign(t,e)},getReducers:function(){return Object.assign({},t)},registerDialogHook:function(e,t){n[e]=t},findDialogHook:function(e){return n[e]},registerSaga:function(e){o.push(e)},registerSagas:function(e){o.push.apply(o,r(e))},getSagas:function(){return o.slice(0)}}}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sharedDefaultProps=t.sharedCatalogProps=t.sharedComboBoxProps=t.sharedCheckboxProps=t.sharedTextInputProps=t.sharedTextProps=t.sharedProps=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1),s=n(2),l=t.sharedProps={className:i.PropTypes.string,label:i.PropTypes.node,tooltip:i.PropTypes.string,readOnly:i.PropTypes.bool,onChange:i.PropTypes.func,name:i.PropTypes.string.isRequired,mandatory:i.PropTypes.bool,mandatoryEmptyHint:i.PropTypes.bool,validationState:i.PropTypes.string,afterLabelControl:i.PropTypes.node},u=t.sharedTextProps=r({},l,{value:i.PropTypes.any}),c=t.sharedTextInputProps=r({},u,{compact:i.PropTypes.bool,beforeControl:i.PropTypes.node,afterControl:i.PropTypes.node});t.sharedCheckboxProps=r({},l,{checked:i.PropTypes.bool}),t.sharedComboBoxProps=r({},c,{onSelect:i.PropTypes.func,textReadOnly:i.PropTypes.bool,onToggle:i.PropTypes.func,items:i.PropTypes.instanceOf(a.default.List),itemComponentClass:i.PropTypes.node,emptyItemClass:i.PropTypes.node}),t.sharedCatalogProps={textReadOnly:i.PropTypes.bool,formData:i.PropTypes.instanceOf(a.default.Map),operationState:i.PropTypes.instanceOf(a.default.Map),contextClass:i.PropTypes.string,activeLanguage:i.PropTypes.string,selectURL:i.PropTypes.string,valueCheckURL:i.PropTypes.string,onCatalogChange:i.PropTypes.func},t.sharedDefaultProps={className:(0,s.prefixNS)("form-input-default")}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return t?e?[e,t]:t:e}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.combineInputExtensions=l;var p=n(0),f=function(e){return e&&e.__esModule?e:{default:e}}(p),d=n(6),h=n(14),y=n(1),m=n(2),g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyDown=n.onKeyDown.bind(n),n.onChange=n.onChange.bind(n),n.onFocus=n.onFocus.bind(n),n.onBlur=n.onBlur.bind(n),n.setInputRef=n.setInputRef.bind(n),n.state={focused:!1},n}return s(t,e),c(t,[{key:"onKeyDown",value:function(e){var t=this.props,n=t.onEnter,r=t.onCancel,o=t.onKeyDown,a=t.value;o&&(o(e),e.isDefaultPrevented())||("Enter"===e.key&&(e.preventDefault(),n&&n(a)),"Escape"!==e.key&&"Esc"!==e.key||(e.preventDefault(),r&&r()),"Backspace"===e.key&&this.props.readOnly&&e.preventDefault())}},{key:"onChange",value:function(e){var t=this.props,n=t.onChange,r=t.onValueChange;if(r&&r(e.target.value),n)return e.persist(),n(e)}},{key:"setInputRef",value:function(e){this.inputRef=e}},{key:"focus",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"setSelectionRange",value:function(e,t){this.inputRef&&this.inputRef.setSelectionRange(e,t)}},{key:"onFocus",value:function(e){var t=this.props.onFocus;this.setState({focused:!0}),t&&t(e)}},{key:"onBlur",value:function(e){var t=this.props.onBlur;this.setState({focused:!1}),t&&t(e)}},{key:"render",value:function(){var e,t=this.props,n=t["data-ce-id"],a=t["data-ce-type"],i=t.beforeControl,s=t.afterControl,l=t.afterLabelControl,c=t.label,p=t.tooltip,h=t.validationState,g=t.mandatory,b=t.mandatoryEmptyHint,v=t.className,_=t.groupClassName,S=t.compact,O=o(t,["data-ce-id","data-ce-type","beforeControl","afterControl","afterLabelControl","label","tooltip","validationState","mandatory","mandatoryEmptyHint","className","groupClassName","compact"]);delete O.onKeyDown,delete O.onEnter,delete O.onValueChange,delete O.operationInstance,delete O.uncheckedValues;var T=(0,y.classNames)(v,(0,m.prefixNS)("form-input"),"no-ie-text-input-clear-button"),E=null;if(i||s){var C=i?f.default.createElement(d.InputGroup.Button,null,i):null,w=s?f.default.createElement(d.InputGroup.Button,null,s):null;E=f.default.createElement(d.InputGroup,null,C,f.default.createElement(d.FormControl,u({type:"text",inputRef:this.setInputRef},O,{className:T,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onInput:this.onChange})),w)}else E=f.default.createElement(d.FormControl,u({type:"text",inputRef:this.setInputRef},O,{className:T,onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onInput:this.onChange}));var P=(0,y.classNames)((0,m.prefixNS)("formcontrols-formcontrol"),_,(e={},r(e,(0,m.prefixNS)("formcontrols-formcontrol-readonly"),O.readOnly),r(e,(0,m.prefixNS)("formcontrols-formcontrol-focused"),this.state.focused),r(e,(0,m.prefixNS)("formcontrols-textinput-compact"),S),e));return f.default.createElement(d.FormGroup,{className:P,validationState:h,"data-ce-id":n,"data-ce-type":a,"data-mandatory":g,"data-mandatory-empty-hint":b},c?f.default.createElement("span",{className:(0,m.prefixNS)("formcontrols-label-aftercontrol")},f.default.createElement(d.ControlLabel,{title:p},c),l):null,E)}}]),t}(f.default.Component);t.default=g,g.propTypes=u({},h.sharedTextInputProps,{onKeyDown:y.PropTypes.func,onEnter:y.PropTypes.func,onCancel:y.PropTypes.func,onValueChange:y.PropTypes.func,groupClassName:y.PropTypes.string}),g.defaultProps=Object.assign({compact:!1},h.sharedDefaultProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(121),a=r(o),i=n(88),s=r(i),l=n(260),u=r(l),c=n(261),p=n(262),f=s.default.SIZE_SMALL,d=s.default.SIZE_MEDIUM,h=s.default.SIZE_LARGE;t.default={Buttons:a.default,SIZE_SMALL:f,SIZE_MEDIUM:d,SIZE_LARGE:h,Dialog:s.default,InputDialog:u.default,SingleSelection:c.SingleSelection,SingleListSelection:c.SingleListSelection,Message:p.Message,YesNo:p.YesNo,YesNoCancel:p.YesNoCancel,Notice:p.Notice,Error:p.Error,Alert:p.Alert}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="cs-web-components-base-SEARCH:";t.ACTIONS={INIT_CLASS_SEARCH:r+"INIT_CLASS_SEARCH",INIT_CLASS_SEARCH_DONE:r+"INIT_CLASS_SEARCH_DONE",LOAD_SEARCH_OP:r+"LOAD_SEARCH_OP",SEARCH_OP_LOADED:r+"SEARCH_OP_LOADED",SEARCH_OP_LOAD_ERROR:r+"SEARCH_OP_LOAD_ERROR",LOAD_FAVOURITES_FOR_CLASS:r+"LOAD_FAVOURITES_FOR_CLASS",LOADED_FAVOURITES_FOR_CLASS:r+"LOADED_FAVOURITES_FOR_CLASS",LOAD_ALL_FAVOURITES:r+"LOAD_ALL_FAVOURITES",LOADED_ALL_FAVOURITES:r+"LOADED_ALL_FAVOURITES",STORE_FAVOURITE_FOR_CLASS:r+"STORE_FAVOURITE_FOR_CLASS",REMOVE_FAVOURITE_FROM_CLASS:r+"REMOVE_FAVOURITE_FROM_CLASS",EDITED_SEARCH_FAVOURITES:r+"EDITED_SEARCH_FAVOURITES",CREATE_SEARCH_INSTANCE:r+"CREATE_SEARCH_INSTANCE",REMOVE_SEARCH_INSTANCE:r+"REMOVE_SEARCH_INSTANCE",INITIALIZE_SEARCH:r+"INITIALIZE_SEARCH",DO_INITIALIZE_SEARCH_PARAMS:r+"DO_INITIALIZE_SEARCH_PARAMS",INITIALIZE_SEARCH_PARAMS:r+"INITIALIZE_SEARCH_PARAMS",SET_FAVOURITE_ID:r+"SET_FAVOURITE_ID",SELECT_FAVOURITE:r+"SELECT_FAVOURITE",STORE_SEARCH_FAVOURITE:r+"STORE_SEARCH_FAVOURITE",STORE_AS_SEARCH_FAVOURITE:r+"STORE_AS_SEARCH_FAVOURITE",ADD_SEARCH_FIELD:r+"ADD_SEARCH_FIELD",REMOVE_SEARCH_FIELD:r+"REMOVE_SEARCH_FIELD",REMOVE_SEARCH_FIELDS:r+"REMOVE_SEARCH_FIELDS",REMOVE_SEARCH_FIELD_INCLUDING_DEPENDENCIES:r+"REMOVE_SEARCH_FIELD_INCLUDING_DEPENDENCIES",CHANGE_FIELDS:r+"CHANGE_FIELDS",CHANGE_FIELDS_FROM_DIALOG:r+"CHANGE_FIELDS_FROM_DIALOG",CHANGE_FIELDS_FROM_SEARCHBAR:r+"CHANGE_FIELDS_FROM_SEARCHBAR",SET_SEARCH_FIELDS:r+"SET_SEARCH_FIELDS",RUN_SEARCH:r+"RUN_SEARCH",REPEAT_SEARCH:r+"REPEAT_SEARCH",RESET_SEARCH:r+"RESET_SEARCH",SEARCH_STARTED:r+"SEARCH_STARTED",SEARCH_DONE:r+"SEARCH_DONE",SEARCH_FAILED:r+"SEARCH_FAILED",SET_SEARCH_ON_NAVIGATE:r+"SET_SEARCH_ON_NAVIGATE",CREATE_CATALOG_SEARCH_INSTANCE:r+"CREATE_CATALOG_SEARCH_INSTANCE",CATALOG_SEARCH_FORM_LOADED:r+"CATALOG_SEARCH_FORM_LOADED",INITIALIZE_CATALOG_SEARCH:r+"INITIALIZE_CATALOG_SEARCH",CATALOG_SEARCH_DONE:r+"CATALOG_SEARCH_DONE",CREATE_RELSHIP_SEARCH_INSTANCE:r+"CREATE_RELSHIP_SEARCH_INSTANCE",RELSHIP_SEARCH_DONE:r+"RELSHIP_SEARCH_DONE",LOAD_RELSHIP_SEARCH_FORM:r+"LOAD_RELSHIP_SEARCH_FORM",RELSHIP_SEARCH_FORM_LOADED:r+"RELSHIP_SEARCH_FORM_LOADED",HANDLE_OPERATION_SUCCESS:r+"HANDLE_OPERATION_SUCCESS",SET_CONTEXT:r+"SET_CONTEXT"},t.CONTEXT={UPDATE_LOCATION_ALLOWED:"UPDATE_LOCATION_ALLOWED"},t.FTS_ATTRNAME="cdb::argument.textindex"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OPERATION_NAMES=t.DEFAULT_COLUMN_WIDTH=t.DISPLAY_TYPES=t.COLUMN_KINDS=t.FORM_CONTROL_VALIDATION_STATE=t.SUPPORTED_VIDEO_TYPES=t.SUPPORTED_IMAGE_TYPES=t.DATA_TYPES=t.ActivationModeType=t.OPERATION_ACTIVATION_MODES=void 0;var r=n(1),o=t.OPERATION_ACTIVATION_MODES={EVERYTIME:0,NO_SELECTION:1,SINGLE_SELECTION:2,MULTIPLE_SELECTION:3},a=(t.ActivationModeType=r.PropTypes.oneOf([o.EVERYTIME,o.NO_SELECTION,o.SINGLE_SELECTION,o.MULTIPLE_SELECTION]),t.DATA_TYPES={CHAR:"http://schema.org/Text",INTEGER:"http://schema.org/Integer",FLOAT:"http://schema.org/Float",DATE:"http://schema.org/DateTime",PQ:"http://contact.de/schema/type/pq_field"}),i=t.SUPPORTED_IMAGE_TYPES=["image/png","image/gif","image/jpeg","image/svg+xml"],s=t.SUPPORTED_VIDEO_TYPES=["video/mp4"],l=t.FORM_CONTROL_VALIDATION_STATE={ERROR:"error",WARNING:"warning",SUCCESS:"success"};t.default={OPERATION_ACTIVATION_MODES:o,DATA_TYPES:a,SUPPORTED_IMAGE_TYPES:i,SUPPORTED_VIDEO_TYPES:s,FORM_CONTROL_VALIDATION_STATE:l};t.COLUMN_KINDS={CHECKBOX:101},t.DISPLAY_TYPES={VALUE:0,ICON:1,CHECKBOX:2},t.DEFAULT_COLUMN_WIDTH="10em",t.OPERATION_NAMES={kOperationSearch:"CDB_Search",kOperationNew:"CDB_Create",kOperationInfo:"CDB_ShowObject",kOperationModify:"CDB_Modify"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n,r,o,a,i){return d.default.Actions.postMessage({level:y[r],id:e,title:t,message:n,global:!0},d.default.createNotification({timeout:i}))}function i(e){return d.default.removeNotification(e)}function s(e){if("string"!=typeof e)return e;var t=e.split(/\n/g);return 1===t.length?e:p.default.createElement.apply(p.default,["div",null].concat(o(t.map(function(e){return p.default.createElement("p",null,e)}))))}function l(e){function t(e){return a(p,c,e,o,i,l,u)}var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"danger",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:1,l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:m,c=r||(0,h.formatStr)("default_error_title"),p=n;return void 0!==p&&null!==p||e.response&&e.response.url&&(p=e.response.url),e.response?function(n){return e.response.json().then(function(e){return n(t(s(e.detail)))},function(){return n(t(e.toString()))})}:t(e.toString())}function u(e){return function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return function(t){return t(e.apply(void 0,n)).catch(function(e){throw t(l(e)),e})}}}Object.defineProperty(t,"__esModule",{value:!0}),t.addNotification=a,t.removeNotificationNow=i,t.notifyError=l,t.autoNotifyPromiseRejection=u;var c=n(0),p=r(c),f=n(36),d=r(f),h=n(4),y={danger:d.default.Level.ERROR,warning:d.default.Level.WARN,info:d.default.Level.INFO,success:d.default.Level.SUCCESS},m=5e3;t.default={addNotification:a,removeNotificationNow:i,notifyError:l,autoNotifyPromiseRejection:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(110),a=r(o),i=n(149),s=r(i),l=n(240),u=r(l),c=n(113),p=n(81),f=r(p),d=n(242),h=n(37),y=n(243),m=r(y),g=n(246),b=r(g);t.default={AlignedOverlay:s.default,Bubble:m.default,ContextMenu:b.default,Dropdown:f.default,DropdownIconButton:d.DropdownIconButton,DropdownIconTextButton:d.DropdownIconTextButton,DropdownTextButton:d.DropdownTextButton,HorizontalAlignment:h.HorizontalAlignment,HorizontalAlignmentType:h.HorizontalAlignmentType,Menu:c.Menu,MenuDivider:c.MenuDivider,MenuHeader:c.MenuHeader,MenuItem:c.MenuItem,Overlay:a.default,TypeAhead:u.default,VerticalAlignment:h.VerticalAlignment,VerticalAlignmentType:h.VerticalAlignmentType}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.notificationTimeout=t.ColumnAggregatorClass=t.ColumnAggregatorRowID=t.DEFAULT_TABLE_CONFIGURATION_NAME=t.SELECTORID=t.draggableColumnType=t.storeShape=t.DefaultColumnContentRenderer=void 0;var o=n(160);Object.defineProperty(t,"DefaultColumnContentRenderer",{enumerable:!0,get:function(){return r(o).default}});var a=n(1),i=n(2);t.storeShape=a.PropTypes.object,t.draggableColumnType=""+(0,i.prefixNS)("table-draggable-column"),t.SELECTORID=""+(0,i.prefixNS)("table-selector-column"),t.DEFAULT_TABLE_CONFIGURATION_NAME="###CSWEB_DEFAULT_TABLE_SETTINGS###",t.ColumnAggregatorRowID=""+(0,i.prefixNS)("column-aggregator-row"),t.ColumnAggregatorClass=""+(0,i.prefixNS)("column-aggregator-row"),t.notificationTimeout=5e3},function(e,t,n){"use strict";function r(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return{type:E.ACTIONS.CREATE_SEARCH_INSTANCE,payload:{instanceName:e,classname:t,favouriteId:n,searchValues:r,attributeOrder:o}}}function o(e,t,n,r){return{type:E.ACTIONS.CREATE_CATALOG_SEARCH_INSTANCE,payload:{instanceName:e,catalogTableURL:t,queryFormURL:n,callingFormData:r}}}function a(e,t,n,r){return{type:E.ACTIONS.CREATE_RELSHIP_SEARCH_INSTANCE,payload:{instanceName:e,parentObject:t,relshipName:n,tableName:r}}}function i(e){return{type:E.ACTIONS.REMOVE_SEARCH_INSTANCE,payload:{instanceName:e}}}function s(e){return{type:E.ACTIONS.INITIALIZE_SEARCH,payload:{instanceName:e}}}function l(e){return{type:E.ACTIONS.DO_INITIALIZE_SEARCH_PARAMS,payload:{instanceName:e}}}function u(e,t,n){return{type:E.ACTIONS.LOAD_RELSHIP_SEARCH_FORM,payload:{instanceName:e,formURL:t,submitURL:n}}}function c(e){return{type:E.ACTIONS.REPEAT_SEARCH,payload:{instanceName:e}}}function p(e){return{type:E.ACTIONS.RESET_SEARCH,payload:{instanceName:e}}}function f(e,t){return{type:E.ACTIONS.CHANGE_FIELDS,payload:{instanceName:e,fields:t}}}function d(e,t){return{type:E.ACTIONS.ADD_SEARCH_FIELD,payload:{instanceName:e,fieldname:t}}}function h(e,t){return{type:E.ACTIONS.REMOVE_SEARCH_FIELD,payload:{instanceName:e,fieldname:t}}}function y(e,t){return{type:E.ACTIONS.REMOVE_SEARCH_FIELD_INCLUDING_DEPENDENCIES,payload:{instanceName:e,field:t}}}function m(e,t){return{type:E.ACTIONS.CHANGE_FIELDS_FROM_DIALOG,payload:{instanceName:e,fields:t}}}function g(e,t,n){return{type:E.ACTIONS.CHANGE_FIELDS_FROM_SEARCHBAR,payload:{instanceName:e,fields:t,attr:n}}}function b(e){return{type:E.ACTIONS.RUN_SEARCH,payload:{instanceName:e}}}function v(e,t,n){return{type:E.ACTIONS.SELECT_FAVOURITE,payload:{instanceName:e,classname:t,favouriteId:n}}}function _(e){return{type:E.ACTIONS.STORE_SEARCH_FAVOURITE,payload:{instanceName:e}}}function S(e,t){return{type:E.ACTIONS.STORE_AS_SEARCH_FAVOURITE,payload:{instanceName:e,favouriteName:t}}}function O(e){return{type:E.ACTIONS.HANDLE_OPERATION_SUCCESS,payload:{instanceName:e}}}function T(e,t){return{type:E.ACTIONS.SET_SEARCH_ON_NAVIGATE,payload:{instanceName:e,value:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.createSearchInstance=r,t.createCatalogSearchInstance=o,t.createRelshipSearchInstance=a,t.removeSearchInstance=i,t.initializeSearchInstance=s,t.doInitializeSearchParams=l,t.loadRelshipSearchForm=u,t.repeatSearch=c,t.resetSearch=p,t.changeFields=f,t.addSearchField=d,t.removeSearchField=h,t.removeSearchFieldIncludingDependencies=y,t.setSearchFieldsFromDialog=m,t.changeFieldsFromSearchBar=g,t.runSearch=b,t.selectFavourite=v,t.storeSearchFavourite=_,t.storeAsSearchFavourite=S,t.handleOperationSuccess=O,t.setSearchOnNavigate=T;var E=n(17)},function(e,t){e.exports=o},function(e,t){e.exports=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.value,n=e.field,r=n.getIn(["config","icon_cfg","icon"]);return r?u.default.createElement(v,{src:r,label:t}):u.default.createElement(b,{label:t})}function i(e){var t=e.value,n=e.field,r=n.getIn(["config","icon_cfg","icon"]),o=n.getIn(["config","icon_cfg","title"])||t;return r?u.default.createElement(v,{src:r,label:o}):u.default.createElement(b,{label:o})}Object.defineProperty(t,"__esModule",{value:!0}),t.SVGIconAndLink=t.SVGIconAndLabel=t.IconAndLabel=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.IconAndValueField=a,t.IconAndTitleField=i;var l=n(0),u=r(l),c=n(1),p=n(2),f=n(11),d=r(f),h=n(29),y=r(h),m=n(26),g=r(m),b=function(e){var t=e.icon,n=e.label,r=e.className,a=e.allowEmptyIcon,i=o(e,["icon","label","className","allowEmptyIcon"]),l=t||(a?u.default.createElement(g.default,null):null);return u.default.createElement("span",s({className:(0,c.classNames)((0,p.prefixNS)("icon-and-label"),r)},i),l?u.default.createElement("span",{className:(0,p.prefixNS)("icon-and-label__icon")},l):void 0,n?u.default.createElement("span",{className:(0,p.prefixNS)("icon-and-label__label")},n):void 0)};t.IconAndLabel=b,b.propTypes={icon:c.PropTypes.node,label:c.PropTypes.node,className:c.PropTypes.string,allowEmptyIcon:c.PropTypes.bool};var v=function(e){var t=e.src,n=e.name,r=e.size,a=o(e,["src","name","size"]);return u.default.createElement(b,s({icon:t||n?u.default.createElement(d.default,{src:t,name:n,size:r}):null},a))};t.SVGIconAndLabel=v,v.propTypes={src:c.PropTypes.string,name:c.PropTypes.string,size:c.PropTypes.string,label:c.PropTypes.node,className:c.PropTypes.string},v.defaultProps={size:"sm"};var _=function(e){var t=e.to,n=e.label,r=o(e,["to","label"]);return u.default.createElement(v,s({label:t?u.default.createElement(y.default,{to:t},n):n},r))};t.SVGIconAndLink=_,_.propTypes={to:c.PropTypes.string,src:c.PropTypes.string,name:c.PropTypes.string,size:c.PropTypes.string,label:c.PropTypes.node},_.defaultProps={size:"sm"},a.propTypes={value:c.PropTypes.any,field:c.ImmutablePropTypes.map},i.propTypes={value:c.PropTypes.any,field:c.ImmutablePropTypes.map},t.default={IconAndLabel:b,SVGIconAndLabel:v,SVGIconAndLink:_,IconAndValueField:a,IconAndTitleField:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(65),y=r(h),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={src:n.getUrl(e)},n.onImageError=n.onImageError.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.src===this.props.src&&e.name===this.props.name||this.setState({src:this.getUrl(e)})}},{key:"getUrl",value:function(e){var t=e.name;return e.src||(t?(0,d.getIcon)(t):void 0)}},{key:"onImageError",value:function(){this.setState({src:y.default})}},{key:"render",value:function(){var e=this.props,t=e.size,n=e.className,r=o(e,["size","className"]);delete r.name,"xs"!==t&&"xl"!==t&&"xxs"!==t&&"xxl"!==t||d.Console.warn("The prop `size` of value `"+t+'` supplied to `Icon` is deprecated. Please use one of ["sm","md","lg"]');var a=(0,f.classNames)(n,(0,d.prefixNS)("icon"),(0,d.prefixNS)("icon-size-"+t));return p.default.createElement("img",l({},r,{src:this.state.src,className:a,onError:this.onImageError}))}}]),t}(p.default.Component);t.default=m,m.propTypes={name:f.PropTypes.string,src:f.PropTypes.string,className:f.PropTypes.string,size:f.PropTypes.oneOf(["xxs","xs","sm","md","lg","xl","xxl"])},m.defaultProps={size:"sm"},m.BLANK_ICON_SRC="data:image/svg+xml;charset=utf8,%3Csvg%20xmlns='http://www.w3.org/2000/svg'%3E%3C/svg%3E"},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){return{type:N,payload:t,meta:{url:e}}}function a(e,t){return{type:A,payload:t,meta:{url:e}}}function i(e,t){return{type:M,payload:{object:e,values:t}}}function s(e,t){return{type:x,payload:t,meta:{url:e}}}function l(e,t,n){return{type:k,payload:{classname:t,relships:n},meta:{url:e}}}function u(e,t){return{type:I,payload:t,meta:{url:e}}}function c(e,t){return{type:R,payload:t,meta:{url:e}}}function p(e,t){return{type:j,payload:t,meta:{url:e}}}function f(e,t){return t.hasOwnProperty("targets")?c(e,t.targets):p(e,t.target)}function d(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n,r){return!t&&r().typesById.has(e)?Promise.resolve(r().typesById.get(e)):n((0,P.singleFetch)(e,function(t){return n(s(e,t)),t}))}}function h(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return function(n){var r=e.map(function(e){return function(){return n(d(e,t))}});return(0,w.makeSequence)(r)}}function y(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=(0,w.createLinkWithPattern)("relshipConfigurationPattern",{class_name:e});return function(r,o){return!t&&o().relshipsByClass.has(e)?Promise.resolve(o().relshipsByClass.get(e)):r((0,P.singleFetch)(n,function(t){return r(l(n,e,t)),t}))}}function m(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=t?e+"/+"+t:e,a=n?r+"?withFiles="+n:r;return function(t){return t((0,P.singleFetch)(a,function(n){t(o(e,n));var r=n["@type"];return void 0!==r&&t(d(r)),n}))}}function g(e){return function(t,n){var r=n().objectsById.get(e,null);(!r||r.has("relship:files")&&!r.hasIn(["relship:files","targets"]))&&t(m(e,null,"complete"))}}function b(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(e){return e.objects},r=(0,C.urlWithParams)(e,t);return function(t){return t((0,P.singleFetch)(r,function(r){var o=n(r);return t(u(e,o)),r}))}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"embed-target",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=(0,C.urlWithParams)(t?e+"/+"+t:e,n);return function(t){return t((0,P.singleFetch)(r,function(n){return t(f(e,n)),n}))}}function _(e){return function(t){var n=e.map(function(e){return function(){return t(v(e.url,e.viewName||"embed-target",e.params))}});return(0,w.makeSequence)(n)}}function S(e,t,n){return function(){return m(e,t).then(function(e){return _(n.map(function(t){var n=t.split("/");return{url:e["system:relships"].relships[n[0]],viewName:n.length>1?n[1]:"embed-target"}}))})}}function O(e){return function(t,n){var r=n().objectsById.get(e);return(0,C.deleteObject)(e).then(function(n){return t(a(e,r)),n},function(n){return t((0,P.fetchError)(e,n))})}}function T(e,t){var n=e.get("@id");return function(r){return r(i(e,t)),(0,C.putJSON)(n,t).then(function(e){return r(o(n,e)),e},function(e){throw r((0,P.fetchError)(n,e)),e})}}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return function(a){return(0,C.postJSON)(e,t).then(function(t){return a(o(e,t)),n.forEach(function(e){a(v.apply(void 0,r(e)))}),t},function(t){throw a((0,P.fetchError)(e,t)),t})}}Object.defineProperty(t,"__esModule",{value:!0}),t.RECEIVED_CLASS_RELSHIPS=t.DELETED_OBJECT=t.EDITING_OBJECT=t.RECEIVED_TYPE=t.RECEIVED_RELSHIP_1=t.RECEIVED_RELSHIP_N=t.RECEIVED_COLLECTION=t.RECEIVED_OBJECT=void 0,t.receivedObject=o,t.receivedCollection=u,t.receivedRelship=f,t.fetchType=d,t.fetchTypes=h,t.fetchClassRelships=y,t.fetchObject=m,t.ensureFileTargetsAvailable=g,t.fetchCollection=b,t.fetchRelship=v,t.fetchRelships=_,t.fetchObjectWithRelships=S,t.deleteObjectFromStore=O,t.editObject=T,t.createObject=E;var C=n(10),w=n(2),P=n(89),N=t.RECEIVED_OBJECT="cs-web-components-base-RECEIVED_OBJECT",I=t.RECEIVED_COLLECTION="cs-web-components-base-RECEIVED_COLLECTION",R=t.RECEIVED_RELSHIP_N="cs-web-components-base-RECEIVED_RELSHIP_N",j=t.RECEIVED_RELSHIP_1="cs-web-components-base-RECEIVED_RELSHIP_1",x=t.RECEIVED_TYPE="cs-web-components-base-RECEIVED_TYPE",M=t.EDITING_OBJECT="cs-web-components-base-EDITING_OBJECT",A=t.DELETED_OBJECT="cs-web-components-base-DELETED_OBJECT",k=t.RECEIVED_CLASS_RELSHIPS="cs-web-components-base-RECEIVED_CLASS_RELSHIPS"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CE_DATEFORMAT=t.ButtonActions=t.FINISHED_SET=t.NOT_RUNNING_SET=t.NOT_ACTIVE_SET=t.OperationMode=t.ResultType=void 0;var r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=(t.ResultType={NO_TYPE:0,OBJECT:1,CLASS:2,HTML_VIEW:3,FILE_ACTION:4,FILE_ACTION_EXT:5,HELP:6},t.OperationMode={INITIAL:"initial",STARTING:"starting",STARTED:"started",SUCCEEDED:"succeeded",FAILED:"failed",CANCELLED:"cancelled"});t.NOT_ACTIVE_SET=o.default.Set([a.INITIAL]),t.NOT_RUNNING_SET=o.default.Set([a.INITIAL,a.STARTED]),t.FINISHED_SET=o.default.Set([a.SUCCEEDED,a.FAILED,a.CANCELLED]),t.ButtonActions={Submit:"SUBMIT",Cancel:"CANCEL",CallServer:"CALL_SERVER",BackToDialog:"BACK_TO_DIALOG"},t.CE_DATEFORMAT="DD.MM.YYYY"},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.to,n=r(e,["to"]);return e.disabled?l.default.createElement("a",i({},n,{href:void 0}),e.children):"object"===(void 0===t?"undefined":a(t))?l.default.createElement(u.ReactRouter.Link,e,e.children):l.default.createElement("a",i({href:e.to},n),e.children)}Object.defineProperty(t,"__esModule",{value:!0});var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1);o.propTypes={disabled:u.PropTypes.bool,to:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.object]).isRequired},o.defaultProps={disabled:!1}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(1),f=n(2),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=e.withRedundantDropdown,a=r(e,["children","className","withRedundantDropdown"]),i=(0,p.classNames)(n,(0,f.prefixNS)("button-group"),o?(0,f.prefixNS)("withRedundantDropdown"):null);return c.default.createElement("div",s({className:i},a),t)}}]),t}(c.default.Component);t.default=d,d.propTypes={className:p.PropTypes.string,withRedundantDropdown:p.PropTypes.bool},d.defaultProps={withRedundantDropdown:!0}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t){var n=M[e.key]||e.key;return[(1===n.length?L:D).filter(function(n){return e.getModifierState(n)&&("Alt"!==n||!t)}).join("+"),n].filter(Boolean).join("+")}function a(e){e.nativeEvent.stopImmediatePropagation()}function i(e){var t=e.split("+");return{modifiers:t.slice(0,t.length-1),key:t[t.length-1]}}function s(e){if(void 0!==e&&0!==e.length)return e}function l(e){if(!e.some(function(e){return-1===D.indexOf(e)}))return D.filter(function(t){return e.indexOf(t)>-1})}function u(e,t){return void 0===t?void 0:[].concat(r(e),[t]).join("+")}function c(e){var t=i(e),n=t.modifiers,r=t.key;return u(l(n),s(r))}function p(e){return e.split(" ").filter(Boolean).map(c)}function f(){clearTimeout(f),H.length=0}function d(e){return e instanceof x.default.List?e:e.map(function(e){return d(e)}).toList().flatten()}function h(e,t){return e.find(function(e){return void 0===e.get("target")||e.get("target").contains(t.target)})}function y(e){var t=!1;if(F.has(e.target.tagName)||e.target.isContentEditable){if(!e.altKey)return!0;t=!0}var n=o(e,t);if(H.push(n),H.length===A)return f(),!1;var r=B.getIn(H);if(void 0===r)return f(),!0;if(r instanceof x.default.List){f();var a=h(r,e);return!a||(e.preventDefault(),a.get("handler")(e),!1)}return h(d(r),e)?(setTimeout(f,k),e.preventDefault(),!1):(f(),!0)}function m(){document.addEventListener("keydown",y)}function g(e,t,n){var r=x.default.Map({handler:t,target:n}),o=void 0===n?-1:e.findIndex(function(e){return void 0===e.get("target")||n.contains(e.get("target"))});return-1===o?e.push(r):e.splice(o,0,r)}function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=p(e);if(!(0===r.length||r.length>A)){var o=B.getIn(r,x.default.List());if(!(o instanceof x.default.List))return void R.Console.error('Shortcut "'+r.join(" ")+'" is already prefix of another shortcut.');var a=B.setIn(r,g(o,t,n));a===B&&R.Console.error('A prefix of "'+r.join(" ")+'" is already registered as a shortcut.'),B=a}}function v(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var i=o.value,s=I(i,2);_(s[0],s[1])}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function _(e,t){b(e,t)}function S(e){var t=!0,n=!1,r=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){O(o.value)}}catch(e){n=!0,r=e}finally{try{!t&&a.return&&a.return()}finally{if(n)throw r}}}function O(e){N(void 0,e)}function T(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=I(s,2);E(e,l[0],l[1])}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}function E(e,t,n){if(!(e instanceof HTMLElement))return void R.Console.error("addLocalShortcut [",t,"]: First argument must be HTMLElement. Got",e);b(t,n,e)}function C(e,t){return e instanceof x.default.List?e.filterNot(function(e){return e.get("target")===t}):e.map(function(e){return C(e,t)})}function w(e){if(!(e instanceof HTMLElement))return void R.Console.error("removeAllLocalShortcuts: First argument must be HTMLElement. Got",e);B=C(B,e)}function P(e,t){var n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){N(e,a.value)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}function N(e,t){if(!(e instanceof HTMLElement))return void R.Console.error("removeLocalShortcut [",t,"]: First argument must be HTMLElement. Got",e);var n=p(t);if(!(B.getIn(n)instanceof x.default.List))return void R.Console.error("No handlers defined for shortcut "+t);B=B.updateIn(n,function(t){return t.filterNot(function(t){return t.get("target")===e})})}Object.defineProperty(t,"__esModule",{value:!0});var I=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.stopSyntheticEvent=a,t.initializeKeyHandler=m,t.addGlobalShortcuts=v,t.addGlobalShortcut=_,t.removeGlobalShortcuts=S,t.removeGlobalShortcut=O,t.addLocalShortcuts=T,t.addLocalShortcut=E,t.removeAllLocalShortcuts=w,t.removeLocalShortcuts=P,t.removeLocalShortcut=N;var R=n(2),j=n(3),x=function(e){return e&&e.__esModule?e:{default:e}}(j),M=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}({Add:"+",Decimal:".",Divide:"/",Subtract:"-",Multiply:"*",Spacebar:" ",Esc:"Escape",Nonconvert:"NonConvert",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Menu:"ContextMenu",MediaNextTrack:"MediaTrackNext",MediaPreviousTrack:"MediaTrackPrevious",SelectMedia:"MediaSelect",HalfWidth:"Hankaku",FullWidth:"Zenkaku",RomanCharacters:"Romaji",Crsel:"CrSel",Exsel:"ExSel",Zoom:"ZoomToggle"}," ","Spacebar"),A=5,k=1e3,D=["Control","Alt","Shift"],L=["Control","Alt"],F=new Set(["INPUT","TEXTAREA"]),B=x.default.Map(),H=[]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(6),d=n(8),h=r(d),y=n(25),m=n(2),g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.clickHandler=n.clickHandler.bind(n),n}return s(t,e),l(t,[{key:"clickHandler",value:function(e){e.stopPropagation(),e.preventDefault()}},{key:"render",value:function(){return c.default.createElement("div",{onClick:this.clickHandler},this.props.children)}}]),t}(u.Component),b=function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"render",value:function(){return c.default.createElement("div",{className:(0,m.prefixNS)("contentblock-body")},this.props.children)}}]),t}(u.Component),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expanded:void 0!==e.expanded&&e.expanded,ContentBlockSize:null,ContentBlockHeaderContainerWidth:null,ContentBlockToolbarContainerInitialWidth:null},n.toggleBlock=n.toggleBlock.bind(n),n.setContentBlockHeaderContainerRef=function(e){n.ContentBlockHeaderContainer=e},n.setContentBlockHeadlineRef=function(e){n.ContentBlockHeadline=e},n.setContentBlockToolbarContainerRef=function(e){n.ContentBlockToolbarContainer=e},n}return s(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.expanded!==this.props.expanded&&e.expanded!==this.state.expanded&&this.toggleBlock()}},{key:"listenToHeaderContainer",value:function(){var e=this;this.interval=setInterval(function(){if(null!==e.ContentBlockHeaderContainer&&void 0!==e.ContentBlockHeaderContainer&&null!==e.ContentBlockToolbarContainer&&null!==e.ContentBlockHeadline&&e.ContentBlockHeaderContainer.offsetWidth!==e.state.ContentBlockHeaderContainerWidth){var t=e.ContentBlockHeaderContainer.offsetWidth-e.ContentBlockHeadline.offsetWidth;t<e.ContentBlockToolbarContainer.offsetWidth&&"small"!==e.state.ContentBlockSize?e.setState({ContentBlockSize:"small",ContentBlockHeaderContainerWidth:e.ContentBlockHeaderContainer.offsetWidth,ContentBlockToolbarContainerInitialWidth:e.ContentBlockToolbarContainer.offsetWidth}):t>=e.state.ContentBlockToolbarContainerInitialWidth&&e.setState({ContentBlockSize:null,ContentBlockHeaderContainerWidth:e.ContentBlockHeaderContainer.offsetWidth})}},1)}},{key:"componentDidMount",value:function(){this.listenToHeaderContainer()}},{key:"toggleBlock",value:function(){var e=this;this.setState({expanded:!this.state.expanded},function(){e.props.onExpansionChanged&&e.props.onExpansionChanged(e.state.expanded)})}},{key:"getPanelHeader",value:function(){var e=this.props,t=e.icon,n=e.children,r=e.collapsible,a=e.title,i=e.headerDragger,s=e.headerChildsAlwaysVisible,l=this.state.expanded,u=c.default.Children.toArray(n).filter(function(e){return e.type===g}),f=r?l?c.default.createElement(h.default.ExpanderButtonExpanded,{className:(0,m.prefixNS)("contentblock-headline__expander")}):c.default.createElement(h.default.ExpanderButtonCollapsed,{className:(0,m.prefixNS)("contentblock-headline__expander")}):null,d=(0,p.classNames)((0,m.prefixNS)("contentblock-toolbar-container"),o({},(0,m.prefixNS)("contentblock-toolbar-container--faded"),!l&&r&&!s),"small"===this.state.ContentBlockSize?(0,m.prefixNS)("contentblock-toolbar-container-small"):null),b=(0,p.classNames)((0,m.prefixNS)("contentblock-headline"),o({},(0,m.prefixNS)("contentblock-headline__spacer"),!r));return i(c.default.createElement("div",{className:(0,m.prefixNS)("contentblock-header-container"),ref:this.setContentBlockHeaderContainerRef},c.default.createElement("div",{className:(0,m.prefixNS)("contentblock-header")},c.default.createElement("div",{className:b,ref:this.setContentBlockHeadlineRef,onClick:r?this.toggleBlock:void 0,title:a},f,c.default.createElement(y.IconAndLabel,{icon:t,label:a})),c.default.createElement("div",{className:d,ref:this.setContentBlockToolbarContainerRef},u.reverse()))))}},{key:"renderCollapse",value:function(e){return c.default.createElement(f.Collapse,{in:this.state.expanded},c.default.createElement("div",{className:(0,m.prefixNS)("contentblock-collapsible-content")},e))}},{key:"render",value:function(){var e=c.default.Children.toArray(this.props.children).filter(function(e){return e.type===b}),t=this.state.expanded?"expanded":"collapsed",n=(0,p.classNames)(this.props.className,(0,m.prefixNS)("contentblock"),(0,m.prefixNS)("contentblock--"+t));return c.default.createElement(f.Panel,{className:n,header:this.getPanelHeader(),bsStyle:this.props.contentStyle},this.props.collapsible?this.renderCollapse(e):e)}}]),t}(u.Component);t.default=v,v.Header=g,v.Body=b,v.propTypes={title:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.element]),icon:p.PropTypes.object,contentStyle:p.PropTypes.string,collapsible:p.PropTypes.bool,expanded:p.PropTypes.bool,onExpansionChanged:p.PropTypes.func,className:p.PropTypes.string,headerDragger:p.PropTypes.func,headerChildsAlwaysVisible:p.PropTypes.bool},v.defaultProps={title:"",icon:null,contentStyle:"default",collapsible:!0,expanded:!0,headerDragger:function(e){return e},headerChildsAlwaysVisible:!1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=(t.TABS={OPEN_ON_SUBMIT:"OPEN_TAB_ON_SUBMIT",OPEN_ON_RUN:"OPEN_TAB_ON_RUN"},"cs-web-components-base-OPERATIONS:");t.ACTIONS={RUN_OPERATION:r+"RUN_OPERATION",CHANGE_OPERATION_VALUES:r+"CHANGE_OPERATION_VALUES",CANCEL_OPERATION:r+"CANCEL_OPERATION",SUBMIT_OPERATION:r+"SUBMIT_OPERATION",DISPATCH_BACKEND_HOOK_RESULTS:r+"DISPATCH_BACKEND_HOOK_RESULTS",_START_OPERATION:r+"__START_OPERATION",_EXEC_OPERATION:r+"__EXEC_OPERATION",_EXEC_FORM:r+"__EXEC_FORM",_QUERY_CANCEL_FORM:r+"__QUERY_CANCEL_FORM",_PRESUBMIT_OPERATION:r+"__PRESUBMIT_OPERATION",_QUERY_USER:r+"__QUERY_USER",_SUBMIT_OPERATION:r+"__SUBMIT_OPERATION",_FINISH_OPERATION:r+"__FINISH_OPERATION",_UPLOAD_FILES:r+"__UPLOAD_FILES",QUERY_CANCEL:r+"QUERY_CANCEL",QUERY_CANCEL_FORCE:r+"QUERY_CANCEL_FORCE",QUERY_CANCEL_BACK:r+"QUERY_CANCEL_BACK",QUERY_USER:r+"QUERY_USER",QUERY_DISMISS:r+"QUERY_DISMISS",QUERY_RESULT_CANCEL:r+"QUERY_RESULT_CANCEL",QUERY_RESULT_SUBMIT:r+"QUERY_RESULT_SUBMIT",QUERY_RESULT_CALL:r+"QUERY_RESULT_CALL",QUERY_RESULT_BACK:r+"QUERY_RESULT_BACK",SUBMIT_VALUE_ERROR:r+"SUBMIT_VALUE_ERROR",SUBMIT_GENERAL_ERROR:r+"SUBMIT_GENERAL_ERROR",CLEAR_ERRORS:r+"CLEAR_ERRORS",HANDLE_OPERATION_SUCCESS:r+"HANDLE_OPERATION_SUCCESS",POST_ERROR:r+"POST_ERROR",NAVIGATE:r+"NAVIGATE",ADD_HISTORY_ITEM:r+"ADD_HISTORY_ITEM",UPDATE_OBJECT_STORE:r+"UPDATE_OBJECT_STORE",EXECUTE_SUCCESS_HANDLER_FNS:r+"EXECUTE_SUCCESS_HANDLER_FNS",EXECUTE_FAILURE_HANDLER_FNS:r+"EXECUTE_FAILURE_HANDLER_FNS",OPEN_TAB_ASYNC:r+"OPEN_TAB_ASYNC",CLOSE_TAB_ASYNC:r+"CLOSE_TAB_ASYNC",NAVIGATE_TAB_ASYNC:r+"NAVIGATE_TAB_ASYNC",ADD_FILES:r+"ADD_FILES",REMOVE_FILES:r+"REMOVE_FILES"},t.PRESENTATION_ID={NEW_TAB:"navigate-new-tab",DELETE:"delete",NO_FORM:"no-form"}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(1),f=n(2),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,o=r(e,["children","className"]);return c.default.createElement("div",s({className:(0,p.classNames)(n,(0,f.prefixNS)("button-toolbar"))},o),t)}}]),t}(c.default.Component);t.default=d,d.propTypes={className:p.PropTypes.string}},function(e,t,n){"use strict";function r(e){return{type:O,payload:{instanceName:e}}}function o(e){return{type:_,payload:{instanceName:e}}}function a(e){return{type:S,payload:{instanceName:e}}}function i(e,t,n,r){var o=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];return{type:T,payload:{instanceName:e,opInfo:t,opState:n,opParams:r,nonBlocking:o,hasFiles:a}}}function s(e){return{type:E,payload:{instanceName:e}}}function l(e){return{type:C,payload:{instanceName:e}}}function u(e,t){var n=t.values,r=t.unchecked,o=t.registers,a=t.wizardProgress,i=t.preventSubmitReasons,s=t.operationState,l=t.dialogHooks;return{type:P,payload:{instanceName:e,fields:{values:n,unchecked:r,registers:o,wizardProgress:a,preventSubmitReasons:i,operationState:s,dialogHooks:l}}}}function c(e){return{type:w,payload:{instanceName:e}}}function p(e,t){return{type:R,payload:{instanceName:e,files:t}}}function f(e,t){return{type:j,payload:{instanceName:e,files:t}}}function d(e,t){return{type:N,payload:{instanceName:e,field:t}}}function h(e,t){return{type:I,payload:{instanceName:e,field:t}}}function y(e){return{type:x,payload:{instanceName:e}}}function m(e){return{type:M,payload:{instanceName:e}}}function g(e){return{type:A,payload:{instanceName:e}}}function b(e,t,n){return{type:k,payload:{instanceName:e,onSuccess:t,onFailure:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.operationIsStarting=r,t.initOperationInstance=o,t.clearOperationInstance=a,t.initOperationState=i,t.clearOperationState=s,t.openForm=l,t.changeFormValues=u,t.closeForm=c,t.addFiles=p,t.removeFiles=f,t.formCheckPending=d,t.formCheckDone=h,t.operationSucceeded=y,t.operationFailed=m,t.operationCancelled=g,t.setSubmitHandler=b;var v="cs-web-components-base-OPERATIONS:",_=t.INIT_OP_INSTANCE=v+"INIT_OP_INSTANCE",S=t.CLEAR_OP_INSTANCE=v+"CLEAR_OP_INSTANCE",O=t.OPERATION_IS_STARTING=v+"OPERATION_IS_STARTING",T=t.INIT_OP_STATE=v+"INIT_OP_STATE",E=t.CLEAR_OP_STATE=v+"CLEAR_OP_STATE",C=t.OPEN_FORM=v+"OPEN_FORM",w=t.CLOSE_FORM=v+"CLOSE_FORM",P=t.CHANGE_FORM_VALUES=v+"CHANGE_FORM_VALUES",N=t.FORM_CHECK_PENDING=v+"OP_FORM_CHECK_PENDING",I=t.FORM_CHECK_DONE=v+"OP_FORM_CHECK_DONE",R=t.ADD_FILES=v+"FORM_ADD_FILES",j=t.REMOVE_FILES=v+"FORM_REMOVE_FILES",x=t.OPERATION_SUCCEEDED=v+"OPERATION_SUCCEEDED",M=t.OPERATION_FAILED=v+"OPERATION_FAILED",A=t.OPERATION_CANCELLED=v+"OPERATION_CANCELLED",k=t.SET_SUBMIT_HANDLER=v+"SET_SUBMIT_HANDLER"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Global=t.Level=void 0;var o=n(13),a=n(64),i=r(a),s=n(109),l=r(s),u=n(239),c=r(u),p=n(247),f=r(p),d=n(150),h=n(249),y=r(h),m=t.Level={EMPTY:0,PROGRESS:1,INFO:2,SUCESS:3,WARNING:4,ERROR:5},g=t.Global={NONE:0,ACTIVITY:1,SYSTEM_MSG:2,LVL_BASED:3};o.Registry.registerReducers({messages:l.default}),t.default={MessageView:c.default,Level:m,Global:g,Actions:i.default,getMessagesForDisplay:s.getMessagesForDisplay,getMessagesForOwner:s.getMessagesForOwner,NotificationContainer:f.default,createNotification:d.createNotification,removeNotification:d.removeNotification,BannerContainer:y.default,createBanner:h.createBanner}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VerticalAlignmentType=t.VerticalAlignment=t.ALIGNED_OVERLAY_DIST=t.HorizontalAlignmentType=t.HorizontalAlignment=void 0;var r=n(1),o=t.HorizontalAlignment={LEFT:0,RIGHT:1},a=(t.HorizontalAlignmentType=r.PropTypes.oneOf([o.LEFT,o.RIGHT]),t.ALIGNED_OVERLAY_DIST=2,t.VerticalAlignment={BOTTOM:0,TOP:1});t.VerticalAlignmentType=r.PropTypes.oneOf([a.BOTTOM,a.TOP])},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(250),a=r(o),i=n(251),s=r(i),l=n(252),u=r(l),c=n(120),p=r(c),f=n(253),d=r(f),h=n(155),y=r(h),m=n(254),g=r(m),b=n(255),v=r(b),_=n(256),S=r(_),O=n(257),T=r(O),E=n(86),C=r(E),w=n(258),P=r(w),N=n(368),I=r(N),R=n(201),j=r(R),x=n(156),M=r(x),A=n(15),k=r(A),D=n(369),L=r(D),F=n(370),B=r(F),H=n(376),z=r(H),U=n(87),V=r(U),G=n(377),W=r(G),q=n(378),Y=r(q);t.default={BitmapIcon:a.default,Calendar:u.default,CheckBox:p.default,CheckBoxMenuItem:d.default,ComboBox:y.default,ComboBoxCatalog:g.default,Email:v.default,GroupControl:S.default,FormActions:T.default,NumericEdit:C.default,Password:I.default,Radio:j.default,CatalogField:P.default,TextArea:M.default,TextInput:k.default,combineInputExtensions:A.combineInputExtensions,TriStateCheckBox:L.default,WithHyperlink:z.default,WithTypeAhead:V.default,Button:s.default,RichText:B.default,ReactComponentControl:Y.default,Slider:W.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(123),a=r(o),i=n(162),s=r(i),l=n(12),u=r(l),c=n(70),p=r(c),f=n(124),d=r(f),h=n(125),y=r(h),m=n(126),g=r(m),b=n(164),v=r(b),_=n(165),S=r(_),O=n(166),T=r(O),E=n(273),C=r(E),w=n(168),P=r(w),N=n(169),I=r(N),R=n(127),j=r(R),x=n(172),M=r(x),A=n(173),k=r(A),D=n(174),L=r(D),F=n(289),B=r(F),H=n(175),z=r(H),U=n(176),V=r(U),G=n(177),W=r(G),q=n(178),Y=r(q),Z=n(299),Q=r(Z),J=n(179),K=r(J),X=n(9),$=r(X),ee=n(310),te=r(ee),ne=n(180),re=r(ne),oe=n(181),ae=r(oe),ie=n(182),se=r(ie);t.default={connect:$.default,Table:a.default,Manager:s.default,actions:u.default,reducers:p.default,DefaultLayout:v.default,ContentBlockLayout:S.default,Toolbar:d.default,HeaderPanels:y.default,FooterPanels:g.default,SettingPanels:T.default,sortable:I.default,groupable:j.default,filterable:M.default,column_aggregator:k.default,selectable:L.default,pagination:B.default,columnResizer:z.default,columnHider:V.default,columnDragger:W.default,columnOrderer:Y.default,Fixed:C.default,Scrolled:P.default,columnSearch:Q.default,PredefinedTables:K.default,SimpleTable:J.SimpleTable,settingsStore:te.default,treeview:re.default,tableToTree:ae.default,columnFixer:se.default}},function(e,t,n){"use strict";function r(e,t){return e.search.instances.get(t)}function o(e,t){return e.search.instances.getIn([t,"classname"])}function a(e,t){return e.search.operationByClass.get(o(e,t))}function i(e,t){return e.search.instances.hasIn([t,"catalogTableURL"])}function s(e,t){return e.search.instances.hasIn([t,"relshipName"])}function l(e,t){return!i(e,t)&&!s(e,t)}function u(e,t){if(l(e,t)){var n=a(e,t);return n?n.get("fields"):void 0}return e.search.instances.getIn([t,"searchFormData","fields"])}function c(e,t){return e.search.operationByClass.getIn([o(e,t),"opData"])}function p(e,t){if(l(e,t)){var n=a(e,t);return n?n.getIn(["opData","operation_state"]):void 0}}function f(e,t){if(l(e,t)){var n=a(e,t);return n?n.getIn(["opData","display_mapping_url"]):void 0}return e.search.instances.getIn([t,"searchFormData","original","display_mapping_url"])}function d(e,t){if(l(e,t)){var n=a(e,t);return n?n.get("readOnlyAttributes"):void 0}return e.search.instances.getIn([t,"searchFormData","readOnlyAttributes"])}function h(e,t){if(l(e,t)){var n=a(e,t);return n?n.get("visibleAttributes"):void 0}return e.search.instances.getIn([t,"searchFormData","visibleAttributes"])}function y(e,t){return e.search.instances.getIn([t,"attributeOrder"])}function m(e,t){return e.search.instances.getIn([t,"favouriteId"])}function g(e,t){return e.search.instances.getIn([t,"searchRunning"],!1)}function b(e,t){if(i(e,t))return e.search.instances.getIn([t,"queryFormURL"]);if(s(e,t))return e.search.instances.getIn([t,"formURL"]);var n=o(e,t);return e.search.operationByClass.getIn([n,"opInfo","form_url"])}function v(e,t){var n=r(e,t);return n.has("searchFormData")&&n.has("submitURL")}function _(e,t){if(i(e,t))return e.search.instances.getIn([t,"catalogTableURL"]);if(s(e,t)){var n=r(e,t);if(v(e,t))return n.get("submitURL");var a=(0,j.getRelshipUrl)(n.get("parentObject"),n.get("relshipName"));if(void 0===a)return;return a+"?_as_table="+n.get("tableName","")}var l=o(e,t);return e.search.operationByClass.getIn([l,"opInfo","submit_url"])}function S(e,t){return e.search.instances.getIn([t,"searchValues"])}function O(e,t){var n=r(e,t);if(i(e,t))return n.get("callingFormData").setIn(["query_data","values"],n.get("searchValues")).setIn(["query_data","json_field_types"],n.getIn(["searchFormData","original","json_field_types"]));if(s(e,t))return v(e,t)?{object_navigation_id:null,tableName:n.get("tableName",""),values:n.get("searchValues")}:{};var o=e.search.operationByClass,a=o.get(n.get("classname"));return{object_navigation_id:null,values:n.get("searchValues"),operation_state:a.getIn(["opData","operationState"])}}function T(e,t){return e.search.instances.getIn([t,"searchResult"])}function E(e,t){return e.search.instances.getIn([t,"searchError"])}function C(e,t){return e.search.favouritesByClass.getIn([o(e,t),"favourites",m(e,t)])}function w(e,t){var n=e.search.instances.get(t),r=n.get("favouriteId");return(0,x.getFavouriteResultLink)(e,n.get("classname"),r)}function P(e,t){return(0,x.isSpecialFavourite)(e,o(e,t),m(e,t))}function N(e,t){return e.search.instances.getIn([t,"searchFormData","original"])}function I(e,t){return Boolean(e.search.instances.getIn([t,"notYetSearched"],!0))}function R(e,t){return e.search.instances.getIn([t,"searchOnNavigate"])}Object.defineProperty(t,"__esModule",{value:!0}),t.getInstance=r,t.getClassname=o,t.isCatalogSearch=i,t.isRelshipSearch=s,t.isClassSearch=l,t.getFields=u,t.getOpData=c,t.getOperationState=p,t.getDisplayMappingURL=f,t.getReadOnlyAttributes=d,t.getVisibleAttributes=h,t.getAttributeOrder=y,t.getFavouriteId=m,t.isSearchRunning=g,t.getFormUrl=b,t.relshipHasSearch=v,t.getSubmitUrl=_,t.getSearchValues=S,t.getSearchRequestData=O,t.getSearchResult=T,t.getSearchError=E,t.getFavouriteForInstance=C,t.getSpecialResultLink=w,t.hasSpecialFavourite=P,t.getOriginalCatalogSearchFormData=N,t.getNotYetSearched=I,t.getSearchOnNavigate=R;var j=n(2),x=n(184)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t,n){switch(e.get("activation_mode")){case g.OPERATION_ACTIVATION_MODES.NO_SELECTION:case g.OPERATION_ACTIVATION_MODES.EVERYTIME:return n;default:return Object.assign({},n,{contextObjects:t})}}function l(e){var t=e.operations,n=e.runOperation,r=e.contextObjects,o=e.operationParams,a=e.disabled,i=e.menuConfig,l=e.showInvisible,u=e.allButtonStyle,c=void 0===u?"info":u,p=t.filter(function(e){return l||e.get("menu_visible")}).sort(function(e,t){return e.get("menugroup")<t.get("menugroup")?-1:e.get("menugroup")>t.get("menugroup")?1:e.get("ordering")<t.get("ordering")?-1:e.get("ordering")>t.get("ordering")?1:0}),f=d.default.createElement(T.default.DropdownIconButton,{key:(0,b.prefixNS)("Applicationbar-DropdownButton"),id:(0,b.prefixNS)("Applicationbar-DropdownButton"),buttonStyle:c,iconName:i.get("iconName","csweb_option_horizontal"),pullRight:!0,title:(0,N.formatStr)("toolbar_further_operations"),size:i.get("iconSize"),disabled:0===p.size||a,noCaret:i.get("hideCaret",!0)},i.get("headerText")?d.default.createElement(T.default.MenuHeader,{className:"dropdown-header"},i.get("headerText")):null,p.map(function(e){var t=a||!e.get("operationEnabled",!0),i=e.get("opname")+"/"+e.get("classname"),l=s(e,r,o);return d.default.createElement(I,{key:i,disabled:t,operation:e,operationParams:l,runOperation:t?void 0:n})}));return i.get("hideQuickAccess")?f:p.filter(function(e){return e.get("essential")}).map(function(e){return d.default.createElement(R,{key:e.get("classname")+"/"+e.get("opname"),disabled:a||!e.get("operationEnabled",!0),buttonStyle:"info",operation:e,operationParams:s(e,r,o),runOperation:n,iconSize:i.get("iconSize")})}).push(f)}function u(e){var t=e.contextObject,n=e.runOperation,r=e.operationParams,o=e.operationContextName,a=e.iconSize,i=e.hideQuickAccess,s=void 0===t?y.default.List():y.default.List([t]),u=!!o;return d.default.createElement(v.OpInfoWrapper,{contextObjects:s,operationContextName:o},function(t){return d.default.createElement(P.default,null,l({operations:t,runOperation:n,contextObjects:s,operationParams:r,disabled:e.isOperationRunning,allButtonStyle:e.allButtonStyle,menuConfig:y.default.fromJS({iconSize:a,hideQuickAccess:i}),showInvisible:u}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.TableOperationToolbar=t.InnerToolbar=t.OperationButton=t.OperationMenuItem=void 0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.ContentOperationToolbar=u;var f=n(0),d=r(f),h=n(3),y=r(h),m=n(1),g=n(18),b=n(2),v=n(47),_=n(101),S=n(25),O=n(20),T=r(O),E=n(8),C=r(E),w=n(30),P=r(w),N=n(4),I=t.OperationMenuItem=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.runOperation=n.runOperation.bind(n),n}return i(t,e),p(t,[{key:"runOperation",value:function(){this.props.runOperation(this.props.operation,this.props.operationParams)}},{key:"render",value:function(){var e=Object.assign({},this.props);return delete e.operation,delete e.operationParams,delete e.runOperation,d.default.createElement(T.default.MenuItem,c({},e,{title:this.props.operation.get("tooltip")||void 0,onClick:this.runOperation}),d.default.createElement(S.SVGIconAndLabel,{src:this.props.operation.get("icon"),label:this.props.operation.get("label")}))}}]),t}(d.default.Component);I.propTypes={runOperation:m.PropTypes.func,operation:m.ImmutablePropTypes.map.isRequired,operationParams:m.PropTypes.object},I.defaultProps={operationParams:{}};var R=t.OperationButton=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.runOperation=n.runOperation.bind(n),n}return i(t,e),p(t,[{key:"runOperation",value:function(){this.props.runOperation(this.props.operation,this.props.operationParams)}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.buttonStyle,r=e.operation,o=e.icon,a=e.iconSize;return d.default.createElement(C.default.IconButton,{onClick:this.runOperation,disabled:t,buttonStyle:n,key:r.get("classname")+"-"+r.get("opname"),className:(0,b.prefixNS)("operation-button__important"),iconSrc:o||r.get("icon"),size:a,title:r.get("tooltip")||void 0})}}]),t}(d.default.Component);R.propTypes={runOperation:m.PropTypes.func,operation:m.ImmutablePropTypes.map.isRequired,operationParams:m.PropTypes.object,disabled:m.PropTypes.bool,buttonStyle:m.PropTypes.string,iconSize:m.PropTypes.string,icon:m.PropTypes.string,label:m.PropTypes.string},R.defaultProps={operationParams:{},iconSize:"sm"},u.propTypes={contextObject:m.ImmutablePropTypes.map,operationContextName:m.PropTypes.string,runOperation:m.PropTypes.func,operationParams:m.PropTypes.object,iconSize:m.PropTypes.string,allButtonStyle:m.PropTypes.string,isOperationRunning:m.PropTypes.bool,hideQuickAccess:m.PropTypes.bool},u.defaultProps={operationParams:{},iconSize:"sm",allButtonStyle:"info",isOperationRunning:!1,hideQuickAccess:!1},t.default=(0,_.WithOperationTrigger)(u);var j=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){var e=l({operations:this.props.operations,runOperation:this.props.runOperation,contextObjects:this.props.contextObjects,operationParams:this.props.operationParams,disabled:this.props.isOperationRunning,menuConfig:this.props.menuConfig,showInvisible:this.props.showInvisible,allButtonStyle:this.props.allButtonStyle});return void 0===e?null:d.default.createElement(P.default,null,e)}}]),t}(d.default.Component);j.propTypes={contextObjects:m.ImmutablePropTypes.list.isRequired,operations:m.ImmutablePropTypes.list,operationParams:m.PropTypes.object,runOperation:m.PropTypes.func,isOperationRunning:m.PropTypes.bool,menuConfig:m.ImmutablePropTypes.map,showInvisible:m.PropTypes.bool,allButtonStyle:m.PropTypes.string},j.defaultProps={operationParams:{},menuConfig:y.default.fromJS({iconSize:"sm"}),showInvisible:!1,allButtonStyle:"info"};var x=t.InnerToolbar=(0,_.WithOperationTrigger)(j),M=t.TableOperationToolbar=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.contextType,r=t.contextObjects,o=t.operationContextName,a=t.operationNames,i=!!o;return d.default.createElement(v.OpInfoWrapper,{contextType:n,contextObjects:r,operationContextName:o,operationNames:a},function(t){return d.default.createElement(x,c({},e.props,{showInvisible:i,operations:t}))})}}]),t}(d.default.Component);M.propTypes={contextType:m.PropTypes.string,contextObjects:m.ImmutablePropTypes.list.isRequired,operationContextName:m.PropTypes.string,operationParams:m.PropTypes.object,operationNames:m.PropTypes.arrayOf(m.PropTypes.string),isOperationRunning:m.PropTypes.bool,allButtonStyle:m.PropTypes.string},M.defaultProps={operationParams:{},contextObjects:y.default.List(),allButtonStyle:"info"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{relships:e.relshipsByClass}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),p=n(0),f=r(p),d=n(1),h=n(27),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.load(this.getClassname(this.props))}},{key:"getClassname",value:function(e){return e.classname?e.classname:e.contextObject?e.contextObject.get("system:classname"):void 0}},{key:"componentWillReceiveProps",value:function(e){var t=this.getClassname(e);t!==this.getClassname(this.props)&&this.load(t)}},{key:"load",value:function(e){void 0!==e&&this.props.fetchClassRelships(e)}},{key:"render",value:function(){var e=this.props.relships,t=this.getClassname(this.props);return this.props.children(e.get(t,c.default.Map()))}}]),t}(f.default.Component);y.propTypes={contextObject:d.ImmutablePropTypes.map,classname:d.PropTypes.string,relships:d.ImmutablePropTypes.map,fetchClassRelships:d.PropTypes.func},t.default=(0,d.connect)(s,{fetchClassRelships:h.fetchClassRelships})(y)},,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.helpId?"/docid/de/"+e.helpId:e.helpUrl;return i.default.createElement(u.default.IconButton,{className:"pull-right",onClick:function(){return window.open(t)},title:(0,c.formatStr)("help_reference"),iconName:"csweb_question_sign",buttonStyle:"info"})}Object.defineProperty(t,"__esModule",{value:!0}),t.HelpReference=o;var a=n(0),i=r(a),s=n(1),l=n(8),u=r(l),c=n(4);o.propTypes={helpId:s.PropTypes.string,helpUrl:s.PropTypes.string},t.default=o},function(e,t,n){"use strict";function r(e){return{type:s,payload:e}}function o(e){return{type:l,payload:e}}function a(e){return{type:u,payload:e}}function i(){return{type:c}}Object.defineProperty(t,"__esModule",{value:!0}),t.setInitGroupColumns=r,t.setGroupColumns=o,t.toggleGroup=a,t.expandAll=i;var s=t.SET_INIT_GROUP_COLUMNS="cs-web-components-base-SET_INIT_GROUP_COLUMNS",l=t.SET_GROUP_COLUMNS="cs-web-components-base-SET_GROUP_COLUMNS",u=t.TOGGLE_GROUP="cs-web-components-base-TOGGLE_GROUP",c=t.EXPAND_ALL="cs-web-components-base-EXPAND_ALL";t.default={SET_INIT_GROUP_COLUMNS:s,setInitGroupColumns:r,SET_GROUP_COLUMNS:l,setGroupColumns:o,TOGGLE_GROUP:u,toggleGroup:a,EXPAND_ALL:c,expandAll:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return"relship-search-"+ ++P}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(75),h=r(d),y=n(11),m=r(y),g=n(191),b=r(g),v=n(327),_=r(v),S=n(342),O=r(S),T=n(68),E=r(T),C=n(132),w=r(C),P=0,N=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return P+=1,n.state={expanded:e.expanded},n.instanceName=s(),n.selectionName="relationship/selection_"+P,n.onExpansionChanged=n.onExpansionChanged.bind(n),n}return i(t,e),u(t,[{key:"onExpansionChanged",value:function(e){var t=this.props.onExpanded;this.setState({expanded:e}),void 0!==t&&t(e)}},{key:"renderTable",value:function(e,t,n,r,o){var a=this.props,i=a.relshipLabel,s=a.relshipIconUrl,u=a.height,c=a.tableClassName,f=a.columnAggregator,d=a.asTree,y=a.treeParentColumnID,g=a.treeIDColumnID,b=a.treeColumnID,v=a.collapsible,_=a.singleSelection,S=d?{treeParentColumnID:y,treeIDColumnID:g,treeColumnID:b}:{},O=void 0===t?""+i:i+" ("+t.count()+")",T=s?p.default.createElement(m.default,{src:s,size:"sm"}):null,C=p.default.createElement(h.default,l({title:O,icon:T,table:n,tableDef:e,rowValues:t,singleSelection:_,withSelector:!0,onSelectionChanged:r,expanded:this.state.expanded,onExpansionChanged:this.onExpansionChanged,contentHeight:u,className:c,columnAggregator:f,collapsible:v},S));return o&&!d?p.default.createElement(E.default,null,p.default.createElement(E.default.SecondaryPane,{initCollapsed:!0,defaultSize:"300px"},p.default.createElement(w.default,{instanceName:this.instanceName,classTitle:i})),p.default.createElement(E.default.PrimaryPane,null,C)):C}},{key:"render",value:function(){var e=this,t=this.props,n=t.contextObject,r=t.relshipName,o=t.tableName,a=t.height,i=t.operationParams,s=t.hideTableHeaderPanels,l=t.onSelect,u=t.asTree,c=t.tableLayout;return p.default.createElement(b.default,{instanceName:this.instanceName,contextObject:n,relshipName:r,tableName:o,active:this.state.expanded},function(t,o,f,d){return p.default.createElement(_.default,{instanceName:e.instanceName,operationParams:i,contextObject:n,relshipName:r,selectionName:e.selectionName,refreshTable:f,height:a,hideTableHeaderPanels:s,tableLayout:c,asTree:u},function(n){return p.default.createElement(O.default,{rows:o,selectionName:e.selectionName,onSelect:l},function(r){return e.renderTable(t,o,n,r,d)})})})}}]),t}(p.default.PureComponent);t.default=N,N.propTypes={contextObject:f.ImmutablePropTypes.map,operationParams:f.PropTypes.object,relshipName:f.PropTypes.string.isRequired,relshipLabel:f.PropTypes.string.isRequired,relshipIconUrl:f.PropTypes.string.isRequired,height:f.PropTypes.string.isRequired,tableName:f.PropTypes.string,expanded:f.PropTypes.bool,onSelect:f.PropTypes.func,hideTableHeaderPanels:f.PropTypes.bool,tableClassName:f.PropTypes.string,tableLayout:f.PropTypes.func,collapsible:f.PropTypes.bool,columnAggregator:f.PropTypes.object,onExpanded:f.PropTypes.func,asTree:f.PropTypes.bool,treeParentColumnID:f.PropTypes.string,treeIDColumnID:f.PropTypes.string,treeColumnID:f.PropTypes.string,singleSelection:f.PropTypes.bool},N.defaultProps={expanded:!1,hideTableHeaderPanels:!1,collapsible:!0,asTree:!1,singleSelection:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{operationsById:e.operationsById,operationContextById:e.operationContextById,typesById:e.typesById}}function l(e,t){var n=t.contextType,r=t.operationContextName,o=t.operationNames,a=function(t){var a=t.contextObjects||(t.contextObject?h.default.List([t.contextObject]):h.default.List()),i=Object.assign({},t,void 0===n?{}:{contextType:n},void 0===r?{}:{operationContextName:r},{contextObjects:a,operationNames:o});return f.default.createElement(v,i,function(n,r){return f.default.createElement(e,u({},t,{operations:n,operationsFetched:r}))})};return a.propTypes={contextObject:y.ImmutablePropTypes.map,contextObjects:y.ImmutablePropTypes.list},a.displayName="WithOperations",a}Object.defineProperty(t,"__esModule",{value:!0}),t.OpInfoWrapper=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.WithOperations=l;var p=n(0),f=r(p),d=n(3),h=r(d),y=n(1),m=n(18),g=n(76),b=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"getClassNamesToFetch",value:function(e){var t=e.contextType,n=e.contextObjects,r=e.typesById,o=void 0===n?h.default.Set():n.map(function(e){return e.get("system:classname")}).toSet();return void 0!==t&&(o=o.add(t)),r.valueSeq().filter(function(e){return o.includes(e.get("name"))}).map(function(e){return e.get("base_classes").map(function(e){return e.get("name")}).toSet()}).reduce(function(e,t){return e.union(t)},o)}},{key:"fetchOpInfos",value:function(e){var t=e.operationContextName,n=e.fetchOperationInfo,r=e.fetchOperationContext;this.getClassNamesToFetch(e).forEach(function(e){void 0===t?n(e):r(e,t)})}},{key:"componentDidMount",value:function(){this.fetchOpInfos(this.props)}},{key:"componentWillReceiveProps",value:function(e){var t=this.getClassNamesToFetch(this.props),n=this.getClassNamesToFetch(e);h.default.is(n,t)&&this.props.typesById===e.typesById&&this.props.operationContextName===e.operationContextName||this.fetchOpInfos(e)}},{key:"classNamesForChild",value:function(e){var t=e.contextType,n=e.contextObjects;if(void 0!==n){var r=n.map(function(e){return e.get("system:classname")}).toSet();if(r.size>0)return r}return void 0!==t?h.default.Set([t]):h.default.Set()}},{key:"commonBaseClass",value:function(e){if(1===e.size)return e.first();var t=this.props.typesById.valueSeq().filter(function(t){return e.includes(t.get("name"))}).map(function(e){return e.get("base_classes").map(function(e){return e.get("name")}).push(e.get("name"))}).reduce(function(e,t){return e.takeWhile(function(e,n){return t.get(n)===e})});return void 0===t?void 0:t.last()}},{key:"isOperationRelevant",value:function(e){var t=this.props,n=t.contextType,r=t.contextObjects,o=t.activationModes,a=e.get("activation_mode");if(o)return this.props.activationModes.includes(a);var i=1===r.size,s=r.size>1,l=void 0!==n;return!(!s||a!==m.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION)||(!(!i||a!==m.OPERATION_ACTIVATION_MODES.SINGLE_SELECTION&&a!==m.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION)||!(!l||a!==m.OPERATION_ACTIVATION_MODES.NO_SELECTION&&a!==m.OPERATION_ACTIVATION_MODES.EVERYTIME))}},{key:"commonOperationNames",value:function(e){var t=this.props,n=t.operationContextName,r=t.operationsById,o=t.operationContextById,a=void 0===n?function(e){return r.getIn([e,"operations"],h.default.Map()).keySeq().toSet()}:function(e){return o.getIn([e,n],h.default.Set())};return e.map(function(e){return a(e).map(function(t){return r.getIn([e,"operations",t])}).filter(function(e){return void 0!==e}).filter(function(e){return e.get("target_url")||e.get("submit_url")}).map(function(e){return e.get("opname")})}).reduce(function(e,t){return e.intersect(t)})}},{key:"getOperations",value:function(e,t){var n=this,r=this.props,o=r.operationNames,a=r.operationsById,i=h.default.Set(o);return this.commonOperationNames(e).filter(function(e){return 0===i.size||i.includes(e)}).map(function(e){return a.getIn([t,"operations",e])}).filter(function(e){return void 0!==e}).filter(function(e){return e.get("submit_url")||e.get("target_url")}).filter(function(e){return n.isOperationRelevant(e)}).toList()}},{key:"render",value:function(){var e=this.props.operationsById,t=this.classNamesForChild(this.props),n=this.commonBaseClass(t);return void 0===n?h.default.List():this.props.children(this.getOperations(t,n),e.getIn([n,"fetchedAll"],!1))}}]),t}(f.default.Component);b.propTypes={contextType:y.PropTypes.string,contextObjects:y.ImmutablePropTypes.list,operationContextName:y.PropTypes.string,operationNames:y.PropTypes.arrayOf(y.PropTypes.string),activationModes:m.ActivationModeType,fetchOperationInfo:y.PropTypes.func.isRequired,fetchOperationContext:y.PropTypes.func.isRequired,operationsById:y.ImmutablePropTypes.map.isRequired,operationContextById:y.ImmutablePropTypes.map.isRequired,typesById:y.ImmutablePropTypes.map.isRequired};var v=t.OpInfoWrapper=(0,y.connect)(s,{fetchOperationInfo:g.fetchOperationInfo,fetchOperationContext:g.fetchOperationContext})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.formWithOperations;return{allOperationStates:t,isOperationRunning:t.some(function(e){return e.get("mode")!==T.OperationMode.INITIAL&&!e.get("nonBlocking")})}}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=function(n){function r(){return a(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,n),f(r,[{key:"render",value:function(){var n=this.props,r=n.handlerName,a=o(n,["handlerName"]);return h.default.createElement(C,p({handlerName:r||t},a,{Component:e}))}}]),r}(h.default.Component);return n.propTypes={handlerName:g.PropTypes.string},n.displayName="WithOperationHandler("+(0,v.getDisplayName)(e)+")",n}function c(e,t){var n=function(n){return h.default.createElement(t,n,function(t){return h.default.createElement(e,p({},n,{uiExtensions:[n.uiExtensions,t]}))})};return n.propTypes={uiExtensions:g.PropTypes.array},n}Object.defineProperty(t,"__esModule",{value:!0}),t.composeExtensions=void 0;var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.WithOperationHandler=u,t.applyExtension=c;var d=n(0),h=r(d),y=n(3),m=r(y),g=n(1),b=n(13),v=n(2),_=n(35),S=n(137),O=n(77),T=n(28),E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.submitOperation=n.submitOperation.bind(n),n.runOperation=n.runOperation.bind(n),n.onCancel=n.onCancel.bind(n),n.forceCancel=n.forceCancel.bind(n),n.changeOperationValues=n.changeOperationValues.bind(n),n.queryCancelForce=n.queryCancelForce.bind(n),n.queryCancelBack=n.queryCancelBack.bind(n),n.preSubmitDialogBackToDialog=n.preSubmitDialogBackToDialog.bind(n),n.preSubmitDialogCallServer=n.preSubmitDialogCallServer.bind(n),n.preSubmitDialogCancel=n.preSubmitDialogCancel.bind(n),n.preSubmitDialogSubmit=n.preSubmitDialogSubmit.bind(n),n.addFiles=n.addFiles.bind(n),n.removeFiles=n.removeFiles.bind(n),n.setSubmitHandler=n.setSubmitHandler.bind(n),n.startOperation=n.startOperation.bind(n),n.onSuccess=null,n.onFailure=null,n.state={isInstanceFinished:!1,isInstanceSucceeded:!1,isInstanceCancelled:!1,isInstanceFailed:!1},n}return s(t,e),f(t,[{key:"getOperationHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.getInstanceName(e);if(void 0===t){var n=e||this.props.handlerName;v.Console.warn("OperationHandler "+n+" not found in current OperationScope")}return t}},{key:"getInstanceName",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return this.context.getOperationHandler(e||(t||this.props).handlerName)}},{key:"getOperationState",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;return(e||this.props).allOperationStates.get(this.getInstanceName(void 0,e),m.default.Map())}},{key:"componentWillMount",value:function(){if(!this.context.registerOperationHandler)return void v.Console.warn("OperationHandler needs to be used inside OperationScope");var e=this.context.registerOperationHandler(this.props.handlerName);this.props.initOperationInstance(e)}},{key:"componentWillReceiveProps",value:function(e){this.updateState(this.getOperationState(this.props),this.getOperationState(e))}},{key:"updateState",value:function(e,t){function n(n){return!e.get("result")&&t.get("result")===n}var r=this,o={isInstanceSucceeded:n(T.OperationMode.SUCCEEDED),isInstanceCancelled:n(T.OperationMode.CANCELLED),isInstanceFailed:n(T.OperationMode.FAILED)};o.isInstanceFinished=o.isInstanceSucceeded||o.isInstanceCancelled||o.isInstanceFailed,["isInstanceSucceeded","isInstanceCancelled","isInstanceFailed"].some(function(e){return r.state[e]!==o[e]})&&this.setState(o)}},{key:"componentWillUnmount",value:function(){var e=this.context.unregisterOperationHandler(this.props.handlerName);this.props.clearOperationInstance(e)}},{key:"setSubmitHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;v.Console.warn("OperationHandler.setSubmitHandler is deprecated in cs.web 15.3.","You should reimplement your result handlers using Redux Saga."),this.onSuccess=e,this.onFailure=t}},{key:"startOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;v.Console.warn("OperationTrigger.startOperation is deprecated in cs.web 15.3.","Use OperationTrigger.runOperation instead.");var r=this.getOperationHandler(n);(0,this.props.setSubmitHandler)(r,this.onSuccess,this.onFailure);var a=t.object,i=t.objects,s=o(t,["object","objects"]);return s.contextObjects=m.default.List(i||(a?[a]:[])),this.onSuccess&&(s.successActions=[(0,O.executeSuccessHandlerFns)()]),this.onFailure&&(s.failureActions=[(0,O.executeFailureHandlerFns)()]),this.runOperation(e,s,n)}},{key:"runOperation",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;this.props.runOperation(this.getOperationHandler(n),Object.assign({operationInfo:e},t))}},{key:"addFiles",value:function(e){this.props.addFiles(this.getOperationHandler(),e)}},{key:"removeFiles",value:function(e){this.props.removeFiles(this.getOperationHandler(),e)}},{key:"changeOperationValues",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.props.changeOperationValues(this.getOperationHandler(),e,t)}},{key:"queryCancelForce",value:function(){this.props.queryCancelForce(this.getOperationHandler())}},{key:"queryCancelBack",value:function(){this.props.queryCancelBack(this.getOperationHandler())}},{key:"submitOperation",value:function(){this.props.submitOperation(this.getOperationHandler())}},{key:"preSubmitDialogSubmit",value:function(e){this.props.queryResultSubmit(this.getInstanceName(),e)}},{key:"preSubmitDialogCancel",value:function(){this.props.queryResultCancel(this.getInstanceName())}},{key:"preSubmitDialogCallServer",value:function(e){this.props.queryResultCall(this.getInstanceName(),e)}},{key:"preSubmitDialogBackToDialog",value:function(e){this.props.queryResultBack(this.getInstanceName(),e)}},{key:"cancelOperation",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.props.cancelOperation(this.getOperationHandler(),e)}},{key:"onCancel",value:function(){this.cancelOperation(!1)}},{key:"forceCancel",value:function(){this.cancelOperation(!0)}},{key:"render",value:function(){var e=this.props,t=e.Component,n=o(e,["Component"]);delete n.initOperationInstance,delete n.clearOperationInstance;var r="string"==typeof t?b.Registry.findComponent(t):t,a=this.getInstanceName(),i=this.getOperationState(),s=i.get("mode"),l=!T.NOT_ACTIVE_SET.has(s),u=!T.NOT_RUNNING_SET.has(s);return h.default.createElement(r,p({},n,{operationInstance:a,operationState:i,isInstanceActive:l,isInstanceRunning:u},this.state,{runOperation:this.runOperation,onCancel:this.onCancel,forceCancel:this.forceCancel,onChangeValues:this.changeOperationValues,onSubmit:this.submitOperation,queryCancelBack:this.queryCancelBack,queryCancelForce:this.queryCancelForce,preSubmitDialogBackToDialog:this.preSubmitDialogBackToDialog,preSubmitDialogCallServer:this.preSubmitDialogCallServer,preSubmitDialogSubmit:this.preSubmitDialogSubmit,preSubmitDialogCancel:this.preSubmitDialogCancel,addFiles:this.addFiles,removeFiles:this.removeFiles}))}}]),t}(h.default.Component);E.propTypes={Component:g.PropTypes.oneOfType([g.PropTypes.func,g.PropTypes.object]),handlerName:g.PropTypes.string.isRequired,initOperationInstance:g.PropTypes.func.isRequired,clearOperationInstance:g.PropTypes.func.isRequired,changeOperationValues:g.PropTypes.func.isRequired,runOperation:g.PropTypes.func.isRequired,submitOperation:g.PropTypes.func.isRequired,cancelOperation:g.PropTypes.func.isRequired,queryCancelBack:g.PropTypes.func.isRequired,queryCancelForce:g.PropTypes.func.isRequired,queryResultSubmit:g.PropTypes.func.isRequired,queryResultBack:g.PropTypes.func.isRequired,queryResultCancel:g.PropTypes.func.isRequired,queryResultCall:g.PropTypes.func.isRequired,addFiles:g.PropTypes.func.isRequired,removeFiles:g.PropTypes.func.isRequired,setSubmitHandler:g.PropTypes.func.isRequired,allOperationStates:g.ImmutablePropTypes.map.isRequired},E.contextTypes={registerOperationHandler:g.PropTypes.func,unregisterOperationHandler:g.PropTypes.func,getOperationHandler:g.PropTypes.func};var C=(0,g.connect)(l,{initOperationInstance:_.initOperationInstance,clearOperationInstance:_.clearOperationInstance,changeOperationValues:S.changeOperationValues,runOperation:S.runOperation,submitOperation:S.submitOperation,cancelOperation:S.cancelOperation,queryCancelBack:S.queryCancelBack,queryCancelForce:S.queryCancelForce,queryResultBack:S.queryResultBack,queryResultCall:S.queryResultCall,queryResultCancel:S.queryResultCancel,queryResultSubmit:S.queryResultSubmit,addFiles:S.addFiles,removeFiles:S.removeFiles,setSubmitHandler:_.setSubmitHandler})(E);t.default=C;t.composeExtensions=function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return n.reduce(c,e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(355),h=r(d),y="data:image/svg+xml;base64,".length,m=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"renderSVG",value:function(){var e=h.default.substring(y);return{__html:atob(e)}}},{key:"render",value:function(){var e=(0,p.classNames)((0,f.prefixNS)("throbber-wrap-"+this.props.size),o({},(0,f.prefixNS)("throbber-hidden"),this.props.hidden));return this.props.throbberImage?c.default.createElement("div",{className:e},c.default.createElement("img",{className:(0,f.prefixNS)("throbber"),src:this.props.throbberImage})):c.default.createElement("div",{className:e},c.default.createElement("div",{className:(0,f.prefixNS)("throbber"),dangerouslySetInnerHTML:this.renderSVG()}))}}]),t}(c.default.Component);t.default=m,m.propTypes={hidden:p.PropTypes.bool,throbberImage:p.PropTypes.string,size:p.PropTypes.oneOf(["sm","md"])},m.defaultProps={hidden:!1,size:"md"}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(){try{return(0,s.getAppSetup)().getIn(["formats","decimalSeparator"])}catch(e){return"."}}function a(){try{return(0,s.getAppSetup)().getIn(["formats","groupSeparator"])}catch(e){return""}}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(2),l=Number.MAX_SAFE_INTEGER||Math.pow(2,53)-1,u=Number.MIN_SAFE_INTEGER||-l,c=function(){function e(t){r(this,e),this.originalValue=t,this._value=Number(t)}return i(e,[{key:"valueOf",value:function(){return this._value.valueOf()}},{key:"toString",value:function(){return this.valueOf().toString()}},{key:"isValid",value:function(){return!Number.isNaN(this.valueOf())}},{key:"isSafe",value:function(){return e.isSafeNumber(this.valueOf())}},{key:"isSign",value:function(){return"-"===this.originalValue}},{key:"format",value:function(e,t,n,r){if(!this.isValid())return this.toString();var i=e>0?e:0,s=void 0!==t?t:o(),l=void 0!==n?n:a(),u="\\d(?=(\\d{"+(r||3)+"})+"+(i>0?"\\D":"$")+")",c=isFinite(i)?this.toFixed(i):this.toString();return(s?c.replace(".",s):c).replace(new RegExp(u,"g"),"$&"+(l||""))}},{key:"formatUnfixed",value:function(e,t,n){return this.format(1/0,e,t,n)}},{key:"toFixed",value:function(e){var t=this.valueOf(),n=e>0?e:0;return(Math.round(t+"e+"+n)/Math.pow(10,n)).toFixed(n)}},{key:"toVariableFixed",value:function(){if(!this.isValid())return this.toString();var e=16;return e=e-Math.trunc(this.valueOf()).toString().length-1,e=e>0?e:0,this.toFixed(e)}},{key:"formatVariableFixed",value:function(){if(!this.isValid())return this.toString();var e=this.toVariableFixed(),t="\\d(?=(\\d{3})+"+(e.indexOf(".")>-1?"\\D":"$")+")";return(o()?e.replace(".",o()):e).replace(new RegExp(t,"g"),"$&"+(a()||""))}}],[{key:"fromInput",value:function(t,n,r){var i=(void 0!==n?n:o()).replace(/\./g,"\\."),s=(void 0!==r?r:a()).replace(/\./g,"\\."),l=t.replace(new RegExp(s,"g"),"").replace(new RegExp(i,"g"),".");return new RegExp("^-{0,1}\\d*\\.{0,1}\\d*$").test(l)||(l=Number.NaN),new e(l)}},{key:"normalizeInput",value:function(t,n,r,o){var a=e.fromInput(t,r,o);return a.isValid()?a.toFixed(n):Number.NaN}},{key:"isSafeNumber",value:function(e){return e>=u&&e<=l}},{key:"removeTrailingDecimalsZeros",value:function(e,t){var n=void 0!==t?t:o(),r=e,a=new RegExp("(?:\\"+n+"0+|(\\"+n+"\\d+?)0+)$");return r=r.replace(a,"$1")}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=(0,g.classNames)(e.className,{active:e.active});return y.default.createElement("li",{role:"presentation",className:t},y.default.createElement("span",{role:"tab",onClick:function(){e.onSelect(e.eventKey)}},e.children))}function u(e){var t=e.children,n=e.className,r=o(e,["children","className"]);return y.default.createElement(m.Tab.Container,r,y.default.createElement("div",{className:(0,b.prefixNS)("tab__wrapper")+" "+n},t))}function c(e){var t=e.children,n=o(e,["children"]);return y.default.createElement(m.Tab.Content,f({className:(0,b.prefixNS)("tab__content")},n),t)}function p(e){var t=e.children,n=o(e,["children"]);return y.default.createElement(m.Tab.Pane,f({className:(0,b.prefixNS)("tab__content-pane")},n),t)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),y=r(h),m=n(6),g=n(1),b=n(2),v=n(4),_=n(20),S=r(_),O=n(25),T=n(15),E=r(T),C=S.default.DropdownTextButton,w=S.default.MenuItem;l.propTypes={className:g.PropTypes.string,active:g.PropTypes.bool,onSelect:g.PropTypes.func,eventKey:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.number])};var P={beginDrag:function(e){return{id:e.eventKey}},endDrag:function(e,t){var n=t.getItem(),r=t.getDropResult();r&&e.onReorderTabs(n.id,r.id)}},N={drop:function(e){return{id:e.eventKey}}},I=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"render",value:function(){var e=this.props;return(0,e.connectDragSource)((0,e.connectDropTarget)(y.default.createElement("div",{className:(0,b.prefixNS)("tab__nav-item--draggable")},this.props.children)))}}]),t}(y.default.PureComponent);I.propTypes={connectDragSource:g.PropTypes.func,connectDropTarget:g.PropTypes.func};var R=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"textInputRenderCallback",value:function(e){var t=this.props.title;e&&(e.focus(),e.setSelectionRange(t.length,t.length))}},{key:"render",value:function(){var e=this.props,t=e.onEnter,n=e.onCancel,r=e.iconName,a=e.iconSrc,i=e.title,s=e.onChange,u=o(e,["onEnter","onCancel","iconName","iconSrc","title","onChange"]);return y.default.createElement(l,f({className:(0,b.prefixNS)("tab__nav-item")},u),s?y.default.createElement(E.default,{name:"tab-rename",value:i,onChange:s,onEnter:t,onCancel:n,ref:this.textInputRenderCallback.bind(this)}):y.default.createElement(O.SVGIconAndLabel,{name:r,src:a,label:i}),this.props.children)}}]),t}(y.default.Component);R.propTypes={title:g.PropTypes.string,eventKey:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.number]),iconName:g.PropTypes.string,iconSrc:g.PropTypes.string,onChange:g.PropTypes.func,onEnter:g.PropTypes.func,onCancel:g.PropTypes.func,disabled:g.PropTypes.bool};var j=function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),d(t,[{key:"render",value:function(){var e=this.props,t=e.eventKey,n=e.onReorderTabs,r=e.title,a=e.iconName,i=e.draggableItemId,s=o(e,["eventKey","onReorderTabs","title","iconName","draggableItemId"]),l=g.ReactDnD.DragSource(i,P,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(g.ReactDnD.DropTarget(i,N,function(e){return{connectDropTarget:e.dropTarget()}})(I));return y.default.createElement(l,{eventKey:t,onReorderTabs:n},y.default.createElement(R,f({eventKey:t,iconName:a,title:r},s)))}}]),t}(y.default.PureComponent);j.propTypes={title:g.PropTypes.string,eventKey:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.number]),iconName:g.PropTypes.string,iconSrc:g.PropTypes.string,onReorderTabs:g.PropTypes.func,draggableItemId:g.PropTypes.string},u.propTypes={className:g.PropTypes.string};var x=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"renderOverflowEntry",value:function(e,t){return y.default.createElement(w,{key:e.eventKey,eventKey:e.eventKey,active:t,disabled:e.disabled},y.default.createElement(O.SVGIconAndLabel,{name:e.iconName,src:e.iconSrc,label:e.title,allowEmptyIcon:!0}))}},{key:"render",value:function(){var e=this,t={iconName:"csweb_add",title:this.props.addControlLabel,disabled:this.props.disabled,eventKey:"ADD_NEW_TAB"},n=this.props.addControlLabel?y.default.createElement(R,t):null,r=this.props.addControlLabel?[y.default.createElement(w,{key:"divider",divider:!0}),this.renderOverflowEntry(t,!1)]:null;return y.default.createElement("div",{className:(0,b.prefixNS)("tab__titles")},y.default.createElement(m.Nav,{bsStyle:"tabs",className:(0,b.prefixNS)("tab__nav")},this.props.children,n),y.default.createElement(C,{className:(0,b.prefixNS)("tab__nav-dropdown"),pullRight:!0,buttonStyle:"link",title:(0,v.formatStr)("object_details_more"),id:"object-details-dropdown",onSelect:this.props.onSelectFromMenu,disabled:this.props.disabled},y.default.Children.toArray(this.props.children).filter(function(e){return null!==e&&void 0!==e&&(e.type===R||e.type===j)&&"ADD_NEW_TAB"!==e.props.eventKey}).map(function(t){return e.renderOverflowEntry(t.props,t.props.eventKey===e.props.activeKey)}),r))}}]),t}(y.default.Component);x.propTypes={activeKey:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.number]),onSelectFromMenu:g.PropTypes.func,onReorderTabs:g.PropTypes.func,addControlLabel:g.PropTypes.string,disabled:g.PropTypes.bool},t.default={EVENT_KEY_ADD:"ADD_NEW_TAB",Container:u,Content:c,Pane:p,Bar:x,Title:R,DraggableTitle:j}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(23),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=function(){function e(t,n){r(this,e);var o=t?(0,i.default)(t):null,a=n?(0,i.default)(n):null;this.startMoment=o,this.endMoment=a,o&&a&&a.isBefore(o)&&(this.startMoment=a,this.endMoment=o)}return o(e,[{key:"contains",value:function(e){if(!e||!this.startMoment&&!this.endMoment)return!1;var t=(0,i.default)(e);return this.startMoment&&!this.endMoment?t.isSameOrAfter(this.startMoment):!this.startMoment&&this.endMoment?t.isSameOrBefore(this.endMoment):t.isBetween(this.startMoment,this.endMoment,null,"[]")}},{key:"toDayArray",value:function(){var e=[];if(!this.startMoment||!this.endMoment)return e;for(var t=this.startMoment.clone();t.isSameOrBefore(this.endMoment,"day");t.add(1,"day"))e.push(t.clone());return e}},{key:"getStart",value:function(){return this.startMoment}},{key:"getEnd",value:function(){return this.endMoment}},{key:"weekNumbers",value:function(){var e=[];if(!this.startMoment||!this.endMoment)return e;for(var t=this.startMoment.clone();t.isSameOrBefore(this.endMoment,"week");t.add(1,"week"))e.push(t.isoWeek());return e}},{key:"duration",value:function(e,t){return this.startMoment&&this.endMoment?this.endMoment.diff(this.startMoment,e,t):1/0}},{key:"isDayBegin",value:function(){return 0===this.duration()&&this.startMoment.isSame(this.startMoment.clone().startOf("day"))}}]),e}();t.default=s},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.readPath.split("/"),r=e.objectsById,o=e.contextObjects,a=o.getIn(n,f.default.List()).map(function(e){return r.get(e)}).filter(function(e){return void 0!==e});return{contextObject:a.last(),contextObjects:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.ContextObjectWrapper=t.ContextObjectSetter=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(54),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectCallback=n.selectCallback.bind(n),n}return i(t,e),l(t,[{key:"selectCallback",value:function(){for(var e=this.props,t=e.setPath,n=e.setContextObjects,r=arguments.length,o=Array(r),a=0;a<r;a++)o[a]=arguments[a];n.apply(void 0,[t].concat(o))}},{key:"render",value:function(){return c.default.cloneElement(c.default.Children.only(this.props.children),{onSelect:this.selectCallback})}}]),t}(c.default.Component);y.propTypes={setPath:d.PropTypes.string.isRequired,setContextObjects:d.PropTypes.func.isRequired};var m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectCallback=n.selectCallback.bind(n),n}return i(t,e),l(t,[{key:"selectCallback",value:function(){for(var e=this.props,t=e.readPath,n=e.setTag,r=e.setContextObjects,o=t+"/"+n,a=arguments.length,i=Array(a),s=0;s<a;s++)i[s]=arguments[s];r.apply(void 0,[o].concat(i))}},{key:"render",value:function(){var e={onSelect:this.selectCallback,contextObject:this.props.contextObject,contextObjects:this.props.contextObjects};return c.default.cloneElement(c.default.Children.only(this.props.children),e)}}]),t}(c.default.Component);m.propTypes={contextObject:d.ImmutablePropTypes.map,contextObjects:d.ImmutablePropTypes.list.isRequired,readPath:d.PropTypes.string.isRequired,setContextObjects:d.PropTypes.func.isRequired,setTag:d.PropTypes.string},m.defaultProps={setTag:"default"};var g=(0,d.connect)(void 0,{setContextObjects:h.setContextObjects})(y),b=(0,d.connect)(s,{setContextObjects:h.setContextObjects})(m);t.ContextObjectSetter=g,t.ContextObjectWrapper=b},function(e,t,n){"use strict";function r(e,t){return{type:d,payload:{path:e,objectIds:t}}}function o(e,t){return function(n,o){var a=t.filter(function(e){return void 0!==e}).map(function(e){return"string"==typeof e?e:e.get("@id")});n(r(e,a));var i=o().objectsById;a.filterNot(function(e){return i.has(e)}).forEach(function(e){return n((0,c.fetchObject)(e))})}}function a(e,t){return function(n,o){var a=t.filter(function(e){return void 0!==e}).map(function(e){return e[0]});n(r(e,a));var s=o().objectsById,l=t.filter(function(e){return void 0!==e}).filterNot(function(e){return s.has(e[0])}).map(function(e){return[e[1],e[2]]});l.count()&&n(i(l))}}function i(e){var t=(0,f.getAppSetup)().getIn(["links","common","batchLoad"]);return function(n){(0,p.postJSON)(t,{identifiers:e}).then(function(e){return n((0,c.receivedCollection)(null,e.objects))})}}function s(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return o(e,u.default.List(n))}Object.defineProperty(t,"__esModule",{value:!0}),t.SET_CONTEXT_OBJECTS=void 0,t.setContextObjectList=o,t.setContextObjectsBatchLoad=a,t.setContextObjects=s;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(27),p=n(10),f=n(2),d=t.SET_CONTEXT_OBJECTS="cs-web-components-base-SET_CONTEXT_OBJECTS"},function(e,t,n){"use strict";function r(e){return{type:s,payload:e}}function o(e){return{type:l,payload:e}}function a(e){return{type:u,payload:e}}function i(e){return{type:c,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setInitSortColumns=r,t.setSortColumns=o,t.addSortFunction=a,t.removeSortFunction=i;var s=t.SET_INIT_SORT_COLUMNS="cs-web-components-base-SET_INIT_SORT_COLUMNS",l=t.SET_SORT_COLUMNS="cs-web-components-base-SET_SORT_COLUMNS",u=t.ADD_SORT_FUNCTION="cs-web-components-base-ADD_SORT_FUNCTION",c=t.REMOVE_SORT_FUNCTION="cs-web-components-base-REMOVE_SORT_FUNCTION";t.default={SET_SORT_COLUMNS:l,setSortColumns:o,SET_INIT_SORT_COLUMNS:s,setInitSortColumns:r,ADD_SORT_FUNCTION:u,addSortFunction:a,REMOVE_SORT_FUNCTION:c,removeSortFunction:i}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.OrderedSet(),t=arguments[1];switch(t.type){case c.SET_INIT_GROUP_COLUMNS:return void 0===t.payload?e:t.payload;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments[1];switch(t.type){case c.SET_GROUP_COLUMNS:return void 0===t.payload?e:t.payload;case p.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("groupColumns")?t.payload.get("groupColumns").toOrderedSet().intersect(t.payload.get("columnIDs")):f;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case c.TOGGLE_GROUP:return void 0===t.payload?e:e.contains(t.payload)?e.delete(t.payload):e.add(t.payload);case c.EXPAND_ALL:return d;default:return e}}function i(e){return e.groupColumns===f?e.initGroupColumns:e.groupColumns}function s(e){return e.collapsedGroups}Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupColumns=r,t.groupColumns=o,t.collapsedGroups=a,t.getGroupColumns=i,t.getCollapsedGroups=s;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(45),p=n(12),f=null,d=u.default.Set();t.default={initGroupColumns:r,groupColumns:o,collapsedGroups:a}},function(e,t,n){"use strict";function r(e){return{type:l,payload:e}}function o(e){return{type:u,payload:e}}function a(e){return{type:c,payload:e}}function i(){return{type:p}}function s(){return{type:f}}Object.defineProperty(t,"__esModule",{value:!0}),t.setFilter=r,t.addFilterFunction=o,t.removeFilterFunction=a,t.sendFocusFilter=i,t.resetFocusFilter=s;var l=t.SET_FILTER="cs-web-components-base-SET_FILTER",u=t.ADD_FILTER_FUNCTION="cs-web-components-base-ADD_FILTER_FUNCTION",c=t.REMOVE_FILTER_FUNCTION="cs-web-components-base-REMOVE_FILTER_FUNCTION",p=t.SEND_FOCUS_FILTER="cs-web-components-base-SEND_FOCUS_FILTER",f=t.RESET_FOCUS_FILTER="cs-web-components-base-RESET_FOCUS_FILTER";t.default={SET_FILTER:l,setFilter:r,ADD_FILTER_FUNCTION:u,addFilterFunction:o,REMOVE_FILTER_FUNCTION:c,removeFilterFunction:a,SEND_FOCUS_FILTER:p,sendFocusFilter:i,RESET_FOCUS_FILTER:f,resetFocusFilter:s}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return Array.isArray(e)?function(t){return t.getIn(e)}:e}function u(e){return Array.isArray(e)?"["+e.join(", ")+"]":e}Object.defineProperty(t,"__esModule",{value:!0}),t.WithIcons=t.WithHoverLink=t.WithLink=t.NodeRenderer=t.NodeRendererType=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.generateExtractor=l;var p=n(3),f=r(p),d=n(0),h=r(d),y=n(1),m=n(2),g=n(59),b=r(g),v=n(11),_=r(v),S=t.NodeRendererType=y.PropTypes.oneOfType([y.PropTypes.func,y.PropTypes.instanceOf(h.default.Component)]),O=m.compose,T=function(e,t){return{prefix:e.substring(0,t.value.start),match:e.substring(t.value.start,t.value.end),suffix:e.substring(t.value.end)}},E=t.NodeRenderer=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=function(r){var o=r.node.get("is_selected"),a=l(e)(r.node),i=[(0,m.prefixNS)("tree-node-renderer")],s=a;if(r.searchMatch&&(2===t||1===t&&r.getSelectedSearchResult().get("id")===r.node.get("id"))&&(i.push((0,m.prefixNS)("matched-tree-node")),r.searchMatch.type&&"substring"===r.searchMatch.type)){var u=T(a,r.searchMatch);s=[h.default.createElement("span",{key:"prefix"},u.prefix),h.default.createElement("span",{key:"match",className:o?(0,m.prefixNS)("selected-tree-node-highlight"):(0,m.prefixNS)("matched-tree-node-highlight")},u.match),h.default.createElement("span",{key:"suffix"},u.suffix)]}r.node.get("is_selected")&&i.push("selected_tree_node");var c=n&&l(n)(r.node)||a;return h.default.createElement("span",{className:i.join(" "),title:c},s)};return r.propTypes={getSelectedSearchResult:y.PropTypes.func,node:y.ImmutablePropTypes.map,searchMatch:y.PropTypes.shape({type:y.PropTypes.string,value:y.PropTypes.shape({start:y.PropTypes.number,end:y.PropTypes.number})})},r.displayName="NodeRenderer("+u(e)+", "+t+")",r},C=t.WithLink=function(e){return function(t){var n=function(n){var r=l(e)(n.node);return r?h.default.createElement("span",{className:(0,m.prefixNS)("tree-node-renderer-component")},h.default.createElement(t,n)," ",h.default.createElement(b.default.Link,{className:"object-link",to:r},h.default.createElement(_.default,{name:"csweb_link",size:"sm"}))):h.default.createElement(t,n)};return n.propTypes={node:y.ImmutablePropTypes.map},n.displayName="WithLink("+u(e)+", "+(0,m.getDisplayName)(t)+")",n}},w=t.WithHoverLink=function(e){return function(t){var n=function(n){function r(t){a(this,r);var n=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,t));return n.extractor=l(e),n.state={isLinkVisible:!1},n}return s(r,n),c(r,[{key:"setLinkVisible",value:function(e){this.setState({isLinkVisible:e})}},{key:"render",value:function(){var e=(0,y.classNames)(o({},(0,m.prefixNS)("tree-node-renderer-link-unselected"),!(this.state.isLinkVisible||this.props.node.get("is_selected")))),n=this.extractor(this.props.node);return n?h.default.createElement("span",{onMouseEnter:this.setLinkVisible.bind(this,!0),onMouseLeave:this.setLinkVisible.bind(this,!1),className:(0,m.prefixNS)("tree-node-renderer-component")},h.default.createElement(t,this.props)," ",h.default.createElement(b.default.Link,{disabled:!this.state.isLinkVisible,className:"object-link",to:n},h.default.createElement(_.default,{className:e,name:"csweb_link",size:"sm"}))):h.default.createElement(t,this.props)}}]),r}(h.default.Component);return n.propTypes={node:y.ImmutablePropTypes.map},n.displayName="WithHoverLink("+u(e)+", "+(0,m.getDisplayName)(t)+")",n}},P=t.WithIcons=function(e){var t=l(e);return function(n){var r=function(e){var r=t(e.node),a=(0,y.classNames)((0,m.prefixNS)("tree-node-with-icons"),o({},(0,m.prefixNS)("selected-tree-node"),e.node.get("is_selected")));return r?h.default.createElement("span",{className:a},r.filter(function(e){return Boolean(e)}).map(function(e){return f.default.Map.isMap(e)?e.toJS():e}).filter(function(e){return e.url}).map(function(t){return h.default.createElement(_.default,{key:e.node.get("id")+"-"+t.url,size:"sm",src:t.url,title:t.title,alt:t.title})}),h.default.createElement(n,e)):h.default.createElement(n,e)};return r.propTypes={node:y.ImmutablePropTypes.map},r.displayName="WithIcons("+u(e)+", "+(0,m.getDisplayName)(n)+")",r}},N=E(["content"]);N.WithIcons=P,N.WithHoverLink=w,N.WithLink=C,N.NodeRenderer=E,N.create=O,N.generateExtractor=l,N.NodeRendererType=S,N.HIGHLIGHT_NO_MATCHES=0,N.HIGHLIGHT_SELECTED_MATCH=1,N.HIGHLIGHT_ALL_MATCHES=2,t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(324),a=r(o),i=n(325),s=r(i),l=n(361),u=r(l),c=n(29),p=r(c);t.default={Applications:a.default,Favorites:s.default,History:u.default,Link:p.default}},function(e,t,n){"use strict";function r(e){return e.get("mandatory")}function o(e){return e.get("hidden")}function a(e){return e.get("fieldtype")===d&&e.getIn(["config","tri_state"])}function i(e,t){if(t){var n=e.get("ml_origin")?e.get("ml_origin"):e.get("multilang")?e.get("multilang"):[];return p.default.Set([e.get("attribute")]).union(n.map(function(e){return e.get("attribute")})).filter(function(e){return s(t.get(e))}).count()}return!1}function s(e){return-1===y.indexOf(e)}function l(e){var t=[e.get("attribute")];return e.get("multilang")&&e.get("multilang").forEach(function(e){t.push(e.get("attribute"))}),t}function u(e){return e.get("fieldtype")===f||e.get("fieldtype")===h}Object.defineProperty(t,"__esModule",{value:!0}),t.isMandatory=r,t.isHidden=o,t.isTriStateCheckBox=a,t.isFilled=i,t.isValue=s,t.getRelevantAttributes=l,t.anyAttributeIsRelevant=u;var c=n(3),p=function(e){return e&&e.__esModule?e:{default:e}}(c),f="catalog",d="checkbox",h="combobox";t.default={TEXT:"text",CATALOG:f,CHECKBOX:d,PASSWORD:"password",EMAIL:"email",HYPERLINK:"hyperlink",LONGTEXT:"longtext",IMAGE:"image",CALENDAR:"calendar",OBJECTUUID:"objectuuid",COMBOBOX:h,NUMERICEDIT:"numericedit",ENUMCOMBOBOX:"enumcombobox",BUTTON:"button",COMPONENT:"component"};var y=[void 0,"",null]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.OperationModalRaw=void 0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(24),f=r(p),d=n(3),h=r(d),y=n(1),m=n(48),g=n(16),b=r(g),v=n(62),_=h.default.fromJS([b.default.SIZE_MEDIUM,b.default.SIZE_LARGE]),S=t.OperationModalRaw=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={containerRef:void 0},n.setBodyRef=n.setBodyRef.bind(n),n}return i(t,e),l(t,[{key:"setBodyRef",value:function(e){e?this.setState({containerRef:f.default.findDOMNode(e)}):this.setState({containerRef:void 0})}},{key:"render",value:function(){var e=this,t=this.props.operationState;if(!t.get("displayForm"))return null;var n=t.getIn(["info","label"]);return c.default.createElement(v.ConfiguredFormRaw,s({containerRef:this.state.containerRef},this.props),function(t,r,o,a){return c.default.createElement(b.default.Dialog,{title:n,bodyRef:e.setBodyRef,buttons:r,sizes:_,onAction:o,onHide:a,showCancel:!0,show:!0},t)})}}]),t}(c.default.Component);S.propTypes={operationState:y.PropTypes.object},t.default=(0,m.WithOperationHandler)(S,"modal")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{operationMode:e.formWithOperations.getIn([t.operationInstance,"mode"])}}Object.defineProperty(t,"__esModule",{value:!0}),t.ConfiguredForm=t.ConfiguredFormRaw=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(4),y=n(2),m=n(19),g=n(60),b=n(334),v=r(b),_=n(8),S=r(_),O=n(335),T=r(O),E=n(336),C=r(E),w=n(35),P=n(28),N=n(196),I=r(N),R=n(78),j=n(108),x=(0,y.prefixNS)("ConfiguredForm__mandatory"),M=(0,y.prefixNS)("ConfiguredForm__error"),A=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.leaveCheck=n.leaveCheck.bind(n),n.preSubmitDialogButtonPressed=n.preSubmitDialogButtonPressed.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){window.addEventListener("beforeunload",this.leaveCheck)}},{key:"componentWillReceiveProps",value:function(e){e.operationState.get("valueErrors")!==this.props.operationState.get("valueErrors")&&this.updateValueErrors(e),e.operationState.get("generalErrors")!==this.props.operationState.get("generalErrors")&&this.updateGeneralErrors(e,this.props)}},{key:"leaveCheck",value:function(e){var t=this.props.operationState;if(t.get("displayForm")&&(0,R.hasModifiedValues)(t)){var n=(0,h.formatStr)("form_leave_page");return e.returnValue=n,n}}},{key:"updateValueErrors",value:function(e){var t=this;if(e.removeNotificationNow(x),e.operationState.get("valueErrors")){var n=e.operationState.get("valueErrors"),r=n.map(function(e){return e.get("field")}),o=r.filter(function(e){return!(0,g.isHidden)(e)}),a=o.size?[]:r.filter(function(e){return(0,g.isHidden)(e)}),i=o.size?c.default.createElement("p",null,o.map(function(e,n){return c.default.createElement(S.default.TextButton,{key:n,onClick:function(){return t.setFocusField(e)},title:e.get("label")})})):null,s=a.size?c.default.createElement("p",null,(0,h.formatStr)("mandatory_hidden_hint"),":",a.map(function(e){return c.default.createElement("label",{key:e.get("attribute")},e.get("label"))})):null,l=c.default.createElement("div",null,c.default.createElement("p",null,(0,h.formatStr)("mandatory_fields_not_filled")),i,s);e.addNotification(x,(0,h.formatStr)("form_name"),l,"danger",2,null,null)}}},{key:"updateGeneralErrors",value:function(e,t){var n=t.operationState.get("generalErrors");n&&n.forEach(function(t,n){e.removeNotificationNow(M+"-"+n)});var r=e.operationState.get("generalErrors");r&&r.forEach(function(t,n){e.addNotification(M+"-"+n,t.get("title")||(0,h.formatStr)("default_error_title"),t.get("message"),"danger",2,null,null)})}},{key:"componentWillUnmount",value:function(){var e=this,t=this.props.operationState.get("generalErrors");t&&t.forEach(function(t,n){e.props.removeNotificationNow(M+"-"+n)}),this.props.removeNotificationNow(x),window.removeEventListener("beforeunload",this.leaveCheck)}},{key:"preSubmitDialogButtonPressed",value:function(e,t){var n=this.props.operationState,r=n.get("query").argumentName;switch(e){case P.ButtonActions.Submit:this.props.preSubmitDialogSubmit({name:r,value:t});break;case P.ButtonActions.Cancel:this.props.preSubmitDialogCancel();break;case P.ButtonActions.CallServer:this.props.preSubmitDialogCallServer({name:r,value:t});break;case P.ButtonActions.BackToDialog:this.props.preSubmitDialogBackToDialog({name:r,value:t})}}},{key:"setFocusField",value:function(e){var t='textarea[name="'+e.get("attribute")+'"],input[name="'+e.get("attribute")+'"]',n=this._form.querySelector(t);n&&n.focus&&n.focus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.operationState,r=t.onSubmit,o=t.onCancel,a=t.onChangeValues,i=t.queryCancelBack,s=t.queryCancelForce,l=t.hideButtons,u=t.uiExtensions,p=t.readOnly,f=t.allowCancel,d=t.containerRef,h=n.get("registers"),m=n.getIn(["state","buttons"]),g=n.get("wizardProgress"),b=n.get("values"),_=n.getIn(["state","display_mapping_url"]),S=n.getIn(["unchecked"]),O=n.getIn(["preventSubmitReasons"]),E=n.getIn(["query"]),w=n.get("operationState"),P=n.get("queryCancel"),N=n.get("submitDisabled"),R=n.getIn(["params","contextObjects"]),x=g?g.get("steps"):null,M=g?g.get("position"):0,A=g&&g.get("button_label")?m.map(function(e){return 0===e.get("button_type")?e.set("label",g.get("button_label")):e}):m;if(h){var k=!N&&0===O.size;return this.props.children(c.default.createElement("form",{className:(0,y.prefixNS)("configured-form"),ref:function(t){e._form=t}},P?c.default.createElement(T.default,{forceCancel:s,cancelQuery:i}):null,E?c.default.createElement(C.default,{dialog:E,buttonPressed:this.preSubmitDialogButtonPressed}):null,x?c.default.createElement(I.default,{steps:x,position:M}):null,c.default.createElement(j.DisplayFormRaw,{operationInstance:this.props.operationInstance,registers:h,onChangeValues:a,uncheckedValues:S,values:b,displayMappingURL:_,operationState:w,replaceContentOnNavigate:p,containerRef:d,readOnly:p,contextObjects:R}),u),l?null:c.default.createElement(v.default,{readOnly:p,allowCancel:f,allowSubmit:k,buttons:A,onSubmit:r,onCancel:o,submitRunning:N}),r,o)}return c.default.createElement("div",null)}}]),t}(c.default.Component);A.propTypes={operationInstance:d.PropTypes.string.isRequired,operationMode:d.PropTypes.string.isRequired,operationState:d.ImmutablePropTypes.map,requestData:d.PropTypes.object,onSubmit:d.PropTypes.func,onCancel:d.PropTypes.func,onChangeValues:d.PropTypes.func,readOnly:d.PropTypes.bool,queryCancelBack:d.PropTypes.func,queryCancelForce:d.PropTypes.func,preSubmitDialogBackToDialog:d.PropTypes.func.isRequired,preSubmitDialogCallServer:d.PropTypes.func.isRequired,preSubmitDialogCancel:d.PropTypes.func.isRequired,preSubmitDialogSubmit:d.PropTypes.func.isRequired,promptCancel:d.PropTypes.bool,allowCancel:d.PropTypes.bool,hideButtons:d.PropTypes.bool,uiExtensions:d.PropTypes.node,values:d.PropTypes.instanceOf(f.default.Map),addNotification:d.PropTypes.func.isRequired,removeNotificationNow:d.PropTypes.func.isRequired,containerRef:d.PropTypes.object},A.defaultProps={allowCancel:!1,readOnly:!1,hideButtons:!1,requestData:{},promptCancel:!0};var k={addNotification:m.addNotification,removeNotificationNow:m.removeNotificationNow,preSubmitOperation:w.preSubmitOperation},D=t.ConfiguredFormRaw=(0,d.connect)(s,k)(A),L=t.ConfiguredForm=function(e){return c.default.createElement(D,e,function(e,t){return c.default.createElement("div",null,e,t)})};t.default=L},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return"operationProvider-"+ ++f}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(1),p=n(2),f=0,d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerOperationHandler=n.registerOperationHandler.bind(n),n.unregisterOperationHandler=n.unregisterOperationHandler.bind(n),n.getOperationHandler=n.getOperationHandler.bind(n),n.operationHandlers=new Map,n}return a(t,e),s(t,[{key:"registerOperationHandler",value:function(e){this.operationHandlers.has(e)&&p.Console.warn("Multiple calls to registerOperationHandler("+e+") in one OperationScope.");var t=i();return this.operationHandlers.set(e,t),t}},{key:"unregisterOperationHandler",value:function(e){var t=this.operationHandlers.get(e);return this.operationHandlers.delete(e),t}},{key:"getOperationHandler",value:function(e){var t=this.operationHandlers.get(e);if(t)return t;var n=this.operationHandlers.get("*");return n||(this.context.getOperationHandler?this.context.getOperationHandler(e):void 0)}},{key:"getChildContext",value:function(){return{registerOperationHandler:this.registerOperationHandler,unregisterOperationHandler:this.unregisterOperationHandler,getOperationHandler:this.getOperationHandler}}},{key:"render",value:function(){return u.default.createElement(u.default.Fragment,null,this.props.children)}}]),t}(u.default.Component);d.contextTypes={getOperationHandler:c.PropTypes.func},d.childContextTypes={registerOperationHandler:c.PropTypes.func,unregisterOperationHandler:c.PropTypes.func,getOperationHandler:c.PropTypes.func},t.default=d},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e){return{type:T,payload:{messages:e}}}function i(){return function(e){var t=(0,v.getAppSetup)().getIn(["links","common","errorLog"]);(0,_.getJSON)(t).then(function(t){e(a(b.default.fromJS(t.messages)))})}}function s(){return"msg_"+N++}function l(e,t){for(var n=t.id,a=t.level,i=t.title,l=t.message,u=t.owner,c=t.global,p=n||s(),f=c||S.Global.NONE,d=(new Date).getTime(),h=arguments.length,y=Array(h>2?h-2:0),m=2;m<h;m++)y[m-2]=arguments[m];return b.default.fromJS({id:p,ts:d,title:i,level:a,owner:u,global:f,displayInfos:Object.assign.apply(Object,[{}].concat(o(y.map(function(t){var n=t(e,{id:p,ts:d,title:i,message:l,level:a,owner:u});return r({},n.displayId,n)}))))}).set("message",l)}function u(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(t){var r=l.apply(void 0,[t,e].concat(n));return t({type:E,payload:r}),r.get("id")}}function c(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.apply(void 0,[m({level:S.Level.INFO},e)].concat(n))}function p(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.apply(void 0,[m({level:S.Level.WARNING},e)].concat(n))}function f(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return u.apply(void 0,[m({level:S.Level.ERROR},e)].concat(n))}function d(e,t,n){return{type:C,payload:{messageId:e,displayId:t,displayInfo:n}}}function h(e,t){return{type:P,payload:{messageId:e,displayId:t}}}function y(e,t){return{type:w,payload:{messageId:e,owner:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.MSG_REMOVE_FROM_DISPLAY=t.MSG_REMOVE_FROM_OWNER=t.MSG_UPDATE_DISPLAY_INFO=t.MSG_POST=t.MSG_SRV_FETCH=void 0;var m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.fetchServerMessages=i,t.postInfo=c,t.postWarning=p,t.postError=f,t.updateDisplayInfo=d,t.removeMessageFromDisplay=h,t.removeMessageFromOwner=y;var g=n(3),b=function(e){return e&&e.__esModule?e:{default:e}}(g),v=n(2),_=n(10),S=n(36),O=(0,v.prefixNS)("MESSAGES:"),T=t.MSG_SRV_FETCH=O+"FETCH",E=t.MSG_POST=O+"POST",C=t.MSG_UPDATE_DISPLAY_INFO=O+"UPDATE_DISPLAY_INFO",w=t.MSG_REMOVE_FROM_OWNER=O+"REMOVE_FROM_OWNER",P=t.MSG_REMOVE_FROM_DISPLAY=O+"REMOVE_FROM_DISPLAY",N=0;t.default={fetchServerMessages:i,postMessage:u,postError:f,postWarning:p,postInfo:c,updateDisplayInfo:d,removeMessageFromDisplay:h,removeMessageFromOwner:y}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NCjxjaXMtbmFtZT5icm9rZW48L2Npcy1uYW1lPg0KPHBhdGggZmlsbD0iIzk5OTk5OSIgZD0iTTEzLDN2MTBIM1YzSDEzIE0yLjUsMkMyLjI2LDIsMiwyLjI2LDIsMi41djExQzIsMTMuNzQsMi4yNiwxNCwyLjUsMTRoMTFjMC4yNCwwLDAuNS0wLjI2LDAuNS0wLjV2LTExDQoJQzE0LDIuMjYsMTMuNzQsMiwxMy41LDJIMi41eiBNOC43MSw4TDEyLDQuNzFMMTEuMjksNEw4LDcuMjlMNC43MSw0TDQsNC43MUw3LjI5LDhMNCwxMS4yOUw0LjcxLDEyTDgsOC43MUwxMS4yOSwxMkwxMiwxMS4yOQ0KCUw4LjcxLDh6Ii8+DQo8L3N2Zz4NCg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnJlbW92ZTwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+ZGFuZ2VyPC9jaXMtc2VtYW50aWM+DTxwYXRoIGZpbGw9IiNEMDAwMDAiIGQ9Ik0xMi44MiwxMS4wNGwtMS43OSwxLjc5Yy0wLjEsMC4xLTAuMjYsMC4xLTAuMzYsMEw4LDEwLjE1bC0yLjY4LDIuNjhjLTAuMSwwLjEtMC4yNiwwLjEtMC4zNiwwbC0xLjc5LTEuNzkNCWMtMC4xLTAuMS0wLjEtMC4yNiwwLTAuMzZMNS44NSw4TDMuMTgsNS4zMmMtMC4xLTAuMS0wLjEtMC4yNiwwLTAuMzZsMS43OS0xLjc5YzAuMS0wLjEsMC4yNi0wLjEsMC4zNiwwTDgsNS44NWwyLjY4LTIuNjgNCWMwLjEtMC4xLDAuMjYtMC4xLDAuMzYsMGwxLjc5LDEuNzljMC4xLDAuMSwwLjEsMC4yNiwwLDAuMzZMMTAuMTUsOGwyLjY4LDIuNjhDMTIuOTIsMTAuNzgsMTIuOTIsMTAuOTQsMTIuODIsMTEuMDR6Ii8+DTwvc3ZnPg0="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e){var t=e.size,n=e.className,r=e.imgSrc,i=e.fallbackSrc,l=a(e,["size","className","imgSrc","fallbackSrc"]),f=(0,c.classNames)((0,p.prefixNS)("thumbnail"),(0,p.prefixNS)("thumbnail-"+t),n,o({},(0,p.prefixNS)("thumbnail-icon"),!r));return u.default.createElement("span",null,r?u.default.createElement("div",s({className:f,style:{backgroundImage:"url("+r+")"}},l)):u.default.createElement("div",{className:f},u.default.createElement(d.default,s({src:i||y.default,size:t,className:(0,p.prefixNS)("thumbnail-fallback"),fallbackSVG:y.default},l))))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var l=n(0),u=r(l),c=n(1),p=n(2),f=n(11),d=r(f),h=n(122),y=r(h);i.propTypes={size:c.PropTypes.string,className:c.PropTypes.string,imgSrc:c.PropTypes.string,fallbackSrc:c.PropTypes.string},i.defaultProps={size:"md"}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return c.default.createElement("svg",{viewBox:"0 0 6 6"},c.default.createElement("polygon",{points:"2,3 4,0 4,6"}))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(2),f=n(1),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.fixSizing,n=e.children,r=(0,f.classNames)((0,p.prefixNS)("splitter-layout__pane--primary"),(0,p.prefixNS)("splitter-layout__pane"));return c.default.createElement("div",{className:r},t?c.default.createElement("div",{className:(0,p.prefixNS)("splitter-layout__pane--fix-size")},n):n)}}]),t}(c.default.Component);d.propTypes={fixSizing:f.PropTypes.bool},d.defaultProps={fixSizing:!0};var h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={resizing:!1},n.onMouseMove=n.onMouseMove.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n._clicking=!1,n._resizing=!1,n._resizer=null,n.startX=void 0,n.startY=void 0,n}return i(t,e),l(t,[{key:"onMouseDown",value:function(e){e.stopPropagation(),e.preventDefault(),this._clicking=!1,(this.props.resizable||this.props.collapsible)&&(this._clicking=!0,document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("mousemove",this.onMouseMove),this.startX=e.clientX,this.startY=e.clientY)}},{key:"onMouseMove",value:function(e){e.stopPropagation(),e.preventDefault();var t=e.clientX-this.startX,n=e.clientY-this.startY;if(0===t&&0===n||(this._resizing=!0),this.props.resizable&&this._clicking){this.setState({resizing:!0});var r=window.getComputedStyle(this._resizer,null);parseInt(r.top)<0?(n=-n,t=0):parseInt(r.bottom)<0?t=0:parseInt(r.left)<0?(t=-t,n=0):parseInt(r.right)<0&&(n=0),this.startX=e.clientX,this.startY=e.clientY,this.props.onPositionChange&&this.props.onPositionChange(t,n)}}},{key:"onMouseUp",value:function(e){e.stopPropagation(),e.preventDefault(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),!this._resizing&&this.props.collapsible&&this.props.onToggle?this.props.onToggle():this._resizing&&this.props.resizable&&this.props.onPositionChangeEnd&&this.props.onPositionChangeEnd(),this._clicking=!1,this._resizing=!1,this.setState({resizing:!1}),this.startX=void 0,this.startY=void 0}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.resizable,a=n.collapsible,i=(0,f.classNames)((0,p.prefixNS)("splitter-layout-splitter"),(e={},r(e,(0,p.prefixNS)("splitter-layout-splitter--resizable"),o),r(e,(0,p.prefixNS)("splitter-layout-splitter--collapsible"),a),r(e,(0,p.prefixNS)("splitter-layout-splitter--resizing"),this.state.resizing),e));return c.default.createElement("div",{className:i,onMouseDown:this.onMouseDown,ref:function(e){return t._resizer=e}},a?c.default.createElement(s,null):null,o?c.default.createElement("div",{className:(0,p.prefixNS)("splitter-layout-splitter__resizer")}):null,a&&o?c.default.createElement(s,null):null)}}]),t}(c.default.Component);h.propTypes={onPositionChange:f.PropTypes.func,onToggle:f.PropTypes.func,onPositionChangeEnd:f.PropTypes.func,resizable:f.PropTypes.bool,collapsible:f.PropTypes.bool},h.defaultProps={resizable:!0,collapsible:!0};var y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={size:e.defaultSize,collapsed:e.initCollapsed,autoHiding:void 0},n.resize=n.resize.bind(n),n.resizeEnd=n.resizeEnd.bind(n),n.toggleCollapsed=n.toggleCollapsed.bind(n),n.onChange=n.onChange.bind(n),n._pane=null,n._autoHiding=void 0,n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(e.initCollapsed!==this.props.initCollapsed){var t=this.state.collapsed;this.setState({collapsed:e.initCollapsed}),t!==e.initCollapsed&&this.onChange(e.initCollapsed,this.state.size)}e.defaultSize!==this.props.defaultSize&&this.setState({size:e.defaultSize})}},{key:"resize",value:function(e,t){var n=void 0,r=!1;if(0!==e?(n=this._pane.clientWidth+e,r=e>0):0!==t&&(n=this._pane.clientHeight+t,r=t>0),void 0!==n){var o=this.props.hidingBreakPoint;this._autoHiding=o&&n<o?r?"expanding":"hiding":void 0,this.setState({size:n+"px",collapsed:!1,autoHiding:this._autoHiding})}}},{key:"resizeEnd",value:function(){var e=this.state,t=e.collapsed,n=e.size;this._autoHiding&&(this._autoHiding=void 0,t=!0,n=this.props.hidingBreakPoint+"px",this.setState({collapsed:t,size:n,autoHiding:this._autoHiding})),this.onChange(t,n)}},{key:"toggleCollapsed",value:function(){var e=!this.state.collapsed;this.setState({collapsed:e}),this.onChange(e,this.state.size)}},{key:"onChange",value:function(e,t){var n=this.props.onChange;n&&n({collapsed:e,size:t})}},{key:"render",value:function(){var e,t=this,n=this.props,o=n.resizable,a=n.collapsible,i=n.fixSizing,s=n.children,l=this.state,u=l.size,d=l.collapsed,y=l.autoHiding,m=(0,f.classNames)(this.props.className,(0,p.prefixNS)("splitter-layout__pane--secondary"),(0,p.prefixNS)("splitter-layout__pane"),(e={},r(e,(0,p.prefixNS)("splitter-layout__pane--collapsed"),d),r(e,(0,p.prefixNS)("splitter-layout__pane--hiding"),Boolean(y)),r(e,(0,p.prefixNS)("splitter-layout__pane--collapsing"),"hiding"===y),e)),g=void 0===u||d?void 0:{flexBasis:u},b=null;return y||(b=i?c.default.createElement("div",{className:(0,p.prefixNS)("splitter-layout__pane--fix-size")},s):s),c.default.createElement("div",{className:m,style:g,ref:function(e){return t._pane=e}},b,o||a?c.default.createElement(h,{onPositionChange:this.resize,onToggle:this.toggleCollapsed,onPositionChangeEnd:this.resizeEnd,resizable:o,collapsible:a}):null)}}]),t}(c.default.Component);y.propTypes={className:f.PropTypes.string,resizable:f.PropTypes.bool,collapsible:f.PropTypes.bool,defaultSize:f.PropTypes.string,fixSizing:f.PropTypes.bool,hidingBreakPoint:f.PropTypes.number,initCollapsed:f.PropTypes.bool,onChange:f.PropTypes.func},y.defaultProps={resizable:!0,collapsible:!0,defaultSize:"10rem",fixSizing:!0,initCollapsed:!1};var m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.vertical,t=(0,f.classNames)((0,p.prefixNS)("splitter-layout"),e?(0,p.prefixNS)("splitter-layout--vertical"):(0,p.prefixNS)("splitter-layout--horizontal"));return c.default.createElement("div",{className:t},this.props.children)}}]),t}(c.default.Component);t.default=m,m.propTypes={vertical:f.PropTypes.bool},m.defaultProps={vertical:!1},m.PrimaryPane=d,m.SecondaryPane=y},function(e,t,n){"use strict";function r(e,t){return(0,p.createLinkWithPattern)("userSettingsTemplate",{id1:e,id2:t})}function o(e,t,n){return{type:f,payload:{componentId:e,settingKey:t,value:n}}}function a(e,t,n){return{type:d,payload:{componentId:e,settingKey:t,value:n}}}function i(e,t){return{type:h,payload:{componentId:e,settingKey:t}}}function s(e,t){return function(n){return(0,c.getJSON)(r(e,t)).then(function(r){return n(o(e,t,r))})}}function l(e,t,n){return function(o){return(0,c.postJSON)(r(e,t),n).then(function(n){return o(a(e,t,n))},function(e){throw p.Console.log("Could not store user setting: ",e),e})}}function u(e,t){return function(n,o){var a=o().userSettings;n(i(e,t));var s=o().userSettings;return(0,c.deleteObject)(r(e,t)).then(function(){return{hasChanged:s!==a}})}}Object.defineProperty(t,"__esModule",{value:!0}),t.USER_SETTING_RESET=t.USER_SETTING_STORED=t.USER_SETTING_FETCHED=void 0,t.fetchUserSetting=s,t.storeUserSetting=l,t.resetUserSetting=u;var c=n(10),p=n(2),f=t.USER_SETTING_FETCHED="cs-web-components-base-USER_SETTINGS_FETCHED",d=t.USER_SETTING_STORED="cs-web-components-base-USER_SETTINGS_STORED",h=t.USER_SETTING_RESET="cs-web-components-base-USER_SETTINGS_RESET"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Set(),t=arguments[1];switch(t.type){case k.SET_TABLE_USER_SETTING:return e.add(t.payload);default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_COLUMNS:return void 0===t.payload?e:t.payload;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.OrderedSet(),t=arguments[1];switch(t.type){case k.SET_ORDERED_COLUMNS:return void 0===t.payload?e:t.payload;case k.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("orderedColumns")?t.payload.get("orderedColumns").toOrderedSet().intersect(t.payload.get("columnIDs")).union(t.payload.get("columnIDs")):A.default.OrderedSet();default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Set(),t=arguments[1];switch(t.type){case k.SET_HIDDEN_COLUMNS:return void 0===t.payload?e:t.payload;case k.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("hiddenColumns")?t.payload.get("hiddenColumns").toOrderedSet().intersect(t.payload.get("columnIDs")):A.default.Set();default:return e}}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_COLUMN_ACTIONS:return void 0===t.payload?e:t.payload;default:return e}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_TOOLBAR_BUTTONS:return void 0===t.payload?e:t.payload;default:return e}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_TOOLBAR_MENU:return void 0===t.payload?e:t.payload;default:return e}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_SETTING_PANELS:return void 0===t.payload?e:t.payload;default:return e}}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_HEADER_PANELS:return void 0===t.payload?e:t.payload;default:return e}}function f(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.List(),t=arguments[1];switch(t.type){case k.SET_FOOTER_PANELS:return void 0===t.payload?e:t.payload;default:return e}}function d(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.OrderedSet(),t=arguments[1];switch(t.type){case k.SET_SELECTED_ROWS:return void 0===t.payload.rows?e:t.payload.rows;default:return e}}function h(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch(arguments[1].type){case k.SET_FOCUS_TABLE:return!0;case k.RESET_FOCUS_TABLE:return!1;default:return e}}function y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case k.SET_SELECTED_ROWS:return void 0===t.payload.selectionAnchor?null:t.payload.selectionAnchor;default:return e}}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case k.SET_FOCUSED_ROW:return void 0===t.payload?e:t.payload;default:return e}}function g(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case k.SET_FOCUSED_COLUMN:return void 0===t.payload?e:t.payload;default:return e}}function b(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Map({columnID:null}),t=arguments[1];switch(t.type){case k.SET_COLUMN_HEADER_CLICKED:return void 0===t.payload?e:t.payload;default:return e}}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Map(),t=arguments[1];switch(t.type){case k.SET_COLUMN_WIDTH:return void 0===t.payload?e:e.set(t.payload.columnID,t.payload.width);case k.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("columnWidths")?t.payload.get("columnWidths").filter(function(e,n){return t.payload.get("columnIDs").includes(n)}):e;default:return e}}function _(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Map(),t=arguments[1];switch(t.type){case k.SET_ROW_CLASS_NAME:return void 0===t.payload?e:e.merge(t.payload);default:return e}}function S(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:1}function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Map(),t=arguments[1];switch(t.type){case k.ADD_COLUMN_RENDERER:if(void 0===t.payload)return e;var n=e.get(t.payload.columnID,A.default.OrderedSet());return e.set(t.payload.columnID,n.add(t.payload.renderer));default:return e}}function T(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Set(),t=arguments[1];switch(t.type){case k.ADD_UNHIDABLE_COLUMNS:return void 0===t.payload?e:e.concat(t.payload);case k.REMOVE_UNHIDABLE_COLUMNS:return void 0===t.payload?e:e.subtract(t.payload);default:return e}}function E(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case k.SET_FIXED_COLUMNS:return void 0===t.payload?e:t.payload;case k.SET_TABLE_SETTINGS_FETCHED:return void 0===t.payload.get("fixedColumns")?0:t.payload.get("fixedColumns");default:return e}}function C(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments[1];switch(t.type){case k.NAVIGATE:return void 0===t.payload?e:t.payload;default:return e}}function w(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Map(),t=arguments[1];switch(t.type){case k.SELECT_ALL_ROWS_EVENT:return A.default.Map({selectAll:t.payload});default:return e}}function P(e){return e.selectAllRowsEvent}function N(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case k.SET_SELECTABLE_ROWS_AGGREGATION_STATE:return void 0===t.payload?e:t.payload;default:return e}}function I(e){return e.selectableRowsAggregationState}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case k.SELECT_RANGE_EVENT:return t.payload;default:return e}}function j(e){return e.selectRangeEvent}function x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A.default.Map(),t=arguments[1];switch(t.type){case k.SET_RENDER_DIRECTIVES:return void 0===t.payload?e:e.merge(t.payload);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getVisibleColumns=void 0,t.settingsToStore=r,t.columns=o,t.orderedColumns=a,t.hiddenColumns=i,t.columnActions=s,t.toolbarButtons=l,t.toolbarMenu=u,t.settingPanels=c,t.headerPanels=p,t.footerPanels=f,t.selectedRows=d,t.isFocusOnTable=h,t.selectionAnchor=y,t.focusedRow=m,t.focusedColumn=g,t.columnHeaderClicked=b,t.columnWidths=v,t.rowClassName=_,t.tableID=S,t.columnRenderers=O,t.unhidableColumns=T,t.fixedColumns=E,t.navigation=C,t.selectAllRowsEvent=w,t.getSelectAllRowsEvent=P,t.selectableRowsAggregationState=N,t.getSelectableRowsAggregationState=I,t.selectRangeEvent=R,t.getSelectRangeEvent=j,t.renderDirectives=x;var M=n(3),A=function(e){return e&&e.__esModule?e:{default:e}}(M),k=n(12),D=n(1);t.getVisibleColumns=D.reselect.createSelector([function(e){return e.orderedColumns},function(e){return e.hiddenColumns},function(e){return e.unhidableColumns}],function(e,t,n){return e.subtract(t.subtract(n))});t.default={columns:o,orderedColumns:a,hiddenColumns:i,columnActions:s,toolbarButtons:l,toolbarMenu:u,headerPanels:p,footerPanels:f,settingPanels:c,selectedRows:d,focusedRow:m,focusedColumn:g,columnHeaderClicked:b,columnWidths:v,settingsToStore:r,rowClassName:_,tableID:S,columnRenderers:O,unhidableColumns:T,fixedColumns:E,navigation:C,selectionAnchor:y,selectAllRowsEvent:w,selectRangeEvent:R,selectableRowsAggregationState:N,renderDirectives:x,isFocusOnTable:h}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(2),d=n(1),h=n(3),y=r(h),m=function(e){var t=e.item,n=e.onMoveBackwards,r=e.onMoveForwards,o=(0,d.classNames)((0,f.prefixNS)("organizer-item-default__mover"),(0,f.prefixNS)("organizer-item-default__mover--back")),a=(0,d.classNames)((0,f.prefixNS)("organizer-item-default__mover"),(0,f.prefixNS)("organizer-item-default__mover--forward"));return p.default.createElement("div",{className:(0,f.prefixNS)("organizer-item-default")},n?p.default.createElement("span",{className:o,onClick:function(){return n(t)}},"◄"):null,p.default.createElement("div",{className:(0,f.prefixNS)("organizer-item-default__label"),title:t.get("tooltip")},t.get("label")),r?p.default.createElement("span",{className:a,onClick:function(){return r(t)}},"►"):null)};m.propTypes={onMoveBackwards:d.PropTypes.func,onMoveForwards:d.PropTypes.func,item:d.PropTypes.any};var g=(0,f.prefixNS)("organizer-item"),b={beginDrag:function(e){return{item:e.item,fromList:e.listIndex}},endDrag:function(e,t){t.didDrop()||e.onCancelDragItem()},isDragging:function(e,t){return e.item===t.getItem().item}},v={hover:function(e,t){if(t.canDrop()){var n=t.getItem().item;n!==e.item&&e.onMoveItem(n,e.index)}},drop:function(e,t){return{item:t.getItem().item,fromList:t.getItem().fromList,toList:e.listIndex,toIndex:e.index}},canDrop:function(e,t){return!!e.sortable||t.getItem().fromList!==e.listIndex}},_=function(e){function t(e){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.item,n=e.isDragging,r=e.connectDropTarget,a=e.connectDragSource,i=e.onMoveBackwards,s=e.onMoveForwards,l=(0,d.classNames)((0,f.prefixNS)("organizer-item"),o({},(0,f.prefixNS)("organizer-item--dragging"),n)),u=t.get("renderer")||m;return a(r(p.default.createElement("div",{className:l},p.default.createElement("div",{className:(0,f.prefixNS)("organizer-item__content")},p.default.createElement(u,{item:t,onMoveBackwards:i,onMoveForwards:s})))))}}]),t}(p.default.Component);_.propTypes={item:d.PropTypes.any,index:d.PropTypes.number,listIndex:d.PropTypes.number,sortable:d.PropTypes.bool,onMoveItem:d.PropTypes.func.isRequired,onMoveBackwards:d.PropTypes.func,onMoveForwards:d.PropTypes.func,onCancelDragItem:d.PropTypes.func.isRequired,isDragging:d.PropTypes.bool,connectDropTarget:d.PropTypes.func,connectDragSource:d.PropTypes.func};var S=d.ReactDnD.DragSource(g,b,function(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(d.ReactDnD.DropTarget(g,v,function(e){return{connectDropTarget:e.dropTarget()}})(_)),O={hover:function(e,t){if(t.canDrop()&&t.isOver({shallow:!0})){var n=t.getItem().item;e.onMoveItem(n,e.index,0)}},drop:function(e,t){var n=t.didDrop(),r=void 0;if(n)r=t.getDropResult();else{r={item:t.getItem().item,fromList:t.getItem().fromList,toList:e.index,toIndex:0}}return e.onConfirmDrop(r),r},canDrop:function(e,t){return!e.itemList.get("unsortable")||t.getItem().fromList!==e.index}},T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.moveItem=n.moveItem.bind(n),n.moveBackwards=n.moveBackwards.bind(n),n.moveForwards=n.moveForwards.bind(n),n}return s(t,e),u(t,[{key:"moveItem",value:function(e,t){var n=this.props,r=n.index,o=n.onMoveItem;t>-1&&o(e,r,t)}},{key:"moveBackwards",value:function(e){var t=this.props,n=t.index,r=t.onConfirmDrop;n>0&&r({item:e,fromList:n,toList:n-1,toIndex:0})}},{key:"moveForwards",value:function(e){var t=this.props,n=t.index,r=t.forwardIndex,o=t.onConfirmDrop;r>0&&o({item:e,fromList:n,toList:r,toIndex:0})}},{key:"componentWillReceiveProps",value:function(e){this.props.isOver&&!e.isOver&&e.onDragMoveOut(e.index)}},{key:"render",value:function(){var e=this,t=this.props,n=t.itemList,r=t.onCancelDragItem,a=t.connectDropTarget,i=t.index,s=t.isOver,u=t.forwardIndex,c=n.get("items"),h=n.get("label"),y=(0,d.classNames)((0,f.prefixNS)("organizer-itemlist"),o({},(0,f.prefixNS)("organizer-itemlist--over"),s)),m=0===i?void 0:this.moveBackwards,g=void 0===u?void 0:this.moveForwards,b=(0,f.prefixNS)("organizer-itemlist-container__placeholder"),v=!n.get("unsortable");return a(p.default.createElement("div",{className:y},p.default.createElement("label",null,h),p.default.createElement("div",{className:(0,f.prefixNS)("organizer-itemlist-container")},c.count()?c.map(function(t,n){return p.default.createElement(S,l({key:t.get("id"),onMoveItem:e.moveItem,onMoveBackwards:m,onMoveForwards:g,listIndex:i,index:n,sortable:v},{item:t,onCancelDragItem:r}))}):p.default.createElement("div",{className:b},this.props.placeholder))))}}]),t}(p.default.Component);T.propTypes={itemList:d.ImmutablePropTypes.map,index:d.PropTypes.number,forwardIndex:d.PropTypes.number,placeholder:d.PropTypes.string,onMoveItem:d.PropTypes.func.isRequired,onCancelDragItem:d.PropTypes.func.isRequired,onDragMoveOut:d.PropTypes.func.isRequired,onConfirmDrop:d.PropTypes.func.isRequired,isOver:d.PropTypes.bool,isOverCurrent:d.PropTypes.bool,connectDropTarget:d.PropTypes.func};var E=d.ReactDnD.DropTarget(g,O,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),isOverCurrent:t.isOver({shallow:!0})}})(T),C=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={itemLists:void 0},n.moveItem=n.moveItem.bind(n),n.resetItemLists=n.resetItemLists.bind(n),n.resetItemList=n.resetItemList.bind(n),n.confirmDrop=n.confirmDrop.bind(n),n}return s(t,e),u(t,[{key:"componentWillMount",value:function(){this.resetItemLists()}},{key:"componentWillReceiveProps",value:function(e){e.itemLists!==this.props.itemLists&&this.resetItemLists(e)}},{key:"moveItem",value:function(e,t,n){var r=this.state.itemLists.get(t),o=r.get("items"),a=o.indexOf(e);a>-1&&(o=o.splice(a,1)),(o=o.splice(n,0,e))!==r.get("items")&&this.setState({itemLists:this.state.itemLists.set(t,r.set("items",o))})}},{key:"resetItemLists",value:function(e){var t=void 0===e?this.props:e;this.setState({itemLists:y.default.List(t.itemLists)})}},{key:"resetItemList",value:function(e){e>-1&&this.setState({itemLists:this.state.itemLists.set(e,this.props.itemLists.get(e))})}},{key:"confirmDrop",value:function(e){var t=e.item,n=e.fromList,r=e.toList,o=e.toIndex,a=this.props,i=a.itemLists,s=a.onItemListsChange;if(s){var l=y.default.List(i),u=l.get(n);l=l.set(n,u.set("items",u.get("items").filter(function(e){return e!==t})));var c=l.get(r);l=l.set(r,c.set("items",c.get("items").splice(o,0,t))),s(l)}}},{key:"render",value:function(){var e=this,t=this.state.itemLists.count()-1;return p.default.createElement("div",{className:(0,f.prefixNS)("organizer")},this.state.itemLists.map(function(n,r){return p.default.createElement(E,{key:n.get("id",r),index:r,forwardIndex:r<t?r+1:void 0,itemList:n,placeholder:e.props.placeholder,onMoveItem:e.moveItem,onDragMoveOut:e.resetItemList,onCancelDragItem:e.resetItemLists,onConfirmDrop:e.confirmDrop})}))}}]),t}(p.default.Component);t.default=C,C.propTypes={itemLists:d.ImmutablePropTypes.list,placeholder:d.PropTypes.string,onItemListsChange:d.PropTypes.func}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmNoZXZyb24tZG93bjwvY2lzLW5hbWU+DTxwb2x5Z29uIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5OTk5IiBwb2ludHM9IjExLjA0LDQuMTIgNy41MSw3LjY1IDMuOTgsNC4xMiAyLDYuMTEgNy41MSwxMS42MiANCTEzLjAxLDYuMTEgIi8+DTwvc3ZnPg0="},function(e,t,n){"use strict";function r(e){return{type:s,payload:e}}function o(e){return{type:l,payload:e}}function a(e){return{type:u,payload:e}}function i(e){return{type:c,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setAllItems=r,t.setPageSize=o,t.setCurrentPage=a,t.setPageSizeOptions=i;var s=t.SET_ALLITEMS="cs-web-components-base-SET_ALLITEMS",l=t.SET_PAGESIZE="cs-web-components-base-SET_PAGESIZE",u=t.SET_CURRENTPAGE="cs-web-components-base-SET_CURRENTPAGE",c=t.SET_PAGESIZEOPTIONS="cs-web-components-base-SET_PAGESIZEOPTIONS";t.default={SET_ALLITEMS:s,SET_PAGESIZE:l,SET_CURRENTPAGE:u,SET_PAGESIZEOPTIONS:c,setAllItems:r,setPageSize:o,setCurrentPage:a,setPageSizeOptions:i}},function(e,t,n){"use strict";function r(e){return{type:c,payload:e}}function o(e){return{type:p,payload:e}}function a(e){return{type:f,payload:e}}function i(e){return{type:d,payload:e}}function s(){return{type:h}}function l(e){return{type:y,payload:e}}function u(e){return{type:m,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setTreeNodes=r,t.toggleTreeNode=o,t.expandTreeNodes=a,t.collapseTreeNodes=i,t.toggleTreeView=s,t.filterOutNodes=l,t.expandTreeLevel=u;var c=t.SET_TREE_NODES="cs-web-components-base-SET_TREE_NODES",p=t.TOGGLE_TREE_NODE="cs-web-components-base-TOGGLE_TREE_NODE",f=t.EXPAND_TREE_NODES="cs-web-components-base-EXPAND_TREE_NODES",d=t.COLLAPSE_TREE_NODES="cs-web-components-base-COLLAPSE_TREE_NODES",h=t.TOGGLE_TREE_VIEW="cs-web-components-base-TOGGLE_TREE_VIEW",y=t.FILTER_OUT_NODES="cs-web-components-base-FILTER_OUT_NODES",m=t.EXPAND_TREE_LEVEL="cs-web-components-base-EXPAND_TREE_LEVEL";t.default={SET_TREE_NODES:c,setTreeNodes:r,TOGGLE_TREE_NODE:p,toggleTreeNode:o,EXPAND_TREE_NODES:f,expandTreeNodes:a,COLLAPSE_TREE_NODES:d,collapseTreeNodes:i,TOGGLE_TREE_VIEW:h,toggleTreeView:s,FILTER_OUT_NODES:y,filterOutNodes:l,EXPAND_TREE_LEVEL:m,expandTreeLevel:u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(3),h=r(d),y=n(39),m=r(y),g=n(2),b=n(312),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=(0,b.wrapTableConfig)(e.rowValues,e.tableDef),n.ConfiguredTable=e.table(),n.onSelectionChanged=n.onSelectionChanged.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.rowValues===this.props.rowValues&&e.tableDef===this.props.tableDef||this.setState(Object.assign((0,b.wrapTableConfig)(e.rowValues,e.tableDef))),e.table!==this.props.table&&(this.ConfiguredTable=e.table())}},{key:"onSelectionChanged",value:function(e){var t=this.props,n=t.onSelectionChanged,r=t.rowValues;if(n)return n((0,b.translateSelection)(r,e))}},{key:"render",value:function(){var e=this.ConfiguredTable,t=this.props,n=t.tableDef,r=t.filter,a=t.initSelected,i=o(t,["tableDef","filter","initSelected"]),s=n?encodeURIComponent(n.get("name")):void 0;return delete i.table,delete i.rowValues,delete i.onSelectionChanged,p.default.createElement("div",{className:(0,g.prefixNS)("table-wrapper")},p.default.createElement(e,l({},i,{columns:this.state.columns,orderedColumns:this.state.orderedColumns,rowAction:b.rowLinkAction,rows:this.state.rows,settingID:s,onSelectRows:this.onSelectionChanged,initFilter:r,initSelected:a})))}}]),t}(p.default.Component);t.default=v,v.defaultProps={table:m.default.PredefinedTables.DefaultTable,filter:"",initSelected:h.default.OrderedSet()},v.propTypes={onSelectionChanged:f.PropTypes.func,tableDef:f.ImmutablePropTypes.map,rowValues:f.ImmutablePropTypes.list,table:f.PropTypes.func.isRequired,filter:f.PropTypes.string,initSelected:f.ImmutablePropTypes.orderedSet}},function(e,t,n){"use strict";function r(e,t){return(0,d.createLinkWithPattern)("opContextPattern",{classname:e,opContextName:t})}function o(e){return(0,d.createLinkWithPattern)("opClassPattern",{classname:e})}function a(e,t,n,r){return{type:m,objectType:t,contextName:n,data:r,meta:{url:e}}}function i(e,t,n){return{type:g,objectType:t,data:n,meta:{url:e}}}function s(e,t,n){return{type:b,objectType:t,error:n,meta:{url:e}}}function l(e,t,n,r){return{type:v,payload:{parentObject:t,relshipName:n,data:r},meta:{url:e}}}function u(e){return function(t,n){if(!n().operationsById.getIn([e,"fetchedAll"],!1)){var r=o(e);t((0,f.singleFetch)(r,function(n){t(i(r,e,y.default.fromJS(n)))})).catch(function(n){t(s(r,e,n))})}}}function c(e,t){var n=(0,d.createLinkWithPattern)("opRelshipPattern",{parent_classname:e.get("system:classname"),keys:e.get("system:navigation_id"),relship_name:t});return function(r){r((0,f.singleFetch)(n,function(o){r(l(n,e,t,y.default.fromJS(o)))}))}}function p(e,t){return function(n,o){if(void 0===o().operationContextById.getIn([e,t])){var i=r(e,t);n((0,f.singleFetch)(i,function(r){n(a(i,e,t,y.default.fromJS(r)))}))}}}Object.defineProperty(t,"__esModule",{value:!0}),t.RELSHIP_OP_INFO_FETCHED=t.OPERATION_INFO_FAILED=t.OPERATION_INFO_FETCHED=t.OPERATION_CONTEXT_FETCHED=void 0,t.fetchOperationInfo=u,t.fetchRelshipOperationInfo=c,t.fetchOperationContext=p;var f=n(89),d=n(2),h=n(3),y=function(e){return e&&e.__esModule?e:{default:e}}(h),m=t.OPERATION_CONTEXT_FETCHED="cs-web-components-base-OPERATION_CONTEXT_FETCHED",g=t.OPERATION_INFO_FETCHED="cs-web-components-base-OPERATION_INFO_FETCHED",b=t.OPERATION_INFO_FAILED="cs-web-components-base-OPERATION_INFO_FAILED",v=t.RELSHIP_OP_INFO_FETCHED="cs-web-components-base-RELSHIP_OP_INFO_FETCHED"},function(e,t,n){"use strict";function r(){return{type:c.ACTIONS.HANDLE_OPERATION_SUCCESS,payload:{}}}function o(){return{type:c.ACTIONS.EXECUTE_SUCCESS_HANDLER_FNS,payload:{}}}function a(){return{type:c.ACTIONS.EXECUTE_FAILURE_HANDLER_FNS,payload:{}}}function i(){return{type:c.ACTIONS.UPDATE_OBJECT_STORE,payload:{}}}function s(){return{type:c.ACTIONS.ADD_HISTORY_ITEM,payload:{}}}function l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.pushHistory,r=void 0!==n&&n;return{type:c.ACTIONS.NAVIGATE,payload:{path:e,options:{pushHistory:r}}}}function u(){return{type:c.ACTIONS.POST_ERROR,payload:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.handleOperationSuccess=r,t.executeSuccessHandlerFns=o,t.executeFailureHandlerFns=a,t.updateObjectStore=i,t.addObjectToHistory=s,t.navigate=l,t.postError=u;var c=n(33);t.default={handleOperationSuccess:r,updateObjectStore:i,addObjectToHistory:s,navigate:l,postError:u,executeSuccessHandlerFns:o,executeFailureHandlerFns:a}},function(e,t,n){"use strict";function r(e,t){e.location=t}function o(e){var t=e.get("registers"),n=e.get("values");return t.map(function(e){return e.get("fields").filter(function(e){return(0,u.isMandatory)(e)&&!(0,u.isFilled)(e,n)})}).flatten(!0)}function a(e){var t=e.get("values"),n=e.getIn(["state","values"]);return t.some(function(e,t){return e!==n.get(t)})}function i(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(void 0!==e.response){o.next=2;break}return o.abrupt("return",e);case 2:return o.next=4,e.response.text().then(function(e){try{return{text:e,json:JSON.parse(e)}}catch(t){return{text:e}}});case 4:return t=o.sent,n=t.text,r=t.json,e.text=n,e.json=r,o.abrupt("return",e);case 10:case"end":return o.stop()}},c,this)}function s(e){return l.ReduxSaga.effects.select(function(e,t){return e.formWithOperations.get(t)},e)}Object.defineProperty(t,"__esModule",{value:!0}),t.setWindowLocation=r,t.getMandatoryFields=o,t.hasModifiedValues=a,t.processNetworkException=i,t.selectState=s;var l=n(1),u=n(60),c=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){return{type:l,payload:e}}function o(){return function(e){return(0,s.deleteObject)("/internal/history").then(function(t){return e(r(t.history_items))})}}function a(e){return function(t){return(0,s.postJSON)("/internal/history",e).then(function(e){return t(r(e.history_items))})}}function i(){return function(e){return(0,s.getJSON)("/internal/history/").then(function(t){return e(r(t.history_items))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.HISTORY_INIT=void 0,t.deleteHistoryItems=o,t.addHistoryItem=a,t.initHistoryItems=i;var s=n(10),l=t.HISTORY_INIT="cs-web-components-base-HISTORY_INIT"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(e){return e.get("content")};return function(t,n){if(""===n)return!1;var r=e(t).toLowerCase().indexOf(n.toLowerCase());return-1!==r&&{type:"substring",value:{start:r,end:r+n.length}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=e.ref;return["function"==typeof n?function(e){t(e),n(e)}:t,n]}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),h=n(24),y=r(h),m=n(1),g=n(149),b=r(g),v=n(112),_=r(v),S=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={visible:!1},n.onShow=n.onShow.bind(n),n.hide=n.hide.bind(n),n.onHide=n.onHide.bind(n),n.onToggle=n.onToggle.bind(n),n.controlFns={onShow:n.onShow,onHide:n.onHide,onToggle:n.onToggle},n.setToggleRef=n.setToggleRef.bind(n),n.toggleRef=null,n.toggleElement=null,n}return s(t,e),p(t,[{key:"setToggleRef",value:function(e){this.toggleRef=e,this.toggleRef?this.toggleElement=y.default.findDOMNode(this.toggleRef):this.toggleElement=null;var t=this.props.toggleRef;t&&t(e)}},{key:"show",value:function(){this.onShow()}},{key:"onShow",value:function(){if(!this.state.visible){var e=this.props.onShow;e&&e(),this.setState({visible:!0})}}},{key:"hide",value:function(){var e=this.props.onHide;e&&e(),this.setState({visible:!1})}},{key:"onHide",value:function(e){var t=e&&("blur"===e.type||"focusout"===e.type)&&this.toggleElement.contains(e.relatedTarget);this.state.visible&&!t&&this.hide()}},{key:"toggle",value:function(){this.onToggle()}},{key:"onToggle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=this.props,n=t.onShow,r=t.onHide,o=!this.state.visible;o?n&&n():r&&r(),void 0!==e&&e.stopPropagation(),this.setState({visible:o})}},{key:"render",value:function(){var e=this.props,t=e.OverlayContainer,n=e.parentRef,r=e.children,a=e.visible,i=o(e,["OverlayContainer","parentRef","children","visible"]),s="function"==typeof r?r(this.controlFns,this.state.visible):r,l=c(s,2),p=l[0],f=l[1],h=t?t(f,i):d.default.Children.only(f),y=a||this.state.visible;return[d.default.cloneElement(d.default.Children.only(p),{key:"toggle",ref:this.setToggleRef}),d.default.createElement(b.default.Controlled,u({key:"overlay",parentRef:n||this.toggleRef,visible:y},i,{onHide:this.onHide}),h)]}}]),t}(d.default.Component);t.default=S,S.propTypes={OverlayContainer:m.PropTypes.func,layoutFunc:m.PropTypes.func,parentRef:m.PropTypes.element,toggleRef:m.PropTypes.func,onShow:m.PropTypes.func,onHide:m.PropTypes.func,visible:m.PropTypes.bool},S.defaultProps={layoutFunc:_.default,visible:!1};var O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setAnchorRef=n.setAnchorRef.bind(n),n.state={anchorRef:null},n}return s(t,e),p(t,[{key:"setAnchorRef",value:function(e){e!==this.state.anchorRef&&this.setState({anchorRef:e})}},{key:"updateRef",value:function(e){var t=l(e,this.setAnchorRef),n=c(t,2),r=n[0],o=n[1];this._oldRef===o&&void 0!==this._mergedRef||(this._oldRef=o,this._mergedRef=r)}},{key:"render",value:function(){var e=this.props,t=e.OverlayContainer,n=e.parentRef,r=e.children,a=o(e,["OverlayContainer","parentRef","children"]),i=c(r,2),s=i[0],l=i[1],p=t?t(l,a):d.default.Children.only(l);return this.updateRef(s),[d.default.cloneElement(d.default.Children.only(s),{key:"anchor",ref:this._mergedRef}),d.default.createElement(b.default,u({key:"overlay",parentRef:n||this.state.anchorRef},a),p)]}}]),t}(d.default.Component);O.propTypes={OverlayContainer:m.PropTypes.func,parentRef:m.PropTypes.element,layoutFunc:m.PropTypes.func},O.defaultProps={layoutFunc:_.default},S.Static=O},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnRyaWFuZ2xlLWJvdHRvbTwvY2lzLW5hbWU+DTxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5OTk5IiBkPSJNNy42NSwxMC42NUwyLjcxLDUuNzFDMi4zMiw1LjMyLDIuNDUsNSwzLDVoMTANCWMwLjU1LDAsMC42OCwwLjMyLDAuMjksMC43MWwtNC45NCw0Ljk0QzguMTYsMTAuODQsNy44NCwxMC44NCw3LjY1LDEwLjY1eiIvPg08L3N2Zz4N"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnBsdXM8L2Npcy1uYW1lPg08Y2lzLXNlbWFudGljPnN1Y2Nlc3M8L2Npcy1zZW1hbnRpYz4NPHBhdGggZmlsbD0iI0FEQzkwMiIgZD0iTTEyLjUsNkg5VjIuNUM5LDIuMjIsOC43OCwyLDguNSwyaC0yQzYuMjIsMiw2LDIuMjIsNiwyLjVWNkgyLjVDMi4yMiw2LDIsNi4yMiwyLDYuNXYyQzIsOC43NywyLjIyLDksMi41LDkNCUg2djMuNUM2LDEyLjc3LDYuMjIsMTMsNi41LDEzaDJDOC43OCwxMyw5LDEyLjc3LDksMTIuNVY5aDMuNUMxMi43OCw5LDEzLDguNzcsMTMsOC41di0yQzEzLDYuMjIsMTIuNzgsNiwxMi41LDZ6Ii8+DTwvc3ZnPg0="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmZpbHRlcjwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+cHJpbWFyeTwvY2lzLXNlbWFudGljPg08cGF0aCBmaWxsPSIjMDA4MEM1IiBkPSJNNyw5djVsMi0yVjlsMy41LTVoLTlMNyw5eiBNMTIuNSwyQzEyLjc3LDIsMTMsMi4yMiwxMywyLjVsMCwwQzEzLDIuNzgsMTIuNzcsMywxMi41LDNoLTkNCUMzLjIyLDMsMywyLjc4LDMsMi41bDAsMEMzLDIuMjIsMy4yMiwyLDMuNSwySDEyLjV6Ii8+DTwvc3ZnPg0="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmNvZzwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+aW5mbzwvY2lzLXNlbWFudGljPg08cGF0aCBmaWxsPSIjRkNCOTAwIiBkPSJNOCwxMy43NGMtMC4yNSwwLTAuNS0wLjAyLTAuNzQtMC4wNWwtMC4zOC0xLjUxbC0wLjA2LTAuMDJjLTAuMzMtMC4wOS0wLjY0LTAuMjItMC45My0wLjM5bC0wLjA1LTAuMDMNCWwtMS4zNCwwLjhjLTAuNDItMC4zMy0wLjc2LTAuNjctMS4wNS0xLjA1bDAuOC0xLjM0bC0wLjAzLTAuMDVDNC4wNyw5LjgxLDMuOTQsOS41LDMuODUsOS4xN0wzLjgzLDkuMTJMMi4zMiw4Ljc0DQlDMi4yOCw4LjQ2LDIuMjYsOC4yMywyLjI2LDhjMC0wLjI1LDAuMDItMC41LDAuMDUtMC43NGwxLjUyLTAuMzhsMC4wMi0wLjA2QzMuOTQsNi41LDQuMDcsNi4xOSw0LjIzLDUuODlsMC4wMy0wLjA1TDMuNDYsNC41DQlDMy43OSw0LjA5LDQuMTMsMy43NSw0LjUsMy40NmwxLjM0LDAuOGwwLjA1LTAuMDNjMC4zLTAuMTcsMC42MS0wLjMsMC45My0wLjM4bDAuMDYtMC4wMmwwLjM4LTEuNTJDNy41NCwyLjI4LDcuNzcsMi4yNiw4LDIuMjYNCWMwLjI1LDAsMC41LDAuMDIsMC43NCwwLjA1bDAuMzgsMS41MmwwLjA2LDAuMDJjMC4zMiwwLjA5LDAuNjQsMC4yMiwwLjkzLDAuMzhsMC4wNSwwLjAzbDEuMzQtMC44YzAuNDIsMC4zMywwLjc2LDAuNjcsMS4wNSwxLjA0DQlsLTAuOCwxLjM0bDAuMDMsMC4wNWMwLjE2LDAuMjksMC4yOSwwLjYxLDAuMzksMC45M2wwLjAyLDAuMDZsMS41MSwwLjM4YzAuMDMsMC4yOCwwLjA1LDAuNTEsMC4wNSwwLjc0YzAsMC4yNS0wLjAyLDAuNS0wLjA1LDAuNzQNCWwtMS41MSwwLjM4bC0wLjAyLDAuMDZjLTAuMDksMC4zMy0wLjIyLDAuNjQtMC4zOSwwLjkzbC0wLjAzLDAuMDVsMC44LDEuMzRjLTAuMzMsMC40Mi0wLjY3LDAuNzYtMS4wNSwxLjA1bC0xLjM0LTAuOGwtMC4wNSwwLjAzDQljLTAuMjksMC4xNi0wLjYxLDAuMjktMC45NCwwLjM5bC0wLjA2LDAuMDJsLTAuMzgsMS41MUM4LjQ2LDEzLjcyLDguMjMsMTMuNzQsOCwxMy43NHogTTgsNS44NUM2LjgyLDUuODUsNS44NSw2LjgyLDUuODUsOA0JYzAsMS4xOCwwLjk2LDIuMTUsMi4xNSwyLjE1YzEuMTgsMCwyLjE1LTAuOTYsMi4xNS0yLjE1QzEwLjE1LDYuODIsOS4xOCw1Ljg1LDgsNS44NXoiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(15),h=r(d),y=n(14),m=n(50),g=r(m),b=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editing:!1,editingValue:""},n.stopBlurring=!1,n}return s(t,e),u(t,[{key:"onBlur",value:function(e){var t=this;this.stopBlurring?this.stopBlurring=!1:(e.persist(),this.setState({editing:!1,editingValue:""},function(){return t.props.onBlur&&t.props.onBlur(e)}))}},{key:"ignoreBlurring",value:function(){this.stopBlurring=!0}},{key:"quitEditing",value:function(){this.setState({editing:!1,editingValue:""})}},{key:"onChange",value:function(e){var t=this.props,n=t.onChange,r=t.onValueChange,o=t.decimalPlaces,a=t.variableDecimal,i=e.target.value,s=null;""!==i&&(s=g.default.fromInput(i)),(null===s||s.isSign()||s.isValid()&&s.isSafe()&&this.checkRange(s))&&(e.persist(),this.setState({editing:!0,editingValue:i},function(){if(void 0!==n&&n(e),void 0!==r){var t=void 0;t=null===s||s.isSign()?"":a&&void 0===o?g.default.removeTrailingDecimalsZeros(s.toVariableFixed(),"."):s.toFixed(o),r(t)}}))}},{key:"checkRange",value:function(e){var t=this.props,n=t.minValue,r=t.maxValue,o=e.valueOf(),a=new g.default(n),i=new g.default(r);return(!a.isValid()||o>=a.valueOf())&&(!i.isValid()||o<=i.valueOf())}},{key:"render",value:function(){var e=this,t=this.props,n=t.value,r=t.decimalPlaces,a=t.variableDecimal,i=o(t,["value","decimalPlaces","variableDecimal"]),s="";return this.state.editing?s=this.state.editingValue:null!==n&&""!==n&&void 0!==n&&(a&&void 0===r?(s=new g.default(n).formatVariableFixed(),s=g.default.removeTrailingDecimalsZeros(s)):s=new g.default(n).format(r)),delete i.minValue,delete i.maxValue,delete i.onValueChange,p.default.createElement(h.default,l({value:s},i,{onChange:function(t){return e.onChange(t)},onBlur:function(t){return e.onBlur(t)}}))}}]),t}(c.Component);t.default=b,b.defaultProps={variableDecimal:!1},b.propTypes=l({},y.sharedTextInputProps,{onValueChange:f.PropTypes.func,decimalPlaces:f.PropTypes.number,minValue:f.PropTypes.number,maxValue:f.PropTypes.number,variableDecimal:f.PropTypes.bool})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.inputString,n=e.item,r=t.toLowerCase(),o="";o="string"==typeof n?n:n.toString();var a=o.toLowerCase().indexOf(r),i=a+r.length;return f.default.createElement("span",null,o.substring(0,a),f.default.createElement("b",null,o.substring(a,i)),o.substr(i))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={matchActive:-1,hide:!1},t.dropdownID=++E,t.selecting=!1,t.onKeyDown=t.onKeyDown.bind(t),t.onChange=t.onChange.bind(t),t.onToggle=function(){},t.onSelect=t.onSelect.bind(t),t.onFocus=t.onFocus.bind(t),t.onBlur=t.onBlur.bind(t),t.onSelecting=t.onSelecting.bind(t),t._overlay=null,t.setOverlayElement=t.setOverlayElement.bind(t),t._wrappedElement=null,t._wrappedComponent=null,t.setWrappedComponentRef=t.setWrappedComponentRef.bind(t),t}return s(n,t),c(n,[{key:"isOpen",value:function(){return this.props.matched.count()>0&&!this.state.hide}},{key:"stepMatch",value:function(e){var t=this.props.matched.count(),n=this.state.matchActive+e;n>=t?n=-1:n<-1&&(n=t-1),this.setState({matchActive:n}),this.props.onTAStepAt&&this.props.onTAStepAt(n)}},{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;if(this.isOpen())switch(e.key){case"ArrowDown":return this.stepMatch(1),void e.preventDefault();case"ArrowUp":return this.stepMatch(-1),void e.preventDefault();case"Enter":if(this.setState({hide:!0}),this.state.matchActive>-1)return e.preventDefault(),this.onSelectAt(this.state.matchActive);break;case"Escape":return this.setState({hide:!0}),e.preventDefault(),void(this.props.onTACancel&&this.props.onTACancel())}else switch(e.key){case"ArrowDown":return this.setState({hide:!1}),void e.preventDefault()}if(t)return e.persist(),t(e)}},{key:"onChange",value:function(e){var t=this.props.onChange;if(this.setState({matchActive:-1}),t)return e.persist(),t(e)}},{key:"onSelect",value:function(e){return this.onSelectAt(e)}},{key:"onSelectAt",value:function(e){var t=this,n=this.props,r=n.matched,o=n.onSelectAt;if(!(e<0||e>=r.count()))return this.setState({matchActive:-1},function(){t._wrappedComponent&&t._wrappedComponent.quitEditing&&t._wrappedComponent.quitEditing(),t._wrappedElement&&(t._wrappedElement.querySelector("input")?t._wrappedElement.querySelector("input").focus():t._wrappedElement.querySelector("textarea")&&t._wrappedElement.querySelector("textarea").focus())}),this.selecting=!1,o?o(e):void 0}},{key:"onFocus",value:function(e){var t=this.props,n=t.onFocus,r=t.forceOpenMatchesOnFocus;if(this.state.hide&&r&&this.setState({hide:!1}),n)return n(e)}},{key:"onBlur",value:function(e){var t=this.props.onBlur;if(e.relatedTarget&&this._overlay&&(e.relatedTarget===this._overlay||this._overlay.contains(e.relatedTarget))){if(this._wrappedElement){var n=this._wrappedElement.querySelector("input")||this._wrappedElement.querySelector("textarea");n&&n.focus()}return void e.stopPropagation()}if(!this.selecting&&(this.setState({hide:!0,matchActive:-1}),t))return t(e)}},{key:"onSelecting",value:function(){this.selecting=!0,this._wrappedComponent&&this._wrappedComponent.ignoreBlurring&&this._wrappedComponent.ignoreBlurring()}},{key:"componentWillReceiveProps",value:function(e){if(e.matched!==this.props.matched){var t=e.matched.count()>0&&e.autoSelectFirstMatch;this.setState({hide:!1,matchActive:t?0:-1})}}},{key:"setOverlayElement",value:function(e){this._overlay=e?h.default.findDOMNode(e):null}},{key:"setWrappedComponentRef",value:function(e){e?(this._wrappedElement=h.default.findDOMNode(e),this._wrappedElement.addEventListener("focusout",this.onBlur)):(this._wrappedElement.removeEventListener("focusout",this.onBlur),this._wrappedElement=null),this._wrappedComponent=e}},{key:"render",value:function(){var t=this.props,n=t.value,r=t.TypeAheadItemRenderer,a=t.matched,i=t.onBlur,s=t.onFocus,l=t.forceOpenMatchesOnFocus,c=o(t,["value","TypeAheadItemRenderer","matched","onBlur","onFocus","forceOpenMatchesOnFocus"]);delete c.onSelectAt,delete c.hasMoreMatches,delete c.onTAStepAt,delete c.onTACancel,delete c.autoSelectFirstMatch,delete c.forceOpenMatchesOnFocus;var p=this.state.matchActive,d=this.isOpen(),h=l?this.onFocus:s;return f.default.createElement(_.Static,{setOverlayRef:this.setOverlayElement,onHide:i,visible:d},f.default.createElement(e,u({groupClassName:(0,m.prefixNS)("formcontrols-withtypeahead"),value:n},c,{onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:h,autoComplete:"off",ref:this.setWrappedComponentRef})),f.default.createElement(T,{inputString:n,ItemRenderer:r,bsRole:"menu",matched:a,activated:p,onSelect:this.onSelect,onMouseDown:this.onSelecting,hasMoreMatches:this.props.hasMoreMatches}))}}]),n}(f.default.Component);return t.propTypes={onFocus:y.PropTypes.func,onBlur:y.PropTypes.func,onKeyDown:y.PropTypes.func,onChange:y.PropTypes.func,onSelectAt:y.PropTypes.func,onTAStepAt:y.PropTypes.func,onTACancel:y.PropTypes.func,value:y.PropTypes.any,matched:y.ImmutablePropTypes.list,hasMoreMatches:y.PropTypes.bool,autoSelectFirstMatch:y.PropTypes.bool,forceOpenMatchesOnFocus:y.PropTypes.bool,TypeAheadItemRenderer:y.PropTypes.oneOfType([y.PropTypes.func,y.PropTypes.instanceOf(f.default.Component)])},t.defaultProps={hasMoreMatches:!1,autoSelectFirstMatch:!1,forceOpenMatchesOnFocus:!1},t};var p=n(0),f=r(p),d=n(24),h=r(d),y=n(1),m=n(2),g=n(4),b=n(20),v=r(b),_=v.default.TypeAhead,S=v.default.Menu,O=v.default.MenuItem;l.propTypes={inputString:y.PropTypes.string,item:y.PropTypes.oneOfType([y.PropTypes.string,y.PropTypes.object])};var T=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.inputString,n=e.matched,r=e.activated,a=e.ItemRenderer,i=o(e,["inputString","matched","activated","ItemRenderer"]);return delete i.hasMoreMatches,f.default.createElement(S,u({className:(0,m.prefixNS)("formcontrols-withtypeahead-menu")},i),n.map(function(e,n){return f.default.createElement(O,{eventKey:n,key:n,active:n===r},f.default.createElement(a,{inputString:t,item:e}))}),this.props.hasMoreMatches?f.default.createElement("div",{className:(0,m.prefixNS)("formcontrols-withtypeahead-has-more")},(0,g.formatStr)("has_more")):null)}}]),t}(f.default.Component);T.propTypes={inputString:y.PropTypes.string,activated:y.PropTypes.number,matched:y.ImmutablePropTypes.list,hasMoreMatches:y.PropTypes.bool,ItemRenderer:y.PropTypes.oneOfType([y.PropTypes.func,y.PropTypes.object])},T.defaultProps={ItemRenderer:l};var E=0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.DialogPropTypes=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(3),f=r(p),d=n(0),h=r(d),y=n(6),m=n(1),g=n(8),b=r(g),v=n(2),_=n(111),S=n(11),O=r(S),T=n(4),E=n(31),C=(0,v.prefixNS)("dialog-sm"),w=(0,v.prefixNS)("dialog-md"),P=(0,v.prefixNS)("dialog-lg"),N=t.DialogPropTypes={size:m.PropTypes.oneOf([C,w,P])},I={bodyRef:m.PropTypes.func,buttons:m.PropTypes.node,onAction:m.PropTypes.func,onHide:m.PropTypes.func,onEntered:m.PropTypes.func,onEntering:m.PropTypes.func,onExiting:m.PropTypes.func,showCancel:m.PropTypes.bool,show:m.PropTypes.bool,fixedHeight:m.PropTypes.bool,size:N.size,sizes:m.ImmutablePropTypes.list,title:m.PropTypes.node,hideFooter:m.PropTypes.bool,dialogClassName:m.PropTypes.string,allowOverlay:m.PropTypes.bool,logoSrc:m.PropTypes.string},R={sizes:f.default.List([C,w,P]),show:!0,fixedHeight:!1,hideFooter:!1,showCancel:!0,allowOverlay:!1,logoSrc:"/static/imgid/branding_web_portal_logo_small.svg"},j=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.portalId=(0,_.getPortalId)(),n.state={sizeIndex:0,backdropClassname:e.show&&!(0,_.isDialogActive)()?(0,v.prefixNS)("dialog--first"):void 0,zIndex:e.show?(0,_.openDialog)(n):0,enforceFocus:!0},n.onAction=n.onAction.bind(n),n.onResize=n.onResize.bind(n),n.setModalRef=n.setModalRef.bind(n),n.onEntered=n.onEntered.bind(n),n.onEntering=n.onEntering.bind(n),n.onExiting=n.onExiting.bind(n),n.modalActive=void 0,n}return l(t,e),c(t,[{key:"setEnforceFocus",value:function(e){this.setState({enforceFocus:e})}},{key:"onEntered",value:function(){(0,E.addLocalShortcut)(this.self._modal.getDialogElement(),"Enter",this.onAction),this.self._modal.getDialogElement().focus();var e=this.props.onEntered;e&&e()}},{key:"onEntering",value:function(){this.updateZIndices(),this.modalActive=!0;var e=this.props.onEntering;e&&e()}},{key:"onExiting",value:function(){var e=this.props.onExiting;e&&e(),(0,E.removeLocalShortcut)(this.self._modal.getDialogElement(),"Enter"),this.modalActive=!1}},{key:"setModalRef",value:function(e){this.self=e}},{key:"onAction",value:function(){this.props.onAction&&this.props.onAction()}},{key:"componentDidUpdate",value:function(){this.modalActive&&this.updateZIndices()}},{key:"updateZIndices",value:function(){this.self._modal.backdrop.style.zIndex=this.state.zIndex-1,this.self._modal.getDialogElement().style.zIndex=this.state.zIndex}},{key:"componentWillReceiveProps",value:function(e){e.size===this.props.size&&e.sizes===this.props.sizes||v.Console.error("Dialog size should not be change during components lifecycle."),e.show&&!this.props.show?this.onOpenDialog():!e.show&&this.props.show&&this.onCloseDialog()}},{key:"componentWillUnmount",value:function(){this.onCloseDialog(!1)}},{key:"onOpenDialog",value:function(){this.setState({backdropClassname:(0,_.isDialogActive)()?void 0:(0,v.prefixNS)("dialog--first"),zIndex:(0,_.openDialog)(this)})}},{key:"onCloseDialog",value:function(){arguments.length>0&&void 0!==arguments[0]&&!arguments[0]?(0,_.closeDialog)(this.portalId):this.setState({zIndex:(0,_.closeDialog)(this.portalId),backdropClassname:void 0})}},{key:"onResize",value:function(){this.setState({sizeIndex:(this.state.sizeIndex+1)%this.props.sizes.size})}},{key:"render",value:function(){var e,t=this.props,n=t.title,r=t.buttons,i=t.onHide,s=t.hideFooter,l=t.dialogClassName,c=t.allowOverlay,p=t.showCancel,f=t.fixedHeight,d=t.size,g=t.sizes,S=t.children,E=t.logoSrc,C=t.bodyRef,w=a(t,["title","buttons","onHide","hideFooter","dialogClassName","allowOverlay","showCancel","fixedHeight","size","sizes","children","logoSrc","bodyRef"]),P=(0,m.classNames)([(0,v.prefixNS)("dialog"),d||g.get(this.state.sizeIndex),(e={},o(e,(0,v.prefixNS)("dialog--fixed-height"),f),o(e,(0,v.prefixNS)("dialog-allow-overlay"),c),e)]),N=void 0===this.props.size,I=this.state.sizeIndex===this.props.sizes.size-1,R=(0,_.getContainer)();return delete w.onAction,h.default.createElement(y.Modal,u({},w,{ref:this.setModalRef,onEntering:this.onEntering,onEntered:this.onEntered,onExiting:this.onExiting,onHide:i,className:P,container:R,backdrop:p||"static",backdropClassName:this.state.backdropClassname,keyboard:!0,autoFocus:!0,enforceFocus:this.state.enforceFocus,dialogClassName:l}),h.default.createElement(y.Modal.Header,null,h.default.createElement(y.Modal.Title,{title:"string"==typeof n?n:null},h.default.createElement("span",{className:(0,v.prefixNS)("logo-spacing")},h.default.createElement(O.default,{src:E,className:(0,v.prefixNS)("logo-size")})),h.default.createElement("span",{className:(0,v.prefixNS)("modal-v-centered-headline")},n)),h.default.createElement("div",{className:(0,v.prefixNS)("icon-button-wrapper")},N?I?h.default.createElement(b.default.ResizeSmallerButton,{onClick:this.onResize,title:(0,T.formatStr)("dialog_resize_tooltip")}):h.default.createElement(b.default.ResizeBiggerButton,{onClick:this.onResize,title:(0,T.formatStr)("dialog_resize_tooltip")}):null,p&&i?h.default.createElement(b.default.CloseButton,{onClick:i,title:(0,T.formatStr)("dialog_cancel_tooltip")}):null)),h.default.createElement(y.Modal.Body,{ref:C},S),s?null:h.default.createElement(y.Modal.Footer,null,r))}}]),t}(h.default.Component);t.default=j,j.SIZE_SMALL=C,j.SIZE_MEDIUM=w,j.SIZE_LARGE=P,j.propTypes=I,j.defaultProps=R},function(e,t,n){"use strict";function r(e,t){return{type:l,meta:{url:e,promise:t}}}function o(e){return{type:u,meta:{url:e}}}function a(e,t){return{type:c,payload:t,error:!0,meta:{url:e}}}function i(e,t){return function(n,i){var l=i().fetchingById.get(e);if(l)return l;var u=(0,s.getJSON)(e).then(function(r){return n(o(e)),t?t(r):r},function(t){throw n(a(e,t)),t});return n(r(e,u)),u}}Object.defineProperty(t,"__esModule",{value:!0}),t.FETCH_ERROR=t.FETCH_OK=t.FETCHING_URL=void 0,t.fetching=r,t.fetchOk=o,t.fetchError=a,t.singleFetch=i;var s=n(10),l=t.FETCHING_URL="cs-web-components-base-FETCHING_URL",u=t.FETCH_OK="cs-web-components-base-FETCH_OK",c=t.FETCH_ERROR="cs-web-components-base-FETCH_ERROR"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.OrderedSet(),t=arguments[1];switch(t.type){case u.SET_INIT_SORT_COLUMNS:return t.payload?t.payload.toOrderedSet():e;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments[1];switch(t.type){case u.SET_SORT_COLUMNS:return void 0===t.payload?e:t.payload;case c.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("sortColumns")?t.payload.get("sortColumns").toOrderedSet().filter(function(e){return t.payload.get("columnIDs").includes(e.get("id"))}):p;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.OrderedSet(),t=arguments[1];switch(t.type){case u.ADD_SORT_FUNCTION:return void 0===t.payload?e:e.add(t.payload);case u.REMOVE_SORT_FUNCTION:return e.delete(t.payload);default:return e}}function i(e){return e.sortColumns===p?e.initSortColumns:e.sortColumns}Object.defineProperty(t,"__esModule",{value:!0}),t.initSortColumns=r,t.sortColumns=o,t.sortFunctions=a,t.getSortColumns=i;var s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(55),c=n(12),p=null;t.default={sortColumns:o,initSortColumns:r,sortFunctions:a}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmNoZXZyb24tcmlnaHQ8L2Npcy1uYW1lPg08cG9seWdvbiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZmlsbD0iIzk5OTk5OSIgcG9pbnRzPSI1LjE1LDEyLjA2IDguNjgsOC41MyA1LjE1LDUgNy4xMywzLjAyIDEyLjY0LDguNTMgDQk3LjEzLDE0LjA0ICIvPg08L3N2Zz4N"},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case s.SET_FILTER:return void 0===t.payload?e:t.payload;case l.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("filter")?t.payload.get("filter"):e;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.OrderedSet(),t=arguments[1];switch(t.type){case s.ADD_FILTER_FUNCTION:return void 0===t.payload?e:e.add(t.payload);case s.REMOVE_FILTER_FUNCTION:return e.delete(t.payload);default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p;switch(arguments[1].type){case s.SEND_FOCUS_FILTER:return e.set("focusFilter",!0);case s.RESET_FOCUS_FILTER:return e.set("focusFilter",!1);default:return e}}function i(e){return e.filter}Object.defineProperty(t,"__esModule",{value:!0}),t.filter=r,t.filterFunctions=o,t.focusFilterSignal=a,t.getFilter=i;var s=n(57),l=n(12),u=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=c.default.fromJS({openFilter:!1});t.default={filter:r,filterFunctions:o,focusFilterSignal:a}},function(e,t,n){"use strict";function r(e){return{type:p,payload:e}}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return function(n){n((0,c.setFocusedRow)(e)),t&&n((0,c.setFocusedColumn)(t))}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return function(a,i){var s=i(),l=s.selectedRows,p=s.singleSelectionMode,f=s.focusedRow,d=l.contains(e),h=l.contains(f);if(!r&&!n){var y=d&&1===l.count();return a(o(e,t)),a((0,c.setSelectedRows)(y?u.default.OrderedSet():u.default.OrderedSet([e]),e))}return p?(a(o(e,t)),a((0,c.setSelectedRows)(d?l.delete(e):u.default.OrderedSet([e]),e))):(a(o(e,t)),a(n&&h?(0,c.selectRange)(f,e,r):(0,c.setSelectedRows)(d?l.delete(e):l.add(e),e)))}}function i(e,t,n){return function(r){r(o(t)),r((0,c.setSelectedRows)(e,n))}}function s(e){return{type:f,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.SET_ALL_SELECTOR=t.SET_SINGLE_SELECTION_MODE=void 0,t.setSingleSelectionMode=r,t.selectRow=a,t.selectRows=i,t.setAllSelector=s;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(12),p=t.SET_SINGLE_SELECTION_MODE="cs-web-components-base-SET_SINGLE_SELECTION_MODE",f=t.SET_ALL_SELECTOR="cs-web-components-base-SET_ALL_SELECTOR";t.default={SET_SINGLE_SELECTION_MODE:p,SET_ALL_SELECTOR:f,setSingleSelectionMode:r,selectRow:a,selectRows:i,setAllSelector:s}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case h.SET_ALLITEMS:return void 0===t.payload?e:t.payload;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t=arguments[1];switch(t.type){case h.SET_PAGESIZE:return void 0===t.payload?e:t.payload;case y.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("paginationUserSettings")?t.payload.get("paginationUserSettings").get("pageSize"):e;default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments[1];switch(t.type){case h.SET_CURRENTPAGE:return void 0===t.payload?e:t.payload;case y.SET_TABLE_SETTINGS_FETCHED:return t.payload.get("paginationUserSettings")?t.payload.get("paginationUserSettings").get("currentPage"):e;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.Set(),t=arguments[1];switch(t.type){case h.SET_PAGESIZEOPTIONS:return void 0===t.payload?e:t.payload;default:return e}}function s(e){return e.pagination.allItems}function l(e){return e.paginationUserSettings.pageSize}function u(e){return e.paginationUserSettings.currentPage}function c(e){return e.pagination.pageSizeOptions}Object.defineProperty(t,"__esModule",{value:!0}),t.allItems=r,t.pageSize=o,t.currentPage=a,t.pageSizeOptions=i,t.getAllItems=s,t.getPageSize=l,t.getCurrentPage=u,t.getPageSizeOptions=c;var p=n(3),f=function(e){return e&&e.__esModule?e:{default:e}}(p),d=n(1),h=n(73),y=n(12);t.default={pagination:(0,d.combineReducers)({allItems:r,pageSizeOptions:i}),paginationUserSettings:(0,d.combineReducers)({pageSize:o,currentPage:a})}},function(e,t,n){"use strict";function r(e){return{type:u,payload:{searchHeaderSettings:e}}}function o(e){return{type:c,payload:{currValues:e}}}function a(e){return{type:p,payload:e}}function i(e){return{type:f,payload:{initURL:e}}}function s(e){return{type:d,payload:{initValues:e}}}function l(e){return{type:h,payload:{onSearchHeaderSubmit:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=r,t.setCurrentValues=o,t.showControls=a,t.setInitURL=i,t.setInitValues=s,t.setOnSearchHeaderSubmit=l;var u=t.SEARCHHEADERCOMPONENT_SET_SETTINGS="cs-web-components-base-SEARCHHEADERCOMPONENT-SET-SETTINGS",c=t.SEARCHHEADERCOMPONENT_SET_VALUES="cs-web-components-base-SEARCHHEADERCOMPONENT-SET-VALUES",p=t.SEARCHHEADERCOMPONENT_SHOW_CONTROLS="cs-web-components-base-SEARCHHEADERCOMPONENT-SHOW-CONTROLS",f=t.SEARCHHEADERCOMPONENT_SET_INITURL="cs-web-components-base-SEARCHHEADERCOMPONENT-SET-INITURL",d=t.SEARCHHEADERCOMPONENT_SET_INITVALUES="cs-web-components-base-SEARCHHEADERCOMPONENT-SET-INITVALUES",h=t.SEARCHHEADERCOMPONENT_SET_ONSEARCHHEADERSUBMIT="cs-web-components-base-SEARCHHEADERCOMPONENT-SET-ONSEARCHHEADERSUBMIT";t.default={setSettings:r,setCurrentValues:o,showControls:a,setInitURL:i,setInitValues:s,setOnSearchHeaderSubmit:l,SEARCHHEADERCOMPONENT_SET_SETTINGS:u,SEARCHHEADERCOMPONENT_SET_VALUES:c,SEARCHHEADERCOMPONENT_SHOW_CONTROLS:p,SEARCHHEADERCOMPONENT_SET_INITURL:f,SEARCHHEADERCOMPONENT_SET_INITVALUES:d,SEARCHHEADERCOMPONENT_SET_ONSEARCHHEADERSUBMIT:h}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(15),h=n(14),y=n(86),m=r(y),g=n(8),b=r(g),v=n(4),_=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.increaseValue=n.increaseValue.bind(n),n.decreaseValue=n.decreaseValue.bind(n),n.checkedValueChange=n.checkedValueChange.bind(n),n.onBlur=n.onBlur.bind(n),n}return s(t,e),u(t,[{key:"checkedValueChange",value:function(e){var t=this.props,n=t.onValueChange,r=t.maxValue,o=t.minValue;void 0!==n&&(void 0===r||e<=r)&&(void 0===o||e>=o)&&n(e)}},{key:"onBlur",value:function(){var e=this.props,t=e.onValueChange,n=e.value,r=e.maxValue,o=e.minValue;void 0!==t&&(n>r?t(r):n<o&&t(o))}},{key:"increaseValue",value:function(){var e=this.props,t=e.value,n=e.step;this.checkedValueChange(void 0===t?this.props.minValue:t+n)}},{key:"decreaseValue",value:function(){var e=this.props,t=e.value,n=e.step;this.checkedValueChange(void 0===t?this.props.maxValue:t-n)}},{key:"render",value:function(){var e=this.props,t=e.afterControl,n=o(e,["afterControl"]),r=this.props,a=r.value,i=r.step,s=r.maxValue,u=r.minValue,c=a+i>s,f=a-i<u,h=(0,d.combineInputExtensions)([p.default.createElement(b.default.DecreaseButton,{key:"decrease",onClick:this.decreaseValue,disabled:f,title:(0,v.formatStr)("tree_decreaseLevel")}),p.default.createElement(b.default.IncreaseButton,{key:"increase",onClick:this.increaseValue,disabled:c,title:(0,v.formatStr)("tree_increaseLevel")})],t);return p.default.createElement(m.default,l({onBlur:this.onBlur,afterControl:h},n))}}]),t}(p.default.Component);t.default=_,_.propTypes=l({},h.sharedTextInputProps,{onValueChange:f.PropTypes.func,step:f.PropTypes.number,minValue:f.PropTypes.number,maxValue:f.PropTypes.number}),_.defaultProps={step:1,decimalPlaces:0}},function(e,t,n){"use strict";function r(e){return{type:o.ACTIONS.INIT_CLASS_SEARCH,payload:{classname:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.resetSearch=t.runSearch=t.selectFavourite=t.removeSearchInstance=t.createCatalogSearchInstance=t.setSearchContext=t.createSearchInstance=t.initClassSearch=void 0;var o=n(17),a=n(22),i=n(322);t.initClassSearch=r,t.createSearchInstance=a.createSearchInstance,t.setSearchContext=i.setSearchContext,t.createCatalogSearchInstance=a.createCatalogSearchInstance,t.removeSearchInstance=a.removeSearchInstance,t.selectFavourite=a.selectFavourite,t.runSearch=a.runSearch,t.resetSearch=a.resetSearch},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){if(e.has("expandChildren")){if(!(0===e.get("children").size&&e.get("has_children")))return e.delete("expandChildren")}return e}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),h=n(3),y=r(h),m=n(1),g=n(2),b=n(188),v=n(99),_=n(58),S=r(_),O=n(141),T=r(O),E=n(144),C=r(E),w=n(80),P=r(w),N=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.publicInterface={},n.state={title:e.title,rootNode:n.props.rootNode||null,selectedId:void 0,selectedIds:y.default.Set(),searchResult:y.default.Map(),searchResultOrder:y.default.List(),selectedSearchResult:-1},n._bindInterface({getRoot:n.getRoot.bind(n),getPath:n.getPath.bind(n),getNodeById:n.getNodeById.bind(n),activateKey:n.activateKey.bind(n),selectTreeNode:n.selectTreeNode.bind(n),selectTreeNodeById:n.selectTreeNodeById.bind(n),setSearchResult:n.setSearchResult.bind(n),getSearchResult:function(){return n.state.searchResult},getSelectedSearchResult:function(){return-1===n.state.selectedSearchResult?void 0:n.getNodeById(n.state.searchResultOrder.get(n.state.selectedSearchResult))},setSelectedSearchResultIndex:n.setSelectedSearchResultIndex.bind(n),getSelectedSearchResultIndex:function(){return n.state.selectedSearchResult},getSearchResultCount:function(){return n.state.searchResultOrder.size},toggleTreeNode:n.toggleTreeNode.bind(n),fetchNodeChildren:n.fetchNodeChildren.bind(n),expandLevels:n.expandLevels.bind(n),collapseLevels:n.collapseLevels.bind(n)}),n}return l(t,e),p(t,[{key:"_bindInterface",value:function(e){Object.assign(this.state,Object.assign(this.publicInterface,e))}},{key:"_initSearchAdapter",value:function(){this.searchAdapter=new this.props.SearchAdapter(this.publicInterface,this.props.matcher,this.props.hideRoot)}},{key:"componentWillMount",value:function(){this._initSearchAdapter()}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(this.props.matcher===e.matcher&&this.props.hideRoot===e.hideRoot||this._initSearchAdapter(),this.props.rootNode!==e.rootNode){var n=e.rootNode;this.state.rootNode&&e.rootNode&&(n=(0,b.visit)(e.rootNode,{ascending:function(e){var n=t.getNodeById(e.get("id"));return n&&n!==e?e.set("expanded",n.get("expanded")):e}})),this.setState({rootNode:n})}}},{key:"fetchNodeChildren",value:function(){return null}},{key:"findNode",value:function(e){for(var t=(0,b.walkTopDownDepthFirst)(this.state.rootNode),n=void 0;!(n=t.next()).done;)if(e(n.value))return n.value}},{key:"getRoot",value:function(){return this.state.rootNode}},{key:"getPath",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;if(void 0===n)return this.getPath(e,this.getRoot());if(e.get("id")===n.get("id"))return[n];var r=null;return n.get("children").forEach(function(o){if(null==r){var a=t.getPath(e,o);a&&(a.unshift(n),r=a)}}),r}},{key:"getNodeById",value:function(e){return this.findNode(function(t){return t.get("id")===e})}},{key:"visitAndUpdate",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return n?n!==this.getRoot()?this.visitAndUpdate({descending:function(t){return n.get("id")===t.get("id")?(0,b.visit)(n,e):t}}):new Promise(function(n){var r=t.state.rootNode,o=(0,b.visit)(r,e);return o!==r&&t.setState({rootNode:o},function(){n(o)}),o}):this.visitAndUpdate(e,this.getRoot())}},{key:"updateTreeNode",value:function(e){return this.visitAndUpdate({descending:function(e,t,n){return n&&n.get("expandChildren")>1?e.merge({expanded:!0,expandChildren:n.get("expandChildren")-1}):e},ascending:u},e)}},{key:"expandLevels",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=t||this.getNodeById(this.state.selectedId)||this.getRoot();return this.visitAndUpdate({descending:function(t,r,o){return t.get("id")===n.get("id")?t.merge({expanded:!0,expandChildren:e}):o.get("expandChildren")>1?t.merge({expanded:!0,expandChildren:o.get("expandChildren")-1}):t},ascending:u},n)}},{key:"collapseLevels",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,n=t||this.getNodeById(this.state.selectedId)||this.getRoot(),r=this.getRoot();return this.visitAndUpdate({ascending:function(t){return t.get("id")===r.get("id")&&e.props.hideRoot?t:t.set("expanded",!1)}},n)}},{key:"toggleTreeNode",value:function(e){return this.visitAndUpdate({descending:function(t){if(t.get("id")===e){var n=t.get("expanded");return t.set("expanded",!n)}return t}})}},{key:"selectTreeNodeById",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=void 0;a=!0===r&&this.state.selectedIds.has(e)?this.state.selectedIds.delete(e):!0===r?this.state.selectedIds.add(e):y.default.Set().add(e);var i=void 0,s=void 0;return this.visitAndUpdate({descending:function(e){if(a.has(e.get("id"))){var t=e.set("is_selected",!0!==o||!e.get("is_selected"));return t.get("is_selected")?i=t:s=t,t}return e.get("is_selected",!1)?s=e.set("is_selected",!1):e}}).then(function(){return new Promise(function(r){n.setState({selectedId:e,selectedIds:a,searchResultIndex:t},function(){return n.props.onSelect&&n.props.onSelect({selectedNode:i?i.get("content"):void 0,unselectedNode:s?s.get("content"):void 0}),r(i)})})})}},{key:"selectTreeNode",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return this.selectTreeNodeById(e.get("id"),void 0,t,n)}},{key:"expandTreeNode",value:function(e){var t=this,n=function e(t){return function(n){var r=n.get("children").map(e(t)),o=n.set("children",r.map(function(e){return e.node})),a=t(o)||r.some(function(e){return e.expand});return a&&(o=o.set("expanded",!0)),{expand:a,newNode:o}}}(function(t){return t.get("id")===e})(this.state.rootNode),r=n.node;return r!==this.state.rootNode?new Promise(function(e){t.setState({rootNode:r},function(){return e(r)})}):Promise.resolve(r)}},{key:"setSelectedSearchResultIndex",value:function(e){var t=this;return new Promise(function(n){t.setState({selectedSearchResult:e},function(){t.selectTreeNodeById(t.state.searchResultOrder.get(t.state.selectedSearchResult)).then(function(e){return n(e)})})})}},{key:"setSearchResult",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise(function(r){t.setState({searchResult:e,searchResultOrder:y.default.fromJS([].concat(a(e.keys()))),selectedSearchResult:e.size>0?n:-1},function(){t.state.selectedSearchResult>-1?t.selectTreeNodeById(t.state.searchResultOrder.get(t.state.selectedSearchResult)).then(function(e){return r(e)}):r()})})}},{key:"activateKey",value:function(e){var t=this.props.hideRoot,n=this.state,r=n.rootNode,o=n.selectedId,a=function(){if(void 0===o){var e=t?r.getIn(["children",0]):r;return{previous:e,selected:e,next:e}}var n=function(e){return e.get("expanded")?e.get("children"):y.default.List()},a=(0,b.walkTopDownDepthFirstCustom)(n)(r),i=void 0,s=void 0,l=void 0,u=void 0;for(t&&a.next();!(u=a.next()).done;){if(u.value.get("id")===o){s=u.value,l=a.next().value;break}i=u.value}return{previous:i,selected:s,next:l}}(),i=a.previous,s=a.selected,l=a.next;switch(e){case"ArrowDown":l&&this.selectTreeNode(l);break;case"ArrowUp":i&&this.selectTreeNode(i);break;case"ArrowLeft":if(s)if(s.get("expanded"))this.toggleTreeNode(o);else{var u=function(){return function e(t){var n=null;if(t.get("children").forEach(function(e){null==n&&e.get("id")===o&&(n=t)}),null!=n)return n;var r=void 0;return t.get("children").forEach(function(t){null==n&&void 0!==(r=e(t))&&(n=r)}),n}(r)}();!u||u.get("id")===this.state.rootNode.get("id")&&this.props.hideRoot||this.selectTreeNode(u)}break;case"ArrowRight":if(s)if(s.get("expanded")){var c=s.get("children");c&&c.size>0&&this.selectTreeNode(c.get(0))}else this.toggleTreeNode(o)}}},{key:"renderTree",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.props,n=t.TreeRenderer,r=t.treeRendererName,a=t.className,i=o(t,["TreeRenderer","treeRendererName","className"]),s=C.default.getTreeRenderer(r)||n,l=(0,m.classNames)([(0,g.prefixNS)("tree"),a]);return d.default.createElement("div",{className:l},d.default.createElement(s,c({searchAdapter:this.searchAdapter},i,{SearchAdapter:void 0},this.state,e)))}},{key:"render",value:function(){return this.renderTree()}}]),t}(d.default.Component);t.default=N,N.propTypes={className:m.PropTypes.string,TreeRenderer:m.PropTypes.func,treeRendererName:m.PropTypes.string,NodeRenderer:_.NodeRendererType,TitleRenderer:m.PropTypes.oneOf([m.PropTypes.func,m.PropTypes.object]),SearchAdapter:m.PropTypes.func,title:m.PropTypes.string,matcher:m.PropTypes.func,hasFocus:m.PropTypes.bool,rootNode:m.ImmutablePropTypes.map,hideRoot:m.PropTypes.bool,onSelect:m.PropTypes.func},N.defaultProps={TreeRenderer:T.default.DefaultRenderer,NodeRenderer:S.default,SearchAdapter:v.SimpleSearchAdapter,matcher:(0,P.default)(function(e){return e.getIn(["content"])}),hasFocus:!0,hideRoot:!1}},function(e,t,n){"use strict";function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){function r(){if(a)return a;if(0===o.length)return Promise.reject("No child found");var i=o.pop(),s=e.getNodeById(i);if(0===s.get("children").size&&s.get("has_children"))return a=e.fetchNodeChildren(s).then(function(){var s=e.getNodeById(i);s.get("children").reverse().forEach(function(e){o.push(e.get("id"))}),a=null;var l=t(s,n);return l?{node:s,match:l}:r()});s.get("children").reverse().forEach(function(e){o.push(e.get("id"))});var l=t(s,n);return l?Promise.resolve({node:s,match:l}):r()}var o=[e.getRoot().get("id")],a=null;return r}Object.defineProperty(t,"__esModule",{value:!0}),t.BackendSearchAdapter=t.SimpleSearchAdapter=t.SearchAdapter=void 0;var s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(188),f=t.SearchAdapter=function(){function e(t,n,r){a(this,e),this.tree=t,this.matcher=n,this.hideRoot=r,this.getNavigationState=this.getNavigationState.bind(this),this.onSendQuery=this.onSendQuery.bind(this),this.onPreviousResult=this.onPreviousResult.bind(this),this.onNextResult=this.onNextResult.bind(this),this.onClearResults=this.onClearResults.bind(this),this.isMatch=this.isMatch.bind(this)}return l(e,[{key:"isMatch",value:function(e,t){var n=this.matcher(e,t);return!(!n||this.hideRoot&&this.tree.getRoot().get("id")===e.get("id"))&&n}},{key:"getNavigationState",value:function(){var e=this.tree.getSelectedSearchResultIndex();return{previousResult:e>0,nextResult:e>-1&&e<this.tree.getSearchResultCount()-1,selectedResult:this.tree.getSelectedSearchResultIndex()+1,resultCount:this.tree.getSearchResultCount()}}},{key:"onPreviousResult",value:function(){if(0===this.tree.getSearchResultCount())return Promise.resolve();var e=this.tree.getSelectedSearchResultIndex()-1;return this.tree.setSelectedSearchResultIndex(e<0?e+this.tree.getSearchResultCount():e)}},{key:"onNextResult",value:function(){return 0===this.tree.getSearchResultCount()?Promise.resolve():this.tree.setSelectedSearchResultIndex((this.tree.getSelectedSearchResultIndex()+1)%this.tree.getSearchResultCount())}},{key:"onClearResults",value:function(){this.tree.setSearchResult(c.default.Map())}}]),e}(),d=t.SimpleSearchAdapter=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),l(t,[{key:"onSendQuery",value:function(e){var t=this;return this.tree.setSearchResult(function(){for(var n=(0,p.walkTopDownDepthFirst)(t.tree.getRoot()),r=new Map,o=void 0;(o=n.next())&&!o.done;){var a=t.isMatch(o.value,e);a&&r.set(o.value.get("id"),a.type?a:null)}return r}())}}]),t}(f),h=t.BackendSearchAdapter=function(e){function t(e,n,o){a(this,t);var i=r(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n,o));return i.activeSearchAlgorithm=null,i.activeSearchFinished=!1,i}return o(t,e),l(t,[{key:"getNavigationState",value:function(){var e=s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getNavigationState",this).call(this);return e.nextResult=!this.activeSearchFinished||e.nextResult,e.resultCount=this.activeSearchFinished?this.tree.getSearchResultCount():void 0,e}},{key:"onSendQuery",value:function(e){if(!this.activeSearchAlgorithm)return this.activeSearchAlgorithm=i(this.tree,this.isMatch,e),this.onNextResult()}},{key:"onNextResult",value:function(){var e=this,n=this.tree.getSelectedSearchResultIndex();return n!==this.tree.getSearchResultCount()-1||this.activeSearchFinished?s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onNextResult",this).call(this):this.activeSearchAlgorithm().then(function(t){return e.tree.setSearchResult(e.tree.getSearchResult().set(t.node.get("id"),t.match),n+1)},function(){e.activeSearchFinished=!0})}},{key:"onClearResults",value:function(){return this.activeSearchAlgorithm=null,this.activeSearchFinished=!1,s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"onClearResults",this).call(this)}}]),t}(f);t.default={SearchAdapter:f,BackendSearchAdapter:h,SimpleSearchAdapter:d}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.FavoriteActions=t.ObjectFavoriteButton=void 0;var o=n(13),a=n(326),i=r(a),s=n(136),l=n(189),u=r(l);o.Registry.registerReducer("favorites",i.default);var c={initFavorites:s.initFavorites,deleteFavorite:s.deleteFavorite,updateFavorite:s.updateFavorite,addFavorite:s.addFavorite};t.ObjectFavoriteButton=u.default,t.FavoriteActions=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.formWithOperations;return{isOperationRunning:t.some(function(e){return e.get("mode")!==b.OperationMode.INITIAL&&!e.get("nonBlocking")}),allOperationStates:t}}function u(e,t){var n=function(n){function r(){return a(this,r),i(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return s(r,n),p(r,[{key:"render",value:function(){var n=this.props,r=n.handlerName,a=n.defaultOperationParameters,i=o(n,["handlerName","defaultOperationParameters"]);return d.default.createElement(E,{handlerName:r||t,defaultOperationParameters:a},d.default.createElement(e,i))}}]),r}(d.default.Component);return n.propTypes={handlerName:m.PropTypes.string,defaultOperationParameters:m.PropTypes.object},n.displayName="WithOperationTrigger",n}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.WithOperationTrigger=u;var f=n(0),d=r(f),h=n(3),y=r(h),m=n(1),g=n(2),b=n(28),v=n(102),_=r(v),S=n(35),O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.runOperation=n.runOperation.bind(n),n.startOperation=n.startOperation.bind(n),n.setSubmitHandler=n.setSubmitHandler.bind(n),n.onSuccess=void 0,n.onFailure=void 0,n}return s(t,e),p(t,[{key:"_getOperationProvider",value:function(e){var t=this.props.handlerName||e.get("presentation_id");if(void 0===t&&g.Console.warn("Neither operation '"+e.get("classname")+"/"+e.get("opname")+"' nor OperationTrigger specifies an OperationHandler"),void 0===this.context.getOperationHandler)return void g.Console.warn("OperationTrigger has no surrounding OperationScope.");var n=this.context.getOperationHandler(t);return void 0===n?void g.Console.warn("No OperationHandler "+t+" in current OperationScope."):n}},{key:"setSubmitHandler",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;g.Console.warn("OperationTrigger.setSubmitHandler is deprecated in cs.web 15.3.","You should reimplement your result handlers using Redux Saga."),this.onSuccess=e,this.onFailure=t}},{key:"mergedOperationParameters",value:function(e){var t=this.props.defaultOperationParameters;return c({},t||{},e||{})}},{key:"startOperation",value:function(e,t){g.Console.warn("OperationTrigger.startOperation is deprecated in cs.web 15.3.","Use OperationTrigger.runOperation instead.");var n=this._getOperationProvider(e);(0,this.props.setSubmitHandler)(n,this.onSuccess,this.onFailure);var r=this.mergedOperationParameters(t),a=r.object,i=r.objects,s=o(r,["object","objects"]),l={parameters:y.default.Map(s)};return l.contextObjects=y.default.List(i||(a?[a]:[])),this.onSuccess&&(l.successActions=[_.default.Handlers.executeSuccessHandlerFns()]),this.onFailure&&(l.failureActions=[_.default.Handlers.executeFailureHandlerFns()]),this.runOperation(e,l,!0)}},{key:"runOperation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=this._getOperationProvider(e);return r&&this.props.runOperation(r,Object.assign({operationInfo:e},n?t:this.mergedOperationParameters(t))),r}},{key:"render",value:function(){var e=this.props,t=e.children,n=o(e,["children"]),r=n.handlerName,a=n.allOperationStates,i=r&&this.context.getOperationHandler(r),s={};if(i){var l=a.get(i);s={isInstanceActive:!b.NOT_ACTIVE_SET.has(l.get("mode")),isInstanceRunning:!b.NOT_RUNNING_SET.has(l.get("mode")),isInstanceFinished:b.FINISHED_SET.has(l.get("result")),isInstanceSucceeded:l.get("result")===b.OperationMode.SUCCEEDED,isInstanceFailed:l.get("result")===b.OperationMode.FAILED,isInstanceCancelled:l.get("result")===b.OperationMode.CANCELLED}}var u=c({},n,s,{runOperation:this.runOperation,startOperation:this.startOperation,setSubmitHandler:this.setSubmitHandler});return d.default.cloneElement(d.default.Children.only(t),u)}}]),t}(d.default.Component);O.propTypes={handlerName:m.PropTypes.string,defaultOperationParameters:m.PropTypes.object,runOperation:m.PropTypes.func.isRequired,addFiles:m.PropTypes.func.isRequired,allOperationStates:m.ImmutablePropTypes.map.isRequired,setSubmitHandler:m.PropTypes.func},O.contextTypes={getOperationHandler:m.PropTypes.func};var T={runOperation:_.default.runOperation,addFiles:_.default.addFiles,setSubmitHandler:S.setSubmitHandler},E=(0,m.connect)(l,T)(O);t.default=E},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(328),i=r(a),s=n(330),l=r(s),u=n(195),c=r(u),p=n(332),f=r(p),d=n(333),h=r(d),y=n(77),m=r(y),g=n(137);o.Registry.registerSaga(i.default),o.Registry.registerSaga(l.default),o.Registry.registerSaga(c.default),o.Registry.registerSaga(f.default),o.Registry.registerSaga(h.default),t.default={Handlers:m.default,dispatchResultHandler:d.dispatchResultHandler,runOperation:g.runOperation,addFiles:g.addFiles,removeFiles:g.removeFiles}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expanded:e.initialExpanded},n.onExpanded=n.onExpanded.bind(n),n}return a(t,e),i(t,[{key:"onExpanded",value:function(e){this.setState({expanded:e})}},{key:"render",value:function(){return this.props.children(this.state.expanded,this.onExpanded)}}]),t}(l.default.Component);t.default=c,c.propTypes={initialExpanded:u.PropTypes.bool},c.defaultProps={initialExpanded:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(2),f=n(1),d=n(8),h=r(d),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClickTag=n.onClickTag.bind(n),n.onClickIcon=n.onClickIcon.bind(n),n}return s(t,e),l(t,[{key:"onClickTag",value:function(){this.props.onClickTag&&this.props.onClickTag(this.props.id)}},{key:"onClickIcon",value:function(){this.props.onClickIcon&&this.props.onClickIcon(this.props.id)}},{key:"render",value:function(){var e=this.props,t=e.onClickTag,n=e.onClickIcon,r=e.name,a=n?c.default.createElement(h.default.CloseButton,{onClick:this.onClickIcon,className:(0,p.prefixNS)("generic-tag-click-icon")}):null,i=(0,f.classNames)((0,p.prefixNS)("generic-tag"),o({},(0,p.prefixNS)("generic-tag-click"),t),o({},(0,p.prefixNS)("generic-tag-none-click"),!t));return c.default.createElement("div",{className:i,onClick:this.onClickTag},c.default.createElement("span",null,r),a)}}]),t}(c.default.Component);t.default=y,y.propTypes={name:f.PropTypes.string.isRequired,id:f.PropTypes.string.isRequired,onClickIcon:f.PropTypes.func,onClickTag:f.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),a=r(o),i=n(359),s=r(i);t.default={Provider:a.default,Listener:s.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="cs-web-components-base-CLASSVIEW:";t.ACTIONS={LOADED_TABS_FOR_CLASS:r+"LOADED_TABS_FOR_CLASS",ADD_TAB_FOR_CLASS:r+"ADD_TAB_FOR_CLASS",REMOVE_TAB_FOR_CLASS:r+"REMOVE_TAB_FOR_CLASS",REORDER_TABS_FOR_CLASS:r+"REORDER_TABS_FOR_CLASS",CREATED_TAB_FOR_CLASS:r+"CREATED_TAB_FOR_CLASS",SET_ACTIVE_TAB:r+"SET_ACTIVE_TAB",SET_TAB_NAME:r+"SET_TAB_NAME",HANDLE_SUBMIT:r+"HANDLE_SUBMIT"},t.NOTIFICATION_ID=r+"NOTIFICATION_ID"},function(e,t,n){"use strict";function r(){return(0,u.getAppSetup)().get("class_view")}function o(e,t){var n=r();if(n){var o=n.get("classOpInfos"),a=!0,i=!1,s=void 0;try{for(var l,c=o.values()[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value,f=!0,d=!1,h=void 0;try{for(var y,m=p.values()[Symbol.iterator]();!(f=(y=m.next()).done);f=!0){var g=y.value;if(g.get("opname")===t&&g.get("classname")===e)return g}}catch(e){d=!0,h=e}finally{try{!f&&m.return&&m.return()}finally{if(d)throw h}}}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}}else u.Console.warn("Trying to access appSetup['class_view'] out of class context.")}function a(e,t){var n=t.map(function(t){return{attribute:t,value:e.get(t,"")}}),r=e.get(c,"");return""===r||t.includes(c)?n:n.unshift({attribute:c,value:r})}function i(e,t){var n=a(e,t),r=l.default.Map(n.map(function(e){return[e.attribute,e.value]}));return encodeURIComponent(JSON.stringify(r.toJS()))}Object.defineProperty(t,"__esModule",{value:!0}),t.FTS_ATTRNAME=t.searchFavouritesLink=void 0,t.getClassViewSetup=r,t.getClassOpInfo=o,t.filterRelevantValues=a,t.encodeSearchAttrs=i;var s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(2),c=(t.searchFavouritesLink=(0,u.getAppSetup)().getIn(["links","common","searchFavourites"]),t.FTS_ATTRNAME="cdb::argument.textindex")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.formData,n=e.containerRef;return c.default.createElement("div",null,c.default.createElement("h1",null,t.get("label")),c.default.createElement(T,{registers:t.get("registers"),values:t.get("values"),operationState:t.get("operation_state"),displayMappingURL:t.get("display_mapping_url"),containerRef:n}))}Object.defineProperty(t,"__esModule",{value:!0}),t.DisplayFormRaw=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(2),y=n(10),m=n(19),g=n(4),b=n(152),v=r(b),_=(0,h.getAppSetup)().get("formats"),S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.navigateLink=n.navigateLink.bind(n),n}return i(t,e),l(t,[{key:"navigateLink",value:function(e){var t=this.props,n=t.values,r=t.operationState,o=t.replaceContentOnNavigate,a=t.addNotification,i={values:n.toJS(),operation_state:r.toJS()},s=o?null:window.open("about:blank","_blank");(0,y.postJSON)(e,i).then(function(t){if(t.ui_link){if(s)return void(s.location=t.ui_link);window.location=t.ui_link}else t.error_message&&a(e,(0,g.formatStr)("form_name"),t.error_message,"danger",2,null,5e3);s&&s.close()})}},{key:"render",value:function(){var e=this,t=this.props,n=t.registers,r=t.values,o=t.operationState,a=t.operationInstance,i=t.readOnly,s=t.onChangeValues,l=t.uncheckedValues,u=t.displayMappingURL,p=t.contextObjects,f=t.containerRef;return n.map(function(t){return c.default.createElement(v.default,{key:t.get("label"),containerRef:f,operationInstance:a,register:t,onFieldsChange:s,onNavigateLink:e.navigateLink,values:r,uncheckedValues:l,displayMappingURL:u,operationState:o,formats:_,readOnly:i,contextObjects:p})})}}]),t}(c.default.Component);S.propTypes={containerRef:d.PropTypes.object,registers:d.ImmutablePropTypes.list.isRequired,values:d.ImmutablePropTypes.map.isRequired,operationState:d.ImmutablePropTypes.map.isRequired,displayMappingURL:d.PropTypes.string,operationInstance:d.PropTypes.string,onChangeValues:d.PropTypes.func,uncheckedValues:d.ImmutablePropTypes.set,readOnly:d.PropTypes.bool,replaceContentOnNavigate:d.PropTypes.bool,contextObjects:d.PropTypes.instanceOf(f.default.List),addNotification:d.PropTypes.func.isRequired},S.defaultProps={operationInstance:void 0,readOnly:!0,replaceContentOnNavigate:!1,uncheckedValues:f.default.Set()};var O={addNotification:m.addNotification},T=t.DisplayFormRaw=(0,d.connect)(void 0,O)(S);s.propTypes={formData:d.ImmutablePropTypes.map,containerRef:d.PropTypes.object}},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments[1];switch(t.type){case c.MSG_SRV_FETCH:return e.setIn(["server","messages"],t.payload.messages);case c.MSG_POST:if(e.getIn(["messagesById",t.payload]))return e;var n=t.payload,a=n.delete("displayInfos"),i=a.get("id"),s=a.get("global")!==p.Global.NONE,l=a.get("owner"),h=function(e){return o({},e,o({},i,{message:a,displayInfo:n.getIn(["displayInfos",e])}))},y=Object.assign.apply(Object,[{}].concat(r(n.get("displayInfos").keySeq().map(h).toJS()))),m=e.mergeDeep(u.default.fromJS({messagesByDisplay:y,messagesById:s?o({},i,a):{},messagesByOwner:l?o({},l,o({},i,a)):{}}));if(m.get("messagesById").size>f){var g=m.get("messagesById").minBy(function(e){return e.get("ts")}).get("id");if(g)return m.deleteIn(["messagesById",g])}return m;case c.MSG_UPDATE_DISPLAY_INFO:var b=["messagesByDisplay",t.payload.displayId,t.payload.messageId,"displayInfo"];if(e.hasIn(b))return e.mergeIn(b,t.payload.displayInfo);break;case c.MSG_REMOVE_FROM_OWNER:return e.deleteIn(["messagesByOwner",t.payload.owner,t.payload.messageId]);case c.MSG_REMOVE_FROM_DISPLAY:return e.deleteIn(["messagesByDisplay",t.payload.displayId,t.payload.messageId])}return e}function i(e,t){return e.messages.getIn(["messagesByOwner",t],u.default.Map())}function s(e,t){return e.messages.getIn(["messagesByDisplay",t],u.default.Map())}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a,t.getMessagesForOwner=i,t.getMessagesForDisplay=s;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(64),p=n(36),f=20,d=u.default.fromJS({server:{messages:[]},messagesById:{},messagesByOwner:{},messagesByDisplay:{}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(24),p=r(c),f=n(2),d=n(1),h=n(148),y=r(h),m=n(111),g={visibility:"hidden",left:0,top:0},b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onFocusOut=n.onFocusOut.bind(n),n.setOverlayRef=n.setOverlayRef.bind(n),n.overlayElement=null,n.portalId=(0,m.getPortalId)(),n.state={zIndex:e.visible?(0,m.openOverlay)(n.portalId):void 0},n}return i(t,e),s(t,[{key:"onFocusOut",value:function(e){var t=this.props.onFocusOut;t&&t(e)}},{key:"setOverlayRef",value:function(e){e?(this.overlayElement=p.default.findDOMNode(e),this.overlayElement.addEventListener("focusout",this.onFocusOut)):(this.overlayElement.removeEventListener("focusout",this.onFocusOut),this.overlayElement=null);var t=this.props,n=t.setOverlayRef,r=t.onOverlayVisible;n&&n(e),r&&e&&window.requestAnimationFrame(r)}},{key:"componentWillReceiveProps",value:function(e){e.visible&&!this.props.visible?this.setState({zIndex:(0,m.openOverlay)(this.portalId)}):!e.visible&&this.props.visible&&this.setState({zIndex:(0,m.closeOverlay)(this.portalId)})}},{key:"componentWillUnmount",value:function(){(0,m.closeOverlay)(this.portalId)}},{key:"render",value:function(){var e=this.props,t=e.setContentRef,n=e.onFocus,r=e.onBlur,o=e.className,a=e.positionStyle,i=e.visible,s=e.children,l=this.state.zIndex;if(!i||!l)return null;var c=(0,m.getContainer)(),h=(0,d.classNames)((0,f.prefixNS)("overlay"),o);return p.default.createPortal(u.default.createElement("div",{ref:this.setOverlayRef,zindex:l,tabIndex:0,onFocus:n,onBlur:r,className:h,style:Object.assign({zIndex:this.state.zIndex},a||g)},u.default.cloneElement(u.default.Children.only(s),{ref:t})),c)}}]),t}(u.default.Component);t.default=b,b.propTypes={onFocusOut:d.PropTypes.func,onFocus:d.PropTypes.func,onBlur:d.PropTypes.func,onOverlayVisible:d.PropTypes.func,setOverlayRef:d.PropTypes.func,setContentRef:d.PropTypes.func,className:d.PropTypes.string,visible:d.PropTypes.bool,positionStyle:d.PropTypes.object},b.defaultProps={visible:!0},b.Controlled=(0,y.default)(b),b.HIDDEN=g},function(e,t,n){"use strict";function r(){return"cs-web-components-base-portal-"+b++}function o(){return(0,g.prefixNS)("overlay-container")}function a(e){v=e}function i(){return v||document.body}function s(){return 0===_.portals.length?[void 0,2e3]:_.portals[_.portals.length-1]}function l(e,t){return _.portals.push([e,t]),t}function u(e){return _.portals=_.portals.filter(function(t){return m(t,1)[0]!==e}),0}function c(){return _.dialogs.length>0}function p(e){var t=s(),n=m(t,2),r=n[1],o=r+1e3,a=o-o%1e3;return _.dialogs.push([e.portalId,e]),l(e.portalId,a)}function f(e){return _.dialogs=_.dialogs.filter(function(t){return m(t,1)[0]!==e}),u(e)}function d(e){var t=_.dialogs.filter(function(t){return m(t,1)[0]===e});if(0!==t.length)return t[0][1]}function h(e){var t=s(),n=m(t,2),r=n[0],o=n[1],a=o+1;if(r){var i=d(r);i&&i.setEnforceFocus(!1)}return l(e,a)}function y(e){var t=u(e),n=s(),r=m(n,1),o=r[0];if(o){var a=d(o);a&&a.setEnforceFocus(!0)}return t}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getPortalId=r,t.getContainerId=o,t.setContainer=a,t.getContainer=i,t.isDialogActive=c,t.openDialog=p,t.closeDialog=f,t.getDialog=d,t.openOverlay=h,t.closeOverlay=y;var g=n(2),b=0,v=null,_={dialogs:[],portals:[]}},function(e,t,n){"use strict";function r(e,t,n){var r=n.width+window.CE_SCROLLBAR_WIDTH,o=t.left;if(o+r<=window.innerWidth)return{left:o,width:r+2};if(!e.noSwapHorizontal){var a=t.left+t.width-r;if(a>=0)return{left:a,width:r+2}}return{left:o,width:window.innerWidth-o,overflowX:"auto"}}function o(e,t,n){var r=n.width+window.CE_SCROLLBAR_WIDTH,o=t.left+t.width-r;if(o>=0)return{left:o,width:r+2};if(!e.noSwapHorizontal){var a=t.left;if(a+r<=window.innerWidth)return{left:a,width:r+2}}return{left:0,width:r+o,overflowX:"auto"}}function a(e,t,n,r){var o=n.height+u+(r?window.CE_SCROLLBAR_WIDTH:0),a=t.top+t.height+l.ALIGNED_OVERLAY_DIST;if(a+o<=window.innerHeight)return{top:a,paddingRight:window.CE_SCROLLBAR_WIDTH};if(!e.noSwapVertical){var i=t.top-o-2*l.ALIGNED_OVERLAY_DIST;if(i>=0)return{top:i,paddingRight:window.CE_SCROLLBAR_WIDTH}}return{top:a,maxHeight:window.innerHeight-a,overflowY:"auto"}}function i(e,t,n,r){var o=n.height+u+(r?window.CE_SCROLLBAR_WIDTH:0),a=t.top-o-2*l.ALIGNED_OVERLAY_DIST;if(a>=0)return{top:a,paddingRight:window.CE_SCROLLBAR_WIDTH};if(!e.noSwapVertical){var i=t.top+t.height+l.ALIGNED_OVERLAY_DIST;if(i+o<=window.innerHeight)return{top:i,paddingRight:window.CE_SCROLLBAR_WIDTH}}return{top:0,maxHeight:n.height+a,overflowY:"auto"}}function s(e,t,n,s,u){var c={};switch(t){case l.HorizontalAlignment.LEFT:Object.assign(c,r(e,s,u));break;case l.HorizontalAlignment.RIGHT:Object.assign(c,o(e,s,u))}var p=void 0!==c.overflowX;switch(n){case l.VerticalAlignment.BOTTOM:Object.assign(c,a(e,s,u,p));break;case l.VerticalAlignment.TOP:Object.assign(c,i(e,s,u,p))}return c}Object.defineProperty(t,"__esModule",{value:!0}),t.getBottomPosition=a,t.getTopPosition=i,t.default=s;var l=n(37),u=2},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return p.default.createElement("li",{className:"dropdown-header"},e.label||e.children)}function l(){return p.default.createElement("li",{className:"divider"})}Object.defineProperty(t,"__esModule",{value:!0}),t.MenuItem=t.Menu=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.MenuHeader=s,t.MenuDivider=l;var c=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(c),f=n(1),d=n(2),h=n(31);(t.Menu=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedIndex:-1,selectedKey:null},n.setMenuRef=n.setMenuRef.bind(n),n.onFocus=n.onFocus.bind(n),n.nextItem=n.nextItem.bind(n),n.previousItem=n.previousItem.bind(n),n}return i(t,e),u(t,[{key:"setMenuRef",value:function(e){this._menuElement=e}},{key:"componentDidMount",value:function(){(0,h.addLocalShortcuts)(this._menuElement,[["ArrowDown",this.nextItem],["ArrowUp",this.previousItem]])}},{key:"onFocus",value:function(e){e.stopPropagation()}},{key:"componentWillUnmount",value:function(){(0,h.removeAllLocalShortcuts)(this._menuElement)}},{key:"componentWillReceiveProps",value:function(e){e.children!==this.props.children&&this.setState({selectedIndex:-1})}},{key:"getItemElements",value:function(){return this._menuElement.getElementsByClassName((0,d.prefixNS)("menu__item"))}},{key:"nextItem",value:function(){var e=this.getItemElements(),t=this.state.selectedIndex+1;t===e.length&&(t=-1),this.updateSelection(e,t)}},{key:"previousItem",value:function(){var e=this.getItemElements(),t=(-1===this.state.selectedIndex?e.length:this.state.selectedIndex)-1;this.updateSelection(e,t)}},{key:"updateSelection",value:function(e,t){var n=-1===t?null:e[t];n?n.focus():this._menuElement.focus();var r=null===n?null:n.attributes["data-ce-select-key"].value;this.setState({selectedIndex:t,selectedKey:r})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onHide,r=t.onSelect,o=t.children;return p.default.createElement("ul",{tabIndex:-1,onFocus:this.onFocus,ref:this.setMenuRef,className:(0,d.prefixNS)("menu")},p.default.Children.map(o,function(t,o){var a="menu-"+o,i=a===e.state.selectedKey;return t?t.props.onSelect?p.default.cloneElement(t,{selected:i,selectKey:a,onHide:n}):p.default.cloneElement(t,{selected:i,selectKey:a,onHide:n,onSelect:r}):t}))}}]),t}(p.default.Component)).propTypes={onHide:f.PropTypes.func,onSelect:f.PropTypes.func},s.propTypes={label:f.PropTypes.string};var y=t.MenuItem=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=n.onSelect.bind(n),n.setItemRef=n.setItemRef.bind(n),n}return i(t,e),u(t,[{key:"setItemRef",value:function(e){e?(this.itemElement=e,(0,h.addLocalShortcut)(this.itemElement,"Enter",this.onSelect)):((0,h.removeAllLocalShortcuts)(this.itemElement),this.itemElement=e)}},{key:"onSelect",value:function(){var e=this.props,t=e.disabled,n=e.eventKey,r=e.onSelect,o=e.onClick,a=e.onHide;if(!t){a&&a();var i=r||o;i&&i(n)}}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.className,o=e.disabled,a=e.selectKey,i=e.selected,u=e.children,c=e.divider,h=e.header;if(c)return p.default.createElement(l,null);if(h)return p.default.createElement(s,null,u);var y=(0,f.classNames)(n,(0,d.prefixNS)("menu__item"),r({},(0,d.prefixNS)("menu__item--selected"),i),{active:t&&!i},{disabled:o&&!i});return p.default.createElement("li",{className:y,ref:this.setItemRef,tabIndex:-1,"data-ce-select-key":a,onClick:this.onSelect},p.default.createElement("a",null,u))}}]),t}(p.default.Component);y.propTypes={selectKey:f.PropTypes.string,className:f.PropTypes.string,active:f.PropTypes.bool,disabled:f.PropTypes.bool,selected:f.PropTypes.bool,eventKey:f.PropTypes.any,onHide:f.PropTypes.func,onSelect:f.PropTypes.func,onClick:f.PropTypes.func,divider:f.PropTypes.bool,header:f.PropTypes.bool},y.defaultProps={disabled:!1}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnRyaWFuZ2xlLXJpZ2h0PC9jaXMtbmFtZT4NPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiM5OTk5OTkiIGQ9Ik0xMC42NSw4LjM1bC00Ljk0LDQuOTRDNS4zMiwxMy42OCw1LDEzLjU1LDUsMTNWMw0JYzAtMC41NSwwLjMyLTAuNjgsMC43MS0wLjI5bDQuOTQsNC45NEMxMC44NCw3Ljg0LDEwLjg0LDguMTYsMTAuNjUsOC4zNXoiLz4NPC9zdmc+DQ=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NCjxjaXMtbmFtZT5yZXNpemUtc21hbGw8L2Npcy1uYW1lPg0KPGNpcy1zZW1hbnRpYz5pbmZvPC9jaXMtc2VtYW50aWM+DQo8cGF0aCBmaWxsPSIjRkNCOTAwIiBkPSJNNy41LDhoLTNDNC4yMiw4LDQuMTYsOC4xNiw0LjM1LDguMzVsMC45NCwwLjk0TDIuOCwxMS43OGMtMC4xLDAuMS0wLjEsMC4yNiwwLDAuMzVsMS4wNiwxLjA2DQoJYzAuMSwwLjEsMC4yNiwwLjEsMC4zNSwwbDIuNDktMi40OWwwLjk0LDAuOTRDNy44NCwxMS44NCw4LDExLjc3LDgsMTEuNXYtM0M4LDguMjIsNy43OCw4LDcuNSw4eiIvPg0KPHBhdGggZmlsbD0iI0ZDQjkwMCIgZD0iTTguNSw4aDNjMC4yOCwwLDAuMzQtMC4xNiwwLjE1LTAuMzVsLTAuOTQtMC45NGwyLjQ5LTIuNDljMC4xLTAuMSwwLjEtMC4yNiwwLTAuMzVMMTIuMTQsMi44DQoJYy0wLjEtMC4xLTAuMjYtMC4xLTAuMzUsMEw5LjI5LDUuMjlMOC4zNSw0LjM1QzguMTYsNC4xNiw4LDQuMjMsOCw0LjV2M0M4LDcuNzgsOC4yMiw4LDguNSw4eiIvPg0KPC9zdmc+DQo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NCjxjaXMtbmFtZT5yZXNpemUtZnVsbDwvY2lzLW5hbWU+DQo8Y2lzLXNlbWFudGljPmluZm88L2Npcy1zZW1hbnRpYz4NCjxwYXRoIGZpbGw9IiNGQ0I5MDAiIGQ9Ik0xMy41LDJoLTNjLTAuMjgsMC0wLjM0LDAuMTYtMC4xNSwwLjM1bDAuOTQsMC45NEw4LjgsNS43OGMtMC4xLDAuMS0wLjEsMC4yNiwwLDAuMzVMOS44Niw3LjINCgljMC4xLDAuMSwwLjI2LDAuMSwwLjM1LDBsMi40OS0yLjQ5bDAuOTQsMC45NEMxMy44NCw1Ljg0LDE0LDUuNzcsMTQsNS41di0zQzE0LDIuMjIsMTMuNzgsMiwxMy41LDJ6IE0yLjUsMTRoMw0KCWMwLjI4LDAsMC4zNC0wLjE2LDAuMTUtMC4zNWwtMC45NC0wLjk0bDIuNDktMi40OWMwLjEtMC4xLDAuMS0wLjI2LDAtMC4zNUw2LjE0LDguOGMtMC4xLTAuMS0wLjI2LTAuMS0wLjM1LDBsLTIuNDksMi40OQ0KCWwtMC45NC0wLjk0QzIuMTYsMTAuMTYsMiwxMC4yMywyLDEwLjV2M0MyLDEzLjc4LDIuMjIsMTQsMi41LDE0eiIvPg0KPC9zdmc+DQo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPm1pbnVzPC9jaXMtbmFtZT4NPGNpcy1zZW1hbnRpYz5kYW5nZXI8L2Npcy1zZW1hbnRpYz4NPHBhdGggZmlsbD0iI0QwMDAwMCIgZD0iTTQuNSwxMEM0LjIyLDEwLDQsOS43Nyw0LDkuNXYtMkM0LDcuMjIsNC4yMiw3LDQuNSw3aDhDMTIuNzcsNywxMyw3LjIyLDEzLDcuNXYyYzAsMC4yNy0wLjIzLDAuNS0wLjUsMC41DQlINC41eiIvPg08L3N2Zz4N"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnBlbmNpbDwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+c3VjY2VzczwvY2lzLXNlbWFudGljPg08cGF0aCBmaWxsPSIjQURDOTAyIiBkPSJNMi45NywxMC43OWwyLjIzLDIuMjNsLTMuMzMsMS4xMUwyLjk3LDEwLjc5eiBNMy44Nyw5Ljk3bDYuMTQtNi4xNGwyLjE0LDIuMTRsLTYuMTQsNi4xNEwzLjg3LDkuOTd6DQkgTTEwLjg3LDIuOTdsMC45NC0wLjk3YzAuMDktMC4wOSwwLjItMC4xMywwLjMzLTAuMTNjMC4xMiwwLDAuMjQsMC4wNSwwLjMzLDAuMTNMMTQsMy41NGMwLjE4LDAuMTgsMC4xOCwwLjQ3LDAsMC42NWwtMC45OSwwLjkyDQlMMTAuODcsMi45N3oiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(3),d=r(f),h=n(0),y=r(h),m=n(1),g=n(38),b=r(g),v=n(379),_=r(v),S=n(380),O=r(S),T=n(60),E=r(T),C=n(140),w=r(C),P=n(2),N=n(381),I=n(382),R=r(I),j=n(28),x=n(4),M=b.default.WithHyperlink((0,N.SimpleBuffer)(b.default.TextInput)),A=(0,_.default)(M),k=(0,N.SimpleBuffer)(b.default.NumericEdit),D=b.default.WithHyperlink(N.TableCatalogBuffer),L=(0,_.default)(D),F=(0,O.default)(b.default.ComboBox),B=b.default.WithHyperlink(b.default.ComboBoxCatalog),H=(0,N.SimpleBuffer)(b.default.Password),z=(0,N.SimpleBuffer)(b.default.Email),U=(0,N.SimpleBuffer)(b.default.TextArea),V=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.handleCatalogChange=n.handleCatalogChange.bind(n),n.handleCheckboxChange=n.handleCheckboxChange.bind(n),n.handleDateChange=n.handleDateChange.bind(n),n.handleTextChange=n.handleTextChange.bind(n),n.handleTriStateChange=n.handleTriStateChange.bind(n),n.handleValueChange=n.handleValueChange.bind(n),n.handleButtonClicked=n.handleButtonClicked.bind(n);var r=n.props.setting.get("attribute");return n.initValue=n.props.values?n.props.values.get(r):"",n.initalOpname=n.props.operationState?n.props.operationState.get("opname"):"",n}return l(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.props.setting.get("attribute"),n=e.operationState?e.operationState.get("opname"):"";this.initalOpname!==n&&(this.initValue=e.values?e.values.get(t):"",this.initalOpname=n)}},{key:"hasDisplayMapping",value:function(){return this.props.setting.getIn(["config","display_mapping","id"])}},{key:"handleTextChange",value:function(e){var t=this.props,n=t.setting,r=t.onFieldsChange,o=e;n.get("textlimit")&&n.get("textlimit")>0&&(o=o.substring(0,n.get("textlimit"))),r(d.default.Map().set(n.get("attribute"),o))}},{key:"handleValueChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.props,r=n.setting;(0,n.onFieldsChange)(d.default.Map().set(r.get("attribute"),e),t)}},{key:"handleCheckboxChange",value:function(e){var t=this.props,n=t.setting,r=t.onFieldsChange,o=e.target.checked?1:0;r(d.default.Map().set(n.get("attribute"),o))}},{key:"handleTriStateChange",value:function(e){var t=this.props,n=t.setting,r=t.onFieldsChange,o=n.get("data_type"),a=e;o!==w.default.TEXT&&(a=parseInt(e),Number.isNaN(a)&&(a=null)),r(d.default.Map().set(n.get("attribute"),a))}},{key:"handleCatalogChange",value:function(e){(0,this.props.onFieldsChange)(d.default.Map(e))}},{key:"handleDateChange",value:function(e){var t=this.props,n=t.setting;(0,t.onFieldsChange)(d.default.Map().set(n.get("attribute"),e))}},{key:"handleButtonClicked",value:function(){var e=this.props,t=e.setting;(0,e.onFieldsChange)(d.default.fromJS(a({},t.get("attribute"),"button_pressed")))}},{key:"renderTextInput",value:function(){var e=this.props,t=e.setting,n=e.onNavigateLink,r=e.operationState,o=e.displayMappingURL,a=c({"data-ce-id":t.get("attribute"),"data-ce-type":"textinput"},(0,R.default)(this.props,this.initValue),{onValueChange:this.handleTextChange,targetLink:t.getIn(["config","link_target_url"]),displayMapping:t.getIn(["config","display_mapping"]),operationState:r,displayMappingURL:o,onNavigateLink:n}),i=A;return this.hasDisplayMapping()||(i=M,(0,I.deleteProps)(a,"displayMapping","operationState","displayMappingURL")),(0,I.deleteProps)(a,"uncheckedValues","containerRef"),y.default.createElement(i,a)}},{key:"renderCheckBox",value:function(){var e=(0,R.default)(this.props,this.initValue),t=e.value,n=e.readOnly,r=e.disabled,a=e.mandatory,i=o(e,["value","readOnly","disabled","mandatory"]);if(!n&&!(0,T.isValue)(t)&&a)return this.renderTriStateCheckBox();(0,I.deleteProps)(i,"containerRef");var s=1===t||"1"===t,l=n||r;return y.default.createElement(b.default.CheckBox,c({checked:s,onChange:this.handleCheckboxChange,readOnly:n,disabled:l,"data-ce-id":this.props.setting.get("attribute"),"data-ce-type":"checkbox",mandatory:a},i))}},{key:"renderTriStateCheckBox",value:function(){var e=(0,R.default)(this.props,this.initValue),t=e.value,n=e.readOnly,r=e.disabled,a=o(e,["value","readOnly","disabled"]),i=n||r,s=null===t?"":t.toString();return(0,I.deleteProps)(a,"onEnter","containerRef"),y.default.createElement(b.default.TriStateCheckBox,c({value:s,onStateChange:this.handleTriStateChange,readOnly:n,disabled:i,"data-ce-id":this.props.setting.get("attribute"),"data-ce-type":"tristatecheckbox"},a))}},{key:"renderCatalog",value:function(){var e=this.props,t=e.setting,n=e.values,r=e.uncheckedValues,o=e.onNavigateLink,a=e.operationState,i=e.displayMappingURL,s=t.get("readonly")>0,l=c({"data-ce-id":t.get("attribute"),"data-ce-type":"tablecatalog",contextClass:t.getIn(["config","contextClass"]),activeLanguage:t.getIn(["config","iso_lang"]),selectURL:t.getIn(["config","selectURL"]),catalogTableURL:t.getIn(["config","catalogTableURL"]),structureRootURL:t.getIn(["config","structureRootURL"]),typeAheadURL:t.getIn(["config","typeAheadURL"]),valueCheckURL:t.getIn(["config","valueCheckURL"]),proposalCatalogURL:t.getIn(["config","proposalCatalogURL"]),proposalLabel:t.getIn(["config","proposalLabel"]),formData:n,unchecked:r.has(t.get("attribute")),targetLink:t.getIn(["config","link_target_url"]),onValueChange:this.handleValueChange,onCatalogChange:this.handleCatalogChange,textReadOnly:s,displayMapping:t.getIn(["config","display_mapping"]),queryFormURL:t.getIn(["config","queryFormURL"])},(0,R.default)(this.props,this.initValue),{operationState:a,displayMappingURL:i,onNavigateLink:o,lines:t.getIn(["config","lines"]),userSettings:t.getIn(["config","userSettings"])}),u=L;return this.hasDisplayMapping()||(u=D,(0,I.deleteProps)(l,"displayMappingURL","displayMapping")),(0,I.deleteProps)(l,"containerRef"),y.default.createElement(u,l)}},{key:"renderComboBox",value:function(){var e=this.props,t=e.setting,n=e.onNavigateLink,r=e.values,o=e.operationState,a=t.get("readonly")>0,i=t.getIn(["config","catalog_values"]),s=(0,R.default)(this.props,this.initValue);return y.default.createElement(B,c({contextClass:t.getIn(["config","contextClass"]),activeLanguage:t.getIn(["config","iso_lang"]),selectURL:t.getIn(["config","selectURL"]),items:i,onValueChange:a?void 0:this.handleTextChange,itemsURL:t.getIn(["config","itemsURL"]),formData:r,onCatalogChange:this.handleCatalogChange,textReadOnly:a,onNavigateLink:n,targetLink:t.getIn(["config","link_target_url"]),operationState:o},s))}},{key:"renderEnumComboBox",value:function(){var e=this.props.setting,t=(0,R.default)(this.props,this.initValue);return(0,I.deleteProps)(t,"containerRef"),y.default.createElement(F,c({config:e.get("config"),onCatalogChange:this.handleCatalogChange,textReadOnly:!0},t))}},{key:"renderCalendar",value:function(){var e=this.props,t=e.formats,n=e.operationState,r=e.calendarValueFormat,o=void 0,a=void 0;t&&(a=t.get("dateTimeFormat").replace("hh","HH"),o=t.get("dateFormat"));var i=Boolean(n&&"CDB_Search"===n.get("opname")),s=void 0!==r?r:i?j.CE_DATEFORMAT:void 0,l=(0,R.default)(this.props,this.initValue);return y.default.createElement(b.default.Calendar,c({onDateChange:this.handleDateChange,displayFormat:a,dateOnlyFormat:o,valueFormat:s,allowExpression:i},l))}},{key:"renderNumericEdit",value:function(){var e=this.props.setting,t=e.getIn(["display_hints","post_decimals"]),n=e.get("data_type")===w.default.FLOAT&&void 0===t,r=(0,R.default)(this.props,this.initValue),a=r.value,i=o(r,["value"]);return(0,I.deleteProps)(i,"containerRef"),y.default.createElement(k,c({value:a,decimalPlaces:t,onValueChange:this.handleValueChange,variableDecimal:n},i))}},{key:"renderPassword",value:function(){var e=(0,R.default)(this.props,this.initValue);return(0,I.deleteProps)(e,"containerRef"),y.default.createElement(H,c({onValueChange:this.handleTextChange},e))}},{key:"renderEmail",value:function(){var e=(0,R.default)(this.props,this.initValue);return(0,I.deleteProps)(e,"containerRef"),y.default.createElement(z,c({onValueChange:this.handleTextChange},e))}},{key:"renderHyperLink",value:function(){var e=(0,R.default)(this.props,this.initValue),t=e.value,n=o(e,["value"]);return(0,I.deleteProps)(n,"operationInstance","uncheckedValues","containerRef"),y.default.createElement(M,c({onValueChange:this.handleTextChange,value:t,targetLink:t},n))}},{key:"renderTextArea",value:function(){var e=this.props.setting,t=e.getIn(["config","lines"]),n=e.getIn(["config","content_type"],""),r=(0,R.default)(this.props,this.initValue);return(0,I.deleteProps)(r,"containerRef"),"RichText"===n?y.default.createElement(b.default.RichText,c({onValueChange:this.handleTextChange,rows:t},r)):y.default.createElement(U,c({onValueChange:this.handleTextChange,rows:t},r))}},{key:"renderBitmapIcon",value:function(){var e=this.props.setting,t=(0,R.default)(this.props,this.initValue),n=t.label,r=o(t,["label"]),a=e.getIn(["config","icon"]),i=e.getIn(["config","title"]),s=e.getIn(["config","height"]),l=e.getIn(["config","width"]),u=e.getIn(["config","keep_aspect_ratio"]);return(0,I.deleteProps)(r,"mandatory","mandatoryEmptyHint","validationState","operationInstance","uncheckedValues","containerRef"),y.default.createElement("div",null,y.default.createElement(b.default.BitmapIcon,c({src:a,label:n,title:i,alt:i,height:s,width:l,keepAspectRatio:u},r)))}},{key:"renderMultilangType",value:function(){var e=this.props,n=e.setting,r=e.getPlaceholderCB,o=e.placeholder,a=r?r(n):o;if(n.get("multilang")){var i=n.get("multilang").map(function(e){return{id:e.get("attribute"),setting:e,placeholder:r?r(e):o}}).toArray(),s=n.set("ml_origin",n.get("multilang")).delete("multilang"),l=c({},this.props);return(0,I.deleteProps)(l,"containerRef"),y.default.createElement(b.default.GroupControl,{iconSrc:(0,P.getIcon)("csweb_globe"),others:i,titleExpanded:(0,x.formatStr)("formcontrols_hide_other_languages"),titleCollapsed:(0,x.formatStr)("formcontrols_show_more_languages")},y.default.createElement(t,c({},l,{placeholder:a,setting:s})))}var u=c({},this.props);return(0,I.deleteProps)(u,"containerRef"),y.default.createElement(t,u)}},{key:"renderButton",value:function(){var e=(0,R.default)(this.props,this.initValue),t=e.label,n=e.tooltip,r=o(e,["label","tooltip"]);return(0,I.deleteProps)(r,"mandatory","mandatoryEmptyHint","validationState","operationInstance","uncheckedValues","containerRef"),y.default.createElement("div",null,y.default.createElement(b.default.Button,c({label:t,title:n,onClick:this.handleButtonClicked},r)))}},{key:"renderComponent",value:function(){var e=this.props,t=e.contextObjects,n=e.operationState,r=e.setting,o=(0,R.default)(this.props,this.initValue),a=o.readOnly,i=o.value,s=o.tooltip,l=o.label,u={componentName:r.getIn(["config","component_name"],""),contentType:r.getIn(["config","content_type"],""),lines:r.getIn(["config","lines"],""),readOnly:a,value:i,tooltip:s,label:l,contextObjects:t,operationState:n};return y.default.createElement(b.default.ReactComponentControl,c({},u,{onValueChange:this.handleValueChange}))}},{key:"renderByControlType",value:function(){var e=this.props.setting;if(void 0===e||void 0===e.get("fieldtype"))return null;if(e.get("multilang"))return this.renderMultilangType();switch(e.get("fieldtype")){case E.default.TEXT:var t=e.get("data_type");return t===w.default.INTEGER||t===w.default.FLOAT?this.renderNumericEdit():this.renderTextInput();case E.default.CHECKBOX:return(0,T.isTriStateCheckBox)(e)?this.renderTriStateCheckBox():this.renderCheckBox();case E.default.PASSWORD:return this.renderPassword();case E.default.EMAIL:return this.renderEmail();case E.default.HYPERLINK:return this.renderHyperLink();case E.default.LONGTEXT:return this.renderTextArea();case E.default.IMAGE:return this.renderBitmapIcon();case E.default.CALENDAR:return this.renderCalendar();case E.default.CATALOG:return this.renderCatalog();case E.default.COMBOBOX:return this.renderComboBox();case E.default.NUMERICEDIT:return this.renderNumericEdit();case E.default.ENUMCOMBOBOX:return this.renderEnumComboBox();case E.default.BUTTON:return this.renderButton();case E.default.COMPONENT:return this.renderComponent();default:return this.renderTextInput()}}},{key:"shouldComponentUpdate",value:function(e){var t=this;return e.onFieldsChange!==this.props.onFieldsChange||e.readOnly!==this.props.readOnly||e.setting!==this.props.setting||e.formats!==this.props.formats||e.afterControl!==this.props.afterControl||e.onNavigateLink!==this.props.onNavigateLink||e.displayMappingURL!==this.props.displayMappingURL||e.operationState!==this.props.operationState||e.containerRef!==this.props.containerRef||u(e.values)!==u(this.props.values)||void 0!==e.values&&(!!(0,T.anyAttributeIsRelevant)(e.setting)||(0,T.getRelevantAttributes)(e.setting).filter(function(n){return e.values.get(n)!==t.props.values.get(n)}).length>0)}},{key:"render",value:function(){return this.renderByControlType()}}]),t}(y.default.Component);t.default=V,V.propTypes={containerRef:m.PropTypes.object,onFieldsChange:m.PropTypes.func,uncheckedValues:m.PropTypes.instanceOf(d.default.Set),readOnly:m.PropTypes.bool,onNavigateLink:m.PropTypes.func,setting:m.PropTypes.instanceOf(d.default.Map).isRequired,formats:m.PropTypes.instanceOf(d.default.Map),calendarValueFormat:m.PropTypes.string,values:m.PropTypes.instanceOf(d.default.Map),displayMappingURL:m.PropTypes.string,operationState:m.PropTypes.instanceOf(d.default.Map),afterControl:m.PropTypes.node,className:m.PropTypes.string,getPlaceholderCB:m.PropTypes.func,placeholder:m.PropTypes.string,contextObjects:m.PropTypes.instanceOf(d.default.List)},V.defaultProps={uncheckedValues:d.default.Set()}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(6),f=n(1),d=n(14),h=n(2),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.name,o=t.label,a=t.tooltip,i=t.validationState,l=t.mandatory,u=t.className,d=t.mandatoryEmptyHint,y=t.afterLabelControl,m=r(t,["name","label","tooltip","validationState","mandatory","className","mandatoryEmptyHint","afterLabelControl"]);delete m.operationInstance,delete m.uncheckedValues;var g=(0,f.classNames)([(0,h.prefixNS)("form-input"),"control-label",u]);return c.default.createElement(p.FormGroup,{"data-mandatory":l,"data-mandatory-empty-hint":d},c.default.createElement(p.Checkbox,s({ref:function(t){e.input=t},validationState:i,key:n+"-"+m.checked,name:n},m,{className:g}),c.default.createElement("span",{className:(0,h.prefixNS)("formcontrols-label-aftercontrol")},c.default.createElement("span",{className:(0,h.prefixNS)("formcontrols-checkbox-label"),title:a},o),y)))}}]),t}(c.default.Component);t.default=y,y.propTypes=s({},d.sharedCheckboxProps),y.defaultProps=s({},d.sharedDefaultProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=n||"dialog_"+e.toLowerCase(),s=function(e){var t=e.label,n=e.labelId,r=e.title,a=e.titleId,s=o(e,["label","labelId","title","titleId"]);return l.default.createElement(p.default.TextButton,i({},s,{title:r||(0,f.formatStr)(a),label:t||(0,f.formatStr)(n)}))};return s.displayName=e,s.propTypes=d,s.defaultProps={titleId:r||a+"_tooltip",buttonStyle:t,labelId:a},s}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(0),l=r(s),u=n(1),c=n(8),p=r(c),f=n(4),d={label:u.PropTypes.string,labelId:u.PropTypes.string,title:u.PropTypes.string,titleId:u.PropTypes.string,buttonStyle:u.PropTypes.string},h=a("Ok","primary","ok","dialog_ok_tooltip"),y=a("Close","primary"),m=a("Yes","primary"),g=a("No","primary"),b=a("Apply","primary"),v=a("Select","success"),_=a("Save","success"),S=a("Change","success"),O=a("Submit","success"),T=a("Add","success"),E=a("Create","success"),C=a("Copy","success"),w=a("Import","success"),P=a("Export","success"),N=a("Share","success"),I=a("Delegate","success"),R=a("Rename","success"),j=a("Delete","danger"),x=a("Reset","danger"),M=a("Cancel","outline","cancel","dialog_cancel_tooltip"),A={buttonStyle:u.PropTypes.string},k=function(e,t){var n=function(e){return l.default.createElement(p.default.TextButton,i({},e,{buttonStyle:t}))};return n.displayName=e,n.propTypes=A,n}("Confirm","primary");t.default={Confirm:k,Ok:h,Cancel:M,Close:y,Yes:m,No:g,Select:v,Apply:b,Save:_,Change:S,Submit:O,Add:T,Create:E,Copy:C,Import:w,Export:P,Share:N,Delegate:I,Rename:R,Delete:j,Reset:x}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NCjxjaXMtbmFtZT5waWN0dXJlPC9jaXMtbmFtZT4NCjxwYXRoIGlkPSJwaWN0dXJlXzRfIiBmaWxsPSIjOTk5OTk5IiBkPSJNMTQsMy40NEMxNCwzLjIsMTMuOCwzLDEzLjU2LDNIMi40NEMyLjIsMywyLDMuMiwyLDMuNDR2MTAuMTNDMiwxMy44LDIuMiwxNCwyLjQ0LDE0aDExLjEzDQoJQzEzLjgsMTQsMTQsMTMuOCwxNCwxMy41NlYzLjQ0eiBNMTMsOWwtMi4zNi0yLjg4TDcuNzEsOS4zbDAuNzQsMS41Nkw1LjQ3LDkuNTVMMywxMS4zOFY0aDEwVjl6IE02Ljc2LDYuNQ0KCWMwLTAuNzQtMC42LTEuMzQtMS4zNC0xLjM0Yy0wLjc0LDAtMS4zNCwwLjYtMS4zNCwxLjM0YzAsMC43NCwwLjYsMS4zNCwxLjM0LDEuMzRDNi4xNiw3Ljg0LDYuNzYsNy4yNCw2Ljc2LDYuNXoiLz4NCjwvc3ZnPg0K"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{columns:e.columns,orderedColumns:e.orderedColumns,hiddenColumns:e.hiddenColumns,columnActions:e.columnActions,columnWidths:e.columnWidths,rowClassName:e.rowClassName,columnRenderers:e.columnRenderers,unhidableColumns:e.unhidableColumns,focusedRow:e.focusedRow,focusedColumn:e.focusedColumn,selectionAnchor:e.selectionAnchor,selectedRows:e.selectedRows,isFocusOnTable:e.isFocusOnTable,visibleColumns:(0,y.getVisibleColumns)(e),selectAllRowsEvent:(0,y.getSelectAllRowsEvent)(e),selectRangeEvent:(0,y.getSelectRangeEvent)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(6),h=n(2),y=n(70),m=n(1),g=n(9),b=r(g),v=n(3),_=r(v),S=n(12),O=n(31),T=n(266),E=r(T),C=n(268),w=r(C),P=n(269),N=r(P),I=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.rowRefs={},n.state={columns:e.columns,visibleColumns:n.getVisibleColumns(e),rowClassName:e.rowClassName},n.onSelectRow=n.onSelectRow.bind(n),n.onFocusPreviousColumn=n.onFocusPreviousColumn.bind(n),n.onFocusNextColumn=n.onFocusNextColumn.bind(n),n.onFocusPreviousRow=n.onFocusPreviousRow.bind(n),n.onFocusNextRow=n.onFocusNextRow.bind(n),n.onResetColumnFocus=n.onResetColumnFocus.bind(n),n.onExtendSelectionDown=n.onExtendSelectionDown.bind(n),n.onExtendSelectionUp=n.onExtendSelectionUp.bind(n),n.onMoveSelectionDown=n.onMoveSelectionDown.bind(n),n.onMoveSelectionUp=n.onMoveSelectionUp.bind(n),n.onToggleSelected=n.onToggleSelected.bind(n),n.onAction=n.onAction.bind(n),n}return s(t,e),c(t,[{key:"onSelectRow",value:function(e,t,n){var r=window.getSelection();r&&!r.isCollapsed&&n.shiftKey&&r.removeAllRanges();var o=this.props.onSelectRow;o&&"A"!==n.target.tagName&&o(e,t,n)}},{key:"componentWillMount",value:function(){this.props.setTableUserSettings("columnWidths"),this.props.selectableRowIDs?this.setSelectableRowsAggregationState(this.props.selectableRowIDs,this.props.selectedRows):this.setSelectableRowsAggregationState(this.props.rows.map(function(e){return e.get("id")}),this.props.selectedRows),this.props.setRenderDirectives(this.props.renderDirectives)}},{key:"componentDidMount",value:function(){(0,O.addLocalShortcuts)(this.tableRef,[["Control+ArrowUp",this.onFocusPreviousRow],["Control+ArrowDown",this.onFocusNextRow],["Control+ArrowLeft",this.onFocusPreviousColumn],["Control+ArrowRight",this.onFocusNextColumn],["Shift+ArrowUp",this.onExtendSelectionUp],["Shift+ArrowDown",this.onExtendSelectionDown],["ArrowUp",this.onMoveSelectionUp],["ArrowDown",this.onMoveSelectionDown],["Spacebar",this.onToggleSelected],["Escape",this.onResetColumnFocus],["Enter",this.onAction]])}},{key:"componentWillUnmount",value:function(){(0,O.removeAllLocalShortcuts)(this.tableRef)}},{key:"componentWillReceiveProps",value:function(e){var t={};if(e.columns!==this.props.columns&&(t.columns=e.columns),e.visibleColumns===this.props.visibleColumns&&e.onlyShowColumns===this.props.onlyShowColumns||(t.visibleColumns=this.getVisibleColumns(e)),e.hiddenRows===this.props.hiddenRows&&e.rowClassName===this.props.rowClassName||(t.rowClassName=e.rowClassName.has("hide")?e.rowClassName.mergeIn(["hide"],e.hiddenRows):e.rowClassName.set("hide",e.hiddenRows)),t&&this.setState(t),null===e.focusedRow&&e.rows.size>0&&this.props.setFocusedRow(e.rows.getIn([0,"id"])),!0===e.isFocusOnTable&&this.props.isFocusOnTable!==e.isFocusOnTable){this.props.setFocusedRow(e.rows.getIn([0,"id"]));var n=e.rows.getIn([0,"id"]);this.props.setFocusedRow(n),this.props.setSelectedRows(_.default.OrderedSet([n])),this.tableRef.focus(),this.props.resetFocusTable()}if(e.selectAllRowsEvent!==this.props.selectAllRowsEvent){var r=e.selectableRowIDs?e.selectableRowIDs:e.rows.map(function(e){return e.get("id")});e.selectAllRowsEvent.get("selectAll")?e.setSelectedRows(e.selectedRows.union(_.default.OrderedSet(r))):e.setSelectedRows(e.selectedRows.subtract(r))}e.selectRangeEvent!==this.props.selectRangeEvent&&this.selectRange(e.selectRangeEvent,e),e.selectableRowIDs?e.selectableRowIDs===this.props.selectableRowIDs&&e.selectedRows===this.props.selectedRows||this.setSelectableRowsAggregationState(e.selectableRowIDs,e.selectedRows):e.rows===this.props.rows&&e.selectedRows===this.props.selectedRows||this.setSelectableRowsAggregationState(e.rows.map(function(e){return e.get("id")}),e.selectedRows),e.renderDirectives!==this.props.renderDirectives&&e.setRenderDirectives(e.renderDirectives)}},{key:"selectRange",value:function(e,t){var n=t.selectableRowIDs?t.selectableRowIDs:t.rows.map(function(e){return e.get("id")}),r=n.indexOf(e.from),o=n.indexOf(e.to),a=e.include;r>-1&&o>-1&&t.setSelectedRows(a?t.selectedRows.union(n.slice(Math.min(r,o),Math.max(r,o)+1)):_.default.OrderedSet(n.slice(Math.min(r,o),Math.max(r,o)+1)),e.to)}},{key:"setSelectableRowsAggregationState",value:function(e,t){var n=0;if(e.size){var r=_.default.Set(e).subtract(t);0===r.size?n=1:r.size<e.size&&(n=2)}else n=3;this.props.setSelectableRowsAggregationState(n)}},{key:"setRowRef",value:function(e,t){t?this.rowRefs[e]={element:t,visible:void 0}:delete this.rowRefs[e]}},{key:"_isRowVisible",value:function(e){if(!this.rowRefs[e])return!1;if(void 0===this.rowRefs[e].visible){var t=this.rowRefs[e].element;this.rowRefs[e].visible=null!==t.offsetParent}return this.rowRefs[e].visible}},{key:"_getVisibleRowsByInspection",value:function(){var e=this;return this.props.rows.filter(function(t){return e._isRowVisible(t.get("id"))})}},{key:"_getNextRow",value:function(e){var t=this,n=this._getVisibleRowsByInspection(),r=n.findIndex(function(e){return e.get("id")===t.props.focusedRow})+e,o=Math.min(Math.max(0,r),n.size-1);return n.getIn([o,"id"])}},{key:"_getNextColumn",value:function(e){var t=this,n=this.state.visibleColumns.toList(),r=(n.findIndex(function(e){return e===t.props.focusedColumn})+1+(n.size+1)+e)%(n.size+1);return 0===r?null:n.get(r-1)}},{key:"onAction",value:function(){var e=this;if(null!==this.props.focusedRow){var t=this.props.rows.find(function(t){return t.get("id")===e.props.focusedRow});if(!t)return;if(null!==this.props.focusedColumn){var n=this.state.columns.findIndex(function(t){return t.get("id")===e.props.focusedColumn});if(-1===n)return;var r=this.state.columns.get(n),o=r.get("action"),a=r.get("getLink");if(o)o(t.getIn(["columns",n]),t,r);else if(a){var i=a(t.getIn(["columns",n]),t,r);i&&(window.location=i)}}else this.props.rowAction&&this.props.rowAction(t)}}},{key:"onFocusPreviousRow",value:function(){this.props.setFocusedRow(this._getNextRow(-1))}},{key:"onFocusNextRow",value:function(){this.props.setFocusedRow(this._getNextRow(1))}},{key:"onFocusPreviousColumn",value:function(){this.props.setFocusedColumn(this._getNextColumn(-1))}},{key:"onFocusNextColumn",value:function(){this.props.setFocusedColumn(this._getNextColumn(1))}},{key:"onResetColumnFocus",value:function(){this.props.setFocusedColumn(null)}},{key:"_getSelectionInterval",value:function(e,t){var n=this,r=this.props.rows,o=r.findIndex(function(t){return t.get("id")===e}),a=r.findIndex(function(e){return e.get("id")===t});return(o<a?r.slice(o,a+1):r.slice(a,o+1).reverse()).map(function(e){return e.get("id")}).filter(function(e){return n._isRowVisible(e)})}},{key:"onExtendSelectionUp",value:function(){var e=this._getNextRow(-1),t=this.props.selectionAnchor;t&&this._isRowVisible(t)||(t=this.props.focusedRow||e);var n=this._getSelectionInterval(t,e);this.props.navigate(_.default.Map({rowIds:n,focusedRow:e,extend:!1,selectionAnchor:t}))}},{key:"onExtendSelectionDown",value:function(){var e=this._getNextRow(1),t=this.props.selectionAnchor;t&&this._isRowVisible(t)||(t=this.props.focusedRow||e);var n=this._getSelectionInterval(t,e);this.props.navigate(_.default.Map({rowIds:n,focusedRow:e,extend:!1,selectionAnchor:t}))}},{key:"onMoveSelectionUp",value:function(){var e=this._getNextRow(-1);this.props.navigate(_.default.fromJS({rowIds:[e],focusedRow:e,extend:!1,selectionAnchor:e}))}},{key:"onMoveSelectionDown",value:function(){var e=this._getNextRow(1);this.props.navigate(_.default.fromJS({rowIds:[e],focusedRow:e,extend:!1,selectionAnchor:e}))}},{key:"onToggleSelected",value:function(){this.props.navigate(_.default.fromJS({rowIds:[this.props.focusedRow],focusedRow:this.props.focusedRow,extend:!0,selectionAnchor:this.props.focusedRow}))}},{key:"getVisibleColumns",value:function(e){var t=e.visibleColumns,n=e.onlyShowColumns;return n>0?t.take(n):t}},{key:"render",value:function(){var e=this,t=this.props,n=t.rows,r=t.height,a=t.columnActions,i=t.TableHeadComponent,s=t.TableBodyComponent,l=t.id,c=t.columnWidths,p=t.condensed,y=t.focusedRow,m=t.focusedColumn,g=t.columnRenderers,b=t.hover,v=o(t,["rows","height","columnActions","TableHeadComponent","TableBodyComponent","id","columnWidths","condensed","focusedRow","focusedColumn","columnRenderers","hover"]);["columns","visibleColumns","orderedColumns","hiddenColumns","unhidableColumns","setTableUserSettings","onSelectRow","setFocusedRow","setFocusedColumn","selectionAnchor","store","rowAction","rowClassName","hiddenRows","columnAggregator","onlyShowColumns","dispatch","navigate","navigation","selectAllRowsEvent","setSelectedRows","selectableRowIDs","setSelectableRowsAggregationState","selectedRows","onSelectRows","initFilter","initSelected","selectRangeEvent","setRenderDirectives","renderDirectives","isFocusOnTable","resetFocusTable"].forEach(function(e){delete v[e]});var _=this.state,S=_.columns,O=_.visibleColumns,T=_.rowClassName;return f.default.createElement("div",{ref:function(t){e.tableRef=t},tabIndex:0,className:(0,h.prefixNS)("table"),style:{height:r},id:l},f.default.createElement(d.Table,u({bordered:!0,striped:!0,condensed:p},v),f.default.createElement(i,u({columns:S,visibleColumns:O,columnActions:a,columnWidths:c},{className:(0,h.prefixNS)("tabel-header")})),f.default.createElement(s,{className:(0,h.prefixNS)("tabel-body")},n.map(function(t,n){return f.default.createElement(N.default,u({key:String(n),contentRef:function(n){return e.setRowRef(t.get("id"),n)}},{focusedRow:y,focusedColumn:m,row:t,columns:S,visibleColumns:O,rowClassName:T,columnRenderers:g},{onClick:e.onSelectRow,hover:b}))}))))}}]),t}(f.default.Component);I.propTypes={id:m.PropTypes.string,height:m.PropTypes.number,condensed:m.PropTypes.bool,onSelectRow:m.PropTypes.func,rows:m.ImmutablePropTypes.list,hiddenRows:m.ImmutablePropTypes.set,columns:m.ImmutablePropTypes.list,orderedColumns:m.ImmutablePropTypes.orderedSet,hiddenColumns:m.ImmutablePropTypes.set,unhidableColumns:m.ImmutablePropTypes.set,columnActions:m.ImmutablePropTypes.list,columnWidths:m.ImmutablePropTypes.map,setFocusedRow:m.PropTypes.func,setFocusedColumn:m.PropTypes.func,selectionAnchor:m.PropTypes.string,focusedRow:m.PropTypes.string,focusedColumn:m.PropTypes.string,visibleColumns:m.ImmutablePropTypes.orderedSet,rowAction:m.PropTypes.func,navigate:m.PropTypes.func,rowClassName:m.ImmutablePropTypes.map,TableHeadComponent:m.PropTypes.oneOfType([m.PropTypes.element,m.PropTypes.func]),TableBodyComponent:m.PropTypes.oneOfType([m.PropTypes.element,m.PropTypes.func]),setTableUserSettings:m.PropTypes.func,columnRenderers:m.ImmutablePropTypes.map,onlyShowColumns:m.PropTypes.number,hover:m.PropTypes.bool,selectableRowIDs:m.ImmutablePropTypes.list,setSelectedRows:m.PropTypes.func,selectAllRowsEvent:m.ImmutablePropTypes.map,selectRangeEvent:m.PropTypes.object,setSelectableRowsAggregationState:m.PropTypes.func,selectedRows:m.ImmutablePropTypes.orderedSet,renderDirectives:m.PropTypes.object,setRenderDirectives:m.PropTypes.func,isFocusOnTable:m.PropTypes.bool,resetFocusTable:m.PropTypes.func},I.defaultProps={columns:_.default.List(),orderedColumns:_.default.OrderedSet(),hiddenRows:_.default.Set(),unhidableColumns:_.default.Set(),TableHeadComponent:E.default,TableBodyComponent:w.default,condensed:!0,onlyShowColumns:0,hover:!0,renderDirectives:_.default.Map()},t.default=(0,b.default)(l,{setTableUserSettings:S.setTableUserSettings,setFocusedRow:S.setFocusedRow,setFocusedColumn:S.setFocusedColumn,navigate:S.navigate,setSelectedRows:S.setSelectedRows,setSelectableRowsAggregationState:S.setSelectableRowsAggregationState,setRenderDirectives:S.setRenderDirectives,resetFocusTable:S.resetFocusTable})(I)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(270),f=r(p),d=n(9),h=r(d),y=n(34),m=r(y),g=t.Toolbar=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.toolbarButtons;return u.default.createElement(m.default,null,e?e.map(function(e,t){return u.default.createElement(e,{key:String(t)})}):null,u.default.createElement(f.default,null))}}]),t}(u.default.Component);g.propTypes={toolbarButtons:c.ImmutablePropTypes.list};var b=function(e){return{toolbarButtons:e.toolbarButtons}};t.default=(0,h.default)(b)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HeaderPanels=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(2),p=n(1),f=n(9),d=r(f),h=t.HeaderPanels=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.headerPanels;return u.default.createElement("div",{className:(0,c.prefixNS)("table-header-panels")},e?e.map(function(e,t){return u.default.createElement(e,{key:String(t)})}):null)}}]),t}(u.default.Component);h.propTypes={headerPanels:p.ImmutablePropTypes.list};var y=function(e){return{headerPanels:e.headerPanels}};t.default=(0,d.default)(y)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FooterPanels=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(2),p=n(1),f=n(9),d=r(f),h=t.FooterPanels=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.footerPanels;return u.default.createElement("div",{className:(0,c.prefixNS)("table-header-panels")},e?e.map(function(e,t){return u.default.createElement(e,{key:String(t)})}):null)}}]),t}(u.default.Component);h.propTypes={footerPanels:p.ImmutablePropTypes.list};var y=function(e){return{footerPanels:e.footerPanels}};t.default=(0,d.default)(y)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(45),a=r(o),i=n(278),s=r(i),l=n(279),u=r(l),c=n(280),p=r(c),f=n(56),d=r(f),h=n(170),y=r(h);t.default={actions:a.default,Provider:s.default,reducers:d.default,getGroupColumns:f.getGroupColumns,getGroupExpanded:f.getGroupExpanded,RowRenderer:y.default,Panel:p.default,Panels:[p.default],settingPanels:[u.default]}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case s.SET_SINGLE_SELECTION_MODE:return void 0===t.payload?e:t.payload;default:return e}}function o(e){return e.singleSelectionMode}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.SET_ALL_SELECTOR:return void 0===t.payload?e:t.payload;default:return e}}function i(e){return e.allSector}Object.defineProperty(t,"__esModule",{value:!0}),t.singleSelectionMode=r,t.getSingleSelectionMode=o,t.allSector=a,t.getAllSelector=i;var s=n(93);t.default={singleSelectionMode:r,allSector:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=u.default.getGroupColumns(e);return t&&t.count()>0}function a(e){return e.treeViewOff||o(e)}function i(e,t,n,r,o){function a(e){if(void 0!==e){var o=e.map(function(e){return r.find(function(t){return t.get("id")===e})}).filter(function(e){return void 0!==e});n(o,{columnIndex:i,desc:s,cmp:l}).forEach(function(e){var n=e.get("id");c[n]=++u,a(t.get(n).get("children"))})}}var i=o.columnIndex,s=o.desc,l=o.cmp,u=0,c={};return void 0===e?c:(a(e.map(function(e){return e.get("id")})),c)}function s(e,t,n,r){if(void 0===e)return n;var o=n.map(function(e){return e.get("id")}).toSet(),a=p.default.Set(),i=p.default.Set(),s=o.map(function(e){var n=t.get(e),r=n.get("parents"),s=n.get("children");return a=a.concat(r),s&&o.subtract(s)===o&&(i=i.add(e)),i=i.concat(s),r.add(e).concat(s)}).flatten(!0);return i=i.subtract(a),{parents:a,collapsed:i,original:o,rows:r.filter(function(e){return s.contains(e.get("id"))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.isGrouped=o,t.isTreeViewOff=a,t.sortTree=i,t.filterTree=s;var l=n(127),u=r(l),c=n(3),p=r(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TreeExpandDialog=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(4),f=n(96),d=r(f),h=n(16),y=r(h),m=n(2),g=function(e){return u.default.createElement(d.default,{name:"levels",label:(0,p.formatStr)("tree_expand_detail"),decimalPlaces:0,compact:e.compact,afterControl:e.afterControl,minValue:1,maxValue:10,value:e.expandLevels,onValueChange:e.onExpandLevelsChanged})};g.propTypes={expandLevels:c.PropTypes.number,onExpandLevelsChanged:c.PropTypes.func,compact:c.PropTypes.bool,afterControl:c.PropTypes.object},t.default=g;var b=t.TreeExpandDialog=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={levels:e.expandLevels},n.onExpand=n.onExpand.bind(n),n.onLevelsChange=n.onLevelsChange.bind(n),n}return i(t,e),s(t,[{key:"onLevelsChange",value:function(e){var t=parseInt(e);this.setState({levels:isNaN(t)?void 0:t})}},{key:"componentWillReceiveProps",value:function(e){this.props.expandLevels!==e.expandLevels&&this.setState({levels:e.expandLevels})}},{key:"onExpand",value:function(){var e=this.props.onExpand;e&&void 0!==this.state.levels&&e(this.state.levels)}},{key:"render",value:function(){var e=this.props,t=e.onCancel,n=e.visible;return u.default.createElement(y.default.Dialog,{title:(0,p.formatStr)("tree_expand_title"),buttons:[u.default.createElement(y.default.Buttons.Ok,{key:"ok",disabled:void 0===this.state.levels,onClick:this.onExpand}),u.default.createElement(y.default.Buttons.Cancel,{key:"cancel",onClick:t})],size:y.default.SIZE_SMALL,onAction:this.onExpand,showCancel:!0,onHide:t,show:n},u.default.createElement("div",{className:(0,m.prefixNS)("tree-expand-dialog")},u.default.createElement(g,{expandLevels:this.state.levels,onExpandLevelsChanged:this.onLevelsChange})))}}]),t}(u.default.Component);b.propTypes={expandLevels:c.PropTypes.number,visible:c.PropTypes.bool,onCancel:c.PropTypes.func,onExpand:c.PropTypes.func},b.defaultProps={visible:!0}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.children,n=e.className,o=r(e,["children","className"]),i=(0,u.classNames)((0,l.prefixNS)("split-layout"),n);return s.default.createElement(u.SplitPane,a({className:i},o),t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(2),u=n(1);o.propTypes={allowResize:u.PropTypes.bool,className:u.PropTypes.string,primary:u.PropTypes.oneOf(["first","second"]),minSize:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),maxSize:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),defaultSize:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),size:u.PropTypes.oneOfType([u.PropTypes.string,u.PropTypes.number]),split:u.PropTypes.oneOf(["vertical","horizontal"])},o.defaultProps={allowResize:!0,minSize:50,primary:"first",split:"vertical"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName;return{searchRunning:(0,T.isSearchRunning)(e,n),searchValues:(0,T.getSearchValues)(e,n),attributeOrder:(0,T.getAttributeOrder)(e,n),fields:(0,T.getFields)(e,n),operationState:(0,T.getOperationState)(e,n),displayMappingURL:(0,T.getDisplayMappingURL)(e,n),readOnlyAttributes:(0,T.getReadOnlyAttributes)(e,n),visibleAttributes:(0,T.getVisibleAttributes)(e,n),opData:(0,T.getOpData)(e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),p=n(0),f=r(p),d=n(1),h=n(2),y=n(4),m=n(32),g=r(m),b=n(133),v=r(b),_=n(11),S=r(_),O=n(22),T=n(40),E=n(313),C=r(E),w=n(319),P=r(w),N=n(321),I=r(N),R=n(17),j=n(19),x=n(187),M=r(x),A=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.doChangeFields=n.doChangeFields.bind(n),n.handleSearchTextChange=n.handleSearchTextChange.bind(n),n.doAddSearchField=n.doAddSearchField.bind(n),n.doRemoveSearchField=n.doRemoveSearchField.bind(n),n.doRunSearch=n.doRunSearch.bind(n),n.changeFieldsAndRunSearch=n.changeFieldsAndRunSearch.bind(n),n.changeFieldsFromSearchBar=n.changeFieldsFromSearchBar.bind(n),n.checkSearchValues(e),n}return i(t,e),l(t,[{key:"componentDidUpdate",value:function(){this.checkSearchValues(this.props)}},{key:"checkSearchValues",value:function(e){var t=e.fields,n=e.attributeOrder,r=e.instanceName,o=e.classTitle;if(n&&t){var a=n.filterNot(function(e){return t.has(e)});a.size>0&&e.addNotification("cs-web-components-base-SearchBar#"+r,(0,y.formatStr)("search_unknown_attribute_error",{name:o}),(0,y.formatStr)("search_unknown_attribute_info",{attributes:a.toJS()}),"info",3,null,1e4)}}},{key:"doChangeFields",value:function(e){var t=this.props,n=t.instanceName;(0,t.changeFields)(n,e)}},{key:"handleSearchTextChange",value:function(e){var t=this.props,n=t.instanceName;(0,t.changeFields)(n,c.default.Map([[R.FTS_ATTRNAME,e]]))}},{key:"doAddSearchField",value:function(e){var t=this.props,n=t.instanceName;(0,t.addSearchField)(n,e)}},{key:"doRemoveSearchField",value:function(e){var t=this.props,n=t.instanceName;(0,t.removeSearchFieldIncludingDependencies)(n,e)}},{key:"doRunSearch",value:function(){var e=this.props,t=e.instanceName;(0,e.runSearch)(t)}},{key:"changeFieldsAndRunSearch",value:function(e){this.doChangeFields(e),this.doRunSearch()}},{key:"changeFieldsFromSearchBar",value:function(e,t){var n=this.props,r=n.instanceName;(0,n.changeFieldsFromSearchBar)(r,e,t)}},{key:"renderFtsField",value:function(e,t,n){if(!e.has(R.FTS_ATTRNAME))return null;var r=f.default.createElement(S.default,{src:M.default,className:(0,h.prefixNS)("class-search-area__fts-icon")});return f.default.createElement("div",{className:(0,h.prefixNS)("class-search-area__attribute-line")},f.default.createElement(v.default,{productName:n,beforeControl:r,searchCallback:this.doRunSearch,searchTextChangedCallback:this.handleSearchTextChange,searchText:t.get(R.FTS_ATTRNAME),searchButtonSize:"small"}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchRunning,r=t.attributeOrder,o=t.searchValues,a=t.visibleAttributes,i=t.fields,s=t.classTitle,l=t.instanceName,u=t.operationState,p=t.readOnlyAttributes,d=t.displayMappingURL,m=t.opData;return void 0===o||void 0===i?null:f.default.createElement(g.default,{className:(0,h.prefixNS)("class-search-bar"),collapsible:!1,expanded:!0,title:(0,y.formatStr)("do_extended_search")},f.default.createElement(g.default.Header,null,f.default.createElement(C.default,{instanceName:l})),f.default.createElement(g.default.Body,null,f.default.createElement("div",{className:"elements-formcontrol-grid"},f.default.createElement("div",{className:(0,h.prefixNS)("class-search-area__search-attributes")},this.renderFtsField(a,o,s),f.default.createElement("div",{className:(0,h.prefixNS)("class-search-area__attribute-list")},r.filter(function(e){return i.has(e)}).map(function(t,a){return f.default.createElement(I.default,{key:t,attr:t,focus:a===r.size-1,runSearch:function(n){return e.changeFieldsAndRunSearch(c.default.Map([[t,n]]))},searchRunning:n,searchValues:o,fields:i,operationState:u,readOnlyAttributes:p,doChangeFields:e.changeFieldsFromSearchBar,doRemoveSearchField:e.doRemoveSearchField,displayMappingURL:d,opData:m})})))),f.default.createElement(P.default,{searchRunning:n,fields:i,searchValues:o,visibleAttributes:a,addSearchField:this.doAddSearchField,runSearch:this.doRunSearch})))}}]),t}(f.default.Component);A.propTypes={instanceName:d.PropTypes.string.isRequired,classTitle:d.PropTypes.string.isRequired,searchRunning:d.PropTypes.bool.isRequired,searchValues:d.ImmutablePropTypes.map,attributeOrder:d.ImmutablePropTypes.list,fields:d.ImmutablePropTypes.map,operationState:d.ImmutablePropTypes.map,readOnlyAttributes:d.ImmutablePropTypes.set,visibleAttributes:d.ImmutablePropTypes.set,displayMappingURL:d.PropTypes.string,opData:d.ImmutablePropTypes.map,changeFields:d.PropTypes.func.isRequired,addSearchField:d.PropTypes.func.isRequired,removeSearchField:d.PropTypes.func.isRequired,removeSearchFieldIncludingDependencies:d.PropTypes.func.isRequired,changeFieldsFromSearchBar:d.PropTypes.func.isRequired,runSearch:d.PropTypes.func.isRequired,addNotification:d.PropTypes.func.isRequired};var k={changeFields:O.changeFields,addSearchField:O.addSearchField,removeSearchField:O.removeSearchField,runSearch:O.runSearch,changeFieldsFromSearchBar:O.changeFieldsFromSearchBar,removeSearchFieldIncludingDependencies:O.removeSearchFieldIncludingDependencies,addNotification:j.addNotification};t.default=(0,d.connect)(s,k)(A)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputString,n=e.item,r=t.split(" ").pop().toLowerCase(),o="";o="string"==typeof n?n:n.toString();var a=o.toLowerCase().indexOf(r),i=a+r.length;return c.default.createElement("span",null,o.substring(0,a),c.default.createElement("b",null,o.substring(a,i)),o.substr(i))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(4),d=n(10),h=n(2),y=n(15),m=r(y),g=n(87),b=r(g),v=n(3),_=r(v),S=(0,b.default)(m.default);s.propTypes={inputString:p.PropTypes.string,item:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.object])};var O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentSearchText:e.searchText,currInput:"",terms:_.default.List(),focused:!1},n.onSearchTextChanged=n.onSearchTextChanged.bind(n),n.searchFieldKeyDown=n.searchFieldKeyDown.bind(n),n.searchFieldFocusOut=n.searchFieldFocusOut.bind(n),n.searchFieldFocusIn=n.searchFieldFocusIn.bind(n),n.stepTerm=n.stepTerm.bind(n),n.selectTermAt=n.selectTermAt.bind(n),n.cancelTermSelection=n.cancelTermSelection.bind(n),n._request=null,n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.searchText!==this.props.searchText&&(this.setState({currentSearchText:e.searchText}),this.signalNewSearchText(e.searchText))}},{key:"componentWillUnmount",value:function(){this.cleanRequest()}},{key:"cleanRequest",value:function(){this._request&&clearTimeout(this._request)}},{key:"replaceLastWord",value:function(e,t){if(!e)return t;var n=e.split(" ");return 1===n.length?t:(n.pop(),n.push(t),n.join(" "))}},{key:"cancelTermSelection",value:function(){this.setState({currentSearchText:this.state.currInput}),this.signalNewSearchText(this.state.currInput)}},{key:"stepTerm",value:function(e){if(e>=0){var t=this.state.terms.get(e);if(t){var n=this.replaceLastWord(this.state.currentSearchText,t);this.setState({currentSearchText:n}),this.signalNewSearchText(n)}}else this.cancelTermSelection()}},{key:"selectTermAt",value:function(e){if(e>=0){var t=this.state.terms.get(e);t&&this.selectTermAndStart(t)}}},{key:"selectTermAndStart",value:function(e){var t=this.replaceLastWord(this.state.currentSearchText,e);this.setState({currentSearchText:t}),this.signalNewSearchText(t),this.startTermSearch(""),this.search(t)}},{key:"lastWord",value:function(e){return e?e.split(" ").pop():""}},{key:"startTermSearch",value:function(e){var t=this;if(""!==this.lastWord(e)){var n=this.lastWord(e).toLowerCase();(0,d.getJSON)("/internal/search/term",{searchtext:n}).then(function(e){return t.setState({terms:_.default.List(e.result)})},function(){return t.setState({terms:t.state.terms.clear()})})}else this.setState({terms:this.state.terms.clear()})}},{key:"searchFieldFocusOut",value:function(e){this.startTermSearch(""),this.props.onBlur&&this.props.onBlur(e),this.setState({focused:!1})}},{key:"searchFieldFocusIn",value:function(){this.startTermSearch(this.state.currentSearchText),this.props.onFocus&&this.props.onFocus(),this.setState({focused:!0})}},{key:"searchFieldKeyDown",value:function(e){"Enter"===e.key&&(e.preventDefault(),this.search())}},{key:"onSearchTextChanged",value:function(e){var t=this,n=this.props.termSearchDelay;this.cleanRequest(),this.setState({currentSearchText:e,currInput:e}),this.signalNewSearchText(e),this._request=setTimeout(function(){return t.startTermSearch(t.state.currentSearchText)},n)}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=e||this.state.currentSearchText;this.props.searchCallback(t)}},{key:"onSearchRequested",value:function(e){e.preventDefault(),this.search()}},{key:"signalNewSearchText",value:function(e){var t=this.props.searchTextChangedCallback;t&&t(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,r=t.productName,o=t.beforeControl,a=t.afterControl,i=(0,p.classNames)((0,h.prefixNS)("search-field"),n),l=this.state.focused?"":(0,f.formatStr)("search_for",{product:r});return c.default.createElement("span",{className:i},c.default.createElement(S,{name:"searchText",placeholder:l,value:this.state.currentSearchText,onValueChange:this.onSearchTextChanged,matched:this.state.terms,onTAStepAt:this.stepTerm,onTACancel:this.cancelTermSelection,onSelectAt:this.selectTermAt,onBlur:function(t){e.searchFieldFocusOut(t)},onFocus:this.searchFieldFocusIn,onKeyDown:this.searchFieldKeyDown,afterControl:a,beforeControl:o,TypeAheadItemRenderer:s}))}}]),t}(c.default.Component);t.default=O,O.propTypes={productName:p.PropTypes.string.isRequired,searchCallback:p.PropTypes.func.isRequired,searchTextChangedCallback:p.PropTypes.func,searchButtonSize:p.PropTypes.string,className:p.PropTypes.string,searchText:p.PropTypes.string,termSearchDelay:p.PropTypes.number,afterControl:p.PropTypes.node,beforeControl:p.PropTypes.node,onFocus:p.PropTypes.func,onBlur:p.PropTypes.func},O.defaultProps={searchButtonSize:null,searchText:"",termSearchDelay:300,afterControl:null,beforeControl:null}},function(e,t,n){"use strict";function r(e){return{type:l.ACTIONS.LOAD_FAVOURITES_FOR_CLASS,payload:{classname:e}}}function o(e,t,n,r){return{type:l.ACTIONS.LOADED_FAVOURITES_FOR_CLASS,payload:{classname:e,favourites:t,defaultFavouriteId:n,classDesignation:r}}}function a(){return{type:l.ACTIONS.LOAD_ALL_FAVOURITES}}function i(e){return{type:l.ACTIONS.LOADED_ALL_FAVOURITES,payload:{allFavourites:e}}}function s(e,t,n){return{type:l.ACTIONS.EDITED_SEARCH_FAVOURITES,payload:{classname:e,oldFavourites:t,changedFavourites:n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadFavouritesForClass=r,t.loadedFavouritesForClass=o,t.loadAllFavourites=a,t.loadedAllFavourites=i,t.editedSearchFavourites=s;var l=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.StructureBaseTree=t.STRUCTURE_ITEM_SELECT=t.STRUCTURE_ITEM_AUTO_EXPAND=t.STRUCTURE_ITEM_NO_ACTION=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},u=n(0),c=r(u),p=n(1),f=n(27),d=n(98),h=r(d),y=n(80),m=r(y),g=n(3),b=r(g),v=n(10),_=n(58),S=r(_),O=n(99),T=n(41),E=r(T),C=n(61),w=r(C),P=n(63),N=r(P),I=n(8),R=n(34),j=r(R),x=(t.STRUCTURE_ITEM_NO_ACTION=0,t.STRUCTURE_ITEM_AUTO_EXPAND=1),M=(t.STRUCTURE_ITEM_SELECT=2,t.StructureBaseTree=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state.title=e.structureTitle||e.structureName||"",n._bindInterface({fetchNodeChildren:n.fetchNodeChildren.bind(n),selectTreeNode:n.selectTreeNode.bind(n)}),n}return i(t,e),s(t,[{key:"componentWillMount",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillMount",this).call(this),this.initStructure(this.props)}},{key:"componentWillReceiveProps",value:function(e){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillReceiveProps",this).call(this,e),(e.structureNode&&e.structureNode!==this.props.structureNode||e.structureUrl&&e.structureUrl!==this.props.structureUrl||e.contextObject&&e.contextObject!==this.props.contextObject)&&this.initStructure(e)}},{key:"initStructure",value:function(e){var t=e.title,n=e.contextObject,r=e.structureName,o=e.structureUrl,a=e.structureNode;a?this.setStructure(t,a):o?this.initStructureFromUrl(o):r&&n&&this.initStructureFromUrl(n.get("@id")+"/structure/"+encodeURIComponent(r))}},{key:"initStructureFromUrl",value:function(e){var t=this;(0,v.getJSON)(e).then(function(e){t.setStructure(t.props.title||e.title,e.nodes[0])})}},{key:"setStructure",value:function(e,t){this.setState({rootNode:this.createNode(t,"0",null),title:e})}},{key:"createNode",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],i=n?n+"-"+t:t,s=void 0===o?(e.action_flag&x)===x:o;return b.default.fromJS({id:i,content:e,expanded:s,is_selected:a,children:null===e.subnodes?[]:e.subnodes.map(function(e,t){return r.createNode(e,t,i)}),has_children:null===e.subnodes||e.subnodes.length>0})}},{key:"createNodeChildren",value:function(e,n){var r=e.get("content"),o=e.get("id"),a=r.toJS();a.subnodes=n.nodes;var i=this.createNode(a,o,null,!0,e.get("is_selected"));return l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateTreeNode",this).call(this,e.get("expandChildren")?i.set("expandChildren",e.get("expandChildren")):i)}},{key:"fetchNodeChildren",value:function(e){var t=this;return(0,v.getJSON)(e.getIn(["content","expand_url"])).then(function(n){t.createNodeChildren(e,n)})}}]),t}(h.default)),A=S.default.create(S.default.NodeRenderer(["content","label"]),S.default.WithIcons(["content","icons"]),S.default.WithHoverLink(["content","ui_link"])),k=(0,m.default)(function(e){return e.getIn(["content","label"])});M.propTypes=Object.assign({},h.default.propTypes,{contextObject:p.PropTypes.instanceOf(b.default.Map),structureName:p.PropTypes.string,structureUrl:p.PropTypes.string,structureNode:p.PropTypes.object,structureTitle:p.PropTypes.string,onSelect:p.PropTypes.func}),M.defaultProps=Object.assign({},h.default.defaultProps,{matcher:k,NodeRenderer:A,SearchAdapter:O.BackendSearchAdapter});var D=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._bindInterface({selectTreeNode:n.selectTreeNode.bind(n)}),n.reload=n.reload.bind(n),n}return i(t,e),s(t,[{key:"selectTreeNode",value:function(e){var n=this,r=e.get("content"),o=r;if(!e.get("is_selected")&&r.has("object_url")){var a=r.get("object_url"),i=this.props.objectsById.get(a);i?(o=i,this.setState({selectedObject:i})):this.props.fetchObject(a).then(function(){o=n.props.objectsById.get(a),n.setState({selectedObject:o})},function(){n.setState({selectedObject:void 0})})}else this.setState({selectedObject:void 0});return this.props.onSelect&&this.props.onSelect(o),l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"selectTreeNode",this).call(this,e)}},{key:"reload",value:function(){l(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"initStructure",this).call(this,this.props)}},{key:"render",value:function(){var e=this.renderTree({additionalToolbars:b.default.List([c.default.createElement(j.default,{key:1},c.default.createElement(I.IconButton,{iconName:"csweb_refresh",buttonStyle:"info",onClick:this.reload})),c.default.createElement(j.default,{key:2},c.default.createElement(E.default,{contextObject:this.state.selectedObject,hideQuickAccess:this.props.hideQuickAccess}))])});return c.default.createElement(N.default,null,e,c.default.createElement(w.default,{handlerName:"editor"}))}}]),t}(M);D.propTypes=Object.assign({},M.propTypes),D.defaultProps=Object.assign({},M.defaultProps);var L=function(e){return{objectsById:e.objectsById}};t.default=(0,p.connect)(L,{fetchObject:f.fetchObject})(D)},function(e,t,n){"use strict";function r(e){return{type:h,favorite:e}}function o(e){return{type:y,favorite:e}}function a(e){return{type:g,favorite:e}}function i(e){return{type:m,favorites:e}}function s(e){return function(t){return(0,p.deleteObject)(e.get("@id")).then(function(){return t(r(e))})}}function l(e,t){var n=e.set("title",t);return function(t){return(0,p.putJSON)(e.get("@id"),n.toJS()).then(function(){return t(o(d.default.fromJS(n)))})}}function u(e){return function(t){return(0,p.postJSON)("/internal/favorites/",e.toJS()).then(function(e){return t(a(d.default.fromJS(e)))})}}function c(){return function(e){return(0,p.getJSON)("/internal/favorites/").then(function(t){return e(i(d.default.fromJS(t.favorites)))})}}Object.defineProperty(t,"__esModule",{value:!0}),t.FAVORITE_ADD=t.FAVORITE_INIT=t.FAVORITE_UPDATE=t.FAVORITE_DELETE=void 0,t.deleteFavorite=s,t.updateFavorite=l,t.addFavorite=u,t.initFavorites=c;var p=n(10),f=n(3),d=function(e){return e&&e.__esModule?e:{default:e}}(f),h=t.FAVORITE_DELETE="cs-web-components-base-FAVORITE_DELETE",y=t.FAVORITE_UPDATE="cs-web-components-base-FAVORITE_UPDATE",m=t.FAVORITE_INIT="cs-web-components-base-FAVORITE_INIT",g=t.FAVORITE_ADD="cs-web-components-base-FAVORITE_ADD"},function(e,t,n){"use strict";function r(e,t){var n=t.operationInfo,r=void 0===n?void 0:n,o=t.contextObjects,a=void 0===o?O.default.List():o,i=t.parameters,s=void 0===i?O.default.Map():i,l=t.resultInNewTab,u=void 0!==l&&l,c=t.successActions,p=void 0===c?[(0,T.handleOperationSuccess)()]:c,f=t.failedActions,d=void 0===f?[(0,T.postError)()]:f,h=t.cancelActions,y=void 0===h?[]:h,m=t.generalActions,g=void 0===m?[]:m,b=t.suppressHandler,v=void 0!==b&&b,_=t.forceHandler,S=void 0!==_&&_,C=t.nonBlocking,w=void 0!==C&&C,P=t.initialFiles,N=void 0===P?void 0:P,I=t.dialog,R=void 0===I?void 0:I;return{type:E.ACTIONS.RUN_OPERATION,payload:{instanceName:e,operationInfo:r,parameters:s,contextObjects:a,resultInNewTab:u,successActions:p,failedActions:d,cancelActions:y,generalActions:g,suppressHandler:v,forceHandler:S,nonBlocking:w,initialFiles:N,dialog:R}}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return{type:E.ACTIONS.CHANGE_OPERATION_VALUES,payload:{instanceName:e,values:t,unchecked:n}}}function a(e){return{type:E.ACTIONS.QUERY_CANCEL,payload:{instanceName:e}}}function i(e){return{type:E.ACTIONS.QUERY_CANCEL_FORCE,payload:{instanceName:e}}}function s(e){return{type:E.ACTIONS.QUERY_CANCEL_BACK,payload:{instanceName:e}}}function l(e,t){return{type:E.ACTIONS.QUERY_USER,payload:{instanceName:e,dialog:t}}}function u(e){return{type:E.ACTIONS.QUERY_DISMISS,payload:{instanceName:e}}}function c(e){return{type:E.ACTIONS.QUERY_RESULT_CANCEL,payload:{instanceName:e}}}function p(e,t){return{type:E.ACTIONS.QUERY_RESULT_SUBMIT,payload:{instanceName:e,attribute:t}}}function f(e,t){return{type:E.ACTIONS.QUERY_RESULT_CALL,payload:{instanceName:e,attribute:t}}}function d(e,t){return{type:E.ACTIONS.QUERY_RESULT_BACK,payload:{instanceName:e,attribute:t}}}function h(e,t){return{type:E.ACTIONS.SUBMIT_VALUE_ERROR,payload:{instanceName:e,fields:t}}}function y(e,t){return{type:E.ACTIONS.SUBMIT_GENERAL_ERROR,payload:{instanceName:e,errors:t}}}function m(e){return{type:E.ACTIONS.CLEAR_ERRORS,payload:{instanceName:e}}}function g(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{type:E.ACTIONS.CANCEL_OPERATION,payload:{instanceName:e,force:t}}}function b(e){return{type:E.ACTIONS.SUBMIT_OPERATION,payload:{instanceName:e}}}function v(e,t){return{type:E.ACTIONS.ADD_FILES,payload:{instanceName:e,files:t}}}function _(e,t){return{type:E.ACTIONS.REMOVE_FILES,payload:{instanceName:e,files:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.runOperation=r,t.changeOperationValues=o,t.queryCancel=a,t.queryCancelForce=i,t.queryCancelBack=s,t.queryUser=l,t.queryDismiss=u,t.queryResultCancel=c,t.queryResultSubmit=p,t.queryResultCall=f,t.queryResultBack=d,t.submitValueError=h,t.submitGeneralError=y,t.clearErrors=m,t.cancelOperation=g,t.submitOperation=b,t.addFiles=v,t.removeFiles=_;var S=n(3),O=function(e){return e&&e.__esModule?e:{default:e}}(S),T=n(77),E=n(33)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(104),p=r(c),f=n(1),d=n(2),h=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.hidden,r=t.tags,o=t.glyph,a=n?(0,d.prefixNS)("generic-tags-hidden"):(0,d.prefixNS)("generic-tags");return u.default.createElement("div",{className:a},r.map(function(t){return u.default.createElement(p.default,{key:t.id,id:t.id,name:t.name,onClickTag:e.props.onClickTag,onClickIcon:e.props.onClickIcon,glyph:o})}))}}]),t}(u.default.Component);t.default=h,h.defaultProps={hidden:!1},h.propTypes={hidden:f.PropTypes.bool,onClickTag:f.PropTypes.func,onClickIcon:f.PropTypes.func,tags:f.ImmutablePropTypes.set,glyph:f.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(2),y=n(10),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fields:f.default.List(),values:f.default.Map()},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.loadData(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.contextObject===this.props.contextObject&&e.displayContext===this.props.displayContext||this.loadData(e)}},{key:"loadData",value:function(e){var t=this,n=e.contextObject,r=e.displayContext;if(null===n||void 0===n)this.setState({fields:f.default.List(),values:f.default.Map()});else{var o=(0,h.getAppSetup)().getIn(["links","common","displayContextTemplate"]).replace("${context_name}",r).replace("${classname}",n.get("system:classname")),a={obj_values:n};(0,y.postJSON)(o,a).then(function(e){var n=f.default.fromJS(e.registers[0]?e.registers[0].fields:[]);t.setState({fields:n.filter(function(e){return!1===e.get("hidden")}),values:f.default.fromJS(e.values)})})}}},{key:"render",value:function(){var e=this,t=this.props,n=t.displayContext,r=t.contextObject,o=t.children,a=(0,d.classNames)((0,h.prefixNS)("display-context-loader"),(0,h.prefixNS)("display-context-loader--"+n));return c.default.createElement("div",{className:a},c.default.Children.map(o,function(t){return c.default.cloneElement(t,s({contextObject:r},e.state))}))}}]),t}(c.default.Component);t.default=m,m.propTypes={contextObject:d.ImmutablePropTypes.map,displayContext:d.PropTypes.string.isRequired}},function(e,t,n){"use strict";function r(e){switch(e){case a:return o.DATA_TYPES.CHAR;case i:return o.DATA_TYPES.INTEGER;case s:return o.DATA_TYPES.FLOAT;case l:return o.DATA_TYPES.DATE}return o.DATA_TYPES.CHAR}Object.defineProperty(t,"__esModule",{value:!0}),t.toDATA_TYPE=r;var o=n(18),a=0,i=1,s=2,l=3;t.default={TEXT:a,INTEGER:i,FLOAT:s,DATE:l}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return f.default.createElement(m.default,{collapsible:!0,expanded:!0,title:t},f.default.createElement(m.default.Header,null,r),f.default.createElement(m.default.Body,null,e))}function u(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];return f.default.createElement("div",{className:(0,b.prefixNS)("tree-simple-layout")},f.default.createElement("div",{className:(0,b.prefixNS)("tree-simple-layout__toolbar")},r),e)}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleTreeContainer=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(130),h=n(362),y=n(32),m=r(y),g=n(1),b=n(2),v=n(142),_=r(v),S=n(143),O=r(S),T=n(4),E=n(144),C=r(E),w=n(366),P=r(w),N=n(367),I=r(N),R=function(e){return function(t){var n=function(n){function r(e){a(this,r);var t=i(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.onShowExpandModal=t.onShowExpandModal.bind(t),t.onHideExpandModal=t.onHideExpandModal.bind(t),t.onExpand=t.onExpand.bind(t),t.onCollapse=t.onCollapse.bind(t),t.state={expandModalVisible:!1,expandLevels:2,displaySettings:!1,toolbar:[]},t}return s(r,n),c(r,[{key:"componentDidMount",value:function(){this.initToolbar(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.disableExpansion===e.disableExpansion&&this.props.searchAdapter===e.searchAdapter||this.initToolbar(e)}},{key:"initToolbar",value:function(e){var t=[];e.disableExpansion||t.push({type:"button",iconSrc:I.default,style:"primary",title:(0,T.formatStr)("tree_expand_tooltip"),func:this.onShowExpandModal},{type:"button",iconSrc:P.default,style:"primary",title:(0,T.formatStr)("tree_collapse_tooltip"),func:this.onCollapse}),t.push({type:"search",adapter:e.searchAdapter,mode:h.SEARCH_MODE_CONFIRM}),this.setState({toolbar:t})}},{key:"onShowExpandModal",value:function(){this.setState({expandModalVisible:!0})}},{key:"onHideExpandModal",value:function(){this.setState({expandModalVisible:!1})}},{key:"onExpand",value:function(e){this.setState({expandModalVisible:!1,expandLevels:e}),this.props.expandLevels(e)}},{key:"onCollapse",value:function(){this.props.collapseLevels()}},{key:"render",value:function(){var n,r=(0,g.classNames)((0,b.prefixNS)("tree-container"),(n={},o(n,(0,b.prefixNS)("tree-container__focus"),this.props.hasFocus),o(n,this.props.className,void 0!==this.props.className),n));return f.default.createElement("div",{className:r},e(f.default.createElement(t,this.props),this.props.TitleRenderer?f.default.createElement(this.props.TitleRenderer,this.props):this.props.title||"",f.default.createElement(h.Toolbar,{key:"main",config:this.state.toolbar}),this.props.additionalToolbars&&this.props.additionalToolbars.size>0?[this.props.additionalToolbars]:null),this.state.expandModalVisible?f.default.createElement(d.TreeExpandDialog,{onCancel:this.onHideExpandModal,onExpand:this.onExpand,expandLevels:this.state.expandLevels}):null)}}]),r}(f.default.Component);return n.propTypes={className:g.PropTypes.string,hasFocus:g.PropTypes.bool,TitleRenderer:g.PropTypes.oneOfType([g.PropTypes.func,g.PropTypes.object]),title:g.PropTypes.oneOfType([g.PropTypes.string,g.PropTypes.object]),collapseLevels:g.PropTypes.func,expandLevels:g.PropTypes.func,searchAdapter:g.PropTypes.object,disableExpansion:g.PropTypes.bool,additionalToolbars:g.ImmutablePropTypes.list},n.defaultProps={disableExpansion:!1},n}},j=R(l);t.default=j,j.DefaultRenderer=C.default.registerTreeRenderer("TreeContainer.DefaultRenderer",(0,b.compose)(_.default,O.default.ShowSearchResults,j));var x=t.SimpleTreeContainer=R(u);x.DefaultRenderer=C.default.registerTreeRenderer("SimpleTreeContainer.DefaultRenderer",(0,b.compose)(_.default,O.default.ShowSearchResults,x))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(364),h=r(d),y=n(365),m=r(y),g=n(58),b=n(26),v=r(b),_=n(2),S=n(31),O=n(205),T=r(O),E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.scrollToNode=n.scrollToNode.bind(n),n.setRendererRef=n.setRendererRef.bind(n),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this,t=["ArrowLeft","ArrowUp","ArrowRight","ArrowDown"],n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;(0,S.addLocalShortcut)(this.renderer,s,function(t){return function(){var n=e.props,r=n.activateKey,o=n.rootNode,a=n.selectedId;r(t,o,a)}}(s))}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}}},{key:"setRendererRef",value:function(e){this.renderer=e}},{key:"componentWillUnmount",value:function(){(0,S.removeAllLocalShortcuts)(this.renderer)}},{key:"scrollToNode",value:function(e){return(0,h.default)(this.renderer)(e)}},{key:"render",value:function(){var e=this.props,t=e.hideRoot,n=e.rootNode,r=o(e,["hideRoot","rootNode"]);return["selectedId","selectedIds"].forEach(function(e){delete r[e]}),p.default.createElement("div",{className:(0,_.prefixNS)("tree-renderer"),tabIndex:0,ref:this.setRendererRef},this.props.rootNode?p.default.createElement(m.default,l({},r,{hide:t,node:n,scrollToNode:this.scrollToNode})):p.default.createElement(v.default,{src:T.default}))}}]),t}(p.default.Component);t.default=E,E.propTypes={NodeRenderer:g.NodeRendererType,selectedId:f.PropTypes.string,activateKey:f.PropTypes.func,className:f.PropTypes.string,hideRoot:f.PropTypes.bool,focusId:f.PropTypes.number,keyBlacklistSelector:f.PropTypes.string,fetchNodeChildren:f.PropTypes.func.isRequired,rootNode:f.ImmutablePropTypes.map},E.defaultProps={className:""}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShowSelectedSearchResult=t.ShowSearchResults=t.ShowPaths=void 0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(1),h=n(3),y=r(h),m=function(e){return function(t){var n=function(n){function r(){return i(this,r),s(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return l(r,n),c(r,[{key:"filter",value:function(t){var n=e(this.props);if(void 0===n)return t;var r=new Set(n);return function e(t){var n=[];return t.get("children").forEach(function(t){var r=e(t);r&&n.push(r)}),r.has(t.get("id"))||n.length>0?y.default.fromJS({id:t.get("id"),content:t.get("content"),expanded:!0,is_selected:t.get("is_selected"),children:n,has_children:n.size>0}):null}(t)}},{key:"render",value:function(){var e=this.props,n=e.rootNode,r=a(e,["rootNode"]);return f.default.createElement(t,u({rootNode:this.filter(n)},r))}}]),r}(f.default.Component);return n.propTypes={rootNode:d.ImmutablePropTypes.map},n}};t.ShowPaths=m;var g=t.ShowSearchResults=m(function(e){return e.getSearchResultCount()>0?[].concat(o(e.getSearchResult().keys())):void 0}),b=t.ShowSelectedSearchResult=m(function(e){return e.getSelectedSearchResult()?[e.getSelectedSearchResult().get("id")]:void 0});t.default={ShowPaths:m,ShowSearchResults:g,ShowSelectedSearchResult:b}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=function(){function e(){r(this,e),this.renderers=new Map}return o(e,[{key:"registerTreeRenderer",value:function(e,t){return this.renderers.set(e,t),t}},{key:"getTreeRenderer",value:function(e){return this.renderers.get(e)}}]),e}(),i=new a;t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.contextObject,n=e.attr,r=e.plain,o=t.get(n),a=t.get("system:ui_link");return s.default.createElement("div",{className:(0,u.prefixNS)("class-tile-small__header")},r||!a?o:s.default.createElement("a",{href:a,title:o},o))}function a(e){var t=e.contextObject,n=e.fallbackImg,r=(0,u.getObjectImage)(t);return s.default.createElement("div",{className:(0,l.classNames)((0,u.prefixNS)("class-tile-small"),e.plain?"plain":null)},s.default.createElement("div",{className:(0,u.prefixNS)("class-tile-small__frame")},s.default.createElement(p.default,{imgSrc:r,fallbackSrc:n,size:"md",title:t.get("system:description")}),s.default.createElement("div",{className:(0,u.prefixNS)("class-tile-small__content")},s.default.createElement("div",{className:(0,u.prefixNS)("class-tile-headerbar")},s.default.createElement(o,{contextObject:e.contextObject,attr:e.headerAttr,plain:e.plain}),e.controls),s.default.createElement("div",{className:(0,u.prefixNS)("class-tile-small__data")},e.children))))}Object.defineProperty(t,"__esModule",{value:!0}),t.TileHeader=o,t.Tile=a;var i=n(0),s=r(i),l=n(1),u=n(2),c=n(67),p=r(c);o.propTypes={contextObject:l.ImmutablePropTypes.map.isRequired,attr:l.PropTypes.string.isRequired,plain:l.PropTypes.bool},a.propTypes={contextObject:l.ImmutablePropTypes.map.isRequired,fallbackImg:l.PropTypes.string,headerAttr:l.PropTypes.string.isRequired,plain:l.PropTypes.bool,controls:l.PropTypes.node}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(23),s=r(i),l=n(52),u=r(l),c=function(){function e(t,n,r){o(this,e),this.backendFormat=t,this.frontendFormat=n,this.frontendDateOnlyFormat=r}return a(e,[{key:"checkDisplayValue",value:function(e){var t=this;return!e.split(RegExp(/-\s|\s-/),2).map(function(e){return e.trim()}).find(function(e){return e&&!(0,s.default)(e,t.frontendFormat).isValid()})}},{key:"convertRangeToValue",value:function(e){return">="+e.getStart().format(this.backendFormat)+" AND <="+e.getEnd().format(this.backendFormat)}},{key:"getRangeFromValue",value:function(e){if(!e)return null;var t=this._getDateObjectStrict(e,this.backendFormat);if(t.isValid())return new u.default(t,t);var n=new RegExp("AND","gi"),r=e.match(n);if(r&&r.length>1)return null;var o=e.split(n),a=this._normalizeDateOP(this._getDateStrAndOperator(o[0]),this.backendFormat);if(!a)return null;if(1===o.length)return">="===a.op?new u.default(a.date,null):"<="===a.op?new u.default(null,a.date):null;var i=this._normalizeDateOP(this._getDateStrAndOperator(o[1]),this.backendFormat);return i?">="===a.op&&"<="===i.op&&a.date.isSameOrBefore(i.date)?new u.default(a.date,i.date):"<="===a.op&&">="===i.op&&a.date.isSameOrAfter(i.date)?new u.default(i.date,a.date):null:null}},{key:"_normalizeDateOP",value:function(e,t){if(e){var n=this._getDateObjectStrict(e[1],t);if(!n.isValid())return null;var r=e[0];return">"!==r&&"<"!==r||(n=n.add(">"===r?1:-1,"day"),r+="="),{op:r,date:n}}return null}},{key:"formatDisplayDate",value:function(e){var t=(0,s.default)(e);return t.isSame(t.clone().startOf("day"))&&void 0!==this.frontendDateOnlyFormat?t.format(this.frontendDateOnlyFormat):t.format(this.frontendFormat)}},{key:"_getDateStrAndOperator",value:function(e){if(e){var t=e.search(/\d/);if(-1!==t)return[e.substring(0,t).trim(),e.substring(t).trim()]}return null}},{key:"_getOnlyDateFromFormat",value:function(e){return e.split(" ")[0]}},{key:"_getDateObjectStrict",value:function(e,t){var n=t?this._getOnlyDateFromFormat(t):s.default.ISO_8601;return s.default.parseZone(e,n,!0)}},{key:"convertToDisplay",value:function(e){var t=this.getRangeFromValue(e);if(!t)return"";if(0===t.duration())return this.formatDisplayDate(t.getStart());var n=[],r=t.getStart(),o=t.getEnd();return r?n.push(this.formatDisplayDate(r)+" "):n.push(""),o?n.push(" "+this.formatDisplayDate(o)):n.push(""),n.join("-")}},{key:"convertToValue",value:function(e){var t="";if(e){var n=e.split(RegExp(/-\s|\s-/),2),r=n.map(function(e){return e.trim()});if(1===r.length){t=s.default.parseZone(r[0],this.frontendFormat).format(this.backendFormat).trim()}else if(2===r.length){if(r[0]){var o=s.default.parseZone(r[0],this.frontendFormat);t=">="+o.format(this.backendFormat).trim()}if(r[1]){t+=t?" AND ":"";var a=s.default.parseZone(r[1],this.frontendFormat);t+="<="+a.format(this.backendFormat).trim()}}}return t}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e,t){return{type:a,payload:{classname:e,id:t}}}function o(e,t){return{type:i,payload:{classname:e,relshipConfigs:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchRelatedObjectTiles=r,t.relatedObjectTilesFetched=o;var a=t.FETCH_RELATED_OBJECT_TILES="cs-web-components-base-FETCH_RELATED_OBJECT_TILES",i=t.RELATED_OBJECT_TILES_FETCHED="cs-web-components-base-RELATED_OBJECT_TILES_FETCHED"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.overlayElement=null,t.setOverlayRef=t.setOverlayRef.bind(t),t.onScroll=t.onScroll.bind(t),t.onHide=t.onHide.bind(t),t.onFocusOut=t.onFocusOut.bind(t),t.onEscape=t.onEscape.bind(t),t.onOverlayVisible=t.onOverlayVisible.bind(t),t}return i(n,t),u(n,[{key:"componentDidMount",value:function(){this.props.hideOnScroll&&window.addEventListener("scroll",this.onScroll,!0)}},{key:"componentWillReceiveProps",value:function(e){e.hideOnScroll&&!this.props.hideOnScroll?window.addEventListener("scroll",this.onScroll,!0):!e.hideOnScroll&&this.props.hideOnScroll&&window.removeEventListener("scroll",this.onScroll,!0)}},{key:"componentWillUnmount",value:function(){this.props.hideOnScroll&&window.removeEventListener("scroll",this.onScroll,!0)}},{key:"onScroll",value:function(e){this.props.visible&&!this.overlayElement.contains(e.target)&&this.onHide(e)}},{key:"onFocusOut",value:function(e){e&&"focusout"===e.type&&this.overlayElement.contains(e.relatedTarget)||this.onHide(e)}},{key:"onEscape",value:function(e){this.onHide(e),e.stopImmediatePropagation()}},{key:"onHide",value:function(e){var t=this.props.onHide;t&&t(e)}},{key:"onOverlayVisible",value:function(){this.props.grabFocus&&this.overlayElement.focus()}},{key:"setOverlayRef",value:function(e){e?(this.overlayElement=d.default.findDOMNode(e),(0,y.addLocalShortcut)(this.overlayElement,"Escape",this.onEscape)):((0,y.removeAllLocalShortcuts)(this.overlayElement),this.overlayElement=null);var t=this.props.setOverlayRef;t&&t(e)}},{key:"render",value:function(){return p.default.createElement(e,l({},this.props,{hideOnScroll:void 0,grabFocus:void 0,onFocusOut:this.onFocusOut,onOverlayVisible:this.onOverlayVisible,setOverlayRef:this.setOverlayRef}))}}]),n}(p.default.Component);return t.propTypes={hideOnScroll:h.PropTypes.bool,setOverlayRef:h.PropTypes.func,onHide:h.PropTypes.func,grabFocus:h.PropTypes.bool,visible:h.PropTypes.bool},t.defaultProps={grabFocus:!0,hideOnScroll:!1},t}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(0),p=r(c),f=n(24),d=r(f),h=n(1),y=n(31)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{width:e.width,height:e.height,left:e.left,right:e.right,top:e.top,bottom:e.bottom}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(24),h=r(d),y=n(1),m=n(37),g=n(110),b=r(g),v=n(148),_=r(v),S=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.containerElement=null,n.containerPosition={},n.parentElement=null,n.parentPosition={},n.contentRef=null,n.contentElement=null,n.contentPosition={},n.timeout=null,n.onPositionChanged=n.onPositionChanged.bind(n),n.setContentRef=n.setContentRef.bind(n),n}return s(t,e),c(t,[{key:"setContentRef",value:function(e){var t=this.props.setContentRef;this.contentRef=e,t&&t(e)}},{key:"componentDidMount",value:function(){this.props.parentRef&&(this.parentElement=h.default.findDOMNode(this.props.parentRef)),this.props.containerRef&&(this.containerElement=h.default.findDOMNode(this.props.containerRef)),this.contentElement=h.default.findDOMNode(this.contentRef),this.onPositionChanged(),this.props.useTimer&&(this.timeout=setInterval(this.onPositionChanged,30))}},{key:"componentWillReceiveProps",value:function(e){this.props.parentRef!==e.parentRef&&(e.parentRef?this.parentElement=h.default.findDOMNode(e.parentRef):this.parentElement=null),this.props.containerRef!==e.containerRef&&(e.containerRef?this.containerElement=h.default.findDOMNode(e.containerRef):this.containerElement=null),e.useTimer||(this.timeout&&(clearInterval(this.timeout),this.timeout=null),(this.props.parentRef!==e.parentRef||this.props.containerRef!==e.parentRef)&&this.containerElement&&this.parentElement&&this.onPositionChanged())}},{key:"componentWillUnmount",value:function(){this.timeout&&clearInterval(this.timeout)}},{key:"onPositionChanged",value:function(){var e=this.props.onPositionChanged,t=!1,n=null;if(this.containerElement){n=l(this.containerElement.getBoundingClientRect());var r=n.width-this.containerElement.clientWidth;n.width-=r,n.right-=r;var o=n.height-this.containerElement.clientHeight;n.height-=o,n.bottom-=o}else n={left:0,top:0,right:window.innerWidth,bottom:window.innerHeight,width:window.innerWidth,height:window.innerHeight};this.hasPositionChanged(this.containerPosition,n)&&(this.containerPosition=n,t=!0);var a=this.parentElement.getBoundingClientRect();this.hasPositionChanged(this.parentPosition,a)&&(this.parentPosition=l(a),t=!0);var i={width:this.contentElement.scrollWidth,height:this.contentElement.scrollHeight};this.hasPositionChanged(this.contentPosition,i)&&(this.contentPosition=i,t=!0),t&&e(a,i,n)}},{key:"hasPositionChanged",value:function(e,t){return e.width!==t.width||e.height!==t.height||e.left!==t.left||e.right!==t.right||e.top!==t.top||e.bottom!==t.bottom}},{key:"render",value:function(){return f.default.cloneElement(f.default.Children.only(this.props.children),{setContentRef:this.setContentRef})}}]),t}(f.default.Component);S.propTypes={containerRef:y.PropTypes.object,parentRef:y.PropTypes.object,onPositionChanged:y.PropTypes.func,useTimer:y.PropTypes.bool,setContentRef:y.PropTypes.func},S.defaultProps={useTimer:!0};var O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={style:void 0},n.onPositionChanged=n.onPositionChanged.bind(n),n}return s(t,e),c(t,[{key:"isParentHidden",value:function(e,t){return t.left<e.left||t.right>e.right||t.top<e.top||t.bottom>e.bottom}},{key:"componentWillReceiveProps",value:function(e){this.props.visible&&!e.visible&&this.setState({style:void 0})}},{key:"onPositionChanged",value:function(e,t,n){var r=this.props,o=r.horizontalAlign,a=r.verticalAlign,i=r.layoutConfig,s=r.layoutFunc;if(this.isParentHidden(n,e))this.setState({style:void 0});else{var l=s(i,o,a,e,t,n);if(void 0===this.state.style){var u=this.props.onOverlayVisible;u&&window.requestAnimationFrame(u)}this.setState({style:l})}}},{key:"render",value:function(){var e=this.props,t=e.setContentRef,n=e.setOverlayRef,r=e.onFocus,a=e.onBlur,i=e.onFocusOut,s=e.visible,l=e.useTimer,u=e.parentRef,c=e.containerRef,p=e.className,d=e.children;if(!u||!s||null===c)return null;var h=void 0===this.state.style?b.default.HIDDEN:this.state.style,y=h._children,m=o(h,["_children"]),g="function"==typeof d?d(y||{}):d;return f.default.createElement(S,{containerRef:c,parentRef:u,useTimer:l,setContentRef:t,onPositionChanged:this.onPositionChanged},f.default.createElement(b.default,{onFocus:r,onBlur:a,onFocusOut:i,className:p,visible:s,setOverlayRef:n,positionStyle:m},g))}}]),t}(f.default.Component);t.default=O,O.propTypes=u({containerRef:y.PropTypes.object,parentRef:y.PropTypes.object,useTimer:y.PropTypes.bool,layoutFunc:y.PropTypes.func.isRequired,layoutConfig:y.PropTypes.object,horizontalAlign:m.HorizontalAlignmentType,verticalAlign:m.VerticalAlignmentType},b.default.propTypes),O.defaultProps=u({useTimer:!0,horizontalAlign:m.HorizontalAlignment.LEFT,verticalAlign:m.VerticalAlignment.BOTTOM,layoutConfig:{}},b.default.defaultProps),O.Controlled=(0,_.default)(O)},function(e,t,n){"use strict";function r(e,t){return Object.assign({meta:{delay:t}},(0,l.removeMessageFromDisplay)(e,f))}function o(e){var t=e.timeout;return function(e,n){var o=n.id,a=(n.ts,n.title,n.message,n.level),i=(n.owner,t>0?e(r(o,t)):null);return{displayId:f,cancelTimeout:i,type:(0,c.getType)(a)}}}function a(e){return(0,l.removeMessageFromDisplay)(e,f)}function i(e,t){return(0,l.updateDisplayInfo)(e,f,t)}function s(e){return(0,p.getMessagesForDisplay)(e,f)}Object.defineProperty(t,"__esModule",{value:!0}),t.removeDelayed=r,t.createNotification=o,t.removeNotification=a,t.updateDisplayInfo=i,t.getMessages=s;var l=n(64),u=n(2),c=n(151),p=n(109),f=(0,u.prefixNS)("Notification");t.default={createNotification:o,removeNotification:a}},function(e,t,n){"use strict";function r(e){switch(e){case o.Level.EMPTY:case o.Level.WARNING:return"warning";case o.Level.PROGRESS:case o.Level.INFO:return"info";case o.Level.SUCCESS:return"success";case o.Level.ERROR:return"danger"}}Object.defineProperty(t,"__esModule",{value:!0}),t.getType=r;var o=n(36)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.register.get("help_url"),n=e.register.get("icon"),r=n?m.default.createElement("img",{className:"elements-register-icon",src:n}):null,o=t?m.default.createElement(C.default,{helpUrl:t}):null;return m.default.createElement("legend",{className:"elements-register-legend"},r,e.register.get("label"),o)}function u(e,t){return e.map(t).filter(function(e){return e>=0}).sort().toOrderedSet().toList()}function c(e,t,n){return e.filter(T.anyAttributeIsRelevant).size>0||e.filter(function(e){return(0,T.getRelevantAttributes)(e).find(function(e){return t.values.get(e)!==n.values.get(e)})}).size>0}function p(e,t){return e.onFieldsChange!==t.onFieldsChange||e.readOnly!==t.readOnly||e.formats!==t.formats||e.onNavigateLink!==t.onNavigateLink||e.displayMappingURL!==t.displayMappingURL||e.operationState!==t.operationState||e.containerRef!==t.containerRef||h(e.values)!==h(t.values)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y=n(0),m=r(y),g=n(1),b=n(6),v=n(3),_=r(v),S=n(119),O=r(S),T=n(60),E=n(44),C=r(E);l.propTypes={register:g.PropTypes.instanceOf(_.default.Map).isRequired};var w={formats:g.PropTypes.instanceOf(_.default.Map),values:g.PropTypes.instanceOf(_.default.Map),onFieldsChange:g.PropTypes.func,onNavigateLink:g.PropTypes.func,readOnly:g.PropTypes.bool,displayMappingURL:g.PropTypes.string,operationState:g.PropTypes.instanceOf(_.default.Map),contextObjects:g.PropTypes.instanceOf(_.default.List)},P=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),d(t,[{key:"shouldComponentUpdate",value:function(e){return e.fields!==this.props.fields||p(e,this.props)||c(e.fields.filter(function(e){return void 0!==e}),e,this.props)}},{key:"render",value:function(){var e=this,t=this.props,n=t.fields,r=t.onFieldsChange,o=t.values,a=t.uncheckedValues,i=t.formats,s=t.readOnly,l=t.onNavigateLink,u=t.containerRef,c=t.displayMappingURL,p=t.operationState,f=t.contextObjects;return m.default.createElement(b.Row,null,n.map(function(t){return void 0===t?null:m.default.createElement(b.Col,{sm:t.get("span"),key:t.get("attribute")},m.default.createElement(O.default,{operationInstance:e.props.operationInstance,containerRef:u,setting:t,onFieldsChange:r,onNavigateLink:l,values:o,uncheckedValues:a,formats:i,readOnly:s,displayMappingURL:c,operationState:p,contextObjects:f}))}))}}]),t}(m.default.Component);P.propTypes=f({fields:g.PropTypes.instanceOf(_.default.List)},w);var N=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={layout:n.buildLayout(e)},n}return s(t,e),d(t,[{key:"getFields",value:function(e){return e.register.get("fields")}},{key:"componentWillReceiveProps",value:function(e){this.getFields(e)!==this.getFields(this.props)&&this.setState({layout:this.buildLayout(e)})}},{key:"getColumns",value:function(e){return u(e,function(e){return e.get("column")})}},{key:"getRows",value:function(e){return u(e,function(e){return e.get("row")})}},{key:"buildRow",value:function(e,t,n){return _.default.List(n.map(function(n){return e.find(function(e){return e.get("row")===t&&e.get("column")===n})}))}},{key:"buildLayout",value:function(e){var t=this,n=this.getFields(e),r=this.getRows(n),o=this.getColumns(n);return r.map(function(e){return t.buildRow(n,e,o)})}},{key:"shouldComponentUpdate",value:function(e){return e.register!==this.props.register||p(e,this.props)||c(this.getFields(e),e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.register,n=o(e,["register"]),r=this.state.layout;return m.default.createElement("fieldset",null,m.default.createElement(l,{register:t}),m.default.createElement(b.Grid,{className:"elements-formcontrol-grid",fluid:!0},r.map(function(e,t){return m.default.createElement(P,f({key:t,fields:e},n))})))}}]),t}(m.default.Component);t.default=N,N.propTypes=f({register:g.PropTypes.instanceOf(_.default.Map).isRequired,operationInstance:g.PropTypes.string},w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(23),l=r(s),u=n(52),c=r(u),p=function(){function e(t,n,r){o(this,e),this.backendFormat=t,this.frontendFormat=n,this.frontendDateOnlyFormat=r,this.errors=[]}return i(e,[{key:"checkDisplayValue",value:function(e){return this.errors=[],this.convertToValue(e),!(this.errors.length>0)}},{key:"convertRangeToValue",value:function(e){return">="+e.getStart().format(this.backendFormat)+" AND <="+e.getEnd().format(this.backendFormat)}},{key:"convertToValue",value:function(e){return this._convert(e,this.frontendFormat,this.backendFormat)}},{key:"convertToDisplay",value:function(e){return this._convert(e,this.backendFormat,this.frontendFormat)}},{key:"_convert",value:function(e,t,n){var r="";if(e){var o="",a=!0,i=!1,s=void 0;try{for(var l,u=e[Symbol.iterator]();!(a=(l=u.next()).done);a=!0){var c=l.value;"<"===c||">"===c||"="===c||"!"===c||"("===c||")"===c?(r=r.concat(this._handle_literal(o,t,n)),o="",r=r.concat(c)):" "!==c||o.length?o=o.concat(c):r=r.concat(c)}}catch(e){i=!0,s=e}finally{try{!a&&u.return&&u.return()}finally{if(i)throw s}}r=r.concat(this._handle_literal(o,t,n))}return r}},{key:"_handle_literal",value:function(e,t,n){if(0===e.trim().length)return e;var r=this._find_operator(e),o=a(r,2),i=o[0],s=o[1];if(i>-1)return this._handle_literal(e.substr(0,i),t,n)+s+this._handle_literal(e.substr(i+s.length),t,n);var l=this._find_first_not_space(e);if(-1===l)return e;var u=this._find_last_not_space(e);return e.substr(0,l)+this._convert_literal(e.substr(l,u-l+1),t,n)+e.substr(u+1)}},{key:"_find_operator",value:function(e){var t=["and","AND","or","OR"],n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value,l=e.indexOf(s);if(l>-1)return[l,s]}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}return[-1,""]}},{key:"_contains_time",value:function(e){return!(0===e.hour()&&0===e.minute()&&0===e.second())}},{key:"_convert_literal",value:function(e,t,n){var r=e,o=l.default.parseZone(e,t);return o.isValid()?r=this._contains_time(o)?o.format(n):o.format(this._getOnlyDateFromFormat(n)):this.errors.push("Error format value:"+e+" format:"+(n||"ISO_8601")),r}},{key:"_find_first_not_space",value:function(e){return e.replace(new RegExp("[^\\s]","g"),"x").indexOf("x")}},{key:"_find_last_not_space",value:function(e){return e.replace(new RegExp("[^\\s]","g"),"x").lastIndexOf("x")}},{key:"_getDateObjectStrict",value:function(e,t){var n=t?this._getOnlyDateFromFormat(t):void 0;return l.default.parseZone(e,n,!0)}},{key:"_getOnlyDateFromFormat",value:function(e){return e?e.split(" ")[0]:"YYYY-MM-DD"}},{key:"_normalizeDateOP",value:function(e,t){if(e){var n=this._getDateObjectStrict(e[1],t);if(!n.isValid())return null;var r=e[0];return">"!==r&&"<"!==r||(n=n.add(">"===r?1:-1,"day"),r+="="),{op:r,date:n}}return null}},{key:"_getDateStrAndOperator",value:function(e){if(e){var t=e.search(/\d/);if(-1!==t)return[e.substring(0,t).trim(),e.substring(t).trim()]}return null}},{key:"getRangeFromValue",value:function(e){if(!e)return null;var t=this._getDateObjectStrict(e,this.backendFormat);if(t.isValid())return new c.default(t,t);var n=new RegExp("AND","gi"),r=e.match(n);if(r&&r.length>1)return null;var o=e.split(n),a=this._normalizeDateOP(this._getDateStrAndOperator(o[0]),this.backendFormat);if(!a)return null;if(1===o.length)return">="===a.op?new c.default(a.date,null):"<="===a.op?new c.default(null,a.date):null;var i=this._normalizeDateOP(this._getDateStrAndOperator(o[1]),this.backendFormat);return i?">="===a.op&&"<="===i.op&&a.date.isSameOrBefore(i.date)?new c.default(a.date,i.date):"<="===a.op&&">="===i.op&&a.date.isSameOrAfter(i.date)?new c.default(i.date,a.date):null:null}},{key:"formatDisplayDate",value:function(e){var t=(0,l.default)(e);return this._contains_time(t)||void 0===this.frontendDateOnlyFormat?t.format(this.frontendFormat):t.format(this.frontendDateOnlyFormat)}}]),e}();t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return t instanceof m.default?t.contains(e):(0,v.default)(e).isSame(t,"day")}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(1),h=n(2),y=n(52),m=r(y),g=n(8),b=n(23),v=r(b),_=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n.onMouseEnter=n.onMouseEnter.bind(n),n}return s(t,e),c(t,[{key:"onClick",value:function(e){var t=this.props,n=t.day,r=t.onClick;r&&r(n,e)}},{key:"onMouseEnter",value:function(e){var t=this.props,n=t.day,r=t.onEnter;r&&r(n,e)}},{key:"render",value:function(){var e,t=this.props,n=t.day,r=t.currentMonth,a=t.selected,i=t.selecting,s=t.disabled,l=!a&&n.isSame((0,v.default)(),"day"),u=(0,d.classNames)((0,h.prefixNS)("day-picker__day"),(e={},o(e,(0,h.prefixNS)("day-picker__day--selected"),a),o(e,(0,h.prefixNS)("day-picker__day--selecting"),!a&&i),o(e,(0,h.prefixNS)("day-picker__day--disabled"),s),o(e,(0,h.prefixNS)("day-picker__day--today"),l),o(e,(0,h.prefixNS)("day-picker__day--other_month"),n.month()!==r),e));return f.default.createElement("div",{className:u,onMouseEnter:this.onMouseEnter,onClick:this.onClick},n.date())}}]),t}(f.default.PureComponent);_.propTypes={day:d.PropTypes.object,onClick:d.PropTypes.func,onEnter:d.PropTypes.func,selected:d.PropTypes.bool,selecting:d.PropTypes.bool,disabled:d.PropTypes.bool,currentMonth:d.PropTypes.number};var S=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=u({},n.generateDates(n.props.currentDate),{selectStart:null,selectEnter:null,selectEnd:null}),n.onDayClick=n.onDayClick.bind(n),n.onDayEnter=n.onDayEnter.bind(n),n.goPrevYear=n.changeScope.bind(n,-1,"y"),n.goNextYear=n.changeScope.bind(n,1,"y"),n.goPrevMonth=n.changeScope.bind(n,-1,"M"),n.goNextMonth=n.changeScope.bind(n,1,"M"),n}return s(t,e),c(t,[{key:"generateDates",value:function(e){var t=e?(0,v.default)(e):(0,v.default)();t.isValid()||(t=(0,v.default)());var n=t.clone().startOf("month").startOf("isoWeek"),r=t.clone().endOf("month").endOf("isoWeek"),o=new m.default(n,r),a=o.weekNumbers();return a.length<6&&(o=new m.default(n,r.add(6-a.length,"weeks"))),{dateRange:o,currentMoment:t}}},{key:"renderWeeknumbers",value:function(){return this.state.dateRange.weekNumbers().map(function(e){return f.default.createElement("div",{key:e,className:(0,h.prefixNS)("day-picker__weeknumber")},f.default.createElement("span",null,e))})}},{key:"renderWeekdays",value:function(){return v.default.weekdaysShort(!0).map(function(e){return f.default.createElement("div",{key:e,className:(0,h.prefixNS)("day-picker__weekday")},e)})}},{key:"renderDays",value:function(){var e=this,t=this.state,n=t.dateRange,r=t.currentMoment,o=t.selectStart,a=t.selectEnter,i=t.selectEnd,s=this.props,c=s.selectedDates,p=s.validDates,d=s.readOnly,h=o&&a?new m.default(o,a):null;return n.toDayArray().map(function(t){var n=!!h&&l(t,h),s=o?t.isSame(o,"day")||t.isSame(a,"day")||t.isSame(i,"day"):c&&c.some(function(e){return l(t,e)}),y={currentMonth:r.month()};return d?y.disabled=!0:(p&&(y.disabled=!p.some(function(e){return l(t,e)})),y.disabled||(y.onClick=e.onDayClick,y.onEnter=e.onDayEnter)),f.default.createElement(_,u({key:t.toISOString(),day:t,selected:s,selecting:n},y))})}},{key:"onDayClick",value:function(e,t){var n=this,r=this.props,o=r.onChange,a=r.selectRange,i=this.state.selectStart;a?i?this.setState({selectEnd:e},function(){if(o){var e=n.state,r=e.selectStart,a=e.selectEnd;n.setState({selectStart:null,selectEnter:null,selectEnd:null}),o(new m.default(r,a),t)}}):this.setState({selectStart:e,selectEnter:null,selectEnd:null}):o&&o(new m.default(e,e),t)}},{key:"onDayEnter",value:function(e){var t=this.props.selectRange,n=this.state,r=n.selectStart,o=n.selectEnd;t&&r&&!o&&this.setState({selectEnter:e})}},{key:"changeScope",value:function(e,t){this.setState(this.generateDates(this.state.currentMoment.clone().add(e,t)))}},{key:"render",value:function(){var e=this.state.currentMoment;return f.default.createElement("div",{className:(0,h.prefixNS)("day-picker")},f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-header")},f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-header__row")},f.default.createElement(g.IconButton,{iconName:"csweb_triangle_left",buttonStyle:"auxiliary",onClick:this.goPrevYear}),f.default.createElement("span",null,e.year()),f.default.createElement(g.IconButton,{iconName:"csweb_triangle_right",buttonStyle:"auxiliary",onClick:this.goNextYear})),f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-header__row")},f.default.createElement(g.IconButton,{iconName:"csweb_triangle_left",buttonStyle:"auxiliary",onClick:this.goPrevMonth}),f.default.createElement("span",null,e.format("MMMM")),f.default.createElement(g.IconButton,{iconName:"csweb_triangle_right",buttonStyle:"auxiliary",onClick:this.goNextMonth}))),f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-body")},f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-weeknumbers")},this.renderWeeknumbers()),f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-grid")},f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-weekdays")},this.renderWeekdays()),f.default.createElement("div",{className:(0,h.prefixNS)("day-picker-days")},this.renderDays()))))}}]),t}(f.default.Component);t.default=S,S.propTypes={currentDate:d.PropTypes.oneOfType([d.PropTypes.object,d.PropTypes.string]),selectedDates:d.PropTypes.array,validDates:d.PropTypes.array,selectRange:d.PropTypes.bool,readOnly:d.PropTypes.bool,onChange:d.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e){var t=e.value,n=s(e,["value"]);return d.default.createElement(N,n,t)}function u(){return d.default.createElement("span",{className:(0,O.prefixNS)("formcontrols-combobox-emptyitem")},(0,T.formatStr)("combobox_empty_item"))}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),h=n(24),y=r(h),m=n(1),g=n(15),b=r(g),v=n(8),_=r(v),S=n(14),O=n(2),T=n(4),E=n(20),C=r(E),w=C.default.TypeAhead,P=C.default.Menu,N=C.default.MenuItem;l.propTypes={value:m.PropTypes.node};var I=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._menu=null,n.onShow=n.onShow.bind(n),n.onHide=n.onHide.bind(n),n.setMenuRef=n.setMenuRef.bind(n),n.onOverlayFocus=n.onOverlayFocus.bind(n),n}return i(t,e),p(t,[{key:"renderButtons",value:function(e){return this.props.readOnly?null:d.default.createElement(_.default.TextButton,{className:(0,O.prefixNS)("formcontrols-combobox-button"),id:this.props.name+"_dropdown",caret:!0,onClick:e,pullRight:!0,key:"ComboboxButton"})}},{key:"renderItems",value:function(){var e=this.props,t=e.items,n=e.itemComponentClass,r=e.emptyItemClass,o=n||l,a=r||u;return t.map(function(e,t){var n=e||d.default.createElement(a,{index:t,value:e});return d.default.createElement(o,{key:t,eventKey:t,value:n})})}},{key:"onShow",value:function(){var e=this.props.onToggle;e&&e(!0)}},{key:"onHide",value:function(){var e=this.props.onToggle;e&&e(!1)}},{key:"setMenuRef",value:function(e){this._menu=e}},{key:"onOverlayFocus",value:function(e){if(this._menu){y.default.findDOMNode(this._menu).focus()}e.stopPropagation()}},{key:"render",value:function(){var e=this,t=this.props,n=t.readOnly,r=t.onSelect,o=t.textReadOnly,a=t.afterControl,i=t.placeholder,l=t.containerRef,u=s(t,["readOnly","onSelect","textReadOnly","afterControl","placeholder","containerRef"]),p=o&&!n,f=i||(p?(0,T.formatStr)("combobox_select_hint"):null);return delete u.itemComponentClass,delete u.items,delete u.onToggle,d.default.createElement(w,{setContentRef:this.setMenuRef,containerRef:l,onFocus:this.onOverlayFocus,onShow:this.onShow,onHide:this.onHide,grabFocus:!0,layoutConfig:{noSwapVertical:!0}},function(t){var i=t.onToggle,s=t.onHide,l=(0,g.combineInputExtensions)(e.renderButtons(i),a);return[d.default.createElement(b.default,c({key:"text-input",afterControl:l,readOnly:n||o},u,{placeholder:f,onClick:p?i:null})),d.default.createElement(P,{key:"menu",onHide:s,onSelect:r},e.renderItems())]})}}]),t}(f.Component);t.default=I,I.propTypes=c({},S.sharedComboBoxProps)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){return t?e?[e,t]:t:e}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.combineInputExtensions=l;var p=n(0),f=function(e){return e&&e.__esModule?e:{default:e}}(p),d=n(6),h=n(14),y=n(1),m=n(2),g=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onKeyDown=n.onKeyDown.bind(n),n.onChange=n.onChange.bind(n),n}return s(t,e),c(t,[{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;t&&(t(e),e.isDefaultPrevented())||"Backspace"===e.key&&this.props.readOnly}},{key:"onChange",value:function(e){var t=this.props,n=t.onChange,r=t.onValueChange;if(r&&r(e.target.value),n)return e.persist(),n(e)}},{key:"render",value:function(){var e=this.props,t=e.beforeControl,n=e.afterControl,a=e.label,i=e.tooltip,s=e.validationState,l=e.mandatory,c=e.mandatoryEmptyHint,p=e.className,h=e.compact,g=o(e,["beforeControl","afterControl","label","tooltip","validationState","mandatory","mandatoryEmptyHint","className","compact"]);delete g.onKeyDown,delete g.onEnter,delete g.onValueChange,delete g.operationInstance,delete g.uncheckedValues;var b=(0,y.classNames)(p,(0,m.prefixNS)("form-input"),"no-ie-text-input-clear-button"),v=null;if(t||n){var _=t?f.default.createElement(d.InputGroup.Button,{className:(0,m.prefixNS)("formcontrols-textarea-buttons")},t):null,S=n?f.default.createElement(d.InputGroup.Button,{className:(0,m.prefixNS)("formcontrols-textarea-buttons")},n):null;v=f.default.createElement(d.InputGroup,null,_,f.default.createElement(d.FormControl,u({componentClass:"textarea"},g,{className:b,onKeyDown:this.onKeyDown,onChange:this.onChange})),S)}else v=f.default.createElement(d.FormControl,u({componentClass:"textarea"},g,{className:b,onKeyDown:this.onKeyDown,onChange:this.onChange}));var O=(0,y.classNames)(r({},(0,m.prefixNS)("formcontrols-textinput-compact"),h));return f.default.createElement(d.FormGroup,{className:O,validationState:s,"data-mandatory":l,"data-mandatory-empty-hint":c},f.default.createElement(d.ControlLabel,{title:i},a),v)}}]),t}(f.default.Component);t.default=g,g.propTypes=u({},h.sharedTextInputProps,{onKeyDown:y.PropTypes.func,onEnter:y.PropTypes.func,onValueChange:y.PropTypes.func}),g.defaultProps=Object.assign({compact:!1},h.sharedDefaultProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(53),d=n(263),h=r(d),y=n(264),m=r(y),g=0,b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={previewEnable:!1},n.objectSelectPath=(0,p.prefixNS)("catalog-preview-"+ ++g),n.setPreviewEnable=n.setPreviewEnable.bind(n),n}return i(t,e),s(t,[{key:"setPreviewEnable",value:function(e){this.setState({previewEnable:e})}},{key:"renderCatalog",value:function(){return u.default.createElement(f.ContextObjectSetter,{setPath:this.objectSelectPath},u.default.cloneElement(u.default.Children.only(this.props.children),{onPreviewEnable:this.setPreviewEnable}))}},{key:"renderPreview",value:function(){return u.default.createElement(f.ContextObjectWrapper,{readPath:this.objectSelectPath},this.props.previewComponent)}},{key:"renderWithPreview",value:function(){var e=this.props.userSettings,t=!0,n=this.props.previewWidth,r=!0;e&&e.get("preview")&&(n=e.get("preview").get("size"),r=e.get("preview").get("visible"),t=!1);var o=e&&e.get("settingKey")?e.get("settingKey"):"";return u.default.createElement(m.default,{split:"vertical",primary:"second",size:n,visible:r,initialFetch:t,settingKey:o,componentID:"catalog.preview"},this.renderCatalog(),this.renderPreview())}},{key:"render",value:function(){return this.state.previewEnable?this.renderWithPreview():this.renderCatalog()}}]),t}(u.default.Component);t.default=b,b.propTypes={children:c.PropTypes.element.isRequired,previewComponent:c.PropTypes.object,previewWidth:c.PropTypes.oneOfType([c.PropTypes.string,c.PropTypes.number]),userSettings:c.ImmutablePropTypes.map},b.defaultProps={previewComponent:u.default.createElement(h.default,null),previewWidth:"132px"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.catalogTableURL;return t?i.default.createElement(u.default,{catalogTableURL:t,proposalCatalogURL:e.proposalCatalogURL,proposalLabel:e.proposalLabel,queryFormURL:e.queryFormURL,formData:e.formData,operationState:e.operationState,selectedIDs:e.selectedIDs,selectedProposalIDs:e.selectedProposalIDs,selectedURL:e.selectedURL,setSingleSelection:e.setSingleSelection,onSelectionChanged:e.onSelectionChanged,onProposalSelectionChanged:e.onProposalSelectionChanged,onSelect:e.onSelect,onPreviewEnable:e.onPreviewEnable}):i.default.createElement(p.default,{structureRootURL:e.structureRootURL,formData:e.formData,onSelectionChanged:e.onTreeSelectionChanged,onSelect:e.onSelect,onPreviewEnable:e.onPreviewEnable})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(159),u=r(l),c=n(323),p=r(c);o.propTypes={catalogTableURL:s.PropTypes.string,structureRootURL:s.PropTypes.string,proposalCatalogURL:s.PropTypes.string,proposalLabel:s.PropTypes.string,queryFormURL:s.PropTypes.string,formData:s.PropTypes.object,operationState:s.ImmutablePropTypes.map,selectedIDs:s.ImmutablePropTypes.list,selectedProposalIDs:s.ImmutablePropTypes.list,selectedURL:s.PropTypes.string,setSingleSelection:s.PropTypes.func,onSelectionChanged:s.PropTypes.func,onProposalSelectionChanged:s.PropTypes.func,onTreeSelectionChanged:s.PropTypes.func,onPreviewEnable:s.PropTypes.func,onSelect:s.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return"catalog-"+ ++C}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(4),h=n(2),y=n(265),m=r(y),g=n(39),b=r(g),v=n(131),_=r(v),S=n(132),O=r(S),T=n(97),E=b.default.filterable.FilterButton,C=0,w=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={filter:""},n.instanceName=l(),n.proposalInstanceName=n.instanceName+"-proposal",n.setFilter=n.setFilter.bind(n),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.createCatalogSearchInstance,n=e.catalogTableURL,r=e.proposalCatalogURL,o=e.queryFormURL,a=e.formData;t(this.instanceName,n,o,a),r&&t(this.proposalInstanceName,r,null,a)}},{key:"componentWillUnmount",value:function(){this.props.removeSearchInstance(this.instanceName),this.props.removeSearchInstance(this.proposalInstanceName)}},{key:"setFilter",value:function(e){this.setState({filter:e})}},{key:"renderSearchComponent",value:function(){return this.props.queryFormURL?p.default.createElement(O.default,{instanceName:this.instanceName,classTitle:""}):null}},{key:"renderProposalCatalog",value:function(){var e=this.props,t=e.proposalLabel,n=e.selectedProposalIDs,r=e.onProposalSelectionChanged,o=e.onSelect;return p.default.createElement("div",{className:(0,h.prefixNS)("table-catalog-filter-and-proposal")},p.default.createElement("div",{className:(0,h.prefixNS)("table-catalog-proposal-filter")},p.default.createElement(E,{setFilter:this.setFilter})),p.default.createElement("div",{className:(0,h.prefixNS)("table-catalog-proposal-table")},p.default.createElement(m.default,{instanceName:this.proposalInstanceName,title:t,onSelectionChanged:r,filter:this.state.filter,proposalCatalog:!0,selectedIDs:n.toOrderedSet(),onSelect:o})))}},{key:"renderTableCatalog",value:function(){var e=this.props,t=e.proposalCatalogURL,n=e.selectedIDs,r=e.setSingleSelection,a=e.onSelectionChanged,i=e.onSelect,s=e.onPreviewEnable,l=!!t,u=(0,f.classNames)((0,h.prefixNS)("table-catalog"),o({},(0,h.prefixNS)("table-catalog-with-proposal"),l));return p.default.createElement("div",{className:u},l?this.renderProposalCatalog():null,p.default.createElement("div",{className:(0,h.prefixNS)("table-catalog-table")},p.default.createElement(m.default,{instanceName:this.instanceName,title:l?(0,d.formatStr)("tabcatalog_proposal_all_title"):void 0,onSelectionChanged:a,filter:this.state.filter,proposalCatalog:l,selectedIDs:n.toOrderedSet(),onSetSingleSelection:r,onSelect:i,onPreviewEnable:s})))}},{key:"renderTableCatalogWithSearch",value:function(){return p.default.createElement(_.default,{split:"vertical",primary:"first",defaultSize:"300px",minSize:"0px",className:(0,h.prefixNS)("table-catalog-with-search")},this.renderSearchComponent(),this.renderTableCatalog())}},{key:"render",value:function(){return this.props.queryFormURL?this.renderTableCatalogWithSearch():this.renderTableCatalog()}}]),t}(p.default.Component);w.propTypes={catalogTableURL:f.PropTypes.string.isRequired,proposalCatalogURL:f.PropTypes.string,proposalLabel:f.PropTypes.string,queryFormURL:f.PropTypes.string,formData:f.PropTypes.object,operationState:f.ImmutablePropTypes.map,selectedIDs:f.ImmutablePropTypes.list,selectedProposalIDs:f.ImmutablePropTypes.list,setSingleSelection:f.PropTypes.func.isRequired,onSelectionChanged:f.PropTypes.func.isRequired,onProposalSelectionChanged:f.PropTypes.func.isRequired,onPreviewEnable:f.PropTypes.func,onSelect:f.PropTypes.func,createCatalogSearchInstance:f.PropTypes.func.isRequired,removeSearchInstance:f.PropTypes.func.isRequired};var P={createCatalogSearchInstance:T.createCatalogSearchInstance,removeSearchInstance:T.removeSearchInstance};t.default=(0,f.connect)(null,P)(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.getIn(["icon","src"]),n=e.getIn(["icon","name"]);return t||n?p.default.createElement(g.default,{src:t,name:n,className:(0,d.prefixNS)("table-column-content__icon"),size:e.getIn(["icon","size"])||"sm",title:e.getIn(["icon","title"]),alt:e.getIn(["icon","title"])}):null}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnContent=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(3),y=r(h),m=n(26),g=r(m),b=n(29),v=r(b),_=n(161),S=n(9),O=r(S),T=t.ColumnContent=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return e.value!==this.props.value||e.column!==this.props.column||e.column.has("getLink")}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.column,r=e.row,a=e.renderDirectives,i=a.get("linkTarget"),s=null,u=null,c="right"===n.get("content_alignment"),h={},m=n.get("getLink");if(m&&"function"==typeof m&&(h.to=m(t,r,n)),y.default.Map.isMap(t)){var g=t.getIn(["link","to"]);s=l(t),u=t.has("text")?t.get("text"):(0,_.getFormattedValue)(t,n),g&&(h.to=g,h.title=t.getIn(["link","title"])||u)}else u=(0,_.getFormattedValue)(t,n,t);h.to&&(u=p.default.createElement(v.default,{to:h.to,tabIndex:-1,title:h.title,className:(0,d.prefixNS)("table-column-content__link"),target:i},s,u),s=null);var b=(0,f.classNames)((0,d.prefixNS)("table-column-content"),o({},(0,d.prefixNS)("table-column-content-right-align"),c));return p.default.createElement("div",{className:b},s,u)}}]),t}(p.default.Component);T.propTypes={value:f.PropTypes.any,column:f.ImmutablePropTypes.map,row:f.ImmutablePropTypes.map,renderDirectives:f.ImmutablePropTypes.map};var E=function(e){return{renderDirectives:e.renderDirectives}};t.default=(0,O.default)(E)(T)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return t&&t.get("getFormattedValue")?t.get("getFormattedValue")(e):n}Object.defineProperty(t,"__esModule",{value:!0}),t.getFormattedValue=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(){function e(e,t){var n=e.userSettings,r=n.getIn(["table",t.settingID],A);return{userSettings:""===r?A:r}}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.Table||E.default,r=t.providers||[],l=r.slice(0).reverse().reduce(function(e,t){return{featureReducers:Object.assign(e.featureReducers,t.reducers),CombinedComponent:void 0===t.Provider?e.CombinedComponent:t.Provider(e.CombinedComponent)}},{featureReducers:{},CombinedComponent:n}),p=l.featureReducers,d=l.CombinedComponent,y=t.Layout||w.default,b=y(d),v=t.columnActions||[],T=v.reduce(function(e,t){return void 0===t.columnActions?e:e.concat(t.columnActions)},m.default.List()),C=t.toolbarButtons||[],N=C.reduce(function(e,t){return void 0===t.toolbarButtons?e:e.concat(t.toolbarButtons)},m.default.List()),R=t.toolbarMenu||[],j=R.reduce(function(e,t){return void 0===t.toolbarMenu?e:e.concat(t.toolbarMenu)},m.default.List()),x=t.settingPanels||[],k=x.reduce(function(e,t){return void 0===t.settingPanels?e:e.concat(t.settingPanels)},m.default.List()),D=t.headerPanels||[],L=D.reduce(function(e,t){return void 0===t.Panels?e:e.concat(t.Panels)},m.default.List()),F=t.footerPanels||[],B=F.reduce(function(e,t){return void 0===t.Panels?e:e.concat(t.Panels)},m.default.List()),H=t.shortcuts||[],z=H.reduce(function(e,t){return void 0===t.shortcuts?e:e.concat(t.shortcuts)},m.default.List()),U=t.listeners||[],V=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.settingsListener=n.settingsListener.bind(n),n.tableStore=M(p,U.concat([n.settingsListener])),n.props.settingID&&e.fetchUserSetting("table",n.props.settingID),n.persistSettings=n.persistSettings.bind(n),n.state={settingsFetched:!1},n.currentConfiguration=O.DEFAULT_TABLE_CONFIGURATION_NAME,n.setLayoutRef=n.setLayoutRef.bind(n),n}return s(t,e),c(t,[{key:"settingsListener",value:function(){var e=this;return function(t){return function(n){switch(n.type){case S.STORE_SETTINGS:e.persistSettings(n.payload);break;case _.SET_TABLE_CHANGE_CONFIGURATION:e.changeConfiguration(n.payload);break;case _.SET_TABLE_NEW_CONFIGURATION:e.newConfiguration(n.payload);break;case _.SET_TABLE_REMOVE_CONFIGURATION:e.removeConfiguration(n.payload);break;case _.SET_TABLE_RESET_CONFIGURATION:e.resetConfiguration()}return t(n)}}}},{key:"setLayoutRef",value:function(e){this.layoutRef=h.default.findDOMNode(e)}},{key:"getChildContext",value:function(){return{tableStore:this.tableStore,tableStoreSubscription:null}}},{key:"componentWillMount",value:function(){var e=this.props,t=e.columns,n=e.orderedColumns,r=e.hiddenColumns,o=this.tableStore.dispatch;o((0,_.setColumns)(t)),o((0,_.setOrderedColumns)(n)),o((0,_.setHiddenColumns)(r)),o((0,_.setColumnActions)(T)),o((0,_.setToolbarButtons)(N)),o((0,_.setToolbarMenu)(j)),o((0,_.setSettingPanels)(k)),o((0,_.setHeaderPanels)(L)),o((0,_.setFooterPanels)(B)),o((0,_.setTableUserSettings)("orderedColumns")),o((0,_.setTableUserSettings)("hiddenColumns")),o((0,_.setTableCurrentConfiguration)(O.DEFAULT_TABLE_CONFIGURATION_NAME))}},{key:"componentDidMount",value:function(){var e=this,t=this.tableStore.dispatch;z.forEach(function(n){return(0,I.addLocalShortcut)(e.layoutRef,n.keys,function(e){return n.handler(e,t)})})}},{key:"componentWillUnmount",value:function(){(0,I.removeAllLocalShortcuts)(this.layoutRef)}},{key:"componentWillReceiveProps",value:function(e){var t=this.tableStore.dispatch;if(e.columns!==this.props.columns&&t((0,_.setColumns)(e.columns)),e.orderedColumns!==this.props.orderedColumns&&t((0,_.setOrderedColumns)(e.orderedColumns)),e.hiddenColumns!==this.props.hiddenColumns&&t((0,_.setHiddenColumns)(e.hiddenColumns)),e.userSettings!==this.props.userSettings&&(this.setState({settingsFetched:!0}),e.userSettings)){var n=e.userSettings.getIn(["configurations",e.userSettings.get("lastUsed")],A);if(n=m.default.Map(n),void 0===n.get("hiddenColumns")&&(n=n.set("hiddenColumns",e.hiddenColumns)),void 0===n.get("orderedColumns")&&(n=n.set("orderedColumns",e.orderedColumns)),t((0,_.setTableSettingsFetched)(n.set("columnIDs",e.columns.map(function(e){return e.get("id")})))),e.userSettings.get("configurations")){var r=Object.keys(e.userSettings.get("configurations").toJS());t((0,_.setTableUserSettingConfigurations)(m.default.List(r))),this.currentConfiguration=e.userSettings.get("lastUsed")}else this.currentConfiguration=O.DEFAULT_TABLE_CONFIGURATION_NAME;t((0,_.setTableCurrentConfiguration)(this.currentConfiguration))}e.settingID&&e.settingID!==this.props.settingID&&(e.fetchUserSetting("table",e.settingID),this.setState({settingsFetched:!1}))}},{key:"persistSettings",value:function(e){if(e){var t=A;this.props.userSettings&&this.props.userSettings.get("configurations")&&(t=this.props.userSettings.get("configurations")),t=t.set(this.currentConfiguration,e),this.props.storeUserSetting("table",this.props.settingID,m.default.fromJS({lastUsed:this.currentConfiguration,configurations:t}))}}},{key:"changeConfiguration",value:function(e){if(e!==this.currentConfiguration&&this.props.userSettings){this.currentConfiguration=e;var t=this.props.userSettings.getIn(["configurations",e],A);t=m.default.Map(t),void 0===t.get("hiddenColumns")&&(t=t.set("hiddenColumns",this.props.hiddenColumns)),void 0===t.get("orderedColumns")&&(t=t.set("orderedColumns",this.props.orderedColumns));var n=this.tableStore.dispatch;if(n((0,_.setTableSettingsFetched)(m.default.fromJS(t).set("columnIDs",this.props.columns.map(function(e){return e.get("id")})))),n((0,_.setTableCurrentConfiguration)(this.currentConfiguration)),this.props.userSettings&&this.props.userSettings.get("configurations")){var r=this.props.userSettings.get("configurations");this.props.storeUserSetting("table",this.props.settingID,m.default.fromJS({lastUsed:this.currentConfiguration,configurations:r}))}}}},{key:"newConfiguration",value:function(e){if(e!==O.DEFAULT_TABLE_CONFIGURATION_NAME&&this.props.userSettings){var t=this.props.userSettings.get("configurations")?Object.keys(this.props.userSettings.get("configurations").toJS()):[];this.currentConfiguration=e;var n=this.tableStore.dispatch;t.push(e),n((0,_.setTableUserSettingConfigurations)(m.default.List(t))),n((0,_.setTableCurrentConfiguration)(this.currentConfiguration))}}},{key:"removeConfiguration",value:function(e){var t=Object.keys(this.props.userSettings.get("configurations").toJS());if(-1!==t.indexOf(e)&&this.props.userSettings){var n=this.props.userSettings.get("configurations");e===this.currentConfiguration&&(this.currentConfiguration=O.DEFAULT_TABLE_CONFIGURATION_NAME);var r=this.tableStore.dispatch;1===n.size?(this.props.resetUserSetting("table",this.props.settingID),r((0,_.setTableUserSettingConfigurations)(m.default.List()))):(n=n.delete(e),this.props.storeUserSetting("table",this.props.settingID,m.default.fromJS({lastUsed:this.currentConfiguration,configurations:n})),delete t[e],r((0,_.setTableUserSettingConfigurations)(m.default.List(t)))),r((0,_.setTableCurrentConfiguration)(this.currentConfiguration))}}},{key:"resetConfiguration",value:function(){var e=A;void 0===e.get("hiddenColumns")&&(e=e.set("hiddenColumns",this.props.hiddenColumns)),void 0===e.get("orderedColumns")&&(e=e.set("orderedColumns",this.props.orderedColumns)),(0,this.tableStore.dispatch)((0,_.setTableSettingsFetched)(m.default.fromJS(e).set("columnIDs",this.props.columns.map(function(e){return e.get("id")}))))}},{key:"render",value:function(){var e=o(this.props,[]);return delete e.columns,delete e.orderedColumns,delete e.hiddenColumns,delete e.userSettings,delete e.settingID,delete e.fetchUserSetting,delete e.storeUserSetting,delete e.resetUserSetting,f.default.createElement(b,u({ref:this.setLayoutRef},e))}}]),t}(f.default.Component);return V.propTypes={columns:g.ImmutablePropTypes.list,orderedColumns:g.ImmutablePropTypes.orderedSet,hiddenColumns:g.ImmutablePropTypes.set,settingID:g.PropTypes.string,fetchUserSetting:g.PropTypes.func,storeUserSetting:g.PropTypes.func,resetUserSetting:g.PropTypes.func,userSettings:g.PropTypes.object},V.childContextTypes={tableStore:O.storeShape,tableStoreSubscription:g.PropTypes.object},(0,g.connect)(e,{storeUserSetting:P.storeUserSetting,fetchUserSetting:P.fetchUserSetting,resetUserSetting:P.resetUserSetting})(V)};var p=n(0),f=r(p),d=n(24),h=r(d),y=n(3),m=r(y),g=n(1),b=n(70),v=r(b),_=n(12),S=n(163),O=n(21),T=n(123),E=r(T),C=n(164),w=r(C),P=n(69),N=n(2),I=n(31),R=function(){return function(e){return function(t){return N.Console.log("dispatching table actions",t),e(t)}}},j=function(e,t){var n=g.applyMiddleware.apply(void 0,[g.thunk,R].concat(l(e)));return(N.debugMode&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__(t)(n):n)(g.createStore)},x=0,M=function(e,t){return j(t,{name:"Table"+ ++x})((0,g.combineReducers)(Object.assign({},v.default,e)),{tableID:x})},A=m.default.Map()},function(e,t,n){"use strict";function r(e){return{type:a,payload:e}}function o(){return function(e,t){var n={},o=t();return o.settingsToStore.forEach(function(e){n[e]=o[e]}),e(r(n))}}Object.defineProperty(t,"__esModule",{value:!0}),t.storeSettings=o;var a=t.STORE_SETTINGS="cs-web-components-base-STORE_SETTINGS";t.default={storeSettings:o,STORE_SETTINGS:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),u(n,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.id,a=o(t,["className","id"]);return p.default.createElement("div",{className:(0,d.prefixNS)("table-layout-default"),id:r},p.default.createElement("div",{className:"clearfix table-layout-header"},p.default.createElement(g.default,null),p.default.createElement(y.default,null)),p.default.createElement(e,l({className:(0,f.classNames)(n,"table-layout-content")},a)),p.default.createElement("div",{className:"clearfix table-layout-footer"},p.default.createElement(v.default,null)))}}]),n}(p.default.Component);return t.propTypes={className:f.PropTypes.string,id:f.PropTypes.string},t};var c=n(0),p=r(c),f=n(1),d=n(2),h=n(124),y=r(h),m=n(125),g=r(m),b=n(126),v=r(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=function(t){function n(){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,t),c(n,[{key:"render",value:function(){var t=this.props,n=t.className,r=t.contentHeight,a=o(t,["className","contentHeight"]),i=o(a,[]);delete i.collapsible,delete i.onExpansionChanged,delete i.title,delete i.icon,delete i.expanded;var s=(0,d.classNames)(n,"table-layout-content");return f.default.createElement("div",{className:(0,d.classNames)((0,h.prefixNS)("content-block-table"))},f.default.createElement(m.default,u({collapsible:!0},a),f.default.createElement(m.default.Header,null,f.default.createElement(b.default,null)),f.default.createElement(m.default.Body,null,f.default.createElement(_.default,null),f.default.createElement("div",{className:(0,d.classNames)((0,h.prefixNS)("content-block-table__main")),style:{height:r}},f.default.createElement(e,u({className:s},i))),f.default.createElement(O.default,null))))}}]),n}(f.default.Component);return t.propTypes={className:d.PropTypes.string,contentHeight:d.PropTypes.string},t}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=l;var p=n(0),f=r(p),d=n(1),h=n(2),y=n(32),m=r(y),g=n(124),b=r(g),v=n(125),_=r(v),S=n(126),O=r(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(271),a=r(o),i=n(167),s=r(i),l=n(272),u=r(l);t.default={reducers:u.default,Panel:s.default,ToolbarButton:a.default,toolbarButtons:[a.default],Panels:[s.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(51),p=r(c),f=n(1),d=n(2),h=n(9),y=r(h),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelectTab=n.onSelectTab.bind(n),n.state={activeKey:1},n}return i(t,e),s(t,[{key:"onSelectTab",value:function(e){this.setState({activeKey:e})}},{key:"render",value:function(){return u.default.createElement("div",{className:(0,d.prefixNS)("table-setting-panels")},u.default.createElement(p.default.Container,{id:"table-setting-panels",activeKey:this.state.activeKey,onSelect:this.onSelectTab},u.default.createElement(p.default.Bar,{onSelectFromMenu:this.onSelectTab},this.props.tabTitles),u.default.createElement(p.default.Content,null,this.props.tabPanes)))}}]),t}(u.default.Component);m.propTypes={tabTitles:f.ImmutablePropTypes.list,tabPanes:f.ImmutablePropTypes.list};var g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.panels=[],n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.registerPanel(this)}},{key:"dispatchSettings",value:function(){this.panels.forEach(function(e){e.dispatchSettings?e.dispatchSettings():d.Console.warn("Panel should implement a dispatchSettings() callback")})}},{key:"resetSettings",value:function(){this.panels.forEach(function(e){e.resetSettings?e.resetSettings():d.Console.warn("Panel should implement a resetSettings() callback")})}},{key:"render",value:function(){var e=this;this.panels=[];var t=this.props.settingPanels;if(void 0===t||0===t.count())return null;var n=t.filter(function(e){return void 0!==e.settingsTitle}),r=t.filter(function(e){return void 0===e.settingsTitle}),o=n.map(function(e,t){return u.default.createElement(p.default.Title,{key:String(t),eventKey:t+1,title:e.settingsTitle()})}),a=n.map(function(t,n){return u.default.createElement(p.default.Pane,{key:String(n),eventKey:n+1},u.default.createElement("div",{className:(0,d.prefixNS)("table-setting-panel-wrapper")},u.default.createElement(t,{registerPanel:function(t){return e.panels.push(t)}})))});return r.count()>0&&(o.push(u.default.createElement(p.default.Title,{key:"miscellaneous",eventKey:n.count()+1,title:""})),a.push(u.default.createElement(p.default.Pane,null,r.map(function(t,n){return u.default.createElement(t,{key:String(n),registerPanel:function(t){e.panels.push(t)}})})))),u.default.createElement(m,{tabTitles:o,tabPanes:a})}}]),t}(u.default.Component);g.propTypes={settingPanels:f.ImmutablePropTypes.list,registerPanel:f.PropTypes.func};var b=function(e){return{settingPanels:e.settingPanels}};t.default=(0,y.default)(b)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){i(this,n);var t=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={containerHeight:0,rowCount:0,virtualHeight:0,rowBegin:0,rows:h.default.List(),visibleOriginRows:h.default.List(),headerHeight:0,showFixedColumns:!1},t.tableViewportScroller=null,t.onScroll=t.onScroll.bind(t),t.scrollRows=t.scrollRows.bind(t),t.calcStateOnResize=t.calcStateOnResize.bind(t),t.calcStateLater=t.calcStateLater.bind(t),t.getContainerHeight=t.getContainerHeight.bind(t),t.onWheel=t.onWheel.bind(t),t.onTouchMove=t.onTouchMove.bind(t),t.onTouchStart=t.onTouchStart.bind(t),t.isInViewport=t.isInViewport.bind(t),t._resizeTrigger=null,t.rowHeight=e.minRowHeight,t.yOrigin=0,t}return l(n,t),c(n,[{key:"componentDidMount",value:function(){void 0===this.rowHeight&&this.setRowHeight(),this.calcState(this.props,!0),this._resizeTrigger.contentWindow.addEventListener("resize",this.calcStateOnResize)}},{key:"componentWillUnmount",value:function(){this.rowHeight=void 0,this.calcStateTimeout&&clearTimeout(this.calcStateTimeout),this._resizeTrigger.contentWindow.removeEventListener("resize",this.calcStateOnResize)}},{key:"componentWillReceiveProps",value:function(e){e.condensed!==this.props.condensed?(this.rowHeight=e.minRowHeight,this.calcState(e,!0)):void 0!==e.minRowHeight&&e.minRowHeight!==this.rowHeight?(this.rowHeight=e.minRowHeight,this.calcState(e,!0)):e.rows!==this.props.rows||e.hiddenRows!==this.props.hiddenRows?this.calcState(e,!0):e.fixedColumns!==this.props.fixedColumns&&this.calcState(e),e.focusedRow&&this.props.focusedRow!==e.focusedRow&&this.scrollRowIntoView(e),e.focusedRow&&e.focusedColumn&&this.props.focusedColumn!==e.focusedColumn&&this.scrollColumnIntoView(e)}},{key:"scrollRowIntoView",value:function(e){var t=e.focusedRow,n=e.rows,r=this.state.rows,o=n.findIndex(function(e){return e.get("id")===t}),a=r.get(r.size-3),i=a?n.findIndex(function(e){return e.get("id")===a.get("id")}):-1,s=n.findIndex(function(e){return e.get("id")===r.get(0).get("id")});if(-1!==i&&o>i){var l=o-i;this.tableViewportScroller.scrollTop+=l*this.rowHeight}else o<=s&&(this.tableViewportScroller.scrollTop+=Math.min((o-(s+1))*this.rowHeight,0))}},{key:"scrollColumnIntoView",value:function(e){if(this._tableDivRef){var t=e.visibleColumns,n=e.fixedColumns;if(!(n>0?t.take(n):t).contains(e.focusedColumn)){var r=this._tableDivRef.querySelector('tr[data-row-id="'+CSS.escape(e.focusedRow)+'"]\n                 td[data-column-id="'+CSS.escape(e.focusedColumn)+'"]');if(r){var o=this._fixedTableDivRef?this._fixedTableDivRef.clientWidth:0;this._tableDivRef.scrollLeft>r.offsetLeft-o?this._tableDivRef.scrollLeft=Math.max(r.offsetLeft-o,0):this._tableDivRef.scrollLeft+this._tableDivRef.offsetWidth<r.offsetLeft+r.offsetWidth&&(this._tableDivRef.scrollLeft=r.offsetLeft+r.offsetWidth-this._tableDivRef.offsetWidth)}}}}},{key:"componentDidUpdate",value:function(){if(0!==this.state.containerHeight||this.isInViewport()){if(void 0===this.rowHeight||0===this.rowHeight){var e=this.rowHeight;this.setRowHeight(),void 0!==this.rowHeight&&this.rowHeight!==e&&this.calcState(this.props)}}else this.calcStateLater()}},{key:"isInViewport",value:function(){if(!this._tableDivRef)return!1;var e=this._tableDivRef.getBoundingClientRect();return Math.max(e.top,e.left,e.height,e.width)>0}},{key:"getTHeadHeight",value:function(){var e=this._tableDivRef.getElementsByTagName("thead")[0];return e?e.getBoundingClientRect().height:38}},{key:"setRowHeight",value:function(){var e=this._tableDivRef.getElementsByTagName("td")[0];e&&(this.rowHeight=e.getBoundingClientRect().height)}},{key:"calcStateOnResize",value:function(){var e=this;this.getContainerHeight()!==this.state.containerHeight&&(this.calcStateTimeout&&clearTimeout(this.calcStateTimeout),this.calcStateTimeout=setTimeout(function(){e.getContainerHeight()!==e.state.containerHeight&&e.calcState(e.props)},100))}},{key:"calcStateLater",value:function(){var e=this;this.calcStateTimeout&&clearTimeout(this.calcStateTimeout),this.calcStateTimeout=setTimeout(function(){e.calcState(e.props)},200)}},{key:"getContainerHeight",value:function(){return this._tableDivRef.clientHeight-this.getTHeadHeight()}},{key:"calcState",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=this.state.visibleOriginRows;if(n){var o=e.rows,a=e.hiddenRows;r=this.getVisibleOriginRows(o,a)}var i=this.getTHeadHeight(),s=this.getContainerHeight(),l=this.tableViewportScroller.scrollTop,u=this.rowHeight,c=1,p=1,f=0;void 0!==u&&0!==u&&(c=Math.ceil(s/u)+1,p=u*r.count(),f=this.getRowBegin(p,l?this.adjustScrollTop(l):0,r.count()));var d=e.fixedColumns>0&&this._tableDivRef&&this._tableDivRef.clientHeight!==this._tableDivRef.offsetHeight,h={visibleOriginRows:r,rowCount:c,rowBegin:f},y={headerHeight:i,containerHeight:s,virtualHeight:p,showFixedColumns:d},m=!1;Object.keys(h).some(function(e){return h[e]!==t.state[e]})?(h.rows=this.getRows(r,f,c),m=!0):m=Object.keys(y).some(function(e){return y[e]!==t.state[e]}),m&&this.setState(Object.assign(h,y))}},{key:"getVisibleOriginRows",value:function(e,t){return e.filterNot(function(e){return t.contains(e.get("id"))})}},{key:"getRowBegin",value:function(e,t,n){return Math.ceil(0===e?0:t/e*1*n)}},{key:"getRows",value:function(e,t,n){return e.slice(Math.max(0,t),t+n)}},{key:"onScroll",value:function(e){var t=e.target.scrollTop;this.scrollRows(t)}},{key:"onWheel",value:function(e){var t=e.deltaY,n=e.deltaMode;if(0!==t&&this.tableViewportScroller){var r=this.rowHeight||1,o=n>0?r*n:1;this.tableViewportScroller.scrollTop+=t*o}}},{key:"onTouchStart",value:function(e){this.yOrigin=e.touches[0].clientY}},{key:"onTouchMove",value:function(e){var t=e.changedTouches[0].clientY,n=this.yOrigin-t;this.tableViewportScroller.scrollTop+=n,this.yOrigin=t}},{key:"adjustScrollTop",value:function(e){var t=this.rowHeight||1,n=this.state;return e+e*t/(n.virtualHeight-n.containerHeight)}},{key:"scrollRows",value:function(e){var t=this.state,n=t.virtualHeight,r=t.rowCount,o=this.adjustScrollTop(e),a=this.getRowBegin(n,o,this.state.visibleOriginRows.count());a!==this.state.rowBegin&&this.setState({rowBegin:a,rows:this.getRows(this.state.visibleOriginRows,a,r)})}},{key:"render",value:function(){var t=this,n=this.props,r=n.id,i=n.fixedColumns,s=a(n,["id","fixedColumns"]),l=this.props.selectableRowIDs?this.props.selectableRowIDs:s.rows.map(function(e){return e.get("id")});delete s.rows,delete s.height,delete s.minRowHeight,delete s.hiddenRows;var c=this.state,p=c.virtualHeight,d=c.headerHeight,h=c.containerHeight,g=c.showFixedColumns,b={height:p+d},v=(0,y.classNames)((0,m.prefixNS)("table-viewport-content"),o({},(0,m.prefixNS)("table-viewport-content-hide-scrollbar"),p<h)),_=h+d;return f.default.createElement("div",{className:(0,m.prefixNS)("table-viewport-container"),id:r,onWheel:this.onWheel,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove},f.default.createElement("div",{className:(0,m.prefixNS)("table-viewport-scroller"),ref:function(e){return t.tableViewportScroller=e},onScroll:this.onScroll},f.default.createElement("div",{className:(0,m.prefixNS)("table-viewport-sizer"),style:b})),f.default.createElement("div",{className:v,ref:function(e){return t._tableDivRef=e}},f.default.createElement(e,u({},s,{rows:this.state.rows,selectableRowIDs:l,height:_})),g?f.default.createElement("div",{className:(0,m.prefixNS)("table-viewport-content-fixer")},f.default.createElement("div",{className:(0,m.prefixNS)("table-viewport-content-fixer__wrapper"),ref:function(e){return t._fixedTableDivRef=e}},f.default.createElement(e,u({},s,{onlyShowColumns:i,rows:this.state.rows,height:_,className:"table-unspread"})))):null,f.default.createElement("iframe",{tabIndex:-1,className:(0,m.prefixNS)("table-viewport-resizetrigger"),ref:function(e){return t._resizeTrigger=e}})))}}]),n}(f.default.Component);t.propTypes={rows:y.ImmutablePropTypes.list,selectableRowIDs:y.ImmutablePropTypes.list,hiddenRows:y.ImmutablePropTypes.set,minRowHeight:y.PropTypes.number,id:y.PropTypes.string,condensed:y.PropTypes.bool,fixedColumns:y.PropTypes.number,focusedRow:y.PropTypes.string,focusedColumn:y.PropTypes.string,visibleColumns:y.ImmutablePropTypes.orderedSet},t.defaultProps={hiddenRows:h.default.Set()};var n=function(e){return{fixedColumns:e.fixedColumns,focusedRow:e.focusedRow,focusedColumn:e.focusedColumn,visibleColumns:(0,g.getVisibleColumns)(e)}};return(0,v.default)(n)(t)};var p=n(0),f=r(p),d=n(3),h=r(d),y=n(1),m=n(2),g=n(70),b=n(9),v=r(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),a=r(o),i=n(274),s=r(i),l=n(90),u=r(l),c=n(275),p=r(c),f=n(277),d=r(f);t.default={actions:a.default,addSortFunction:o.addSortFunction,removeSortFunction:o.removeSortFunction,Provider:s.default,reducers:u.default,getSortColumns:l.getSortColumns,SortButton:p.default,columnActions:[p.default],settingPanels:[d.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.row,n=e.toggleCollapse,r=e.collapsed,o=r?N.default:w.default;return p.default.createElement(h.default,{className:(0,y.prefixNS)("table-group-row__expander"),onClick:function(e){return n(t,e)},src:o,size:"sm"})}function l(e){return{columns:e.columns,collapsedGroups:(0,_.getCollapsedGroups)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.RowRenderer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(11),h=r(d),y=n(2),m=n(9),g=r(m),b=n(4),v=n(45),_=n(56),S=n(160),O=r(S),T=n(171),E=r(T),C=n(72),w=r(C),P=n(91),N=r(P);s.propTypes={row:f.ImmutablePropTypes.map,toggleCollapse:f.PropTypes.func,collapsed:f.PropTypes.bool};var I=t.RowRenderer=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={collapsed:n.isCollapsed(e.collapsedGroups,e.row)},n.toggleGroup=n.toggleGroup.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.collapsedGroups===this.props.collapsedGroups&&e.row===this.props.row||this.setState({collapsed:this.isCollapsed(e.collapsedGroups,e.row)})}},{key:"isCollapsed",value:function(e,t){return e.contains(t.get("id"))}},{key:"toggleGroup",value:function(e){this.props.toggleGroup(e.get("id"))}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.columns,r=n.find(function(e){return e.get("id")===t.get("columnID")}),o=r.get("contentRenderer")||O.default,a=t.get("value"),i=t.get("level"),l={paddingLeft:i+"em"},u=t.get("groupSize");return p.default.createElement("div",{className:(0,y.prefixNS)("table-group-row-renderer"),style:l},p.default.createElement(s,{row:t,toggleCollapse:this.toggleGroup,collapsed:this.state.collapsed}),p.default.createElement(E.default,{amount:u,tooltip:(0,b.formatStr)("subelements",{amount:u})}),p.default.createElement("div",{className:(0,y.prefixNS)("table-group-row-renderer__content")},p.default.createElement(o,{value:a,column:r,row:t,isGroup:!0})))}}]),t}(p.default.Component);I.propTypes={columns:f.ImmutablePropTypes.list,row:f.ImmutablePropTypes.map,toggleGroup:f.PropTypes.func,collapsedGroups:f.ImmutablePropTypes.set},t.default=(0,g.default)(l,{toggleGroup:v.toggleGroup})(I)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(0),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(2),i=n(6),s=n(1),l=function(e){var t=e.amount,n=e.tooltip;return void 0!==t?o.default.createElement(i.Badge,{className:(0,a.prefixNS)("amount-badge"),title:n},t):null};l.propTypes={amount:s.PropTypes.number,tooltip:s.PropTypes.string},t.default=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(57),a=r(o),i=n(282),s=r(i),l=n(283),u=r(l),c=n(92),p=r(c),f=n(284),d=r(f);t.default={actions:a.default,Provider:s.default,reducers:p.default,getFilter:c.getFilter,shortcuts:u.default,ToolbarButton:d.default,FilterButton:f.FilterButton,toolbarButtons:[d.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(285),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={Provider:o.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(93),a=r(o),i=n(286),s=r(i),l=n(128),u=r(l),c=n(288),p=r(c);t.default={actions:a.default,Provider:s.default,reducers:u.default,getSingleSelectionMode:l.getSingleSelectionMode,columnActions:[p.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(293),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={ColumnResizer:o.default,columnActions:[o.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(294),a=r(o),i=n(295),s=r(i);t.default={Panel:a.default,Panels:[a.default],settingPanels:[s.default]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(296),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={ColumnDragger:o.default,COLUMNTYPE:r.COLUMNTYPE,columnActions:[o.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(297),a=r(o),i=n(298),s=r(i);t.default={ColumnDropper:a.default,columnActions:[a.default],settingPanels:[s.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return{Table:(0,h.default)(c.default),Layout:l.default,providers:[m.default,_.default,E.default,b.default,O.default,x.default],columnActions:[m.default,_.default,E.default,w.default,N.default,R.default],toolbarButtons:[m.default,_.default,E.default,x.default],headerPanels:[b.default],footerPanels:[m.default,_.default,E.default],settingPanels:[A.default,b.default,m.default,N.default,H.default],shortcuts:[_.default]}}function a(){return{Table:(0,h.default)(c.default),Layout:l.default,providers:[F.default,_.default,D.default,m.default,E.default,b.default,O.default,x.default],columnActions:[m.default,_.default,E.default,w.default,N.default,R.default],toolbarButtons:[m.default,_.default,E.default,D.default,x.default],headerPanels:[b.default],footerPanels:[m.default,_.default,E.default],settingPanels:[A.default,b.default,m.default,N.default,H.default],shortcuts:[_.default]}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,f.default)(Object.assign({},o(),e))}Object.defineProperty(t,"__esModule",{value:!0}),t.SimpleTable=void 0,t.getDefaultTableOptions=o,t.getDefaultTreeTableOptions=a,t.DefaultTable=i;var s=n(165),l=r(s),u=n(123),c=r(u),p=n(162),f=r(p),d=n(168),h=r(d),y=n(169),m=r(y),g=n(127),b=r(g),v=n(172),_=r(v),S=n(173),O=r(S),T=n(174),E=r(T),C=n(177),w=r(C),P=n(178),N=r(P),I=n(175),R=r(I),j=n(166),x=r(j),M=n(176),A=r(M),k=n(180),D=r(k),L=n(181),F=r(L),B=n(182),H=r(B);t.SimpleTable=(0,f.default)();t.default={DefaultTable:i,getDefaultTableOptions:o,getDefaultTreeTableOptions:a}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(74),a=r(o),i=n(304),s=r(i),l=n(306),u=r(l),c=n(307);t.default={actions:a.default,Provider:s.default,reducers:u.default,ToggleButton:c.ToggleButton,ExpandButton:c.ExpandButton,CollapseButton:c.CollapseButton,toolbarButtons:[c.ToggleButton,c.CollapseButton,c.ExpandButton]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(308),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={Provider:o.default}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(309),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default={settingPanels:[o.default]}},function(e,t,n){"use strict";function r(e){return{type:a,payload:e}}function o(){return function(e,t){var n={},o=t();return o.settingsToStore.forEach(function(e){return n[e]=o[e]}),e(r(n))}}Object.defineProperty(t,"__esModule",{value:!0}),t.storeSettings=o;var a=t.STORE_SETTINGS="cs-web-components-base-STORE_SETTINGS";t.default={storeSettings:o,STORE_SETTINGS:a}},function(e,t,n){"use strict";function r(e,t,n){return e.search.favouritesByClass.getIn([t,"favourites",n,"resultLink"])}function o(e,t,n){return void 0!==r(e,t,n)}function a(e,t,n){return e.search.favouritesByClass.getIn([t,"favourites",n,"name"])}Object.defineProperty(t,"__esModule",{value:!0}),t.getFavouriteResultLink=r,t.isSpecialFavourite=o,t.getFavouriteName=a},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnN0YXI8L2Npcy1uYW1lPg08Y2lzLXNlbWFudGljPnN1Y2Nlc3M8L2Npcy1zZW1hbnRpYz4NPHBhdGggZmlsbD0iI0FEQzkwMiIgZD0iTTEzLjIzLDZIOS4wMkw3LjczLDIuNDdjLTAuMDktMC4yNi0wLjI1LTAuMjYtMC4zNSwwTDYuMDcsNkgxLjc4QzEuNTEsNiwxLjQ2LDYuMTMsMS42OSw2LjI5TDUuMTYsOC44DQlsLTEuMyw0Yy0wLjA5LDAuMjYsMC4wMywwLjM0LDAuMjUsMC4xOGwzLjQyLTIuNDdsMy40MywyLjQ2YzAuMjIsMC4xNiwwLjM0LDAuMDgsMC4yNS0wLjE4bC0xLjMtNC4wMWwzLjQyLTIuNDkNCUMxMy41NSw2LjEzLDEzLjUxLDYsMTMuMjMsNnoiLz4NPC9zdmc+DQ=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnNlYXJjaC1kb2N1bWVudDwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+cHJpbWFyeTwvY2lzLXNlbWFudGljPg08cGF0aCBmaWxsPSIjMDA4MEM1IiBkPSJNOS41LDZIMTJMOSwzdjIuNUM5LDUuOCw5LjIsNiw5LjUsNnoiLz4NPHBhdGggZmlsbD0iIzAwODBDNSIgZD0iTTgsNlYySDMuNUMzLjIsMiwzLDIuMiwzLDIuNXYxMUMzLDEzLjgsMy4yLDE0LDMuNSwxNGg2LjdsMCwwbC0xLjQtMS40QzguNSwxMi45LDgsMTMsNy41LDEzbDAsMGwwLDANCWMtMS4zLDAtMi40LTEuMS0yLjQtMi40czEuMS0yLjQsMi40LTIuNHMyLjQsMS4xLDIuNCwyLjRsMCwwbDAsMGMwLDAuNS0wLjEsMC45LTAuNCwxLjNsMS40LDEuNGMwLjIsMC4yLDAuMSwwLjMsMCwwLjRMMTAuNiwxNGwwLDANCWgwLjljMC4zLDAsMC41LTAuMiwwLjUtMC41VjdIOUM4LjUsNyw4LDYuNSw4LDZ6Ii8+DTxjaXJjbGUgZmlsbD0iIzAwODBDNSIgY3g9IjcuNSIgY3k9IjEwLjYiIHI9IjEuNiIvPg08L3N2Zz4N"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnNlYXJjaDwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+cHJpbWFyeTwvY2lzLXNlbWFudGljPg08cGF0aCBmaWxsPSIjMDA4MEM1IiBkPSJNMTMuNzgsMTIuMzVMMTEuMDMsOS42YzAuNDktMC43NiwwLjc3LTEuNjUsMC43Ny0yLjYyYzAtMC4wMiwwLTAuMDMsMC0wLjA1YzAtMC4wMSwwLTAuMDIsMC0wLjAyDQljMC0yLjcxLTIuMi00LjkxLTQuOTEtNC45MXMtNC45MSwyLjItNC45MSw0LjkxYzAsMi43MSwyLjIsNC45MSw0LjkxLDQuOTFjMC4wMSwwLDAuMDEsMCwwLjAyLDBjMC4wMiwwLDAuMDQsMC4wMSwwLjA1LDAuMDENCWMwLjk2LDAsMS44Ni0wLjI5LDIuNjItMC43N2wyLjc1LDIuNzVjMC4yNiwwLjI2LDAuNTEsMC4yNiwwLjg2LDBsMC41OS0wLjU5QzE0LjA2LDEyLjkyLDE0LjEsMTIuNjgsMTMuNzgsMTIuMzV6IE02LjksMy42OQ0JYzEuNzgsMCwzLjIyLDEuNDQsMy4yMiwzLjIyYzAsMS43OC0xLjQ0LDMuMjItMy4yMiwzLjIyUzMuNjgsOC42OSwzLjY4LDYuOTJDMy42OCw1LjE0LDUuMTIsMy42OSw2LjksMy42OXoiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=n+1;return t(e.set("children",e.get("children").map(function(n){return r(n,t,a,e)})),n,o)}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,a=n+1,i=t(e,n,r);return i.set("children",i.get("children").map(function(e){return o(e,t,a,i)}))}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:void 0,o=n+1,i=t.descending?t.descending(e,n,r):e,s=i.set("children",i.get("children").map(function(e){return a(e,t,o,i)}));return t.ascending?t.ascending(s,n,r):s}Object.defineProperty(t,"__esModule",{value:!0}),t.visitBottomUpDepthFirst=r,t.visitTopDownDepthFirst=o,t.visit=a;var i=t.walkBottomUpDepthFirstCustom=function e(t){return regeneratorRuntime.mark(function n(r){var o,a,i,s,l,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:o=[],t(r).forEach(function(e){o.push(e)}),a=!0,i=!1,s=void 0,n.prev=5,l=o[Symbol.iterator]();case 7:if(a=(u=l.next()).done){n.next=13;break}return c=u.value,n.delegateYield(e(t)(c),"t0",10);case 10:a=!0,n.next=7;break;case 13:n.next=19;break;case 15:n.prev=15,n.t1=n.catch(5),i=!0,s=n.t1;case 19:n.prev=19,n.prev=20,!a&&l.return&&l.return();case 22:if(n.prev=22,!i){n.next=25;break}throw s;case 25:return n.finish(22);case 26:return n.finish(19);case 27:return n.next=29,r;case 29:case"end":return n.stop()}},n,this,[[5,15,19,27],[20,,22,26]])})},s=(t.walkBottomUpDepthFirst=i(function(e){return e.get("children")}),t.walkTopDownDepthFirstCustom=function e(t){return regeneratorRuntime.mark(function n(r){var o,a,i,s,l,u,c;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,r;case 2:o=[],t(r).forEach(function(e){o.push(e)}),a=!0,i=!1,s=void 0,n.prev=7,l=o[Symbol.iterator]();case 9:if(a=(u=l.next()).done){n.next=15;break}return c=u.value,n.delegateYield(e(t)(c),"t0",12);case 12:a=!0,n.next=9;break;case 15:n.next=21;break;case 17:n.prev=17,n.t1=n.catch(7),i=!0,s=n.t1;case 21:n.prev=21,n.prev=22,!a&&l.return&&l.return();case 24:if(n.prev=24,!i){n.next=27;break}throw s;case 27:return n.finish(24);case 28:return n.finish(21);case 29:case"end":return n.stop()}},n,this,[[7,17,21,29],[22,,24,28]])})});t.walkTopDownDepthFirst=s(function(e){return e.get("children")})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(null!==e&&void 0!==e){var t=document.createElement("a");return t.href=e.get("system:ui_link"),t.pathname.startsWith("/")?t.pathname:"/"+t.pathname}}function l(e,t){var n=s(t.contextObject),r=e.favorites.get(n);return{contextObjectFavorite:r,isFavorite:void 0!==r}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(3),d=r(f),h=n(1),y=n(8),m=r(y),g=n(136),b=n(4),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleFavorite=n.toggleFavorite.bind(n),n}return i(t,e),u(t,[{key:"getFavorite",value:function(){var e=this.props.contextObject;return d.default.fromJS({frontend_url:s(e),classname:e.get("system:classname"),rest_id:e.get("system:navigation_id"),ref_object_id:e.get("cdb_object_id")})}},{key:"toggleFavorite",value:function(){var e=this.props.contextObjectFavorite;void 0===e?this.props.addFavorite(this.getFavorite()):this.props.deleteFavorite(e)}},{key:"render",value:function(){var e=this.props.isFavorite?"csweb_favorite_added":"csweb_favorite",t=this.props.isFavorite?(0,b.formatStr)("favorite_delete_tooltip"):(0,b.formatStr)("favorite_add_tooltip");return p.default.createElement(m.default.IconButton,{onClick:this.toggleFavorite,title:t,buttonStyle:"success",iconName:e})}}]),t}(p.default.Component);v.propTypes={contextObject:h.ImmutablePropTypes.map.isRequired,contextObjectFavorite:h.ImmutablePropTypes.map,isFavorite:h.PropTypes.bool.isRequired,addFavorite:h.PropTypes.func.isRequired,deleteFavorite:h.PropTypes.func.isRequired},t.default=(0,h.connect)(l,{addFavorite:g.addFavorite,deleteFavorite:g.deleteFavorite})(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(46),a=r(o),i=n(343),s=r(i),l=n(344),u=r(l),c=n(345),p=r(c),f=n(346),d=r(f),h=n(347),y=r(h),m=n(199),g=r(m),b=n(349),v=r(b),_=n(357),S=r(_),O=n(202),T=r(O),E=n(203),C=r(E),w=n(360),P=r(w),N=n(103),I=r(N),R=n(42),j=r(R),x=n(191),M=r(x);t.default={RelationshipTable:a.default,ConnectedRelationshipTable:s.default,ConnectedRelationshipTreeTable:u.default,RelationshipGroup:p.default,ObjectLabel:d.default,EditableObjectLabel:g.default,FileList:v.default,FileSelectionProvider:S.default,Attributes:T.default,AttributeList:C.default,ObjectSearch:y.default,CompactHeader:P.default,ExpandedStateHelper:I.default,ClassRelshipLoader:j.default,RelationshipFetcher:M.default}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){var n=t.contextObject,r=t.relshipName,o=e.operationsByRelship.getIn([n.get("@id"),r,"reference_opinfo",1]);if(o){var a=o.find(function(e){return"CDB_SearchAgain"===e.get("opname")});if(a&&a.get("form_url")&&a.get("submit_url"))return a}}function s(e,t){var n=t.instanceName;return{searchResult:(0,h.getSearchResult)(e,n),searchError:(0,h.getSearchError)(e,n),searchAgainOpInfo:i(e,t)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(6),f=n(1),d=n(22),h=n(40),y=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.refreshTable=n.refreshTable.bind(n),n}return a(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.instanceName,n=e.active,r=e.contextObject,o=e.relshipName,a=e.tableName,i=e.createRelshipSearchInstance,s=e.runSearch;i(t,r,o,a),n&&s(t)}},{key:"componentWillUnmount",value:function(){this.props.removeSearchInstance(this.props.instanceName)}},{key:"componentWillReceiveProps",value:function(e){!this.props.active&&e.active&&e.runSearch(this.props.instanceName),e.searchAgainOpInfo&&e.searchAgainOpInfo!==this.props.searchAgainOpInfo&&e.loadRelshipSearchForm(e.instanceName,e.searchAgainOpInfo.get("form_url"),e.searchAgainOpInfo.get("submit_url"))}},{key:"refreshTable",value:function(){this.props.active&&this.props.repeatSearch(this.props.instanceName)}},{key:"render",value:function(){var e=this.props,t=e.searchAgainOpInfo,n=e.searchResult,r=e.searchError;return r?c.default.createElement(p.Alert,{bsStyle:"warning"},r.message):n?this.props.children(n.get("tabledef"),n.get("rows"),this.refreshTable,t):null}}]),t}(c.default.Component);y.propTypes={instanceName:f.PropTypes.string.isRequired,contextObject:f.ImmutablePropTypes.map,relshipName:f.PropTypes.string.isRequired,tableName:f.PropTypes.string,active:f.PropTypes.bool,searchResult:f.ImmutablePropTypes.map,searchError:f.PropTypes.any,searchAgainOpInfo:f.ImmutablePropTypes.map,createRelshipSearchInstance:f.PropTypes.func.isRequired,removeSearchInstance:f.PropTypes.func.isRequired,runSearch:f.PropTypes.func.isRequired,repeatSearch:f.PropTypes.func.isRequired,loadRelshipSearchForm:f.PropTypes.func.isRequired},y.defaultProps={tableName:"",active:!0};var m={createRelshipSearchInstance:d.createRelshipSearchInstance,removeSearchInstance:d.removeSearchInstance,runSearch:d.runSearch,repeatSearch:d.repeatSearch,loadRelshipSearchForm:d.loadRelshipSearchForm};t.default=(0,f.connect)(s,m)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{operationsByRelship:e.operationsByRelship}}function u(e,t){return e.map(function(e,n){return"iconName"===n?t:"hideCaret"===n||e})}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),h=n(3),y=r(h),m=n(1),g=n(18),b=n(4),v=n(76),_=n(41),S=n(61),O=r(S),T=n(63),E=r(T),C=n(42),w=r(C),P=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"componentDidMount",value:function(){this.fetchOpInfos(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.relshipName===e.relshipName&&this.props.parentObject===e.parentObject||this.fetchOpInfos(e)}},{key:"fetchOpInfos",value:function(e){var t=e.parentObject,n=e.relshipName;e.fetchRelshipOperationInfo(t,n)}},{key:"getRelshipOpCfg",value:function(e,t){var n=this.props,r=n.parentObject,o=n.contextObjects,a=n.operationsByRelship,i=n.relshipName,s=1===o.size,l=o.size>1,u=a.getIn([r.get("@id"),i]);if(void 0===u)return y.default.Map();var c=t?"reference_opinfo":"link_opinfo",p=u.get(c);if(!p)return y.default.Map();var f=p.get(0);if(!f){var d=e.getIn([i,"label"]);f=t?d:d+" "+(0,b.formatStr)("relship")}var h=y.default.fromJS({headerText:f,iconSize:"sm",iconName:t?"cdb_job1":"cdb_reference",hideCaret:!1}),m=p.get(1).filter(function(e){return e.get("submit_url")}).map(function(e){var t=e;switch(("CDB_AddToRelationship"===t.get("opname")||t.get("opname").startsWith("CDB_Delete"))&&(t=t.set("essential",!0)),t.get("activation_mode")){case g.OPERATION_ACTIVATION_MODES.NO_SELECTION:case g.OPERATION_ACTIVATION_MODES.EVERYTIME:return t.set("operationEnabled",!0);case g.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION:return t.set("operationEnabled",s||l);case g.OPERATION_ACTIVATION_MODES.SINGLE_SELECTION:return t.set("operationEnabled",s);default:return t.set("operationEnabled",!1)}});return y.default.Map({menu:h,operations:m})}},{key:"render",value:function(){var e=this;return d.default.createElement(w.default,{contextObject:this.props.parentObject},function(t){var n=e.getRelshipOpCfg(t,!0),r=e.getRelshipOpCfg(t,!1);return e.props.children(n,r)})}}]),t}(d.default.Component);P.propTypes={parentObject:m.ImmutablePropTypes.map.isRequired,relshipName:m.PropTypes.string.isRequired,contextObjects:m.ImmutablePropTypes.list.isRequired,operationsByRelship:m.ImmutablePropTypes.map.isRequired,fetchRelshipOperationInfo:m.PropTypes.func.isRequired};var N=(0,m.connect)(l,{fetchRelshipOperationInfo:v.fetchRelshipOperationInfo})(P),I=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),p(t,[{key:"render",value:function(){var e=this.props,t=e.parentObject,n=e.relshipName,r=e.operationParams,a=o(e,["parentObject","relshipName","operationParams"]);delete a.instanceName;var i=a.contextObjects,s=function(e,t){var n=e.get("operations",y.default.List()),o=u(e.get("menu",y.default.Map()),"csweb_option_horizontal"),i=t.get("operations",y.default.List()),s=u(t.get("menu",y.default.Map()),"csweb_link"),l=n.size>0?d.default.createElement(_.InnerToolbar,c({},a,{operations:n,operationParams:r,menuConfig:o})):null,p=i.size>0?d.default.createElement(_.InnerToolbar,c({},a,{operations:i,operationParams:r,menuConfig:s})):null;return null!=l||null!=p?d.default.createElement(d.default.Fragment,null,l,p):null};return d.default.createElement(E.default,null,d.default.createElement(O.default,{handlerName:"editor"}),d.default.createElement(N,{parentObject:t,relshipName:n,contextObjects:i},s))}}]),t}(d.default.Component);t.default=I,I.propTypes={instanceName:m.PropTypes.string.isRequired,parentObject:m.ImmutablePropTypes.map.isRequired,relshipName:m.PropTypes.string.isRequired,contextObjects:m.ImmutablePropTypes.list,isOperationRunning:m.PropTypes.bool,operationParams:m.PropTypes.object},I.defaultProps={contextObjects:y.default.List(),operationParams:{}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t,n,r){var o=e.get("hooks").filter(function(e){return t.isHookApplicable(e)}).map(function(e){return e.get("hook_id")});if(o.size>0){var a=e.get("url"),i=t.getBackendRequestData(o);(0,m.postJSON)(a,i).then(function(e){t.applyBackendResult(e),n(t.newValues,t.registers,t.wizardProgress,t.preventSubmitReasons),r(e.errors)})}}function l(e,t){e.filter(function(e){return t.isHookApplicable(e)}).forEach(function(e){var n=y.Registry.findDialogHook(e.get("function_name"));void 0!==n&&n.call(void 0,t)})}function u(e,t){var n=e.get("hooks").filter(function(e){return t.isHookApplicable(e)}).map(function(e){return e.get("hook_id")});if(0===n.size)return Promise.resolve();var r=e.get("url"),o=t.getBackendRequestData(n);return(0,m.postJSON)(r,o).then(function(e){return t.applyBackendResult(e)})}function c(e,t,n,r){var o=t.oldValues,a=t.changes,i=t.operationState,u=t.newValues,c=t.registers,p=t.preventSubmitReasons,f=t.wizardProgress,d=new v({oldValues:o,changes:a,operationState:i,newValues:u,registers:c,preventSubmitReasons:p,wizardProgress:f}),h=e.get("frontend_hooks");void 0!==h&&l(h,d);var y=e.get("backend_hooks");return void 0!==y&&s(y,d,n,r),{values:d.newValues,registers:d.registers,preventSubmitReasons:d.preventSubmitReasons,wizardProgress:d.wizardProgress}}function p(e,t){var n=t.currValues,r=t.registers,o=t.operationState,a=t.wizardProgress,i=new _({currValues:n,registers:r,operationState:o,wizardProgress:a}),s=e.get("frontend_hooks");void 0!==s&&l(s,i);var c=void 0,p=e.get("backend_hooks");return c=void 0===p?Promise.resolve():u(p,i),c.then(function(){return i.result})}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.callDialogHooks=c,t.callPreSubmitHooks=p;var d=n(3),h=r(d),y=n(13),m=n(10),g=n(194),b=r(g),v=function(){function e(t){var n=t.oldValues,r=t.changes,o=t.operationState,a=t.newValues,s=t.registers,l=t.preventSubmitReasons,u=t.wizardProgress;i(this,e),this.oldValues=n,this.changes=r,this.operationState=o,this.newValues=a,this.registers=s,this.preventSubmitReasons=l,this.wizardProgress=u}return f(e,[{key:"getBackendRequestData",value:function(e){return{old_values:this.oldValues,changes:this.changes,operation_state:this.operationState,new_values:this.newValues,wizard_progress:this.wizardProgress,ids:e}}},{key:"applyBackendResult",value:function(e){var t=this;this.setValues(e.new_values),h.default.fromJS(e.ro_changes).forEach(function(e,n){t.setReadability(n,e)}),h.default.fromJS(e.mandatory_changes).forEach(function(e,n){t.setFieldMandatory(n,1===e)}),this.wizardProgress=h.default.fromJS(e.wizard_progress)}},{key:"getOperationName",value:function(){return this.operationState.get("opname")}},{key:"isFieldChanged",value:function(e){return this.changes.has(e)}},{key:"isHookApplicable",value:function(e){var t=e.get("attribute");return"*"===t||this.changes.has(t)}},{key:"getValue",value:function(e){return this.newValues.get(e)}},{key:"setValue",value:function(e,t){this.newValues=this.newValues.set(e,t)}},{key:"setValues",value:function(e){this.newValues=this.newValues.merge(e)}},{key:"getOldValue",value:function(e){return this.oldValues.get(e)}},{key:"findFieldPaths",value:function(e){return this.registers.flatMap(function(t,n){return t.get("fields").map(function(e,t){return[e.get("attribute"),t]}).filter(function(t){return t[0]===e}).map(function(e){return[n,"fields",e[1]]})})}},{key:"setFieldAttributes",value:function(e,t){var n=this.findFieldPaths(e);this.registers=this.registers.withMutations(function(e){n.forEach(function(n){e.mergeIn(n,t)})})}},{key:"setFieldMandatory",value:function(e,t){this.setFieldAttributes(e,{mandatory:t})}},{key:"setMandatory",value:function(e){this.setFieldMandatory(e,!0)}},{key:"setOptional",value:function(e){this.setFieldMandatory(e,!1)}},{key:"setReadability",value:function(e,t){this.setFieldAttributes(e,{readonly:t})}},{key:"setReadOnly",value:function(e){this.setReadability(e,1)}},{key:"setWriteable",value:function(e){this.setReadability(e,0)}},{key:"preventSubmit",value:function(e){this.preventSubmitReasons=this.preventSubmitReasons.add(e)}},{key:"allowSubmit",value:function(e){this.preventSubmitReasons=this.preventSubmitReasons.delete(e)}}]),e}(),_=function(e){function t(e){var n=e.operationState,r=e.currValues,a=e.registers,s=e.wizardProgress;i(this,t);var l=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{operationState:n,newValues:r,registers:a,oldValues:h.default.Map(),changes:h.default.Map(),preventSubmitReasons:h.default.Set(),wizardProgress:s}));return l.result={errors:[]},l}return a(t,e),f(t,[{key:"isHookApplicable",value:function(e){return"::PRE_SUBMIT::"===e.get("attribute")}},{key:"setError",value:function(e,t){this.result.errors.push({title:e,message:t})}},{key:"createDialog",value:function(e,t,n){return new b.default(e,t,n)}},{key:"setDialog",value:function(e){this.result.dialog=e}},{key:"setNextDialog",value:function(e,t,n){this.result.next_dialog=e;var r=n.merge(e.values),o=h.default.fromJS(this.result.next_dialog.operation_state),a=h.default.Map(o.get("json_field_types",{})),i={};a.map(function(e,t){return r.has(t)||(i[t]=""),null}),this.result.next_dialog.values=r.merge(i);var s=this.wizardProgress;e.wizard_progress&&Object.keys(e.wizard_progress).length>0&&(s=h.default.fromJS(e.wizard_progress));var l=s.get("steps");if(l){var u=l.map(function(e){return e.get("dialog_name")}),c=u.indexOf(t);if(c>=0){this.result.next_dialog.wizard_progress=s.set("position",c);var p=l.get(c).get("button_label");this.result.next_dialog.wizard_progress=p?this.result.next_dialog.wizard_progress.set("button_label",p):this.result.next_dialog.wizard_progress.remove("button_label")}}}},{key:"applyBackendResult",value:function(e){var t=this;return this.setValues(e.new_values),e.errors.forEach(function(e){return t.setError(e.title,e.message)}),e.dialog&&this.setDialog(b.default.fromBackendData(e.dialog)),e.wizard_progress&&(this.wizardProgress=h.default.fromJS(e.wizard_progress),this.result.wizard_progress=this.wizardProgress),e.next_dialog_link_data?(0,m.postJSON)(e.next_dialog_link_data.link,{wizard_progress:this.wizardProgress,obj_values:this.newValues,operation_state:this.operationState}).then(function(n){return t.setNextDialog(n,e.next_dialog_link_data.dialog_name,t.newValues)}):Promise.resolve()}}]),t}(v)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(28),i=function(){function e(t,n,o){r(this,e),this.ButtonActions=a.ButtonActions,this.title=t,this.text=n,this.argumentName=o,this.buttons=[]}return o(e,[{key:"addButton",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.buttons.push({label:e,value:t,action:n,isDefault:r,isCancel:o})}}],[{key:"fromBackendData",value:function(t){var n=new e(t.title,t.text,t.argumentName);return t.buttons.forEach(function(e){n.addButton(e.label,e.value,e.action,e.isDefault,e.isCancel)}),n}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m((0,u.addFiles)(e.payload.instanceName,e.payload.files));case 2:case"end":return t.stop()}},p,this)}function o(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m((0,u.removeFiles)(e.payload.instanceName,e.payload.files));case 2:case"end":return t.stop()}},f,this)}function a(e,t){var n,r,o,a,i,s,u,c,p,f;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:n=[],r=e["relship:files"]["@id"],o=!0,a=!1,i=void 0,d.prev=5,s=t[Symbol.iterator]();case 7:if(o=(u=s.next()).done){d.next=31;break}return c=u.value,p=new FormData,p.append("content",c),p.append("metadata",JSON.stringify({cdbf_name:c.name,cdbf_primary:"1"})),d.prev=12,d.next=15,g(l.fetchAndCheck,r,{method:"POST",body:p});case 15:return f=d.sent,d.t0=n,d.t1=c.name,d.next=20,g([f,f.json]);case 20:d.t2=d.sent,d.t3={success:!0,file:d.t1,object:d.t2},d.t0.push.call(d.t0,d.t3),d.next=28;break;case 25:d.prev=25,d.t4=d.catch(12),n.push({success:!1,file:c.name});case 28:o=!0,d.next=7;break;case 31:d.next=37;break;case 33:d.prev=33,d.t5=d.catch(5),a=!0,i=d.t5;case 37:d.prev=37,d.prev=38,!o&&s.return&&s.return();case 40:if(d.prev=40,!a){d.next=43;break}throw i;case 43:return d.finish(40);case 44:return d.finish(37);case 45:return d.abrupt("return",n);case 46:case"end":return d.stop()}},d,this,[[5,33,37,45],[12,25],[38,,40,44]])}function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b(c.ACTIONS.ADD_FILES,r);case 2:return e.next=4,b(c.ACTIONS.REMOVE_FILES,o);case 4:case"end":return e.stop()}},h,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.uploadFiles=a,t.default=i;var s=n(1),l=n(10),u=n(35),c=n(33),p=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(o),d=regeneratorRuntime.mark(a),h=regeneratorRuntime.mark(i),y=s.ReduxSaga.effects,m=y.put,g=y.call,b=y.takeEvery},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(337),h=r(d),y=n(338),m=r(y),g=n(339),b=r(g),v=n(340),_=r(v),S=n(341),O=r(S),T=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),l(t,[{key:"renderStep",value:function(e,t,n){var r,a=(0,f.prefixNS)("wizard-progress-step-item"),i=(0,p.classNames)((0,f.prefixNS)("wizard-progress-step-title"),(r={},o(r,(0,f.prefixNS)("wizard-progress-step-title-active"),1===t),o(r,(0,f.prefixNS)("wizard-progress-step-title-visited"),2===t),o(r,(0,f.prefixNS)("wizard-progress-step-title-unvisited"),0===t),r)),s=1===t?n?_.default:b.default:0===t?n?m.default:h.default:O.default,l=e.get("label")?e.get("label"):"?",u=e.get("tooltip")?e.get("tooltip"):"",d=(0,p.classNames)((0,f.prefixNS)("wizard-progress-step"),(0,f.prefixNS)("wizard-progress-step-item-line"));return c.default.createElement("li",{key:e,className:a,role:"listItem"},c.default.createElement("div",{className:d,title:u},c.default.createElement("span",{className:i},l),c.default.createElement("img",{src:s})))}},{key:"render",value:function(){var e=this,t=this.props,n=t.steps,r=t.position;if(n){var o=n.size-1;return c.default.createElement("ul",{className:(0,f.prefixNS)("wizard-progress"),role:"list"},n.map(function(t,n){var a=0;return n<r&&(a=2),n===r&&(a=1),e.renderStep(t,a,n===o)}))}return null}}]),t}(c.default.Component);t.default=T,T.propTypes={position:p.PropTypes.number,steps:p.ImmutablePropTypes.list}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.children,n=r(e,["children"]),o=(0,u.classNames)(n.className,(0,c.prefixNS)("contentblock-group"));return s.default.createElement(l.PanelGroup,a({},n,{className:o}),t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(6),u=n(1),c=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),s=r(i),l=n(1),u=n(26),c=r(u),p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"black";return"data:image/svg+xml,"+encodeURIComponent("<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>\n            <circle cx='12' cy='12' r='11' stroke-width='1' fill='"+e+"' stroke='"+t+"'/>\n        </svg>")},f=function(e){var t=e.label,n=e.color,r=o(e,["label","color"]);return s.default.createElement(c.default,a({src:p(n),title:t},r))};f.propTypes={label:l.PropTypes.string,color:l.PropTypes.string.isRequired},t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(25),d=n(8),h=r(d),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEditClicked=n.onEditClicked.bind(n),n.onDeleteClicked=n.onDeleteClicked.bind(n),n}return i(t,e),s(t,[{key:"onEditClicked",value:function(e){e.preventDefault(),this.props.onEditClicked()}},{key:"onDeleteClicked",value:function(e){e.preventDefault(),this.props.onDeleteClicked()}},{key:"render",value:function(){var e="",t="",n="";return this.props.onEditClicked&&(t=u.default.createElement(h.default.EditButton,{className:"icon",onClick:this.onEditClicked})),this.props.onDeleteClicked&&(n=u.default.createElement(h.default.CloseButton,{className:"icon",onClick:this.onDeleteClicked})),(this.props.onEditClicked||this.props.onDeleteClicked)&&(e=u.default.createElement("div",{className:(0,c.classNames)("text-muted",(0,p.prefixNS)("editable-object-label__manipulator"))},u.default.createElement("span",{"data-ce-id":"EditButton"},t),u.default.createElement("span",{"data-ce-id":"DeleteButton"},n))),u.default.createElement("div",{"data-ce-id":this.props["data-ce-id"],className:(0,p.prefixNS)("editable-object-label")},u.default.createElement(f.IconAndLabel,{icon:this.props.icon,label:this.props.text}),e)}}]),t}(l.Component);t.default=y,y.propTypes={"data-ce-id":c.PropTypes.string,text:c.PropTypes.node,icon:c.PropTypes.node,onEditClicked:c.PropTypes.func,onDeleteClicked:c.PropTypes.func},y.defaultProps={"data-ce-id":"EditableObjectLabel"}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(1),f=n(2),d=n(6),h=n(4),y={drop:function(e,t){e.onDrop&&e.onDrop(t.getItem().files)}},m=p.ReactDnD.NativeTypes.FILE,g=function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver(),canDrop:t.canDrop(),draggedItemType:t.getItemType()}},b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={opened:!1},n.onChange=n.onChange.bind(n),n.choose=n.choose.bind(n),n._fileInput=null,n}return i(t,e),l(t,[{key:"choose",value:function(){this._fileInput&&(this._fileInput.value=null,this._fileInput.click())}},{key:"onChange",value:function(e){for(var t=[],n=0;n<e.target.files.length;n++)t.push(e.target.files[n]);this.props.onDrop&&this.props.onDrop(t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.className,o=t.autoHide,a=t.connectDropTarget,i=t.isOver,l=t.canDrop,u=t.draggedItemType,d=t.children,h=r(t,["className","autoHide","connectDropTarget","isOver","canDrop","draggedItemType","children"]),y=o&&u!==m,g=(0,p.classNames)(n,(0,f.prefixNS)("file-droparea"),i&&l?(0,f.prefixNS)("file-droparea-dropping"):void 0,y?(0,f.prefixNS)("file-droparea-hidden"):void 0);return a(c.default.createElement("div",{className:g,onClick:y?void 0:this.choose},c.default.createElement("input",s({},h,{className:(0,f.prefixNS)("file-droparea-trigger"),type:"file",multiple:!0,ref:function(t){e._fileInput=t},onChange:this.onChange})),y?null:d))}}]),t}(c.default.Component);b.propTypes={onDrop:p.PropTypes.func,autoHide:p.PropTypes.bool,className:p.PropTypes.string,connectDropTarget:p.PropTypes.func,isOver:p.PropTypes.bool,canDrop:p.PropTypes.bool,draggedItemType:p.PropTypes.string},b.defaultProps={autoHide:!1};var v=p.ReactDnD.DropTarget(m,y,g)(b),_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.choose=n.choose.bind(n),n._dropArea=null,n}return i(t,e),l(t,[{key:"choose",value:function(){this._dropArea&&this._dropArea.getDecoratedComponentInstance().choose()}},{key:"render",value:function(){var e=this;return c.default.createElement("div",{className:(0,f.prefixNS)("file-dropzone")},c.default.createElement(v,s({},this.props,{ref:function(t){e._dropArea=t}})))}}],[{key:"getPreview",value:function(e){return window.URL.createObjectURL(e)}},{key:"revokePreview",value:function(e){return window.URL.revokeObjectURL(e)}}]),t}(c.default.Component);t.default=_,_.propTypes={onDrop:p.PropTypes.func,autoHide:p.PropTypes.bool},_.defaultProps={autoHide:!1};var S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={src:t.getPreview(e)},n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.file!==this.props.file&&this.setState({src:this.getPreview(e)})}},{key:"componentWillUnmount",value:function(){_.revokePreview(this.state.src)}},{key:"render",value:function(){return c.default.createElement("img",{src:this.state.src})}}],[{key:"getPreview",value:function(e){return _.getPreview(e.file)}}]),t}(c.default.PureComponent);S.propTypes={file:p.PropTypes.any};var O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onDelete=n.onDelete.bind(n),n}return i(t,e),l(t,[{key:"onDelete",value:function(e){e.stopPropagation(),this.props.onDelete&&this.props.onDelete(this.props.file)}},{key:"render",value:function(){var e=this.props,t=e.file,n=e.onDelete,r=e.Renderer;return c.default.createElement("div",{className:(0,f.prefixNS)("file-dropzone-thumbnail")},c.default.createElement("div",{className:(0,f.prefixNS)("file-dropzone-thumbnail-image")},c.default.createElement(r,{file:t})),c.default.createElement("p",{className:(0,f.prefixNS)("file-dropzone-thumbnail-name"),title:t.name},t.name),n?c.default.createElement(d.Button,{bsSize:"sm",bsStyle:"default",onClick:this.onDelete},(0,h.formatStr)("delete")):null)}}]),t}(c.default.PureComponent);O.propTypes={onDelete:p.PropTypes.func,file:p.PropTypes.any,Renderer:p.PropTypes.oneOfType([p.PropTypes.element,p.PropTypes.func])},O.defaultProps={Renderer:S},_.FileThumbnail=O;var T=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.files,n=e.onDelete,r=e.Renderer;return c.default.createElement("div",{className:(0,f.prefixNS)("file-dropzone-preview")},t.map(function(e){return c.default.createElement(O,{file:e,onDelete:n,key:e.name,Renderer:r})}))}}]),t}(c.default.PureComponent);T.propTypes={onDelete:p.PropTypes.func,files:p.ImmutablePropTypes.list,Renderer:p.PropTypes.oneOfType([p.PropTypes.element,p.PropTypes.func])},_.Preview=T},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(6),f=n(14),d=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.label,o=t.validationState,a=t.mandatory,i=t.mandatoryEmptyHint,l=r(t,["label","validationState","mandatory","mandatoryEmptyHint"]);return c.default.createElement(p.FormGroup,{"data-mandatory":a,"data-mandatory-empty-hint":i},c.default.createElement(p.Radio,s({ref:function(t){e.input=t},validationState:o},l),c.default.createElement("span",{title:n},n)))}}]),t}(c.default.Component);t.default=d,d.propTypes=s({},f.sharedCheckboxProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.contextObject;return i.default.createElement(p.default,{className:(0,f.prefixNS)("attributes"),collapsible:!0,expanded:!0,title:(0,d.formatStr)("attributes_panel_title")},i.default.createElement(p.default.Body,null,i.default.createElement(u.default,{displayContext:"attributes",contextObject:t},i.default.createElement(y.default,null))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(139),u=r(l),c=n(32),p=r(c),f=n(2),d=n(4),h=n(203),y=r(h);o.propTypes={contextObject:s.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.fields,n=e.values,r=e.contextObject;return i.default.createElement("div",{className:(0,l.prefixNS)("attribute-list")},t.map(function(e){return i.default.createElement(p.default,{key:e.get("row"),contextObject:r,field:e,value:(0,l.toDisplayFormat)(n.get(e.get("attribute")),(0,u.toDATA_TYPE)(e.get("data_type"))),rawValue:n.get(e.get("attribute"))})}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(140),c=n(204),p=r(c);o.propTypes={contextObject:s.ImmutablePropTypes.map,fields:s.ImmutablePropTypes.list,values:s.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t){var n=e.getIn(["config","display_mapping","mappings"]);if(n){var r=n.find(function(e){return e.get(0)===t});if(r)return r.get(1)}return t}function c(e){var t=e.field,n=e.value,r=e.className,o=u(t,n),a=""===o,i=a?(0,I.formatStr)("data_field_no_value"):o,s=(0,O.classNames)((0,T.prefixNS)("object-header__data-container-field-value-single"),l({},(0,T.prefixNS)("object-header__data-container-field-no-value"),a));return _.default.createElement("div",{className:r},_.default.createElement("span",{className:"text-muted"},t.get("label"),":"),_.default.createElement("span",{className:s},i))}function p(e){var t=e.field,n=e.className,r=t.getIn(["config","icon"]),o=t.getIn(["config","title"]),a=t.getIn(["config","height"]),i=t.getIn(["config","width"]),s=t.getIn(["config","keep_aspect_ratio"]),l={};return s?(a&&(l.maxHeight=a+"px"),i&&(l.maxWidth=i+"px")):(a&&(l.height=a+"px"),i&&(l.width=i+"px"),l.maxWidth="100%"),_.default.createElement("div",{className:n},_.default.createElement("span",{className:"text-muted"},t.get("label"),":"),_.default.createElement(S.Image,{className:(0,T.prefixNS)("object-header__data-container-field-value-icon"),src:r,title:o,alt:o,style:l,rounded:!0}))}function f(e){var t=e.field,n=e.value,r=e.className,o=Math.min(2,t.getIn(["config","lines"],1));return _.default.createElement("div",{className:r},_.default.createElement("div",{className:"text-muted"},t.get("label"),":"),_.default.createElement("div",{className:(0,T.prefixNS)("object-header__data-container-field-value-"+o)},n))}function d(e){var t=e.field,n=e.value,r=e.className,o=s(e,["field","value","className"]),a=t.getIn(["config","component_name"]),i=w.Registry.findComponent(a);return _.default.createElement("div",{className:r},_.default.createElement("span",{className:"text-muted"},t.get("label"),":"),_.default.createElement("span",{className:(0,T.prefixNS)("object-header__data-container-field-component__content")},_.default.createElement(i,b({},o,{value:n,field:t}))))}function h(e,t){switch(e.get("fieldtype")){case C.default.EMAIL:return t?"mailto:"+t:"";case C.default.HYPERLINK:return(0,T.ensureLinkProtocol)(t);default:return e.getIn(["config","link_target_url"])}}function y(e){var t=e.field,n=e.value,r=e.className,o=h(t,n),a=u(t,n);return _.default.createElement("div",{className:r},_.default.createElement("span",{className:"text-muted"},t.get("label"),":"),_.default.createElement(N.default,{to:o,title:a,className:(0,T.prefixNS)("object-header__data-container-field-value-link")},a))}function m(e){switch(e.get("fieldtype")){case C.default.IMAGE:return p;case C.default.LONGTEXT:return f;case C.default.COMPONENT:return d;case C.default.EMAIL:case C.default.HYPERLINK:return y;default:return e.getIn(["config","link_target_url"])?y:c}}Object.defineProperty(t,"__esModule",{value:!0});var g=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},v=n(0),_=r(v),S=n(6),O=n(1),T=n(2),E=n(60),C=r(E),w=n(13),P=n(29),N=r(P),I=n(4),R={contextObject:O.ImmutablePropTypes.map.isRequired,field:O.ImmutablePropTypes.map.isRequired,value:O.PropTypes.any,rawValue:O.PropTypes.any},j=b({},R,{className:O.PropTypes.string.isRequired});c.propTypes=j,p.propTypes=j,f.propTypes=j,d.propTypes=j,y.propTypes=j;var x=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),g(t,[{key:"render",value:function(){var e=this.props,t=e.field,n=e.value,r=e.contextObject,o=e.rawValue,a=(0,O.classNames)((0,T.prefixNS)("object-header__data-container-field"),(0,T.prefixNS)("object-header__data-container-field-"+t.get("fieldtype"))),i=m(t);return _.default.createElement(i,{className:a,field:t,value:n,rawValue:o,contextObject:r})}}]),t}(_.default.Component);t.default=x,x.propTypes=R},function(e,t){e.exports="data:image/gif;base64,R0lGODlhEAAQAPIAAP///wAAAMLCwkJCQgAAAGJiYoKCgpKSkiH+GkNyZWF0ZWQgd2l0aCBhamF4bG9hZC5pbmZvACH5BAAKAAAAIf8LTkVUU0NBUEUyLjADAQAAACwAAAAAEAAQAAADMwi63P4wyklrE2MIOggZnAdOmGYJRbExwroUmcG2LmDEwnHQLVsYOd2mBzkYDAdKa+dIAAAh+QQACgABACwAAAAAEAAQAAADNAi63P5OjCEgG4QMu7DmikRxQlFUYDEZIGBMRVsaqHwctXXf7WEYB4Ag1xjihkMZsiUkKhIAIfkEAAoAAgAsAAAAABAAEAAAAzYIujIjK8pByJDMlFYvBoVjHA70GU7xSUJhmKtwHPAKzLO9HMaoKwJZ7Rf8AYPDDzKpZBqfvwQAIfkEAAoAAwAsAAAAABAAEAAAAzMIumIlK8oyhpHsnFZfhYumCYUhDAQxRIdhHBGqRoKw0R8DYlJd8z0fMDgsGo/IpHI5TAAAIfkEAAoABAAsAAAAABAAEAAAAzIIunInK0rnZBTwGPNMgQwmdsNgXGJUlIWEuR5oWUIpz8pAEAMe6TwfwyYsGo/IpFKSAAAh+QQACgAFACwAAAAAEAAQAAADMwi6IMKQORfjdOe82p4wGccc4CEuQradylesojEMBgsUc2G7sDX3lQGBMLAJibufbSlKAAAh+QQACgAGACwAAAAAEAAQAAADMgi63P7wCRHZnFVdmgHu2nFwlWCI3WGc3TSWhUFGxTAUkGCbtgENBMJAEJsxgMLWzpEAACH5BAAKAAcALAAAAAAQABAAAAMyCLrc/jDKSatlQtScKdceCAjDII7HcQ4EMTCpyrCuUBjCYRgHVtqlAiB1YhiCnlsRkAAAOwAAAAAAAAAAAA=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(371),y=r(h),m=n(210),g=n(207),b=n(374),v=r(b),_=n(375),S=n(209),O=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=new f.DraftJS.CompositeDecorator([{strategy:_.findLinkEntities,component:v.default}].concat(e.additionalDecorators));return n.stylesFromContent={},e.Content?n.state={editorState:f.DraftJS.EditorState.moveSelectionToEnd(f.DraftJS.EditorState.createWithContent(f.DraftJS.convertFromRaw(JSON.parse(e.Content)),r))}:n.state={editorState:f.DraftJS.EditorState.createEmpty(r)},n.focus=function(){return n.editor.focus()},n.onChange=n._onChange.bind(n),n.handleKeyCommand=n._handleKeyCommand.bind(n),n.onTab=n._onTab.bind(n),n.getContent=n._getContent.bind(n),n.onBlur=n.onBlur.bind(n),n}return s(t,e),u(t,[{key:"_onChange",value:function(e){this.setState({editorState:e}),(0,d.isCEDesktop)()&&this.state.editorState.getUndoStack().size>0&&window.external.ctrlNotifyDataChanged()}},{key:"_getContent",value:function(){var e=this.state.editorState;return JSON.stringify(f.DraftJS.convertToRaw(e.getCurrentContent()))}},{key:"_handleKeyCommand",value:function(e){var t=this.state.editorState,n=f.DraftJS.RichUtils.handleKeyCommand(t,e);return n?(this.onChange(n),"handled"):this.props.handleKeyCommand?this.props.handleKeyCommand(e):"not-handled"}},{key:"_onTab",value:function(e){this.onChange(f.DraftJS.RichUtils.onTab(e,this.state.editorState,4))}},{key:"onBlur",value:function(e){var t=this.props.onBlurValueChange;!t||null!==e.relatedTarget&&(e.relatedTarget.closest("."+(0,d.prefixNS)("RichTextEditor__Container"))||e.relatedTarget.closest("#"+(0,d.prefixNS)("richtext-link")))||t(this._getContent())}},{key:"componentWillReceiveProps",value:function(e){if(this.props.Content!==e.Content){var t=new f.DraftJS.CompositeDecorator([{strategy:_.findLinkEntities,component:v.default}].concat(e.additionalDecorators));this.onChange(f.DraftJS.EditorState.moveSelectionToEnd(f.DraftJS.EditorState.createWithContent(f.DraftJS.convertFromRaw(JSON.parse(e.Content)),t)))}}},{key:"render",value:function(){var e=this,t=this.state.editorState,n=this.props,r=n.readOnly,a=n.styleMap,i=n.height,s=n.containerRef,u=n.classNameEditor,c=n.additionalButtons,h=o(n,["readOnly","styleMap","height","containerRef","classNameEditor","additionalButtons"]),b=Object.assign(a,m.FONTMAP,m.COLORMAP,g.INLINEMAP),v=i?{height:i}:null,_=i?{position:"relative"}:null,O=(0,f.classNames)(u,r?(0,d.prefixNS)("RichTextEditor__Editor--readOnly"):(0,d.prefixNS)("RichTextEditor__Editor"));return delete h.Content,delete h.readOnly,delete h.styleMap,delete h.onBlurValueChange,delete h.height,delete h.classNameEditor,delete h.additionalButtons,delete h.additionalDecorators,p.default.createElement("div",{style:v,className:(0,d.prefixNS)("RichTextEditor__Container")},!1===r&&p.default.createElement("div",{style:_,className:(0,d.prefixNS)("RichTextEditor__ControlBar")},p.default.createElement(y.default,{editorState:t,onChange:this.onChange,readOnly:r,additionalButtons:c,containerRef:s})),p.default.createElement("div",{onMouseDown:r?null:this.focus,className:O},p.default.createElement(f.DraftJS.Editor,l({},h,{editorState:t,blockRenderMap:S.extendedBlockRenderMap,blockStyleFn:S.extendedBlockStyleFn,onChange:this.onChange,handleKeyCommand:this.handleKeyCommand,customStyleMap:b,onTab:this.onTab,spellCheck:!0,ref:function(t){e.editor=t},readOnly:r,onBlur:this.onBlur}))))}}]),t}(p.default.Component);t.default=O,O.propTypes={Content:f.PropTypes.string,readOnly:f.PropTypes.bool,styleMap:f.PropTypes.object,onBlurValueChange:f.PropTypes.func,height:f.PropTypes.number,classNameEditor:f.PropTypes.string,additionalButtons:f.PropTypes.array,additionalDecorators:f.PropTypes.array,handleKeyCommand:f.PropTypes.func,containerRef:f.PropTypes.object},O.defaultProps={readOnly:!1,styleMap:{},additionalButtons:[],additionalDecorators:[]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.INLINEMAP=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(30),p=r(c),f=n(1),d=n(208),h=r(d),y=[{iconName:"csweb_richtext_underlined",style:"UNDERLINE"},{iconName:"csweb_richtext_bold",style:"BOLD"},{iconName:"csweb_richtext_italic",style:"ITALIC"},{iconName:"csweb_richtext_strikethrough",style:"STRIKETHROUGH"}],m=(t.INLINEMAP=[{STRIKETHROUGH:{textDecoration:"line-through"}}],function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleInlineStyle=n._toggleInlineStyle.bind(n),n}return i(t,e),s(t,[{key:"_toggleInlineStyle",value:function(e){var t=this.props,n=t.editorState;(0,t.onChange)(f.DraftJS.RichUtils.toggleInlineStyle(n,e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.editorState,r=t.styles,o=n.getCurrentInlineStyle();return u.default.createElement(p.default,null,r.map(function(t){return u.default.createElement(h.default,{key:t.style,active:o.has(t.style),iconName:t.iconName,onToggle:e.toggleInlineStyle,style:t.style})}))}}]),t}(u.default.Component));t.default=m,m.propTypes={onChange:f.PropTypes.func.isRequired,editorState:f.PropTypes.object.isRequired,styles:f.PropTypes.array},m.defaultProps={styles:y}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(8),f=r(p),d=n(4),h=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e._onToggle=e._onToggle.bind(e),e}return i(t,e),s(t,[{key:"_onToggle",value:function(e){e.preventDefault(),this.props.onToggle(this.props.style)}},{key:"render",value:function(){var e=this.props,t=e.active,n=e.iconName,r=e.style;return u.default.createElement(f.default.IconButton,{onMouseDown:this._onToggle,active:t,iconName:n,buttonStyle:"outline",title:(0,d.formatStr)("richtext_"+r)})}}]),t}(u.default.Component);t.default=h,h.propTypes={onToggle:c.PropTypes.func.isRequired,iconName:c.PropTypes.string.isRequired,style:c.PropTypes.string.isRequired,active:c.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.getType();return t.startsWith("text-align-")?(0,m.prefixNS)(t):t}Object.defineProperty(t,"__esModule",{value:!0}),t.extendedBlockRenderMap=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.extendedBlockStyleFn=s;var u=n(0),c=r(u),p=n(3),f=r(p),d=n(30),h=r(d),y=n(1),m=n(2),g=n(208),b=r(g),v=[{iconName:"csweb_richtext_align_left",style:"text-align-left"},{iconName:"csweb_richtext_align_center",style:"text-align-center"},{iconName:"csweb_richtext_align_right",style:"text-align-right"},{iconName:"csweb_richtext_list_bulleted",style:"unordered-list-item"},{iconName:"csweb_richtext_list_numbered",style:"ordered-list-item"}],_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleBlockStyle=n._toggleBlockStyle.bind(n),n}return i(t,e),l(t,[{key:"_toggleBlockStyle",value:function(e){var t=this.props,n=t.editorState;(0,t.onChange)(y.DraftJS.RichUtils.toggleBlockType(n,e))}},{key:"render",value:function(){var e=this,t=this.props,n=t.editorState,r=t.styles,o=n.getSelection(),a=n.getCurrentContent().getBlockForKey(o.getStartKey()).getType();return c.default.createElement(h.default,null,r.map(function(t){return c.default.createElement(b.default,{key:t.style,active:t.style===a,iconName:t.iconName,onToggle:e.toggleBlockStyle,style:t.style})}))}}]),t}(c.default.Component);t.default=_,_.propTypes={onChange:y.PropTypes.func.isRequired,editorState:y.PropTypes.object.isRequired,styles:y.PropTypes.array},_.defaultProps={styles:v};var S=f.default.Map({"text-align-left":{element:"div"},"text-align-center":{element:"div"},"text-align-right":{element:"div"}});t.extendedBlockRenderMap=y.DraftJS.DefaultDraftBlockRenderMap.merge(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.COLORMAP=t.FONTMAP=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(20),d=r(f),h=n(8),y=r(h),m=n(30),g=r(m),b=n(2),v=n(4),_=t.FONTMAP={FONT_SIZE_8:{fontSize:"8px"},FONT_SIZE_9:{fontSize:"9px"},FONT_SIZE_10:{fontSize:"10px"},FONT_SIZE_11:{fontSize:"11px"},FONT_SIZE_12:{fontSize:"12px"},FONT_SIZE_13:{fontSize:"13px"},FONT_SIZE_14:{fontSize:"14px"},FONT_SIZE_16:{fontSize:"16px"},FONT_SIZE_18:{fontSize:"18px"},FONT_SIZE_20:{fontSize:"20px"},FONT_SIZE_22:{fontSize:"22px"},FONT_SIZE_24:{fontSize:"24px"},FONT_SIZE_26:{fontSize:"26px"},FONT_SIZE_28:{fontSize:"28px"},FONT_SIZE_36:{fontSize:"36px"},FONT_SIZE_48:{fontSize:"48px"},FONT_SIZE_72:{fontSize:"72px"}},S=t.COLORMAP={"FONT_COLOR_#000000":{color:"#000000"},"FONT_COLOR_#ff0000":{color:"#ff0000"},"FONT_COLOR_#ff7f00":{color:"#ff7f00"},"FONT_COLOR_#ffff00":{color:"#ffff00"},"FONT_COLOR_#00b400":{color:"#00b400"},"FONT_COLOR_#0000ff":{color:"#0000ff"},"FONT_COLOR_#4b0082":{color:"#4b0082"},"FONT_COLOR_#7f00ff":{color:"#7f00ff"}},O=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));e.fontsizes=[];var n=!0,r=!1,i=void 0;try{for(var s,l=Object.keys(_)[Symbol.iterator]();!(n=(s=l.next()).done);n=!0){var p=s.value,f=p.replace("FONT_SIZE_","");e.fontsizes.push(u.default.createElement(c.MenuItem,{eventKey:p,key:p}," ",f+"px"," "))}}catch(e){r=!0,i=e}finally{try{!n&&l.return&&l.return()}finally{if(r)throw i}}return e.fontcolors=[],e.state={showOverlay:!1},e.onSelectSize=e._onSelectSize.bind(e),e}return i(t,e),s(t,[{key:"_onSelectSize",value:function(e){var t=this.props,n=t.editorState,r=t.onChange,o=n.getSelection(),a=Object.keys(_).reduce(function(e,t){return p.DraftJS.Modifier.removeInlineStyle(e,o,t)},n.getCurrentContent()),i=p.DraftJS.EditorState.push(n,a,"change-inline-style"),s=n.getCurrentInlineStyle();o.isCollapsed()&&(i=s.reduce(function(e,t){return p.DraftJS.RichUtils.toggleInlineStyle(e,t)},i)),s.has(e)||(i=p.DraftJS.RichUtils.toggleInlineStyle(i,e)),i=p.DraftJS.EditorState.forceSelection(i,o.merge({hasFocus:!0})),r(i)}},{key:"_onSelectColor",value:function(e){var t=""!==e?"FONT_COLOR_"+e:"",n=this.props,r=n.editorState,o=n.onChange,a=r.getSelection(),i=Object.keys(S).reduce(function(e,t){return p.DraftJS.Modifier.removeInlineStyle(e,a,t)},r.getCurrentContent()),s=p.DraftJS.EditorState.push(r,i,"change-inline-style"),l=r.getCurrentInlineStyle();a.isCollapsed()&&(s=l.reduce(function(e,t){return p.DraftJS.RichUtils.toggleInlineStyle(e,t)},s)),""===t||l.has(t)||(s=p.DraftJS.RichUtils.toggleInlineStyle(s,t)),s=p.DraftJS.EditorState.forceSelection(s,a.merge({hasFocus:!0})),o(s),this._overlay.hide()}},{key:"render",value:function(){var e=this,t=this.props.editorState,n=t.getCurrentInlineStyle(),r=n.find(function(e,t){return t.startsWith("FONT_SIZE_")}),o=[],a=!0,i=!1,s=void 0;try{for(var l,c=Object.keys(S)[Symbol.iterator]();!(a=(l=c.next()).done);a=!0){var p=l.value;o.push(p.replace("FONT_COLOR_",""))}}catch(e){i=!0,s=e}finally{try{!a&&c.return&&c.return()}finally{if(i)throw s}}return u.default.createElement(g.default,null,u.default.createElement(y.default.DropdownTextButton,{label:r?_[r].fontSize:"14px",onSelect:this.onSelectSize,bsSize:"xsmall",title:(0,v.formatStr)("richtext_font_size"),id:(0,b.prefixNS)("richtext-textsize")},this.fontsizes.map(function(e){return e})),u.default.createElement(d.default.Bubble.Dropdown,{ref:function(t){e._overlay=t},containerRef:this.props.containerRef},function(t){var n=t.onToggle;return[u.default.createElement(y.default.IconButton,{iconName:"csweb_richtext_text_color",key:"toggle",buttonStyle:"outline",title:(0,v.formatStr)("richtext_font_color"),onClick:n,ref:function(t){e.overlayTarget=t},id:(0,b.prefixNS)("richtext-textcolor")}),u.default.createElement(g.default,{key:"overlay"},u.default.createElement(y.default.IconButton,{buttonStyle:"auxiliary",iconName:"csweb_remove",onClick:e._onSelectColor.bind(e,""),title:"",key:"default"}),o.map(function(t){return u.default.createElement(y.default.IconButton,{style:{backgroundColor:t},buttonStyle:"auxiliary",title:"",key:t,onClick:e._onSelectColor.bind(e,t)})}))]}))}}]),t}(u.default.Component);t.default=O,O.propTypes={onChange:p.PropTypes.func.isRequired,editorState:p.PropTypes.object.isRequired,containerRef:p.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(){var e="instance-"+R;return R++,e}function c(e){return function(t){return S.default.createElement(j,g({configuration:e},t))}}function p(e){switch(e){case"not-found":return S.default.createElement("div",{className:(0,E.classNames)((0,T.prefixNS)("component-issue__message"),(0,T.prefixNS)("component-issue__message--not-found"))},(0,P.formatStr)("configuredcomponent_notfound"));case"error":return S.default.createElement("div",{className:(0,E.classNames)((0,T.prefixNS)("component-issue__message"),(0,T.prefixNS)("component-issue__message--error"))},(0,P.formatStr)("configuredcomponent_error"))}return null}function f(e){var t=e.issueType,n=e.componentName;return S.default.createElement("div",{className:(0,T.prefixNS)("component-issue")},S.default.createElement(w.default,{className:(0,T.prefixNS)("component-issue__visual--"+t),src:I.default,size:"lg"}),p(t),S.default.createElement("div",{className:(0,T.prefixNS)("component-issue__name")},n),S.default.createElement("div",{className:(0,T.prefixNS)("component-issue__issue")},(0,P.formatStr)("configuredcomponent_issue")))}function d(e){var t=e.componentName;return S.default.createElement(f,{issueType:"not-found",componentName:t})}function h(e){var t=e.componentName;return S.default.createElement(f,{issueType:"error",componentName:t})}function y(e){var t=e.componentName;return S.default.createElement(f,{issueType:"error",componentName:t})}Object.defineProperty(t,"__esModule",{value:!0});var m=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.makeConfiguredComponentClass=c;var b=n(3),v=r(b),_=n(0),S=r(_),O=n(13),T=n(2),E=n(1),C=n(11),w=r(C),P=n(4),N=n(384),I=r(N),R=0;f.propTypes={issueType:E.PropTypes.string.isRequired,componentName:E.PropTypes.string.isRequired},d.propTypes={componentName:E.PropTypes.string},h.propTypes={componentName:E.PropTypes.string,error:E.PropTypes.object},y.propTypes={componentName:E.PropTypes.string,error:E.PropTypes.object};var j=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._instanceName=u(),n.state=n.fromConfiguration(e.configuration),n}return l(t,e),m(t,[{key:"componentWillReceiveProps",value:function(e){e.configuration!==this.props.configuration&&this.setState(this.fromConfiguration(e.configuration))}},{key:"componentDidCatch",value:function(e){this.setState({RootComponent:T.debugMode?h:y,staticProps:{instanceName:this._instanceName,componentName:this.props.configuration.get("name"),error:e},configuredChildren:v.default.List(),components:v.default.Map(),componentName:this.props.configuration.get("name")})}},{key:"fromConfiguration",value:function(e){var t=void 0,n=void 0,r=void 0,o=void 0,a=void 0,i=void 0;if(e){if(t=e.get("name"),void 0===(n=O.Registry.findComponent(t)))return T.Console.warn("Component "+t+" is undefined."),{RootComponent:d,staticProps:{instanceName:this._instanceName,componentName:t},configuredChildren:v.default.List(),components:v.default.Map(),componentName:t};i=e.get("properties",v.default.Map()).toJS(),r=e.get("children",v.default.List()),o=e.get("components",v.default.Map()),a=e.get("componentClasses",v.default.Map()).map(function(e){return c(e)}).toObject()}return{componentName:t,RootComponent:n,configuredChildren:r,components:o,staticProps:Object.assign({instanceName:this._instanceName},i,a)}}},{key:"render",value:function(){var e=this.state,n=e.RootComponent,r=e.configuredChildren,i=e.components,s=e.staticProps,l=this.props,u=l.children,c=a(l,["children"]);delete c.configuration;var p=r.map(function(e,n){return S.default.createElement(t,g({key:n,configuration:e},c))}).toArray(),f=p.concat(S.default.Children.toArray(u)),d=i.map(function(e){return S.default.createElement(t,g({configuration:e},c))}).toObject();return S.default.createElement.apply(S.default,[n,g({},s,d,c)].concat(o(f)))}}]),t}(S.default.Component);t.default=j,j.propTypes={configuration:E.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setComponentModified=t.ModificationListener=void 0;var o=n(13),a=n(385),i=r(a),s=n(213),l=n(386),u=r(l);o.Registry.registerReducers({modifications:u.default}),t.ModificationListener=i.default,t.setComponentModified=s.setComponentModified},function(e,t,n){"use strict";function r(e,t){return{type:o,payload:{component:e,modified:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.setComponentModified=r;var o=t.SET_COMPONENT_MODIFIED="cs-web-components-base-SET_COMPONENT_MODIFIED"},function(e,t,n){"use strict";function r(e,t){return e.get("row")<t.get("row")?-1:e.get("row")>t.get("row")?1:e.get("column")<t.get("column")?-1:e.get("column")>t.get("column")?1:e.get("label")<t.get("label")?-1:e.get("label")>t.get("label")?1:0}function o(e){return e.map(function(e){return e.get("fields")}).flatten(1)}function a(e){var t=e.filter(function(e){return e.has("multilang")}).map(function(e){return e.get("multilang")}).flatten(1),n=e.map(function(e){return e.delete("multilang")});return t.concat(n)}function i(e){return a(o(e)).filter(function(e){return"image"!==e.get("fieldtype")})}function s(e,t){var n=i(e),o=n.map(function(e){return e.get("attribute")}).toSet(),a=n.filter(function(e){return!e.get("hidden")}).sort(r).map(function(e){return e.get("attribute")}).toOrderedSet(),s=n.filter(function(e){return e.get("hidden")}).map(function(e){return e.get("attribute")}).toSet().subtract(a),l=n.filter(function(e){return 1!==e.get("readonly")}).map(function(e){return e.get("attribute")}).toSet().intersect(a),c=a.subtract(l),p=t.filter(function(e){return""!==e}),f=p.filter(function(e,t){return l.includes(t)}),d=p.filter(function(e,t){return c.includes(t)}),h=p.filter(function(e,t){return s.includes(t)}).merge(p.filter(function(e,t){return!o.includes(t)}));return u.default.Map({fields:u.default.Map(n.map(function(e){return[e.get("attribute"),e]})),visibleAttributes:a,hiddenAttributes:s,writeableAttributes:l,readOnlyAttributes:c,defaultValues:f,fixedValues:d,implicitValues:h})}Object.defineProperty(t,"__esModule",{value:!0}),t.extractAttributesFromSearchOperation=s;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l)},function(e,t,n){"use strict";function r(e){var t,n,r,o,u,f=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=f.classname,n=(0,s.createLinkWithPattern)("opInfoPattern",{classname:t,operationName:l.OPERATION_NAMES.kOperationSearch}),e.next=4,a.ReduxSaga.effects.call(i.getJSON,n);case 4:if(r=e.sent,!r.form_url||!r.submit_url){e.next=13;break}return e.next=8,a.ReduxSaga.effects.call(i.getJSON,r.form_url);case 8:return o=e.sent,e.next=11,a.ReduxSaga.effects.put((0,c.searchOperationLoaded)(t,r,o));case 11:e.next=16;break;case 13:return u=(0,c.searchOperationLoadError)(t,"search_error_not_activated"),e.next=16,a.ReduxSaga.effects.put(u);case 16:case"end":return e.stop()}},p,this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ReduxSaga.effects.takeEvery(u.ACTIONS.LOAD_SEARCH_OP,r);case 2:case"end":return e.stop()}},f,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.loadSearchOperation=r,t.default=o;var a=n(1),i=n(10),s=n(2),l=n(18),u=n(17),c=n(397),p=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(o)},function(e,t,n){"use strict";function r(e){var t,n,r,o,a,i,s,l=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.classname,n=(0,f.createLinkWithPattern)("searchFavouritesTemplate",{classname:t}),e.next=4,c.ReduxSaga.effects.call(p.getJSON,n);case 4:return r=e.sent,o=r.favourites,a=r.defaultFavouriteId,i=r.classDesignation,s=(0,h.loadedFavouritesForClass)(t,o,a,i),e.next=9,c.ReduxSaga.effects.put(s);case 9:case"end":return e.stop()}},y,this)}function o(){var e,t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return e=(0,f.getAppSetup)().getIn(["links","common","searchFavourites"]),n.next=3,c.ReduxSaga.effects.call(p.getJSON,e);case 3:return t=n.sent,n.next=6,c.ReduxSaga.effects.put((0,h.loadedAllFavourites)(t));case 6:case"end":return n.stop()}},m,this)}function a(e){var t,n,r,o,a,i,l=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.classname,n=l.oldFavourites,r=l.changedFavourites,o=r.toOrderedMap().mapEntries(function(e){var t=s(e,2),n=t[1];return[n.get("cdb_object_id"),n]}),a=n.filterNot(function(e,t){return o.has(t)}),e.next=5,c.ReduxSaga.effects.all(a.map(function(e){return c.ReduxSaga.effects.call(p.deleteObject,e.get("@id"))}).toArray());case 5:return e.next=7,c.ReduxSaga.effects.all(a.map(function(e,n){return c.ReduxSaga.effects.put({type:d.ACTIONS.REMOVE_FAVOURITE_FROM_CLASS,payload:{classname:t,favouriteId:n}})}).toArray());case 7:return e.next=9,c.ReduxSaga.effects.all(o.filterNot(function(e,t){return u.default.is(e,n.get(t))}).map(function(e){return c.ReduxSaga.effects.call(p.putJSON,e.get("@id"),e.toJS())}).toArray());case 9:return i=e.sent,e.next=12,c.ReduxSaga.effects.all(i.map(function(e){return c.ReduxSaga.effects.put({type:d.ACTIONS.STORE_FAVOURITE_FOR_CLASS,payload:{classname:t,newFavourite:e}})}));case 12:case"end":return e.stop()}},g,this)}function i(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.ReduxSaga.effects.takeEvery(d.ACTIONS.LOAD_FAVOURITES_FOR_CLASS,r);case 2:return e.next=4,c.ReduxSaga.effects.takeEvery(d.ACTIONS.LOAD_ALL_FAVOURITES,o);case 4:return e.next=6,c.ReduxSaga.effects.takeEvery(d.ACTIONS.EDITED_SEARCH_FAVOURITES,a);case 6:case"end":return e.stop()}},b,this)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.loadFavouritesForClass=r,t.loadAllFavourites=o,t.default=i;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(1),p=n(10),f=n(2),d=n(17),h=n(134),y=regeneratorRuntime.mark(r),m=regeneratorRuntime.mark(o),g=regeneratorRuntime.mark(a),b=regeneratorRuntime.mark(i)},function(e,t,n){"use strict";function r(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,a.ReduxSaga.effects.select(function(e){return e.search.initializedClasses});case 2:if(t=n.sent,!t.includes(e.payload.classname)){n.next=5;break}return n.abrupt("return");case 5:return n.next=7,a.ReduxSaga.effects.all([a.ReduxSaga.effects.call(s.loadSearchOperation,e),a.ReduxSaga.effects.call(l.loadFavouritesForClass,e)]);case 7:return n.next=9,a.ReduxSaga.effects.put({type:i.ACTIONS.INIT_CLASS_SEARCH_DONE,payload:e.payload});case 9:case"end":return n.stop()}},u,this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ReduxSaga.effects.takeEvery(i.ACTIONS.INIT_CLASS_SEARCH,r);case 2:case"end":return e.stop()}},c,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.initClassSearch=r,t.default=o;var a=n(1),i=n(17),s=n(215),l=n(216),u=regeneratorRuntime.mark(r),c=regeneratorRuntime.mark(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(406),a=r(o),i=n(219),s=r(i),l=n(223),u=r(l);t.default={ApplicationFrame:a.default,TitleBar:s.default,TitleBarRaw:i.TitleBar,NavigationPane:u.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{currentUser:e.objectsById.get(H)}}Object.defineProperty(t,"__esModule",{value:!0}),t.CDBTitleBar=t.CDBTitleBarContent=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=n(0),p=r(c),f=n(3),d=r(f),h=n(6),y=n(1),m=n(27),g=n(2),b=n(11),v=r(b),_=n(25),S=n(59),O=r(S),T=n(407),E=r(T),C=n(408),w=r(C),P=n(36),N=r(P),I=n(16),R=r(I),j=n(409),x=r(j),M=n(413),A=r(M),k=n(31),D=function(e){return(0,g.getAppSetup)().getIn(["appSettings",e])},L=function(e){return(0,g.getAppSetup)().getIn(["links","common",e])},F=D("productName"),B=L("help"),H=L("currentUser"),z=D("hideTitleBarSearchField"),U=JSON.parse(D("accountMenuItems")||"[]"),V=D("userFullName"),G=t.CDBTitleBarContent=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={displaySearchField:!0,showErrorLog:!1,showPasswordDialog:!1,passwordError:!1},n.toggleSearchField=n.toggleSearchField.bind(n),n.focusSearchField=n.focusSearchField.bind(n),n.showErrorLog=n.showErrorLog.bind(n),n.hideErrorLog=n.hideErrorLog.bind(n),n.showPasswordDialog=n.showPasswordDialog.bind(n),n.hidePasswordDialog=n.hidePasswordDialog.bind(n),n.passwordLoadError=n.passwordLoadError.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){void 0===this.props.currentUser&&this.props.fetchObject(H),(0,k.addGlobalShortcuts)([["g s",this.focusSearchField]])}},{key:"componentWillUnmount",value:function(){(0,k.removeGlobalShortcuts)(["g s"])}},{key:"focusSearchField",value:function(){this.setState({displaySearchField:!0}),this.searchField.setFocusToInputField()}},{key:"toggleSearchField",value:function(){this.searchField.setFocusToInputField()}},{key:"showErrorLog",value:function(){this.setState({showErrorLog:!0})}},{key:"hideErrorLog",value:function(){this.setState({showErrorLog:!1})}},{key:"renderErrorLog",value:function(){return(0,g.isCEDesktop)()||!this.state.showErrorLog?null:p.default.createElement(R.default.SingleSelection,{title:(0,u.formatStr)("error_log_title"),sizes:d.default.fromJS([R.default.SIZE_LARGE,R.default.SIZE_MEDIUM]),showCancel:!0,onHide:this.hideErrorLog},p.default.createElement(E.default,null))}},{key:"renderInfoMenu",value:function(){if((0,g.isCEDesktop)())return null;var e=p.default.createElement(v.default,{name:"csweb_information",title:(0,u.formatStr)("tooltip_infomenu"),className:(0,y.classNames)((0,g.prefixNS)("titlebar__icon"))});return p.default.createElement(h.NavDropdown,{id:(0,g.prefixNS)("webui_menu_profile"),title:e,className:(0,g.prefixNS)("titlebar__button")},U.map(function(e,t){return p.default.createElement(h.MenuItem,{key:t,href:e.link,target:"navigate-new-tab"===e.presentation_id?"_blank":null},p.default.createElement(_.SVGIconAndLabel,{label:e.title,src:e.imageSrc}))}),p.default.createElement(h.MenuItem,null,p.default.createElement(_.SVGIconAndLabel,{label:p.default.createElement("span",{onClick:this.showErrorLog},(0,u.formatStr)("error_protocol_label")),name:"csapp_error_protocol"})))}},{key:"renderPasswordDialog",value:function(){return(0,g.isCEDesktop)()?null:this.props.currentUser?p.default.createElement(w.default,{show:this.state.showPasswordDialog,onClose:this.hidePasswordDialog,onLoadError:this.passwordLoadError,userLogin:this.props.currentUser.get("login"),userName:this.props.currentUser.get("name"),userRole:this.props.currentUser.get("beruf"),userPasswordRule:this.props.currentUser.get("password_rule")}):null}},{key:"renderPasswordError",value:function(){var e=this;return(0,g.isCEDesktop)()?null:p.default.createElement(R.default.Error,{title:(0,u.formatStr)("error_title"),show:this.state.passwordError,onHide:function(){return e.setState({passwordError:!1})}},(0,u.formatStr)("pwd_load_error"))}},{key:"showPasswordDialog",value:function(e){return e.preventDefault(),this.setState({showPasswordDialog:!0}),!1}},{key:"hidePasswordDialog",value:function(){this.setState({showPasswordDialog:!1})}},{key:"passwordLoadError",value:function(){this.setState({passwordError:!0})}},{key:"renderUserMenu",value:function(){var e=this;if((0,g.isCEDesktop)())return null;var t=p.default.createElement(v.default,{name:"csweb_person_fallback",title:(0,u.formatStr)("tooltip_usersettings")+": "+V,className:(0,y.classNames)((0,g.prefixNS)("titlebar__icon"))});return p.default.createElement(h.NavDropdown,{id:(0,g.prefixNS)("webui_menu_profile"),title:t,className:(0,y.classNames)((0,g.prefixNS)("titlebar__button"),(0,g.prefixNS)("titlebar__usermenu"))},this.props.currentUser?p.default.createElement(x.default,{contextObject:this.props.currentUser,fallBackImg:(0,g.getIcon)("csweb_person_fallback")}):null,p.default.createElement(h.MenuItem,{divider:!0}),p.default.createElement(h.MenuItem,{href:"#",onClick:function(t){return e.showPasswordDialog(t)}},p.default.createElement(_.SVGIconAndLabel,{name:"csweb_password",label:(0,u.formatStr)("change_password")})),p.default.createElement(h.MenuItem,{href:"/server/__quit__",id:(0,g.prefixNS)("webui_menu_logout")},p.default.createElement(_.SVGIconAndLabel,{name:"csweb_logout",label:(0,u.formatStr)("logoff")})))}},{key:"renderMessageMenu",value:function(){if((0,g.isCEDesktop)())return null;var e=p.default.createElement(v.default,{name:"csweb_notifications_added",title:(0,u.formatStr)("messages_tooltip"),className:(0,y.classNames)((0,g.prefixNS)("titlebar__icon"))});return p.default.createElement(h.NavDropdown,{id:(0,g.prefixNS)("webui_menu_messages"),title:e,className:(0,g.prefixNS)("titlebar__button")},p.default.createElement(N.default.MessageView,null))}},{key:"renderHistory",value:function(){return(0,g.isCEDesktop)()?null:p.default.createElement(O.default.History,{className:(0,g.prefixNS)("titlebar__button")})}},{key:"renderFavorites",value:function(){return(0,g.isCEDesktop)()?null:p.default.createElement(O.default.Favorites,{className:(0,g.prefixNS)("titlebar__button")})}},{key:"renderSearch",value:function(){var e=this,t=!1;return((0,g.isCEDesktop)()||z||!this.state.displaySearchField)&&(t=!0),p.default.createElement(A.default,{ref:function(t){e.searchField=t},productName:F,focused:!t,hide:t})}},{key:"renderHelp",value:function(){return B?p.default.createElement(h.NavItem,{className:(0,g.prefixNS)("titlebar__button"),href:B,target:"_blank"},p.default.createElement(v.default,{name:"csweb_question_sign",className:(0,y.classNames)((0,g.prefixNS)("titlebar__icon"))})):null}},{key:"renderReload",value:function(){return(0,g.isCEDesktop)()?p.default.createElement(h.Nav,{className:"navbar-image"},p.default.createElement(h.NavItem,{className:(0,g.prefixNS)("titlebar__button"),onClick:function(){location.reload(!0)}},p.default.createElement(v.default,{name:"csweb_refresh",className:(0,y.classNames)((0,g.prefixNS)("titlebar__icon"))}))):null}},{key:"render",value:function(){return p.default.createElement(h.Nav,{pullRight:!0},this.renderReload(),this.renderSearch(),this.renderMessageMenu(),this.renderHelp(),this.renderFavorites(),this.renderHistory(),this.renderInfoMenu(),this.renderUserMenu(),this.renderErrorLog(),this.renderPasswordDialog(),this.renderPasswordError())}}]),t}(p.default.Component);G.propTypes={fetchObject:y.PropTypes.func.isRequired,currentUser:y.ImmutablePropTypes.map};var W={fetchObject:m.fetchObject},q=(t.CDBTitleBar=(0,y.connect)(s,W)(G),function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"renderHome",value:function(){var e=(0,y.classNames)("visible-lg-inline","visible-md-inline",(0,g.prefixNS)("titlebar__brand-centered"));return p.default.createElement("span",{title:(0,u.formatStr)("tooltip_home"),className:e},(0,g.isCEDesktop)()?p.default.createElement("span",null,this.props.title):p.default.createElement("a",{href:this.props.homeLink},this.props.title))}},{key:"render",value:function(){return p.default.createElement(h.Navbar,{className:(0,g.prefixNS)("titlebar"),fixedTop:!0,fluid:!0},p.default.createElement(h.Navbar.Header,null,p.default.createElement(h.Navbar.Brand,{className:(0,g.prefixNS)("titlebar__logo-title")},(0,g.isCEDesktop)()?null:p.default.createElement("a",{href:this.props.homeLink},p.default.createElement("span",{className:(0,g.prefixNS)("logo-spacing")},p.default.createElement(v.default,{src:this.props.logoSrc,className:(0,g.prefixNS)("logo-size")}))),this.renderHome())),this.props.children)}}]),t}(p.default.Component));t.default=q,q.propTypes={title:y.PropTypes.string.isRequired,homeLink:y.PropTypes.string.isRequired,logoSrc:y.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(221),i=r(a),s=n(410),l=r(s),u=n(145);o.Registry.registerComponent("cs-web-components-base-PersonTile",l.default),t.default={Tile:u.Tile,FallbackTile:i.default,PersonTile:l.default,TileHeader:u.TileHeader,TileImage:u.TileImage,TileLabel:u.TileLabel}},function(e,t,n){"use strict";function r(e){return a.default.createElement(s.Tile,{contextObject:e.contextObject,labelText:e.label,headerAttr:"system:description",fallbackImg:e.contextObject.get("system:icon_link"),controls:e.controls})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1),s=n(145);r.propTypes={contextObject:i.ImmutablePropTypes.map.isRequired,label:i.PropTypes.string,controls:i.PropTypes.node}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(){return window.SpeechRecognition||window.webkitSpeechRecognition||window.mozSpeechRecognition||window.msSpeechRecognition||window.oSpeechRecognition}function s(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(function(e){return e.trim()}).join(" ").trim()}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(1),f=n(2),d=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={interimTranscript:"",finalTranscript:""},n.API=i(),n.recognition=null,n.initSpeechAPI(e),n}return a(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.allowSpeech!==this.props.allowSpeech&&(this.initSpeechAPI(e),null===this.recognition?this.setState({interimTranscript:"",finalTranscript:""}):this.recognition.start())}},{key:"componentWillUnmount",value:function(){null!==this.recognition&&this.recognition.abort()}},{key:"initSpeechAPI",value:function(e){e.allowSpeech&&void 0!==this.API?(this.recognition=new this.API,this.recognition.continuous=!1,this.recognition.interimResults=!0,this.recognition.lang=(0,f.getAppSetup)().getIn(["appSettings","language"]),this.recognition.onresult=this.onSpeechResult.bind(this),this.recognition.onend=this.onSpeechEnd.bind(this),this.recognition.onerror=this.onSpeechError.bind(this)):null!==this.recognition&&(this.recognition.abort(),this.recognition=null)}},{key:"onSpeechResult",value:function(e){for(var t=this.state.finalTranscript,n="",r=e.resultIndex;r<e.results.length;++r)e.results[r].isFinal?t=s(t,e.results[r][0].transcript):n=s(n,e.results[r][0].transcript);this.setState({finalTranscript:t,interimTranscript:n})}},{key:"onSpeechEnd",value:function(){var e=this.props.onTextRecognized,t=this.state.finalTranscript;""!==t?(this.recognition.abort(),void 0!==e&&e(t)):null!==this.recognition&&this.recognition.start()}},{key:"onSpeechError",value:function(e){f.Console.error("Speech recognition error detected: "+e.error+", switching off!"),this.recognition.abort(),this.recognition=null}},{key:"render",value:function(){var e=this.state,t=e.interimTranscript,n=e.finalTranscript;return this.props.children({speechAvailable:void 0!==this.API,interimTranscript:t,finalTranscript:n})}}]),t}(c.default.Component);t.default=d,d.propTypes={allowSpeech:p.PropTypes.bool.isRequired,onTextRecognized:p.PropTypes.func}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=n(2),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){return l.default.createElement("div",{className:(0,u.classNames)((0,c.prefixNS)("navigation-pane"),this.props.collapsed?"":(0,c.prefixNS)("navigation-pane--visible")),"data-ce-id":"ApplicationSidebar","data-ce-state":this.props.collapsed?"collapsed":"expanded"},this.props.children)}}]),t}(s.Component);t.default=p,p.propTypes={collapsed:u.PropTypes.bool},p.defaultProps={collapsed:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(30),f=r(p),d=n(8),h=r(d),y=n(2),m=n(4),g=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"renderZoomInOut",value:function(){var e=this.props,t=e.currentScale,n=e.onZoomIn,r=e.onReset,o=e.onZoomOut;return u.default.createElement(u.default.Fragment,null,u.default.createElement(h.default.ZoomOutButton,{onClick:n,className:(0,y.prefixNS)("zoomer__zoom-out"),title:(0,m.formatStr)("zoomer_out")}),u.default.createElement(h.default.TextButton,{onClick:r,className:(0,y.prefixNS)("zoomer__zoom-reset"),bsSize:"xsmall",buttonStyle:"primary",title:(0,m.formatStr)("zoomer_reset"),label:Math.floor(100*t)+"%"}),u.default.createElement(h.default.ZoomInButton,{onClick:o,className:(0,y.prefixNS)("zoomer__zoom-in"),title:(0,m.formatStr)("zoomer_in")}))}},{key:"renderZoomToFit",value:function(){var e=this.props,t=e.onZoomToFit,n=e.zoomToFitActive;if(void 0===t)return null;var r=(0,c.classNames)((0,y.prefixNS)("zoomer__zoom-fit"),{active:n});return u.default.createElement(h.default.IconButton,{onClick:t,className:r,buttonStyle:"primary",title:(0,m.formatStr)("zoomer_fit"),iconName:"csweb_zoom_fit"})}},{key:"renderZoomToFitHorizontal",value:function(){var e=this.props,t=e.onZoomToFitHorizontal,n=e.zoomToFitHorizontalActive;if(void 0===t)return null;var r=(0,c.classNames)((0,y.prefixNS)("zoomer__zoom-horizontal"),{active:n});return u.default.createElement(h.default.IconButton,{onClick:t,className:r,buttonStyle:"primary",title:(0,m.formatStr)("zoomer_horizontal"),iconName:"csweb_zoom_horizontal"})}},{key:"renderZoomToFitVertical",value:function(){var e=this.props,t=e.onZoomToFitVertical,n=e.zoomToFitVerticalActive;if(void 0===t)return null;var r=(0,c.classNames)((0,y.prefixNS)("zoomer__zoom-vertical"),{active:n});return u.default.createElement(h.default.IconButton,{onClick:t,className:r,buttonStyle:"primary",title:(0,m.formatStr)("zoomer_vertical"),iconName:"csweb_zoom_vertical"})}},{key:"render",value:function(){return u.default.createElement(f.default,{className:(0,y.prefixNS)("zoomer")},this.renderZoomInOut(),this.renderZoomToFit(),this.renderZoomToFitHorizontal(),this.renderZoomToFitVertical())}}]),t}(u.default.PureComponent);t.default=g,g.propTypes={currentScale:c.PropTypes.number.isRequired,onZoomIn:c.PropTypes.func,onReset:c.PropTypes.func,onZoomOut:c.PropTypes.func,onZoomToFit:c.PropTypes.func,zoomToFitActive:c.PropTypes.bool,onZoomToFitHorizontal:c.PropTypes.func,zoomToFitHorizontalActive:c.PropTypes.bool,onZoomToFitVertical:c.PropTypes.func,zoomToFitVerticalActive:c.PropTypes.bool},g.defaultProps={zoomToFitActive:!1,zoomToFitHorizontalActive:!1,zoomToFitVerticalActive:!1}},function(e,t,n){"use strict";function r(e){return a.default.createElement(s.Alert,{bsStyle:"warning"},"No Location ",e.location.pathname)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1),s=n(6);r.propTypes={location:i.PropTypes.shape({pathname:i.PropTypes.string.isRequired}).isRequired},t.default=r},function(e,t,n){"use strict";function r(e){return a.default.createElement("div",{className:"cs-web-components-base-fixed-sidebar"},a.default.createElement("div",{className:"cs-web-components-base-fixed-sidebar__content"},e.content),a.default.createElement("div",{className:"cs-web-components-base-fixed-sidebar__sidebar"},e.children))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1);r.propTypes={content:i.PropTypes.oneOfType([i.PropTypes.func,i.PropTypes.object])}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.opInfo,n=e.selectCB,r=e.disabled;return u.default.createElement(p.Button,{bsSize:"small",onClick:function(){return n(t)},title:(t.get("tooltip")||t.get("label")).trim(),disabled:r,"data-ce-id":t.get("opname")},t.get("icon")?u.default.createElement("img",{src:t.get("icon")}):null,t.get("label"))}function a(e){var t=e.contextObject,n=e.operationContextName,r=e.selectCB,a=e.deleteCB,i=e.disabled;return u.default.createElement(d.OpInfoWrapper,{contextObjects:s.default.List([t]),operationContextName:n},function(e){return u.default.createElement(p.ButtonToolbar,{className:(0,f.prefixNS)("OperationToolbar")},e.map(function(e){if(e.get("target_url")||e.get("submit_url")||e.get("form_url")){var n=e.get("opname"),s="CDB_Delete"===n?a||r:r;return u.default.createElement(o,{key:n,contextObject:t,opInfo:e,selectCB:s,disabled:i})}}))})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(3),s=r(i),l=n(0),u=r(l),c=n(1),p=n(6),f=n(2),d=n(47);o.propTypes={contextObject:c.PropTypes.instanceOf(s.default.Map).isRequired,opInfo:c.PropTypes.object.isRequired,selectCB:c.PropTypes.func,disabled:c.PropTypes.bool},a.propTypes={contextObject:c.PropTypes.instanceOf(s.default.Map).isRequired,operationContextName:c.PropTypes.string.isRequired,fetchOperationContext:c.PropTypes.func,disabled:c.PropTypes.bool,selectCB:c.PropTypes.func,deleteCB:c.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(6),h=n(4),y=n(2),m=n(11),g=r(m),b=n(72),v=r(b),_=n(91),S=r(_),O=0,T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={collapsed:n.props.initialCollapsed,ident:"collapse"+O++},n.onToggleCollapseClicked=n.onToggleCollapseClicked.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){Boolean(e.initialCollapsed)!==Boolean(this.props.initialCollapsed)&&this.setState({collapsed:e.initialCollapsed})}},{key:"onToggleCollapseClicked",value:function(){var e=!this.state.collapsed;this.setState({collapsed:e}),this.props.onCollapsed&&this.props.onCollapsed(e)}},{key:"render",value:function(){var e=this.props,t=e.header,n=e.headerTooltip,r=e.useGlyphiconStyle,a=o(e,["header","headerTooltip","useGlyphiconStyle"]),i=this.state.collapsed,s=p.default.isValidElement(t)?t:p.default.createElement("span",null,t),u=n||(p.default.isValidElement(t)?(0,h.formatStr)(i?"tooltip_collapsible_open_gen":"tooltip_collapsible_close_gen"):(0,h.formatStr)(i?"tooltip_collapsible_open":"tooltip_collapsible_close",{header:'"'+t+'"'})),c=(0,y.getIcon)(i?"csweb_collapsible_closed":"csweb_collapsible_open"),f=r?p.default.createElement(g.default,{src:i?S.default:v.default,size:"sm"}):p.default.createElement("img",{"data-ce-id":"CollapsibleControl","data-ce-state":i?"collapsed":"expanded",className:(0,y.prefixNS)("collapsible-icon"),src:c});return delete a.onCollapsed,delete a.initialCollapsed,p.default.createElement("div",{className:(0,y.prefixNS)("collapsible")},p.default.createElement("div",l({},a,{className:(0,y.prefixNS)("collapsible-head"),onClick:this.onToggleCollapseClicked}),f,p.default.createElement("div",{title:u,className:(0,y.prefixNS)("collapsible-title")},s)),p.default.createElement(d.Collapse,{className:(0,y.prefixNS)("collapsible-container"),in:!i},p.default.createElement("div",{className:(0,y.prefixNS)("collapsible-content")},this.props.children)))}}]),t}(c.Component);t.default=T,T.propTypes={header:f.PropTypes.oneOfType([f.PropTypes.node,f.PropTypes.string]).isRequired,onCollapsed:f.PropTypes.func,initialCollapsed:f.PropTypes.bool,useGlyphiconStyle:f.PropTypes.bool,headerTooltip:f.PropTypes.string},T.defaultProps={onCollapsed:void 0,initialCollapsed:!0,useGlyphiconStyle:!1,headerTooltip:void 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return{objectsById:e.objectsById,typesById:e.typesById,relshipsById:e.relshipsById,fetchingById:e.fetchingById}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var a=Object.getPrototypeOf(t);return null===a?void 0:e(a,n,r)}if("value"in o)return o.value;var i=o.get;if(void 0!==i)return i.call(r)},p=n(3),f=r(p),d=n(1),h=n(27),y=n(2),m=n(98),g=r(m),b=n(80),v=r(b),_=n(58),S=r(_),O=n(99),T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._bindInterface({fetchNodeChildren:n.fetchNodeChildren.bind(n),selectTreeNode:n.selectTreeNode.bind(n)}),n}return s(t,e),u(t,[{key:"initRootNode",value:function(e){var t=this;this.props.fetchType(e.get("@type")).then(function(){t.setState({rootNode:t.createTreeNodeFromObject(e,!0),title:t.props.title||e.get(t.props.titleAttribute||"system:description")})})}},{key:"componentWillMount",value:function(){c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentWillMount",this).call(this);var e=this.props.contextObject;e&&this.initRootNode(e)}},{key:"componentWillReceiveProps",value:function(e){!e.contextObject||this.props.contextObject&&e.contextObject.get("@id")===this.props.contextObject.get("@id")||this.initRootNode(e.contextObject)}},{key:"generateNodeId",value:function(e,t){return e?e+";"+t.get("@id"):t.get("@id")}},{key:"getObjectTypes",value:function(e){var t=this.props.typesById.get(e.get("@type"));return[t.get("@id").split("/").pop()].concat(t.get("base_classes").map(function(e){return e.get("name")}).toJS())}},{key:"getDerivedContext",value:function(e){var t=this.props.treeDownReferences,n=new Set;return this.getObjectTypes(e).forEach(function(e){(t[e]||[]).forEach(function(e){n.add(e)})}),{derivedObject:e,contentReferences:n,additionalKey:void 0}}},{key:"referencedObjectsAsOrderedSet",value:function(e,t){var n=this.props,r=n.relshipsById,o=n.objectsById,a=(0,y.referencedObjects)({relshipsById:r,objectsById:o},e,t);return f.default.OrderedSet.isOrderedSet(a)?a:f.default.Map.isMap(a)?f.default.OrderedSet([a]):f.default.OrderedSet()}},{key:"getMissingReferenceDownRelships",value:function(e){var t=this,n=e.contentReferences,r=[];return n.forEach(function(n){var o=e.derivedObject.getIn(["system:relships","relships",n.id]);void 0===t.props.relshipsById.get(o)&&r.push({url:o,viewName:n.viewName,params:{}})}),r}},{key:"createTreeNodeFromObject",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,o=this.generateNodeId(r,e),a=[],i=!1,s=this.getDerivedContext(e),l=!1;t?this.forEachChildFromContext(s,function(e,t){a.push(n.createTreeNodeFromObject(t,!1,o))}):this.props.checkChildren?this.forEachChildFromContext(s,function(){l=!0}):l=!0;var u=[];void 0!==s.derivedObject.get("system:has_children")?s.derivedObject.get("system:has_children")&&(i=!0,u=u.concat(this.getMissingReferenceDownRelships(s)),0===u.length&&(i=!1)):u=u.concat(this.getMissingReferenceDownRelships(s));var c={};void 0!==s.additionalKey&&(c[s.additionalKey]=s.derivedObject);var p=i||(u.length>0||a.length>0);return f.default.fromJS({id:o,content:e,expanded:t,children:l?[]:0===u.length?a:[],has_children:!!l||p,additional_content:c})}},{key:"updateTreeNode",value:function(e,n,r,o){var a=void 0===o?n.get("expanded"):o,i=this.createTreeNodeFromObject(e,a,r);return c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"updateTreeNode",this).call(this,n.get("expandChildren")?i.set("expandChildren",n.get("expandChildren")):i)}},{key:"forEachChildFromContext",value:function(e,t){var n=this;e.contentReferences.forEach(function(r){n.referencedObjectsAsOrderedSet(e.derivedObject,r.id).forEach(function(e,n){t(e,n)})})}},{key:"fetchNodeChildren",value:function(e){var t=this,n=e.getIn(["content","@id"]),r=this.getParentId(e.get("id")),a=this.props.objectsById.get(n);return a?this.props.fetchType(a.get("@type")).then(function(){var n=t.getDerivedContext(a),i=t.getMissingReferenceDownRelships(n),s=i.filter(function(e){return!t.props.fetchingById.has(e.url)});return s.length>0?t.props.fetchRelships(s).then(function(){var i=new Set;return t.forEachChildFromContext(n,function(e,t){i.add(t.get("@type"))}),t.props.fetchTypes([].concat(o(i))).then(function(){return t.updateTreeNode(a,e,r,!0)})}):Promise.resolve(t.updateTreeNode(a,e,r))}):Promise.reject("fetchNodeChildren failed.")}},{key:"getParentId",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=e.split(t);return n.length>1?n.slice(0,n.length-1).join(t):""}},{key:"generateNode",value:function(e,t,n){var r=this.getParentId(e.get("id")),o=void 0===n?!!e&&e.get("expanded"):n;return this.createTreeNodeFromObject(t,o,r)}}]),t}(g.default),E=S.default.create(S.default.NodeRenderer(["content","system:description"]),S.default.WithIcons(function(e){return[{url:e.getIn(["content","system:icon_link"]),title:void 0}]}),S.default.WithHoverLink(["content","system:ui_link"])),C=(0,v.default)(function(e){return e.getIn(["content","system:description"])});T.propTypes=Object.assign({},g.default.propTypes,{contextObject:d.PropTypes.instanceOf(f.default.Map).isRequired,titleAttribute:d.PropTypes.string,treeDownReferences:d.PropTypes.object.isRequired,checkChildren:d.PropTypes.bool.isRequired,onSelect:d.PropTypes.func}),T.defaultProps=Object.assign({},g.default.defaultProps,{titleAttribute:void 0,matcher:C,NodeRenderer:E,SearchAdapter:O.BackendSearchAdapter,checkChildren:!1}),t.default=(0,d.connect)(l,{fetchRelships:h.fetchRelships,fetchType:h.fetchType,fetchTypes:h.fetchTypes})(T)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.active?(0,p.prefixNS)("applicationbar__breadcrumb--active"):"";return e.component?u.default.createElement("div",{className:(0,c.classNames)(t,"custom-breadcrumb"),key:e.key},e.component):e.icon?u.default.createElement(h.SVGIconAndLink,{className:t,key:e.key,src:e.icon,to:e.active?void 0:e.link,label:e.name,title:e.name}):u.default.createElement(h.IconAndLabel,{className:t,key:e.key,label:e.active?e.name:u.default.createElement(b.default,{to:e.link},e.name),title:e.name})}function a(e){return u.default.createElement("div",{className:(0,p.prefixNS)("applicationbar")},u.default.createElement("div",{className:(0,p.prefixNS)("applicationbar__breadcrumb")},e.items.map(function(e){return o(e)})),u.default.createElement(d.default,null,e.children))}function i(e){var t=e.contextObject,n=(0,p.getAppSetup)(),r=n.getIn(["detail_view","appInfo","classTitle"]),o=n.getIn(["detail_view","appInfo","classIcon"]),i=n.getIn(["links","detail_view","classUiLink"]),l=[{key:"app",name:r,icon:o,link:i,active:!1},{key:"obj",name:t.get("system:description"),icon:t.get("system:icon_link"),onIconClick:void 0,active:!0}];return u.default.createElement(a,{items:l},u.default.createElement(v.ObjectFavoriteButton,{contextObject:t}),u.default.createElement(m.default,s({},e,{iconSize:"sm"})))}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.ApplicationBar=a,t.ObjectApplicationBar=i;var l=n(0),u=r(l),c=n(1),p=n(2),f=n(34),d=r(f),h=n(25),y=n(41),m=r(y),g=n(29),b=r(g),v=n(100);a.defaultProps={items:[]};var _=c.PropTypes.shape({key:c.PropTypes.string.isRequired,icon:c.PropTypes.string,active:c.PropTypes.bool,name:c.PropTypes.string,link:c.PropTypes.string,component:c.PropTypes.element});a.propTypes={items:c.PropTypes.oneOfType([c.PropTypes.arrayOf(_),c.ImmutablePropTypes.listOf(_)])},i.propTypes={contextObject:c.ImmutablePropTypes.map.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.children;return y.default.createElement(E.default,{collapsible:!1,expanded:!0},y.default.createElement(E.default.Body,null,y.default.createElement("div",{className:(0,v.prefixNS)("object-preview-not-found-div")},y.default.createElement("h3",null,t))))}function l(){return y.default.createElement(s,null,(0,_.formatStr)("preview_no_file_available_header"))}function u(e){return y.default.createElement(s,null,(0,_.formatStr)("preview_no_plugin_available_header",{fileName:e.filename}))}function c(){return y.default.createElement(s,null,(0,_.formatStr)("select_entry_for_details"))}function p(){return y.default.createElement(s,null,y.default.createElement(m.Alert,{bsStyle:"danger"},"Error in Viewer component!"))}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),h=n(0),y=r(h),m=n(6),g=n(1),b=n(10),v=n(2),_=n(4),S=n(49),O=r(S),T=n(32),E=r(T);l.propTypes={contextObject:g.PropTypes.object},u.propTypes={contextObject:g.PropTypes.object,filename:g.PropTypes.object};var C=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={previewFile:null,viewerComponent:n.getEmptyView(e),hasError:!1},n}return i(t,e),d(t,[{key:"componentDidMount",value:function(){this.props.contextObject&&this.retrieveContentFileFromObject(this.props)}},{key:"componentWillReceiveProps",value:function(e){void 0!==this.props.contextObject&&void 0===e.contextObject?this.setState({previewFile:null,viewerComponent:this.getEmptyView(e),hasError:!1}):void 0===e.contextObject||void 0!==e.selectedFile||void 0!==this.props.contextObject&&void 0===this.props.selectedFile&&this.props.contextObject.get("@id")===e.contextObject.get("@id")?void 0===e.selectedFile||void 0!==this.props.selectedFile&&this.props.selectedFile.get("@id")===e.selectedFile.get("@id")||this.retrieveContentFileFromFile(e):this.retrieveContentFileFromObject(e)}},{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"getEmptyView",value:function(e){return e.showPlaceholder?c:null}},{key:"retrieveContentFileFromObject",value:function(e){var t=this,n=e.contextObject,r=e.pluginContextName,o=n.get("@id")+"/file";(0,b.getJSON)(o).then(function(e){if(null===e)t.setState({previewFile:null,viewerComponent:l,hasError:!1});else{var n=function(t){return-1!==e.content_type.search(new RegExp(t,"i"))};t.setState({previewFile:e,viewerComponent:(0,v.getPlugin)(r,n,u),hasError:!1})}})}},{key:"retrieveContentFileFromFile",value:function(e){var t=e.pluginContextName,n=function(t){return-1!==e.selectedFile.get("system:content_type").search(new RegExp(t,"i"))};this.setState({previewFile:{url:e.selectedFile.get("@id"),filename:e.selectedFile.get("cdbf_name"),content_type:e.selectedFile.get("system:content_type")},viewerComponent:(0,v.getPlugin)(t,n,u),hasError:!1})}},{key:"renderViewer",value:function(e){return y.default.createElement(e,f({},this.props,{url:this.state.previewFile?this.state.previewFile.url:void 0,filename:this.state.previewFile?this.state.previewFile.filename:void 0}))}},{key:"render",value:function(){if(this.state.hasError)return y.default.createElement(p,null);var e=this.state.viewerComponent;return y.default.createElement("div",{className:(0,g.classNames)((0,v.prefixNS)("object-content"),this.props.className)},e?this.renderViewer(e):y.default.createElement(O.default,null))}}]),t}(y.default.Component);t.default=C,C.propTypes={contextObject:g.ImmutablePropTypes.map,pluginContextName:g.PropTypes.string,className:g.PropTypes.string,selectedFile:g.ImmutablePropTypes.map,showPlaceholder:g.PropTypes.bool},C.defaultProps={pluginContextName:"content-view"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(3),p=r(c),f=n(230),d=n(1),h=n(107),y=n(41),m=n(20),g=r(m),b=n(101),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toOperationLocation=n.toOperationLocation.bind(n),n}return i(t,e),s(t,[{key:"toOperationLocation",value:function(e){var t=e.get("target_url");if(t)window.location=t;else{var n=Object.assign({basename:"",pathname:this.props.location.pathname,search:"",hash:""},e.get("uiLink").toJS());this.props.history.push(n)}}},{key:"getStartOperationCb",value:function(e){return"editor"===e.get("presentation_id")?this.toOperationLocation:this.props.runOperation}},{key:"renderDropdown",value:function(e,t){var n=this,r=this.props.isOperationRunning,o=(0,h.getClassViewSetup)(),a=[t];e.forEach(function(e){-1===a.indexOf(e.get("opname"))&&a.push(e.get("opname"))});for(var i=p.default.List(),s=!1,l=0;l<a.length;l++)!function(t){var r=e.filter(function(e){return e.get("opname")===a[t]}),o=r.map(function(e){var t=e.get("opname")+"/"+e.get("classname");return u.default.createElement(y.OperationMenuItem,{key:t,operation:e,runOperation:n.getStartOperationCb(e),disabled:n.props.isOperationRunning})}).toList();(i.size>0&&o.size>1||s)&&(i=i.push(u.default.createElement(g.default.MenuDivider,{key:"divider-"+t}))),s=o.size>1,i=i.concat(o)}(l);return u.default.createElement(g.default.DropdownIconButton,{pullRight:!0,iconSrc:o.getIn(["icons",t]),key:t,id:t,title:e.first().get("tooltip"),noCaret:!0,buttonStyle:"success",disabled:r},i)}},{key:"renderButton",value:function(e){var t=this.props.isOperationRunning,n=(0,h.getClassViewSetup)(),r=e.toList().get(0);return u.default.createElement(y.OperationButton,{disabled:t,key:r.get("opname"),buttonStyle:"success",operation:r,runOperation:this.getStartOperationCb(r),iconSize:"xs",icon:n.getIn(["icons",r.get("opname")])})}},{key:"render",value:function(){var e=this,t=(0,h.getClassViewSetup)(),n=t.get("rootClassname"),r=[{key:"app",name:t.getIn(["classInfos",n,"title"]),active:!0}],o=t.get("classOpInfos").filter(function(e,t){return"CDB_Search"!==t}).map(function(e){return e.filter(function(e){return e.get("menu_visible")})}).filter(function(e){return e.size>0}).map(function(t,n){return t.size>1?e.renderDropdown(t,n):e.renderButton(t)}).toList();return u.default.createElement(f.ApplicationBar,{items:r},o.unshift(this.props.additionalElement))}}]),t}(u.default.Component);v.propTypes={runOperation:d.PropTypes.func,isOperationRunning:d.PropTypes.bool,additionalElement:d.PropTypes.element,location:d.PropTypes.object.isRequired,history:d.PropTypes.object.isRequired},v.defaultProps={isOperationRunning:!1},t.default=d.ReactRouter.withRouter((0,b.WithOperationTrigger)(v))},function(e,t,n){"use strict";function r(e){return{type:l.ACTIONS.ADD_TAB_FOR_CLASS,payload:{classname:e}}}function o(e,t){return{type:l.ACTIONS.REMOVE_TAB_FOR_CLASS,payload:{classname:e,instanceName:t}}}function a(e,t,n){return{type:l.ACTIONS.REORDER_TABS_FOR_CLASS,payload:{classname:e,draggedInstanceName:t,droppedInstanceName:n}}}function i(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return{type:l.ACTIONS.SET_ACTIVE_TAB,payload:{classname:e,instanceName:t,storeSettings:n}}}function s(){return{type:l.ACTIONS.HANDLE_SUBMIT,payload:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.addTabForClass=r,t.removeTabForClass=o,t.reOrderTabsForClass=a,t.setActiveTab=i,t.handleSubmit=s;var l=n(106)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName,r=e.search.instances.get(n);return{searchResult:r.get("searchResult"),searchRunning:r.get("searchRunning"),searchError:r.get("searchError"),notYetSearched:r.get("notYetSearched")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(6),f=n(1),d=n(49),h=r(d),y=n(22),m=n(446),g=r(m),b=n(450),v=r(b),_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.doRepeatSearch=n.doRepeatSearch.bind(n),n}return i(t,e),l(t,[{key:"doRepeatSearch",value:function(){var e=this.props,t=e.instanceName;(0,e.repeatSearch)(t)}},{key:"render",value:function(){var e=this.props,t=e.searchResult,n=e.searchRunning,r=e.searchError,o=e.notYetSearched,a=e.instanceName,i=e.rootClassname,s=e.detail,l=e.childConfiguration;return null!==r?c.default.createElement(p.Alert,{key:"alert",bsStyle:"danger"},r.message):o?c.default.createElement(v.default,null):n?c.default.createElement(h.default,null):c.default.createElement(g.default,{instanceName:a,rootClassname:i,searchResult:t,detail:s,repeatSearch:this.doRepeatSearch,childConfiguration:l})}}]),t}(c.default.PureComponent);_.propTypes={instanceName:f.PropTypes.string.isRequired,rootClassname:f.PropTypes.string.isRequired,detail:f.PropTypes.element,childConfiguration:f.PropTypes.object,searchResult:f.ImmutablePropTypes.map,searchRunning:f.PropTypes.bool,searchError:f.PropTypes.any,notYetSearched:f.PropTypes.bool,repeatSearch:f.PropTypes.func.isRequired},t.default=(0,f.connect)(s,{repeatSearch:y.repeatSearch})(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(139),h=r(d),y=n(457),m=r(y),g=n(458),b=r(g),v=n(459),_=r(v),S=n(236),O=r(S),T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={minified:!1},n.toggleMinified=n.toggleMinified.bind(n),n}return s(t,e),l(t,[{key:"toggleMinified",value:function(){this.setState(function(e){return{minified:!e.minified}})}},{key:"renderDataContainers",value:function(){if(this.state.minified)return null;var e=this.props.DisplayContextLoader;return c.default.createElement(e,{displayContext:"object_header",contextObject:this.props.contextObject},c.default.createElement(_.default,null))}},{key:"renderExtension",value:function(){var e=this.props.children;return this.state.minified||0===c.default.Children.count(e)?null:c.default.createElement("div",{className:(0,f.prefixNS)("object-header__extension")},e)}},{key:"renderCollapseButton",value:function(){var e=this.state.minified;return e?null:c.default.createElement("div",{className:(0,f.prefixNS)("object-header__collapse_button")},c.default.createElement(O.default,{minified:e,toggleMinified:this.toggleMinified}))}},{key:"render",value:function(){var e,t=this.props.contextObject,n=this.state.minified,r=(0,p.classNames)((0,f.prefixNS)("object-header"),(e={},o(e,(0,f.prefixNS)("object-header--normal"),!n),o(e,(0,f.prefixNS)("object-header--minified"),n),e));return c.default.createElement("div",{className:r},c.default.createElement("div",{className:(0,f.prefixNS)("object-header__main")},c.default.createElement(m.default,{contextObject:t,size:n?"md":"lg"}),c.default.createElement("div",{className:(0,f.prefixNS)("object-header__data")},c.default.createElement(b.default,{contextObject:t,minified:n,toggleMinified:this.toggleMinified}),this.renderDataContainers())),this.renderExtension(),this.renderCollapseButton())}}]),t}(c.default.Component);t.default=T,T.propTypes={contextObject:p.ImmutablePropTypes.map.isRequired,DisplayContextLoader:p.PropTypes.func},T.defaultProps={DisplayContextLoader:h.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.minified,n=e.toggleMinified,r=t?"csweb_menu_down":"csweb_menu_up",o=t?"object_header_expand":"object_header_collapse";return i.default.createElement(c.default.IconButton,{onClick:n,iconName:r,size:"sm",buttonStyle:"auxiliary",title:(0,l.formatStr)(o)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(4),u=n(8),c=r(u);o.propTypes={minified:s.PropTypes.bool.isRequired,toggleMinified:s.PropTypes.func.isRequired}},,function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(){(0,Xt.initializeKeyHandler)();var e=(0,A.getAppSetup)().getIn(["appSettings","language"]);return l.default.locale(e),i.i18ndb.setLocale(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.Overlays=t.DisplayForm=t.VerticalBlockLayout=t.toDisplayFormat=t.floatToDisplayFormat=t.getPhysQuantText=t.timeToDisplayFormat=t.Tab=t.makeConfiguredComponentClass=t.ConfiguredComponent=t.SplitterLayout=t.WizardProgressPanel=t.FlatCatalog=t.ObjectHeader=t.Thumbnail=t.DynamicLibLoader=t.RichTextEditor=t.ProgressBar=t.WithSpeechRecognition=t.SearchApi=t.ClassViewRaw=t.ClassView=t.ButtonToolbar=t.ButtonGroup=t.DayPicker=t.DropdownIconButton=t.IconButton=t.Messages=t.Constants=t.SVGIcon=t.Organizer=t.Channel=t.SplitLayout=t.SearchField=t.FileDropzone=t.Button=t.StatusIcon=t.InfoBox=t.IconAndTitleField=t.IconAndValueField=t.SVGIconAndLink=t.SVGIconAndLabel=t.IconAndLabel=t.Icon=t.Tiles=t.RelatedObjects=t.ObjectContent=t.ObjectApplicationBar=t.ApplicationBar=t.TreeModule=t.NodeRenderer=t.TreeNodeRenderer=t.Tree=t.StructureTree=t.RestTree=t.TreeRenderer=void 0,t.ProgressDetail=t.ContentOperationToolbar=t.TableOperationToolbar=t.ContentBlockGroup=t.ContentBlock=t.AmountBadge=t.Form=t.Table=t.Throbber=t.SimpleTextMatcher=t.BackendSearchAdapter=t.TableWrapper=t.ObjectWidgets=t.DataType=t.ObjectImagePreview=t.ImageFiles=t.FormControl=t.OperationToolbar=t.Dialog=t.Navigation=t.PageFrame=t.DetailPage=t.SinglePage=t.PersistentCollapsible=t.Collapsible=t.Zoomer=t.OperationModalRaw=t.OperationModal=t.CreateButton=t.Operations=t.OperationHandlers=t.WithOperationHandler=t.WithOperationTrigger=t.WithOperations=t.HelpReference=t.FixedSidebarWithEditor=t.FixedSidebar=t.setComponentModified=t.connect=t.autoNotifyPromiseRejection=t.notifyError=t.removeNotificationNow=t.addNotification=t.errorsById=t.fetchingById=t.relshipsById=t.typesById=t.objectsById=t.deleteObjectFromStore=t.createObject=t.editObject=t.resetUserSetting=t.storeUserSetting=t.fetchUserSetting=t.fetchObjectWithRelships=t.fetchRelships=t.fetchRelship=t.fetchOperationInfo=t.fetchOperationContext=t.fetchCollection=t.fetchTypes=t.fetchType=t.fetchObject=t.receivedCollection=t.receivedObject=t.setContextObjectList=t.setContextObjects=t.singleFetch=t.fetchAndCheck=t.NetworkError=t.urlWithParams=t.deleteObject=t.postForm=t.postJSON=t.putJSON=t.getJSON=t.Registry=t.i18ndb=t.updateQuery=t.parseQuery=t.debugMode=t.getObjectImage=t.makeSequenceWithResults=t.isSupportedVideoType=t.isSupportedImageType=t.isCEDesktop=t.Console=t.getDisplayName=t.getIcon=t.getPlugin=t.getRelshipUrl=t.getLocalPathForURL=t.makeSequence=t.makeCancelable=t.getAppSetup=t.referencedObjects=t.prefixNS=t.getAppComponent=t.getAppContainer=t.init=void 0;var i=n(4),s=n(23),l=o(s),u=n(1),c=n(13),p=n(108),f=o(p),d=n(383),h=n(10),y=n(388),m=n(389);n(100);var g=n(390),b=r(g),v=n(402),_=o(v),S=n(403),O=o(S),T=n(404),E=n(405),C=o(E),w=n(27),P=n(89),N=n(54),I=n(19),R=n(76),j=n(69),x=n(44),M=n(47),A=n(2),k=n(38),D=o(k),L=n(218),F=o(L),B=n(8),H=n(154),z=o(H),U=n(224),V=o(U),G=n(59),W=o(G),q=n(190),Y=o(q),Z=n(75),Q=o(Z),J=n(416),K=o(J),X=n(171),$=o(X),ee=n(32),te=o(ee),ne=n(197),re=o(ne),oe=n(41),ae=o(oe),ie=n(417),se=o(ie),le=n(419),ue=o(le),ce=n(420),pe=o(ce),fe=n(226),de=o(fe),he=n(421),ye=o(he),me=n(227),ge=o(me),be=n(422),ve=o(be),_e=n(423),Se=o(_e),Oe=n(16),Te=o(Oe),Ee=n(228),Ce=o(Ee),we=n(424),Pe=o(we),Ne=n(425),Ie=o(Ne),Re=n(53),je=n(98),xe=o(je),Me=n(80),Ae=o(Me),ke=n(142),De=o(ke),Le=n(428),Fe=o(Le),Be=n(99),He=n(229),ze=o(He),Ue=n(49),Ve=o(Ue),Ge=n(135),We=o(Ge),qe=n(39),Ye=o(qe),Ze=n(220),Qe=o(Ze),Je=n(133),Ke=o(Je),Xe=n(61),$e=o(Xe),et=n(230),tt=n(58),nt=o(tt),rt=n(231),ot=o(rt),at=n(430),it=o(at),st=n(26),lt=o(st),ut=n(25),ct=n(431),pt=o(ct),ft=n(8),dt=o(ft),ht=n(198),yt=o(ht),mt=n(200),gt=o(mt),bt=n(71),vt=o(bt),_t=n(105),St=o(_t),Ot=n(11),Tt=o(Ot),Et=n(432),Ct=o(Et),wt=n(30),Pt=o(wt),Nt=n(34),It=o(Nt),Rt=n(433),jt=r(Rt),xt=n(438);n(452);var Mt=n(18),At=o(Mt),kt=n(212),Dt=n(36),Lt=o(Dt);n(455);var Ft=n(139),Bt=o(Ft),Ht=n(192),zt=o(Ht),Ut=n(222),Vt=o(Ut),Gt=n(465),Wt=o(Gt),qt=n(131),Yt=o(qt),Zt=n(206),Qt=o(Zt),Jt=n(466),Kt=o(Jt),Xt=n(31),$t=n(467),en=o($t),tn=n(67),nn=o(tn),rn=n(468),on=o(rn),an=n(235),sn=o(an),ln=n(469),un=o(ln),cn=n(470),pn=o(cn),fn=n(196),dn=o(fn),hn=n(68),yn=o(hn),mn=n(211),gn=o(mn),bn=n(102),vn=o(bn);n(471);var _n=n(51),Sn=o(_n),On=n(474),Tn=o(On),En=n(475),Cn=o(En),wn=n(20),Pn=o(wn);n(476),c.Registry.registerComponent((0,A.prefixNS)("ErrorPage"),Ct.default),c.Registry.registerComponent((0,A.prefixNS)("OperationModal"),$e.default),c.Registry.registerComponent((0,A.prefixNS)("PageFrame"),F.default),c.Registry.registerComponent((0,A.prefixNS)("Zoomer"),V.default),c.Registry.registerComponent((0,A.prefixNS)("ApplicationFrame"),F.default.ApplicationFrame),c.Registry.registerComponent((0,A.prefixNS)("SinglePage"),K.default),c.Registry.registerComponent((0,A.prefixNS)("DetailPage"),se.default),c.Registry.registerComponent((0,A.prefixNS)("AmountBadge"),$.default),c.Registry.registerComponent((0,A.prefixNS)("ContentBlock"),te.default),c.Registry.registerComponent((0,A.prefixNS)("ContentBlockGroup"),re.default),c.Registry.registerComponent((0,A.prefixNS)("Dialog"),Te.default),c.Registry.registerComponent((0,A.prefixNS)("SimpleLayout"),ue.default),c.Registry.registerComponent((0,A.prefixNS)("FlexBox"),pe.default),c.Registry.registerComponent((0,A.prefixNS)("FixedSidebar"),de.default),c.Registry.registerComponent((0,A.prefixNS)("FixedSidebarWithEditor"),ye.default),c.Registry.registerComponent((0,A.prefixNS)("FileList"),Y.default.FileList),c.Registry.registerComponent((0,A.prefixNS)("FileSelectionProvider"),Y.default.FileSelectionProvider),c.Registry.registerComponent((0,A.prefixNS)("HelpReference"),x.HelpReference),c.Registry.registerComponent((0,A.prefixNS)("ObjectSearch"),Y.default.ObjectSearch),c.Registry.registerComponent((0,A.prefixNS)("OperationToolbar"),ge.default),c.Registry.registerComponent((0,A.prefixNS)("ImageFiles"),be.ImageFiles),c.Registry.registerComponent((0,A.prefixNS)("ObjectImagePreview"),ve.default),c.Registry.registerComponent((0,A.prefixNS)("ObjectWidgets"),Y.default),c.Registry.registerComponent((0,A.prefixNS)("RelationshipTable"),Y.default.RelationshipTable),c.Registry.registerComponent((0,A.prefixNS)("ConnectedRelationshipTable"),Y.default.ConnectedRelationshipTable),c.Registry.registerComponent((0,A.prefixNS)("ConnectedRelationshipTreeTable"),Y.default.ConnectedRelationshipTreeTable),c.Registry.registerComponent((0,A.prefixNS)("RelationshipGroup"),Y.default.RelationshipGroup),c.Registry.registerComponent((0,A.prefixNS)("IconAndLabel"),ut.IconAndLabel),c.Registry.registerComponent((0,A.prefixNS)("SVGIconAndLabel"),ut.SVGIconAndLabel),c.Registry.registerComponent((0,A.prefixNS)("SVGIconAndLink"),ut.SVGIconAndLink),c.Registry.registerComponent((0,A.prefixNS)("EditableObjectLabel"),Y.default.EditableObjectLabel),c.Registry.registerComponent((0,A.prefixNS)("Collapsible"),Ce.default),c.Registry.registerComponent((0,A.prefixNS)("PersistentCollapsible"),Pe.default),c.Registry.registerComponent((0,A.prefixNS)("Attributes"),Y.default.Attributes),c.Registry.registerComponent((0,A.prefixNS)("AttributeList"),Y.default.AttributeList),c.Registry.registerComponent((0,A.prefixNS)("ContextObjectSetter"),Re.ContextObjectSetter),c.Registry.registerComponent((0,A.prefixNS)("ContextObjectWrapper"),Re.ContextObjectWrapper),c.Registry.registerComponent((0,A.prefixNS)("TableWrapper"),Q.default),c.Registry.registerComponent((0,A.prefixNS)("RestTree"),ze.default),c.Registry.registerComponent((0,A.prefixNS)("Throbber"),Ve.default),c.Registry.registerComponent((0,A.prefixNS)("StructureTree"),We.default),c.Registry.registerComponent((0,A.prefixNS)("ApplicationBar"),et.ApplicationBar),c.Registry.registerComponent((0,A.prefixNS)("ObjectApplicationBar"),et.ObjectApplicationBar),c.Registry.registerComponent((0,A.prefixNS)("ObjectContent"),ot.default),c.Registry.registerComponent((0,A.prefixNS)("RelatedObjects"),it.default),c.Registry.registerComponent((0,A.prefixNS)("Icon"),lt.default),c.Registry.registerComponent((0,A.prefixNS)("InfoBox"),pt.default),c.Registry.registerComponent((0,A.prefixNS)("StatusIcon"),yt.default),c.Registry.registerComponent((0,A.prefixNS)("FileDropzone"),gt.default),c.Registry.registerComponent((0,A.prefixNS)("SearchField"),Ke.default),c.Registry.registerComponent((0,A.prefixNS)("ChannelProvider"),St.default.Provider),c.Registry.registerComponent((0,A.prefixNS)("ChannelListener"),St.default.Listener),c.Registry.registerComponent((0,A.prefixNS)("SVGIcon"),Tt.default),c.Registry.registerComponent((0,A.prefixNS)("Button"),dt.default),c.Registry.registerComponent((0,A.prefixNS)("IconButton"),B.IconButton),c.Registry.registerComponent((0,A.prefixNS)("DropdownIconButton"),B.DropdownIconButton),c.Registry.registerComponent((0,A.prefixNS)("RelshipTableOperationToolbar"),zt.default),c.Registry.registerComponent((0,A.prefixNS)("ButtonGroup"),Pt.default),c.Registry.registerComponent((0,A.prefixNS)("ButtonToolbar"),It.default),c.Registry.registerComponent((0,A.prefixNS)("DisplayContextLoader"),Bt.default),c.Registry.registerComponent((0,A.prefixNS)("ProgressBar"),Wt.default),c.Registry.registerComponent((0,A.prefixNS)("SplitLayout"),Yt.default),c.Registry.registerComponent((0,A.prefixNS)("RichTextEditor"),Qt.default),c.Registry.registerComponent((0,A.prefixNS)("ConfigurationError"),en.default),c.Registry.registerComponent((0,A.prefixNS)("EmbeddedPage"),on.default),c.Registry.registerComponent((0,A.prefixNS)("IconAndValueField"),ut.IconAndValueField),c.Registry.registerComponent((0,A.prefixNS)("IconAndTitleField"),ut.IconAndTitleField),c.Registry.registerComponent((0,A.prefixNS)("CreateButton",un.default)),c.Registry.registerComponent((0,A.prefixNS)("FlatCatalog"),pn.default),c.Registry.registerComponent((0,A.prefixNS)("WizardProgressPanel"),dn.default),c.Registry.registerComponent((0,A.prefixNS)("VerticalBlockLayout",Tn.default)),c.Registry.registerReducers({operationsById:T.operationsById,operationContextById:T.operationContextById,operationsByRelship:T.operationsByRelship,objectsById:y.objectsById,typesById:y.typesById,relshipsById:y.relshipsById,relshipsByClass:y.relshipsByClass,fetchingById:m.fetchingById,errorsById:m.errorsById,historyItems:_.default,contextObjects:O.default,userSettings:C.default});var Nn=jt.WithOperationTrigger,In=jt.WithOperationHandler,Rn=vn.default.Handlers;D.default.TableCatalogWrapper=Cn.default,t.init=a,t.getAppContainer=d.getAppContainer,t.getAppComponent=d.getAppComponent,t.prefixNS=A.prefixNS,t.referencedObjects=A.referencedObjects,t.getAppSetup=A.getAppSetup,t.makeCancelable=A.makeCancelable,t.makeSequence=A.makeSequence,t.getLocalPathForURL=A.getLocalPathForURL,t.getRelshipUrl=A.getRelshipUrl,t.getPlugin=A.getPlugin,t.getIcon=A.getIcon,t.getDisplayName=A.getDisplayName,t.Console=A.Console,t.isCEDesktop=A.isCEDesktop,t.isSupportedImageType=A.isSupportedImageType,t.isSupportedVideoType=A.isSupportedVideoType,t.makeSequenceWithResults=A.makeSequenceWithResults,t.getObjectImage=A.getObjectImage,t.debugMode=A.debugMode,t.parseQuery=A.parseQuery,t.updateQuery=A.updateQuery,t.i18ndb=i.i18ndb,t.Registry=c.Registry,t.getJSON=h.getJSON,t.putJSON=h.putJSON,t.postJSON=h.postJSON,t.postForm=h.postForm,t.deleteObject=h.deleteObject,t.urlWithParams=h.urlWithParams,t.NetworkError=h.NetworkError,t.fetchAndCheck=h.fetchAndCheck,t.singleFetch=P.singleFetch,t.setContextObjects=N.setContextObjects,t.setContextObjectList=N.setContextObjectList,t.receivedObject=w.receivedObject,t.receivedCollection=w.receivedCollection,t.fetchObject=w.fetchObject,t.fetchType=w.fetchType,t.fetchTypes=w.fetchTypes,t.fetchCollection=w.fetchCollection,t.fetchOperationContext=R.fetchOperationContext,t.fetchOperationInfo=R.fetchOperationInfo,t.fetchRelship=w.fetchRelship,t.fetchRelships=w.fetchRelships,t.fetchObjectWithRelships=w.fetchObjectWithRelships,t.fetchUserSetting=j.fetchUserSetting,t.storeUserSetting=j.storeUserSetting,t.resetUserSetting=j.resetUserSetting,t.editObject=w.editObject,t.createObject=w.createObject,t.deleteObjectFromStore=w.deleteObjectFromStore,t.objectsById=y.objectsById,t.typesById=y.typesById,t.relshipsById=y.relshipsById,t.fetchingById=m.fetchingById,t.errorsById=m.errorsById,t.addNotification=I.addNotification,t.removeNotificationNow=I.removeNotificationNow,t.notifyError=I.notifyError,t.autoNotifyPromiseRejection=I.autoNotifyPromiseRejection,t.connect=u.connect,t.setComponentModified=kt.setComponentModified,t.FixedSidebar=de.default,t.FixedSidebarWithEditor=ye.default,t.HelpReference=x.HelpReference,t.WithOperations=M.WithOperations,t.WithOperationTrigger=Nn,t.WithOperationHandler=In,t.OperationHandlers=Rn,t.Operations=vn.default,t.CreateButton=un.default,t.OperationModal=$e.default,t.OperationModalRaw=Xe.OperationModalRaw,t.Zoomer=V.default,t.Collapsible=Ce.default,t.PersistentCollapsible=Pe.default,t.SinglePage=K.default,t.DetailPage=se.default,t.PageFrame=F.default,t.Navigation=W.default,t.Dialog=Te.default,t.OperationToolbar=ge.default,t.FormControl=D.default,t.ImageFiles=be.ImageFiles,t.ObjectImagePreview=ve.default,t.DataType=Se.default,t.ObjectWidgets=Y.default,t.TableWrapper=Q.default,t.BackendSearchAdapter=Be.BackendSearchAdapter,t.SimpleTextMatcher=Ae.default,t.Throbber=Ve.default,t.Table=Ye.default,t.Form=jt,t.AmountBadge=$.default,t.ContentBlock=te.default,t.ContentBlockGroup=re.default,t.TableOperationToolbar=oe.TableOperationToolbar,t.ContentOperationToolbar=ae.default,t.ProgressDetail=Ie.default,t.TreeRenderer=De.default,t.RestTree=ze.default,t.StructureTree=We.default,t.Tree=xe.default,t.TreeNodeRenderer=tt.NodeRenderer,t.NodeRenderer=nt.default,t.TreeModule=Fe.default,t.ApplicationBar=et.ApplicationBar,t.ObjectApplicationBar=et.ObjectApplicationBar,t.ObjectContent=ot.default,t.RelatedObjects=it.default,t.Tiles=Qe.default,t.Icon=lt.default,t.IconAndLabel=ut.IconAndLabel,t.SVGIconAndLabel=ut.SVGIconAndLabel,t.SVGIconAndLink=ut.SVGIconAndLink,t.IconAndValueField=ut.IconAndValueField,t.IconAndTitleField=ut.IconAndTitleField,t.InfoBox=pt.default,t.StatusIcon=yt.default,t.Button=dt.default,t.FileDropzone=gt.default,t.SearchField=Ke.default,t.SplitLayout=Yt.default,t.Channel=St.default,t.Organizer=vt.default,t.SVGIcon=Tt.default,t.Constants=At.default,t.Messages=Lt.default,t.IconButton=B.IconButton,t.DropdownIconButton=B.DropdownIconButton,t.DayPicker=z.default,t.ButtonGroup=Pt.default,t.ButtonToolbar=It.default,t.ClassView=xt.ClassView,t.ClassViewRaw=xt.ClassViewRaw,t.SearchApi=b,t.WithSpeechRecognition=Vt.default,t.ProgressBar=Wt.default,t.RichTextEditor=Qt.default,t.DynamicLibLoader=Kt.default,t.Thumbnail=nn.default,t.ObjectHeader=sn.default,t.FlatCatalog=pn.default,t.WizardProgressPanel=dn.default,t.SplitterLayout=yn.default,t.ConfiguredComponent=gn.default,t.makeConfiguredComponentClass=mn.makeConfiguredComponentClass,t.Tab=Sn.default,t.timeToDisplayFormat=A.timeToDisplayFormat,t.getPhysQuantText=A.getPhysQuantText,t.floatToDisplayFormat=A.floatToDisplayFormat,t.toDisplayFormat=A.toDisplayFormat,t.VerticalBlockLayout=Tn.default,t.DisplayForm=f.default,t.Overlays=Pn.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{messages:e.messages.get("messagesById")}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(6),f=n(51),d=r(f),h=n(1),y=n(2),m=n(4),g=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(p.ListGroupItem,{className:(0,y.prefixNS)("message-item")},c.default.createElement("div",null,this.props.message.get("message")),c.default.createElement("div",null,this.props.message.get("title")))}}]),t}(c.default.Component);g.propTypes={message:h.ImmutablePropTypes.map};var b=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){return c.default.createElement(p.ListGroup,null,this.props.messages.sortBy(function(e){return e.get("ts")},function(e,t){return e<t?1:e>t?-1:0}).map(function(e){return c.default.createElement(g,{key:e.get("id"),message:e})}))}}]),t}(c.default.Component);b.propTypes={messages:h.ImmutablePropTypes.list};var v=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.messages.toList(),t=1===e.size?(0,m.formatStr)("messages_system_subj_sg"):(0,m.formatStr)("messages_system_subj_pl");return c.default.createElement(d.default.Container,{id:(0,y.prefixNS)("message-view__container"),className:(0,y.prefixNS)("message-view__container"),defaultActiveKey:2},c.default.createElement(d.default.Bar,null,c.default.createElement(d.default.Title,{title:(0,m.formatStr)("messages_title",{cnt:String(e.size),subj:t}),eventKey:2})),c.default.createElement(d.default.Content,null,c.default.createElement(d.default.Pane,{eventKey:2,className:(0,y.prefixNS)("message-view__pane")},0===e.size?c.default.createElement("div",{className:(0,y.prefixNS)("message-view__empty-lbl")},(0,m.formatStr)("messages_empty_label",{subj:(0,m.formatStr)("messages_system_subj_pl")})):c.default.createElement(b,{messages:e}))))}}]),t}(c.default.Component);v.propTypes={messages:h.ImmutablePropTypes.map},t.default=(0,h.connect)(s)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(81),y=r(h),m=n(241),g=r(m),b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.layoutFunc,a=o(e,["className","children","layoutFunc"]),i=(0,f.classNames)(t,(0,d.prefixNS)("overlay--typeahead"));return p.default.createElement(y.default,l({grabFocus:!1},a,{className:i,layoutFunc:r}),n)}}]),t}(p.default.Component);t.default=b,b.propTypes={className:f.PropTypes.string,layoutFunc:f.PropTypes.func,layoutConfig:f.PropTypes.object},b.defaultProps={layoutFunc:g.default,layoutConfig:{noSwapVertical:!0}};var v=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,r=e.layoutFunc,a=o(e,["className","children","layoutFunc"]),i=(0,f.classNames)(t,(0,d.prefixNS)("overlay--typeahead"));return p.default.createElement(y.default.Static,l({},a,{className:i,layoutFunc:r,grabFocus:!1}),n)}}]),t}(p.default.Component);v.propTypes={className:f.PropTypes.string,layoutFunc:f.PropTypes.func,layoutConfig:f.PropTypes.object},v.defaultProps={layoutFunc:g.default,layoutConfig:{noSwapVertical:!0}},b.Static=v},function(e,t,n){"use strict";function r(e){return{left:e.left,width:e.width,overflowX:"hidden"}}function o(e,t,n,o,s){var l=r(o,s);switch(n){case a.VerticalAlignment.BOTTOM:Object.assign(l,(0,i.getBottomPosition)(e,o,s,!1));break;case a.VerticalAlignment.TOP:Object.assign(l,(0,i.getTopPosition)(e,o,s,!1))}return l}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(37),i=n(112)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return y.default.createElement(C,f({},e,{ButtonComponent:b.IconButton}))}function c(e){return y.default.createElement(C,f({},e,{caret:!0,ButtonComponent:b.TextButton}))}function p(e){return y.default.createElement(C,f({},e,{ButtonComponent:b.IconTextButton}))}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.DropdownIconButton=u,t.DropdownTextButton=c,t.DropdownIconTextButton=p;var h=n(0),y=r(h),m=n(24),g=r(m),b=n(8),v=n(2),_=n(37),S=n(1),O=n(113),T=n(81),E=r(T),C=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.setMenuRef=n.setMenuRef.bind(n),n.onOverlayFocus=n.onOverlayFocus.bind(n),n}return l(t,e),d(t,[{key:"setMenuRef",value:function(e){this._menu=e}},{key:"onOverlayFocus",value:function(e){if(this._menu){g.default.findDOMNode(this._menu).focus()}e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.ButtonComponent,n=e.containerRef,r=e.children,i=e.className,s=e.onShow,l=e.onHide,u=e.onSelect,c=e.dropdownRef,p=e.horizontalAlign,d=e.verticalAlign,h=e.visible,m=a(e,["ButtonComponent","containerRef","children","className","onShow","onHide","onSelect","dropdownRef","horizontalAlign","verticalAlign","visible"]);return y.default.createElement(E.default,{setContentRef:this.setMenuRef,onFocus:this.onOverlayFocus,containerRef:n,onShow:s,onHide:l,ref:c,visible:h,horizontalAlign:p,verticalAlign:d},function(e,n){var a,s=e.onToggle,l=e.onHide,c=(0,S.classNames)((a={},o(a,i,Boolean(i)),o(a,(0,v.prefixNS)("open"),n),a),(0,v.prefixNS)("dropdown-toggle"));return[y.default.createElement(t,f({key:"toggle",caret:!0,className:c},m,{onClick:s})),y.default.createElement(O.Menu,{key:"content",onHide:l,onSelect:u},r)]})}}]),t}(y.default.Component);C.propTypes={containerRef:S.PropTypes.object,ButtonComponent:S.PropTypes.oneOfType([S.PropTypes.object,S.PropTypes.func]),buttonStyle:S.PropTypes.string,title:S.PropTypes.string,className:S.PropTypes.string,horizontalAlign:_.HorizontalAlignmentType,verticalAlign:_.VerticalAlignmentType,visible:S.PropTypes.bool},C.defaultProps={buttonStyle:"primary",horizontalAlign:_.HorizontalAlignment.RIGHT,verticalAlign:_.VerticalAlignment.BOTTOM},u.propTypes=f({},C.propTypes,{iconName:S.PropTypes.string,iconSrc:S.PropTypes.string,size:S.PropTypes.string}),u.defaultProps=f({},C.defaultProps,{size:"sm"}),c.propTypes=f({},C.propTypes,{label:S.PropTypes.node}),c.defaultProps=f({},C.defaultProps),p.propTypes=f({},C.propTypes,{iconName:S.PropTypes.string,iconSrc:S.PropTypes.string,size:S.PropTypes.string,label:S.PropTypes.node}),p.defaultProps=f({},u.defaultProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e,t){return function(n){var r=n.isSwitched,o=s(n,["isSwitched"]),a=t.verticalAlign===b.VerticalAlignment.BOTTOM?r?"top":"bottom":r?"bottom":"top";return f.default.createElement("div",{className:(0,g.prefixNS)("bubble-content")},f.default.createElement("div",{className:(0,g.prefixNS)("bubble-arrow-"+a),style:o}),f.default.createElement("div",{className:(0,g.prefixNS)("bubble-container-"+a)},e))}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(81),h=r(d),y=n(244),m=r(y),g=n(2),b=n(37),v=n(1),_=n(245),S=r(_),O=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.bubbleStyle,n=e.children,r=e.className,o=s(e,["bubbleStyle","children","className"]),a=(0,v.classNames)(r,(0,g.prefixNS)("bubble"),(0,g.prefixNS)("bubble-"+t));return f.default.createElement(h.default.Static,u({OverlayContainer:l,layoutFunc:m.default,className:a},o),n)}}]),t}(f.default.Component);t.default=O,O.propTypes={bubbleStyle:S.default.semanticStyle,className:v.PropTypes.string,verticalAlign:b.VerticalAlignmentType,visible:v.PropTypes.bool},O.defaultProps={bubbleStyle:"default",verticalAlign:b.VerticalAlignment.BOTTOM,visible:!0};var T=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n._dropdown=null,n.setDropdownRef=n.setDropdownRef.bind(n),n}return i(t,e),c(t,[{key:"setDropdownRef",value:function(e){this._dropdown=e}},{key:"show",value:function(){this._dropdown&&this._dropdown.show()}},{key:"hide",value:function(){this._dropdown&&this._dropdown.hide()}},{key:"toggle",value:function(){this._dropdown&&this._dropdown.toggle()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.bubbleStyle,o=s(e,["children","className","bubbleStyle"]),a=(0,v.classNames)(n,(0,g.prefixNS)("bubble"),(0,g.prefixNS)("bubble-"+r));return f.default.createElement(h.default,u({ref:this.setDropdownRef,OverlayContainer:l,layoutFunc:m.default,className:a},o),t)}}]),t}(f.default.Component);T.propTypes={bubbleStyle:S.default.semanticStyle,className:v.PropTypes.string,verticalAlign:b.VerticalAlignmentType},T.defaultProps={bubbleStyle:"default",verticalAlign:b.VerticalAlignment.BOTTOM},O.Dropdown=T},function(e,t,n){"use strict";function r(e,t){var n=e.left+e.width/2-t.width/2,r=0;return n<0?(r=n,n=0):n+t.width>=window.innerWidth&&(r=n+t.width-window.innerWidth,n=window.innerWidth-t.width),[n,Math.min(Math.max(t.width/2-u/2+r,c),t.width-c)]}function o(e,t,n){var o=e.top-(t.height+2*l.ALIGNED_OVERLAY_DIST);if(o<0){if(n)return;var i=a(e,t,!0);if(i)return i._children.isSwitched=!0,i}var u=r(e,t),c=s(u,2);return{top:o,left:c[0],_children:{left:c[1]}}}function a(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.top+e.height+l.ALIGNED_OVERLAY_DIST;if(a+t.height>window.innerHeight){if(n)return;var i=o(e,t,!0);if(i)return i._children.isSwitched=!0,i}var u=r(e,t),c=s(u,2);return{top:a,left:c[0],_children:{left:c[1]}}}function i(e,t,n,r,i){var s={};switch(n){case l.VerticalAlignment.BOTTOM:Object.assign(s,a(r,i));break;case l.VerticalAlignment.TOP:Object.assign(s,o(r,i))}return s}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=i;var l=n(37),u=22,c=4},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1),o=r.PropTypes.oneOf(["default","primary","success","info","warning","danger"]);t.default={semanticStyle:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(24),p=r(c),f=n(110),d=r(f),h=n(113),y=n(112),m=r(y),g=n(37),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onHide=n.onHide.bind(n),n.setContentRef=n.setContentRef.bind(n),n.state={visible:!1,position:void 0,style:void 0},n}return i(t,e),s(t,[{key:"open",value:function(e,t){this.setState({visible:!0,position:{top:t,left:e,width:0,height:0}})}},{key:"setContentRef",value:function(e){if(e){var t=this.props,n=t.verticalAlign,r=t.horizontalAlign,o=p.default.findDOMNode(e),a={width:o.scrollWidth,height:o.scrollHeight},i=(0,m.default)({},r,n,this.state.position,a);this.setState({style:i})}}},{key:"onHide",value:function(){this.setState({visible:!1,position:void 0})}},{key:"render",value:function(){return u.default.createElement(d.default.Controlled,{visible:this.state.visible,setContentRef:this.setContentRef,positionStyle:this.state.style,onHide:this.onHide},u.default.createElement("div",{tabIndex:0,style:{outline:"none"}},u.default.createElement(h.Menu,{onHide:this.onHide},this.props.children)))}}]),t}(u.default.Component);t.default=b,b.propTypes={verticalAlign:g.VerticalAlignmentType,horizontalAlign:g.HorizontalAlignmentType},b.defaultProps={horizontalAlign:g.HorizontalAlignment.LEFT,verticalAlign:g.VerticalAlignment.BOTTOM}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{notifications:(0,y.getMessages)(e)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(248),h=r(d),y=n(150),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onPin=n.onPin.bind(n),n}return i(t,e),l(t,[{key:"onPin",value:function(e){this.props.updateDisplayInfo(e,{cancelTimeout:null})}},{key:"render",value:function(){var e=this,t=this.props.notifications;return c.default.createElement("div",{className:(0,f.prefixNS)("NotificationContainer")},c.default.createElement(p.CSSTransitionGroup,{transitionName:(0,f.prefixNS)("NotificationContainer"),transitionEnterTimeout:500,transitionLeaveTimeout:300},t.sortBy(function(e){return e.getIn(["message","ts"])},function(e,t){return e<t?1:e>t?-1:0}).valueSeq().map(function(t){return c.default.createElement(h.default,{key:t.getIn(["message","id"]),notification:t,onClose:e.props.removeNotification,onPin:e.onPin})})))}}]),t}(c.default.Component);m.propTypes={notifications:p.ImmutablePropTypes.map.isRequired,removeNotification:p.PropTypes.func.isRequired,updateDisplayInfo:p.PropTypes.func.isRequired};var g={removeNotification:y.removeNotification,updateDisplayInfo:y.updateDisplayInfo};t.default=(0,p.connect)(s,g)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(2),d=n(11),h=r(d),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClose=n.onClose.bind(n),n.pinNotification=n.pinNotification.bind(n),n}return i(t,e),s(t,[{key:"onClose",value:function(){this.props.onClose(this.props.notification.getIn(["message","id"]))}},{key:"pinNotification",value:function(){var e=this.props.notification;e.getIn(["displayInfo","cancelTimeout"]).call(),this.props.onPin(e.getIn(["message","id"]))}},{key:"render",value:function(){var e=this.props.notification,t=e.getIn(["displayInfo","cancelTimeout"]),n=t?u.default.createElement(h.default,{className:"pin",name:"csweb_pushpin",size:"sm",onClick:this.pinNotification}):null;return u.default.createElement(c.Alert,{className:(0,f.prefixNS)("NotificationItem"),bsStyle:e.getIn(["displayInfo","type"]),onDismiss:this.onClose},n,u.default.createElement("div",{className:"notification-title"},e.getIn(["message","title"])),u.default.createElement("div",{className:(0,f.prefixNS)("NotificationContainer__notification")},e.getIn(["message","message"])))}}]),t}(u.default.Component);t.default=y,y.propTypes={onClose:p.PropTypes.func,onPin:p.PropTypes.func,notification:p.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{messages:(0,f.getMessagesForDisplay)(e,g)}}function s(e){var t=e.bannerContainerId;return function(e,n){var r=(n.id,n.ts,n.title,n.message,n.level);n.owner;return{displayId:g,bannerContainerId:t,bsStyle:(0,y.getType)(r)}}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createBanner=s;var u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(2),f=n(109),d=n(64),h=n(1),y=n(151),m=n(6),g=(0,p.prefixNS)("Banner"),b=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={messages:n.getMessages(e)},n}return a(t,e),l(t,[{key:"componentWillUmount",value:function(){var e=this;this.state.messages.forEach(function(t){e.props.removeMessageFromDisplay(t.getIn(["message","id"],g))})}},{key:"getMessages",value:function(e){return e.messages.filter(function(t){return t.getIn(["displayInfo","bannerContainerId"])===e.id})}},{key:"componentWillReceiveProps",value:function(e){e.messages===this.props.messages&&e.id===this.props.id||this.setState({messages:this.getMessages(e)})}},{key:"render",value:function(){return c.default.createElement("div",null,this.state.messages.map(function(e,t){return c.default.createElement(m.Alert,{key:t,bsStyle:e.getIn(["displayInfo","bsStyle"])},c.default.createElement("b",null,e.getIn(["message","title"])),": ",e.getIn(["message","message"]))}).valueSeq())}}]),t}(c.default.Component);b.propTypes={id:h.PropTypes.string,messages:h.ImmutablePropTypes.map.isRequired,removeMessageFromDisplay:h.PropTypes.func},t.default=(0,h.connect)(i,{removeMessageFromDisplay:d.removeMessageFromDisplay})(b)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){var t=e.label,n=e.className,o=e.tooltip,i=e.height,c=e.width,f=e.keepAspectRatio,d=r(e,["label","className","tooltip","height","width","keepAspectRatio"]),h={};f?(i&&(h.maxHeight=i+"px"),c&&(h.maxWidth=c+"px")):(i&&(h.height=i+"px"),c&&(h.width=c+"px"),h.maxWidth="100%");var y=(0,l.classNames)("below-label",(0,p.prefixNS)("form-input"),n);return s.default.createElement(u.FormGroup,null,s.default.createElement(u.ControlLabel,{title:o},t),s.default.createElement(u.Image,a({style:h,rounded:!0},d,{className:y})))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(0),s=function(e){return e&&e.__esModule?e:{default:e}}(i),l=n(1),u=n(6),c=n(14),p=n(2);o.propTypes={className:l.PropTypes.string,src:l.PropTypes.string.isRequired,label:l.PropTypes.node,tooltip:l.PropTypes.string,height:l.PropTypes.number,width:l.PropTypes.number,keepAspectRatio:l.PropTypes.bool},o.defaultProps=c.sharedDefaultProps},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(1),f=n(6),d=n(8),h=n(14),y=n(2),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.tooltip,o=e.className,a=r(e,["label","tooltip","className"]),i=(0,p.classNames)((0,y.prefixNS)("form-input"),o);return c.default.createElement(f.FormGroup,null,c.default.createElement("div",{className:"form-input-button"},c.default.createElement(d.TextButton,s({title:n,label:t},a,{className:i}))))}}]),t}(c.default.Component);t.default=m,m.propTypes={className:p.PropTypes.string,label:p.PropTypes.string,tooltip:p.PropTypes.string,onClick:p.PropTypes.func},m.defaultProps=h.sharedDefaultProps},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(153),d=r(f),h=n(15),y=r(h),m=n(1),g=n(14),b=n(23),v=r(b),_=n(2),S=n(8),O=r(S),T=n(154),E=r(T),C=n(18),w=n(4),P=n(20),N=r(P),I=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editing:!1,editingValue:"",editingRange:!1},n.setOverlayRef=n.setOverlayRef.bind(n),n.onChange=n.onChange.bind(n),n.onBlur=n.onBlur.bind(n),n.onPickerChange=n.onPickerChange.bind(n),n.stopBlurring=!1,n}return s(t,e),u(t,[{key:"setOverlayRef",value:function(e){this._overlay=e}},{key:"onBlur",value:function(e){var t=this;if(this.stopBlurring)return void(this.stopBlurring=!1);if(e.persist(),!this.state.editing)return this.props.onBlur&&this.props.onBlur(e);var n=this.state.editingValue;this.setState({editing:!1,editingValue:""},function(){return t.props.allowExpression?t.changeRangeDateStr(n):t.changeDateStr(n),t.props.onBlur&&t.props.onBlur(e)})}},{key:"onChange",value:function(e){var t=this;e.persist(),this.setState({editing:!0,editingValue:e.target.value},function(){return t.props.onChange&&t.props.onChange(e)})}},{key:"ignoreBlurring",value:function(){this.stopBlurring=!0}},{key:"quitEditing",value:function(){this.setState({editing:!1,editingValue:""})}},{key:"changeDate",value:function(e){var t=this.props,n=t.onDateChange,r=t.value,o=t.valueFormat,a=e.format(o);r!==a&&n(a)}},{key:"changeRangeDateStr",value:function(e){var t=this.props,n=t.onDateChange,r=t.onInvalidInput,o=t.value,a=t.dateConverter,i=t.valueFormat,s=t.displayFormat,l=t.dateOnlyFormat,u=new a(i,s,l);if(!u.checkDisplayValue(e)&&r)r(e);else{var c=u.convertToValue(e);o!==c&&n(c)}}},{key:"changeDateStr",value:function(e){var t=this.props,n=t.onDateChange,r=t.onInvalidInput,o=t.value,a=t.displayFormat,i=(0,v.default)(e,a);i.isValid()?this.changeDate(i):e&&e.trim().length?r&&r(e):""!==o&&n("")}},{key:"changeRange",value:function(e){if(e){var t=e.getStart(),n=e.getEnd(),r=this.props,o=r.onDateChange,a=r.dateConverter,i=r.valueFormat,s=r.displayFormat,l=r.dateOnlyFormat;t.isSame(n)?this.changeDate(n):o(new a(i,s,l).convertRangeToValue(e)),this._overlay.hide(),this.setState({editingRange:!1})}else this.setState({editingRange:!0})}},{key:"onPickerChange",value:function(e){this.props.allowExpression?this.changeRange(e):(this.changeDate(e.getEnd()),this._overlay.hide())}},{key:"renderButton",value:function(e){var t=this,n=this.props,r=n.readOnly,o=n.allowExpression,a=n.containerRef;if(r&&!e)return null;var i=e?[e]:void 0,s=e?e.getStart()||e.getEnd():null;return p.default.createElement(N.default.Bubble.Dropdown,{ref:this.setOverlayRef,containerRef:a},function(e){var n=e.onToggle;return[p.default.createElement(O.default.IconButton,{key:"toggle",className:(0,_.prefixNS)("form-control-button"),title:(0,w.formatStr)("formcontrol_open_calendar"),iconName:"csweb_calendar",buttonStyle:"success",onClick:n}),p.default.createElement(E.default,{key:"overlay",currentDate:s||(0,v.default)(),selectedDates:i,selectRange:o,readOnly:r,onChange:t.onPickerChange})]})}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.valueFormat,r=e.displayFormat,a=e.dateOnlyFormat,i=e.afterControl,s=e.allowExpression,u=e.validationState,c=e.dateConverter,f=o(e,["value","valueFormat","displayFormat","dateOnlyFormat","afterControl","allowExpression","validationState","dateConverter"]);delete f.onDateChange,delete f.displayFormat,delete f.dateOnlyFormat,delete f.onInvalidInput,delete f.containerRef;var d=new c(n,r,a),m=d.getRangeFromValue(t),g=u,b=t||"";return this.state.editing?b=this.state.editingValue:s?b=d.convertToDisplay(b):null!==m&&0===m.duration()?b=d.formatDisplayDate(m.getStart()):t&&t.trim().length&&void 0===u&&(g=C.FORM_CONTROL_VALIDATION_STATE.ERROR),p.default.createElement(y.default,l({},f,{afterControl:(0,h.combineInputExtensions)(this.renderButton(m),i),value:b,onBlur:this.onBlur,onChange:this.onChange,validationState:g}))}}]),t}(c.Component);t.default=I,I.defaultProps={allowExpression:!1,dateConverter:d.default},I.propTypes=l({},g.sharedTextInputProps,{valueFormat:m.PropTypes.string,displayFormat:m.PropTypes.string,dateOnlyFormat:m.PropTypes.string,onDateChange:m.PropTypes.func,allowExpression:m.PropTypes.bool,onInvalidInput:m.PropTypes.func})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.name,n=e.onChange,r=e.checked,a=e.tooltip,s=e.children,p=e.divider,d=e.header,y=e.label,m=o(e,["name","onChange","checked","tooltip","children","divider","header","label"]);return p?l.default.createElement(u.MenuItem,{divider:!0}):d?l.default.createElement(u.MenuItem,{header:!0},s||y):l.default.createElement(u.MenuItem,{eventKey:t,onSelect:n,className:(0,c.classNames)([(0,f.prefixNS)("checkbox-menuitem"),r?"checked":"unchecked"]),disabled:m.disabled||!1,title:a},l.default.createElement(h.default,i({name:t,tooltip:a,checked:r,label:y,onChange:function(){return null}},m)),s)}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(0),l=r(s),u=n(6),c=n(1),p=n(14),f=n(2),d=n(120),h=r(d);a.propTypes=i({},p.sharedCheckboxProps,{divider:c.PropTypes.bool,header:c.PropTypes.string,onChange:c.PropTypes.func.isRequired}),a.defaultProps=i({},p.sharedDefaultProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(10),h=n(155),y=r(h),m=n(14),g=n(3),b=r(g),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={items:n.checkItems(e.items)},n.onToggle=n.onToggle.bind(n),n.onSelect=n.onSelect.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.setState({items:this.checkItems(e.items)})}},{key:"checkItems",value:function(e){return void 0!==e?e:b.default.List()}},{key:"render",value:function(){var e=o(this.props,[]);return delete e.contextClass,delete e.activeLanguage,delete e.selectURL,delete e.itemsURL,delete e.formData,delete e.onCatalogChange,delete e.operationState,p.default.createElement(y.default,l({onToggle:this.onToggle,onSelect:this.onSelect},e,{items:this.state.items}))}},{key:"prepareData",value:function(){var e=this.props,t=e.contextClass,n=e.activeLanguage,r=e.name,o=this.props.formData.toJS();return o["cdb::argument.catalogcall_cldef"]=t,o["cdb::argument.catalogfieldactivelang"]=n,{form_data:o,operation_state:this.props.operationState,catalog_field:r}}},{key:"onSelect",value:function(e,t){var n=this.props,r=n.selectURL,o=n.onSelect,a=n.name,i=n.onCatalogChange,s=n.value,l=this.state.items.get(e);if(l!==s)if(r){var u=this.prepareData();u.selected_string=l,(0,d.postJSON)(r,u).then(function(e){return i(e.selected_values)})}else{var c={};c[a]=l,i(c)}o&&o(e,t)}},{key:"onToggle",value:function(e){var t=this,n=this.props,r=n.items,o=n.itemsURL,a=n.onToggle;if(e&&void 0===r&&o){var i=this.prepareData();(0,d.postJSON)(o,i).then(function(e){return t.setState({items:b.default.fromJS(e.items)})})}a?a(e):this.forceUpdate()}}]),t}(c.Component);t.default=v,v.propTypes=l({},m.sharedComboBoxProps,m.sharedCatalogProps,{itemsURL:f.PropTypes.string})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.value,n=e.afterControl,r=!t||-1===t.indexOf("@"),o=s.default.createElement(d.default.IconButton,{className:(0,p.prefixNS)("form-control-button"),href:"mailto:"+t,title:(0,h.formatStr)("formcontrol_email_to",{email:t}),key:"EmailSendTo",disabled:r,iconName:"csweb_envelope",buttonStyle:"success"});return s.default.createElement(u.default,a({type:"email"},e,{afterControl:(0,l.combineInputExtensions)(n,o)}))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(0),s=r(i),l=n(15),u=r(l),c=n(14),p=n(2),f=n(8),d=r(f),h=n(4);o.propTypes=a({},c.sharedTextInputProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(6),d=n(2),h=n(8),y=r(h),m=n(15),g=n(4),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={expand:n.props.expanded},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.iconSrc,o=t.others,a=(0,p.classNames)((0,d.prefixNS)("formcontrols-groupcontrol"),this.state.expand?(0,d.prefixNS)("formcontrols-groupcontrol-expanded"):(0,d.prefixNS)("formcontrols-groupcontrol-collapsed")),i=this.props.titleExpanded?this.props.titleExpanded:(0,g.formatStr)("formcontrols_collapse_group"),l=this.props.titleCollapsed?this.props.titleCollapsed:(0,g.formatStr)("formcontrols_expand_group"),u=c.default.createElement(y.default.IconButton,{className:(0,d.prefixNS)("form-control-button"),key:"expandButton",onClick:function(){return e.setState({expand:!e.state.expand})},iconSrc:r,title:this.state.expand?i:l,buttonStyle:"info"}),h=(0,m.combineInputExtensions)(c.default.Children.only(n).props.afterControl,u);return c.default.createElement("div",{className:a},c.default.cloneElement(n,{afterControl:h}),c.default.createElement(f.Collapse,{in:this.state.expand},c.default.createElement("div",null,o.map(function(e){return void 0===e?null:c.default.createElement("div",{key:e.id},c.default.cloneElement(n,s({},e)))}))))}}]),t}(c.default.Component);t.default=b,b.defaultProps={expanded:!1},b.propTypes={children:p.PropTypes.element.isRequired,others:p.PropTypes.array.isRequired,iconSrc:p.PropTypes.string.isRequired,expanded:p.PropTypes.bool,titleExpanded:p.PropTypes.string,titleCollapsed:p.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.buttons,n=o(e,["buttons"]);return l.default.createElement("div",null,l.default.createElement(p.default,{"data-ce-id":"form-action-toolbar",className:(0,m.prefixNS)("form-actions")},t.map(function(e,t){return l.default.createElement(d.default.TextButton,i({key:t,onClick:e.get("onClick"),title:e.get("label"),disabled:e.get("disabled",!1),"data-ce-id":"type-"+e.get("button_type"),buttonStyle:0===e.get("button_type")?"primary":"outline"},n))})),l.default.createElement("div",{className:"clearfix"}))}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(0),l=r(s),u=n(1),c=n(34),p=r(c),f=n(8),d=r(f),h=n(3),y=r(h),m=n(2);a.propTypes={buttons:u.PropTypes.instanceOf(y.default.List)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.inputString,n=e.item,r=t.toLowerCase(),o=n.get("description",""),a=n.get("value",""),i=a.toLowerCase().indexOf(r),s=i+r.length;return f.default.createElement("span",{className:(0,_.prefixNS)("formcontrols-withtypeahead-menu-item")},a.substring(0,i),f.default.createElement("b",null,a.substring(i,s)),a.substr(s),f.default.createElement("br",null),f.default.createElement("i",{className:"text-muted"},o))}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(24),h=r(d),y=n(3),m=r(y),g=n(1),b=n(4),v=n(10),_=n(2),S=n(15),O=r(S),T=n(156),E=r(T),C=n(87),w=r(C),P=n(14),N=n(19),I=n(8),R=r(I),j=n(35),x=n(31),M=n(259),A=r(M),k=n(158),D=r(k),L=(0,w.default)(O.default),F=(0,w.default)(E.default);l.propTypes={inputString:g.PropTypes.string.isRequired,item:g.ImmutablePropTypes.map.isRequired};var B=m.default.List(),H=m.default.List(),z=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showModal:!1,selectedIDs:H,selectedProposalIDs:B,selectedURL:void 0,matches:m.default.List()},n.valueForCheck=e.value,n.valueCheckNotificationID="NOTIFICATION_VALUE_CHECK"+e.label,n.singleSelection=!1,n.requestPromise=null,n.openCatalog=n.openCatalog.bind(n),n.closeCatalog=n.closeCatalog.bind(n),n.onSelectionChanged=n.onSelectionChanged.bind(n),n.onTreeSelectionChanged=n.onTreeSelectionChanged.bind(n),n.onProposalSelectionChanged=n.onProposalSelectionChanged.bind(n),n.clearSelected=n.clearSelected.bind(n),n.select=n.select.bind(n),n.selectStructure=n.selectStructure.bind(n),n.fetchMatches=n.fetchMatches.bind(n),n.onTypeAheadSelect=n.onTypeAheadSelect.bind(n),n.onValueCheck=n.onValueCheck.bind(n),n.onEnter=n.onEnter.bind(n),n.onBlur=n.onBlur.bind(n),n.onButtonBlur=n.onButtonBlur.bind(n),n.onCatalogChange=n.onCatalogChange.bind(n),n.onClickInputField=n.onClickInputField.bind(n),n.setSingleSelection=n.setSingleSelection.bind(n),n.onValueChange=n.onValueChange.bind(n),n}return s(t,e),c(t,[{key:"componentDidMount",value:function(){(0,x.addLocalShortcut)(h.default.findDOMNode(this.textInput),"ArrowDown",this.openCatalog)}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&(e.unchecked||(this.valueForCheck=e.value))}},{key:"componentWillUnmount",value:function(){(0,x.removeLocalShortcut)(h.default.findDOMNode(this.textInput),"ArrowDown"),this.clearRequest(),this.cancelRequest()}},{key:"cancelRequest",value:function(){null!==this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null)}},{key:"fetchMatches",value:function(e,t){var n=this;if(e.typeAheadURL&&t.length>=1){this.cancelRequest();var r=this.prepareData();r[e.name]=t,r.user_input=t,this.requestPromise=(0,_.makeCancelable)((0,v.postJSON)(e.typeAheadURL,r)),this.requestPromise.promise.then(function(e){n.requestPromise=null,n.valueForFetch===t&&n.setState({matches:m.default.fromJS(e.proposals)})},function(e){n.requestPromise=null,n.valueForFetch===t&&!0!==e.isCanceled&&_.Console.log(e)})}else this.setState({matches:this.state.matches.clear()})}},{key:"clearRequest",value:function(){this._request&&clearTimeout(this._request)}},{key:"onValueChange",value:function(e){var t=this,n=this.props,r=n.onValueChange,o=n.valueCheckURL;r&&(r(e,void 0!==o),this.valueForFetch=e,this.clearRequest(),this._request=setTimeout(function(){return t.fetchMatches(t.props,e)},300))}},{key:"onTypeAheadSelect",value:function(e){var t=this.state.matches.get(e),n=m.default.OrderedSet([t.get("selection_id")]);this.setState({matches:this.state.matches.clear().push(t)}),this.onSelectionChanged(n),this.change(n)}},{key:"closeCatalog",value:function(){this.setState({showModal:!1})}},{key:"openCatalog",value:function(){this.cancelRequest(),""===this.props.catalogTableURL&&this.props.removeNotificationNow(this.valueCheckNotificationID+"##structure_error"),this.setState({showModal:!0,selectedIDs:H,selectedProposalIDs:B,selectedURL:void 0,catalogId:""})}},{key:"onSelectionChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.singleSelection&&0!==e.size?B:this.state.selectedProposalIDs;this.setState({selectedIDs:e,selectedProposalIDs:n,catalogId:t})}},{key:"onProposalSelectionChanged",value:function(e){var t=this.singleSelection&&0!==e.size?H:this.state.selectedIDs;this.setState({selectedProposalIDs:e,selectedIDs:t})}},{key:"onTreeSelectionChanged",value:function(e){this.setState({selectedURL:e})}},{key:"onEnter",value:function(){this.onValueCheck()}},{key:"onCatalogChange",value:function(e){var t=this.props,n=t.operationInstance,r=t.formCheckDone,o=t.name,a=t.removeNotificationNow,i=t.onCatalogChange;this.valueForCheck=e[o],this.state.matches.count()&&this.setState({matches:this.state.matches.clear()}),r(n,o),a(this.valueCheckNotificationID),i(e)}},{key:"onBlur",value:function(e){null!==e&&null!==e.currentTarget&&null!==e.relatedTarget&&"CatalogField.textinput"===e.currentTarget.getAttribute("data-ce-id")&&e.currentTarget.getAttribute("data-ce-attribute")===this.props.name&&"CatalogField.opencatalog"===e.relatedTarget.getAttribute("data-ce-id")&&e.relatedTarget.getAttribute("data-ce-attribute")===this.props.name||this.onValueCheck()}},{key:"onButtonBlur",value:function(e){null!==e&&null!==e.currentTarget&&null!==e.relatedTarget&&("CatalogField.modal"===e.relatedTarget.getAttribute("data-ce-id")&&e.relatedTarget.getAttribute("data-ce-attribute")===this.props.name||"CatalogField.textinput"===e.relatedTarget.getAttribute("data-ce-id")&&e.relatedTarget.getAttribute("data-ce-attribute")===this.props.name)||this.onValueCheck()}},{key:"onValueCheck",value:function(){var e=this,t=this.props,n=t.valueCheckURL,r=t.value,o=t.label,a=t.name,i=t.formCheckPending,s=t.operationInstance;if(n)if(this.valueForCheck!==r){i(s,a);var l=this.prepareData();(0,v.postJSON)(n,l).then(function(t){1===t.result?e.onCatalogChange(t.new_values):2===t.result?e.openCatalog():e.props.addNotification(e.valueCheckNotificationID,o,t.message,"warning")})}else this.props.removeNotificationNow(this.valueCheckNotificationID)}},{key:"onClickInputField",value:function(e){e.target.selectionStart===e.target.selectionEnd&&this.openCatalog()}},{key:"setSingleSelection",value:function(e){this.singleSelection=e}},{key:"renderCatalog",value:function(){var e=this.props,t=e.readOnly,n=e.catalogTableURL;if(t||!this.state.showModal)return null;var r=this.state,o=r.selectedIDs,a=r.selectedProposalIDs,i=r.selectedURL,s=n?0===o.count()&&0===a.count():void 0===i||""===i,l=n?this.select:this.selectStructure;return f.default.createElement(A.default,{label:this.props.label,submitDisabled:s,modalSubmit:l,clearSelected:this.clearSelected,closeCatalog:this.closeCatalog,userSettings:this.props.userSettings},f.default.createElement(D.default,{catalogTableURL:n,proposalCatalogURL:this.props.proposalCatalogURL,proposalLabel:this.props.proposalLabel,structureRootURL:this.props.structureRootURL,queryFormURL:this.props.queryFormURL,formData:this.prepareData(),operationState:this.props.operationState,selectedIDs:o,selectedProposalIDs:a,selectedURL:i,setSingleSelection:this.setSingleSelection,onSelectionChanged:this.onSelectionChanged,onTreeSelectionChanged:this.onTreeSelectionChanged,onProposalSelectionChanged:this.onProposalSelectionChanged}))}},{key:"render",value:function(){var e=this,t=this.props,n=t.readOnly,r=t.textReadOnly,a=t.afterControl,i=t.typeAheadURL,s=t.lines,c=o(t,["readOnly","textReadOnly","afterControl","typeAheadURL","lines"]);["contextClass","activeLanguage","selectURL","formData","onCatalogChange","onValueChange","onChange","valueCheckURL","operationState","addNotification","removeNotificationNow","formCheckPending","formCheckDone","unchecked","structureRootURL","proposalCatalogURL","proposalLabel","queryFormURL","catalogTableURL","userSettings"].forEach(function(e){delete c[e]}),s>1&&(c.rows=s);var p=n?null:f.default.createElement(R.default.IconButton,{className:(0,_.prefixNS)("form-control-button"),"data-ce-id":"CatalogField.opencatalog","data-ce-type":"button","data-ce-attribute":this.props.name,onClick:this.openCatalog,onBlur:this.onButtonBlur,key:"catalogTrigger",title:(0,b.formatStr)("tabcatalog_open"),iconName:"csweb_select_catalog",buttonStyle:"success"}),d=(0,S.combineInputExtensions)(p,a),h=n||r,y=r&&!n,m=y?(0,b.formatStr)("tabcatalog_select_hint"):null,g=y?this.onClickInputField:null,v=s>1?F:L,T=s>1?E.default:O.default,C=i&&!h?f.default.createElement(v,u({ref:function(t){e.textInput=t},TypeAheadItemRenderer:l,onValueChange:this.onValueChange,onSelectAt:this.onTypeAheadSelect,matched:this.state.matches,onEnter:this.onEnter,afterControl:d,readOnly:h,onBlur:this.onBlur},c)):f.default.createElement(T,u({ref:function(t){e.textInput=t},afterControl:d,readOnly:h,placeholder:m,onClick:g,onValueChange:this.onValueChange},c));return f.default.createElement(f.default.Fragment,null,C,this.renderCatalog())}},{key:"prepareData",value:function(){var e=this.props,t=e.contextClass,n=e.activeLanguage,r=e.name,o=e.value,a=this.props.formData.toJS();return a["cdb::argument.catalogcall_cldef"]=t,a["cdb::argument.catalogfieldactivelang"]=n,a[r]=o,{form_data:a,catalog_field:r,operation_state:this.props.operationState}}},{key:"change",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=this.props.selectURL;this.closeCatalog(),this.props.removeNotificationNow(this.valueCheckNotificationID);var o=this.prepareData();o.selected_ids=e.toArray(),n&&(o.catalog_id=n),(0,v.postJSON)(r,o).then(function(e){t.onCatalogChange(e.selected_values)})}},{key:"clearSelected",value:function(){this.change(m.default.OrderedSet())}},{key:"select",value:function(){this.change(this.state.selectedIDs.concat(this.state.selectedProposalIDs),this.state.catalogId)}},{key:"selectStructure",value:function(){var e=this;this.closeCatalog(),(0,v.getJSON)(this.state.selectedURL).then(function(t){return e.onCatalogChange(t.selected_values)},function(t){t.response.json().then(function(t){e.props.addNotification(e.valueCheckNotificationID+"##structure_error",e.props.label,t.detail,"danger",0,void 0)})})}}]),t}(p.Component);z.propTypes=u({},P.sharedTextInputProps,P.sharedCatalogProps,{typeAheadURL:g.PropTypes.string,catalogTableURL:g.PropTypes.string.isRequired,proposalCatalogURL:g.PropTypes.string,proposalLabel:g.PropTypes.string,unchecked:g.PropTypes.bool}),z.defaultProps={unchecked:!1};var U={addNotification:N.addNotification,removeNotificationNow:N.removeNotificationNow,formCheckDone:j.formCheckDone,formCheckPending:j.formCheckPending};t.default=(0,g.connect)(null,U)(z)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.label,n=e.submitDisabled,r=e.modalSubmit,o=e.clearSelected,a=e.closeCatalog,s=e.userSettings;return i.default.createElement(c.default.Dialog,{title:t,buttons:[i.default.createElement(c.default.Buttons.Select,{key:"select",disabled:n,onClick:r}),i.default.createElement(c.default.Buttons.Reset,{key:"reset",labelId:"tabcatalog_clear",onClick:o}),i.default.createElement(c.default.Buttons.Cancel,{key:"cancel",onClick:a})],onHide:a,onAction:n?void 0:r,size:c.default.SIZE_LARGE,dialogClassName:(0,l.prefixNS)("catalog-dialog"),fixedHeight:!0,show:!0},i.default.createElement("div",{className:(0,l.prefixNS)("catalog-dialog__body")},i.default.createElement(f.default,{userSettings:s},i.default.Children.only(e.children))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(16),c=r(u),p=n(157),f=r(p);o.propTypes={children:s.PropTypes.element.isRequired,label:s.PropTypes.string.isRequired,submitDisabled:s.PropTypes.bool.isRequired,modalSubmit:s.PropTypes.func.isRequired,clearSelected:s.PropTypes.func.isRequired,closeCatalog:s.PropTypes.func.isRequired,userSettings:s.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(88),h=r(d),y=n(121),m=r(y),g=n(15),b=r(g),v=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n.onOk=n.onOk.bind(n),n.onValueChange=n.onValueChange.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"onOk",value:function(){var e=this.props,t=e.onSubmitValue;(0,e.onHide)(),t&&t(this.state.value)}},{key:"onValueChange",value:function(e){this.setState({value:e})}},{key:"render",value:function(){var e=this.props,t=e.ActionButton,n=e.children,r=e.InputControl,a=e.isValueValid,i=o(e,["ActionButton","children","InputControl","isValueValid"]);return delete i.onSubmitValue,p.default.createElement(h.default,l({},i,{onAction:this.onOk,buttons:[p.default.cloneElement(t||p.default.createElement(m.default.Ok,null),{key:"submit",onClick:this.onOk,disabled:a&&!a(this.state.value)}),p.default.createElement(m.default.Cancel,{key:"cancel",onClick:this.props.onHide})]}),n,p.default.cloneElement(r||p.default.createElement(b.default,{name:"input"}),{value:this.state.value,autoFocus:!0,onEnter:this.onOk,onValueChange:this.onValueChange}))}}]),t}(p.default.Component);t.default=v,v.propTypes={value:f.PropTypes.string,size:d.DialogPropTypes.size,ActionButton:f.PropTypes.element,InputControl:f.PropTypes.element,onSubmitValue:f.PropTypes.func,onHide:f.PropTypes.func,isValueValid:f.PropTypes.func},v.defaultProps={size:h.default.SIZE_SMALL},v.NO_EMPTY_VALUE=function(e){return Boolean(e)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function l(e){var t=e.children,n=s(e,["children"]);return f.default.createElement(h.default,c({},n,{hideFooter:!0}),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SingleListSelection=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.SingleSelection=l;var p=n(0),f=r(p),d=n(88),h=r(d),y=n(6),m=n(1);(t.SingleListSelection=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.onItemSelected,r=s(e,["children","onItemSelected"]);return f.default.createElement(l,c({},r,{size:h.default.SIZE_SMALL,onHide:function(){n(void 0)}}),f.default.createElement(y.ListGroup,null,t.map(function(e,t){return f.default.createElement(y.ListGroupItem,{key:t,onClick:function(){n(t)}},e)})))}}]),t}(f.default.Component)).propTypes={onItemSelected:m.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){function t(t){var n=t.show,r=o(t,["show"]);return n?h.default.createElement(e,r):null}return t.displayName=e.displayName+".Deferred",t.propTypes=e.propTypes,t}function i(e){return h.default.createElement(b.default,{title:e.title,buttons:h.default.createElement(_.default.Close,{onClick:e.onHide}),show:e.show,onHide:e.onHide,showCancel:!1,size:e.size},e.children)}function s(e){var t=e.children,n=e.title,r=o(e,["children","title"]),a=h.default.createElement("div",{className:(0,m.prefixNS)("dialog__notice-title"),title:n},h.default.createElement(O.default,{name:"csweb_information",size:"sm"}),h.default.createElement("span",null,n));return h.default.createElement(i,f({},r,{title:a}),h.default.createElement("p",{className:(0,m.prefixNS)("dialog__notice-body")},t))}function l(e){var t=e.children,n=e.title,r=o(e,["children","title"]),a=h.default.createElement("div",{className:(0,m.prefixNS)("dialog__error-title")},h.default.createElement(O.default,{name:"ConfigurationError",size:"sm"}),h.default.createElement("span",null,n));return h.default.createElement(i,f({},r,{title:a}),h.default.createElement("p",{className:(0,m.prefixNS)("dialog__error-body")},t))}function u(e){var t=e.ActionButton,n=e.children,r=e.onHide,o=e.showCancel,a=e.onConfirm,i=e.show,s=e.size,l=e.title,u=h.default.createElement("div",{className:(0,m.prefixNS)("dialog__alert-title"),title:l},h.default.createElement(O.default,{name:"csapp_error_protocol",size:"sm"}),h.default.createElement("span",null,l)),c=function(){a&&a(),r&&r()};return h.default.createElement(b.default,{title:u,buttons:[h.default.cloneElement(t||h.default.createElement(_.default.Ok,null),{key:"confirm",buttonStyle:"warning",onClick:c}),h.default.createElement(_.default.Cancel,{key:"cancel",onClick:r})],show:i,onAction:c,onHide:r,showCancel:o,size:s},h.default.createElement("p",{className:(0,m.prefixNS)("dialog__alert-body")},n))}function c(e){var t=e.onHide,n=e.onConfirm,r=e.show,o=e.size,a=e.title,i=function(){n&&n(!0),t&&t()},s=function(){n&&n(!1),t&&t()};return h.default.createElement(b.default,{title:a,buttons:[h.default.createElement(_.default.Yes,{key:"yes",onClick:i}),h.default.createElement(_.default.No,{key:"no",onClick:s})],show:r,showCancel:!1,size:o},e.children)}function p(e){var t=e.children,n=e.onHide,r=e.onConfirm,o=e.show,a=e.size,i=e.title,s=function(){r&&r(!0),n&&n()},l=function(){r&&r(!1),n&&n()};return h.default.createElement(b.default,{title:i,buttons:[h.default.createElement(_.default.Yes,{key:"yes",onClick:s}),h.default.createElement(_.default.No,{key:"no",onClick:l}),h.default.createElement(_.default.Cancel,{key:"cancel",onClick:n})],show:o,onHide:n,showCancel:!1,size:a},t)}Object.defineProperty(t,"__esModule",{value:!0});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.Message=i,t.Notice=s,t.Error=l,t.Alert=u,t.YesNo=c,t.YesNoCancel=p;var d=n(0),h=r(d),y=n(1),m=n(2),g=n(88),b=r(g),v=n(121),_=r(v),S=n(11),O=r(S),T={title:y.PropTypes.oneOfType([y.PropTypes.string,y.PropTypes.element]).isRequired,onHide:y.PropTypes.func,size:g.DialogPropTypes.size,show:y.PropTypes.bool,showCancel:y.PropTypes.bool},E={size:b.default.SIZE_SMALL,show:!0};i.propTypes=T,i.defaultProps=E,i.Deferred=a(i),s.propTypes=i.propTypes,s.defaultProps=i.defaultProps,s.Deferred=a(s),l.propTypes=i.propTypes,l.defaultProps=i.defaultProps,l.Deferred=a(l),u.propTypes=f({ActionButton:y.PropTypes.element,onConfirm:y.PropTypes.func},T),u.defaultProps=E,u.Deferred=a(u);var C=f({},T,{onConfirm:y.PropTypes.func});c.propTypes=C,c.defaultProps=E,c.Deferred=a(c),p.propTypes=C,p.defaultProps=E,p.Deferred=a(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(67),p=r(c),f=n(2),d=n(4),h=n(1),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"renderNoObject",value:function(){return u.default.createElement("div",{className:(0,f.prefixNS)("catalog-preview-no-object")},(0,d.formatStr)("no_preview"))}},{key:"render",value:function(){var e=this.props.contextObject;if(e){var t=(0,f.getObjectImage)(e),n=e.get("system:description");return u.default.createElement("div",{className:(0,f.prefixNS)("catalog-preview")},u.default.createElement(p.default,{imgSrc:t,fallbackSrc:e.get("system:icon_link"),size:"lg",title:n}),u.default.createElement("div",{className:(0,f.prefixNS)("catalog-preview-description")},n))}return this.renderNoObject()}}]),t}(u.default.Component);t.default=y,y.propTypes={contextObject:h.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){if(t.settingKey&&t.componentID){var n=e.userSettings.getIn([t.componentID,t.settingKey]);return{userSetting:void 0===n||""===n?void 0:n}}return{}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(68),d=r(f),h=n(69),y=n(3),m=r(y),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.visible,i=e.size;return e.userSetting&&(i=e.userSetting.get("size",i),r=e.userSetting.get("visible",r)),n.state={paneVisible:r,splitSize:i},n.onChange=n.onChange.bind(n),n.timeoutIDSizeChange=null,n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.initialFetch,n=e.settingKey,r=e.componentID,o=e.fetchUserSetting,a=e.userSetting;t&&!a&&n&&r&&o(r,n)}},{key:"componentWillReceiveProps",value:function(e){if(this.props.userSetting!==e.userSetting){var t=e.userSetting?e.userSetting.get("size"):this.props.size,n=!!e.userSetting&&e.userSetting.get("visible");this.setState({paneVisible:n,splitSize:t})}}},{key:"onChange",value:function(e){var t=this,n=e.collapsed,r=e.size;this.timeoutIDSizeChange&&clearTimeout(this.timeoutIDSizeChange),this.setState({splitSize:r,paneVisible:!n}),this.timeoutIDSizeChange=setTimeout(function(){t.saveSettings(r,!n)},500)}},{key:"saveSettings",value:function(e,t){var n=this.props,r=n.settingKey,o=n.componentID;r&&o&&this.props.storeUserSetting(o,r,m.default.Map({size:e,visible:t}))}},{key:"render",value:function(){var e=this.state,t=e.paneVisible,n=e.splitSize;return c.default.createElement(d.default,null,c.default.createElement(d.default.PrimaryPane,null,this.props.children[0]),c.default.createElement(d.default.SecondaryPane,{initCollapsed:!t,defaultSize:n,onChange:this.onChange},this.props.children[1]))}}]),t}(c.default.Component);g.propTypes={size:p.PropTypes.oneOfType([p.PropTypes.string,p.PropTypes.number]),visible:p.PropTypes.bool,userSetting:p.ImmutablePropTypes.map,storeUserSetting:p.PropTypes.func,fetchUserSetting:p.PropTypes.func,settingKey:p.PropTypes.string,componentID:p.PropTypes.string,initialFetch:p.PropTypes.bool},g.defaultProps={visible:!0,size:"132px",initialFetch:!0};var b={storeUserSetting:h.storeUserSetting,fetchUserSetting:h.fetchUserSetting};t.default=(0,p.connect)(s,b)(g)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t){var n=t.instanceName;return{searchResult:(0,O.getSearchResult)(e,n),searchError:(0,O.getSearchError)(e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(3),p=r(c),f=n(1),d=n(0),h=r(d),y=n(6),m=n(4),g=n(39),b=r(g),v=n(75),_=r(v),S=n(2),O=n(40),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b.default.Manager(Object.assign({Table:b.default.Scrolled(b.default.Table),Layout:b.default.ContentBlockLayout,providers:[b.default.sortable,b.default.filterable,b.default.selectable,b.default.SettingPanels],columnActions:[b.default.sortable,b.default.columnResizer,b.default.columnDragger,b.default.columnOrderer,b.default.selectable],toolbarButtons:[b.default.filterable,b.default.SettingPanels],settingPanels:[b.default.columnHider]},e))},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return b.default.Manager(Object.assign({Table:b.default.Scrolled(b.default.Table),Layout:b.default.ContentBlockLayout,providers:[b.default.sortable,b.default.filterable,b.default.selectable,b.default.SettingPanels],columnActions:[b.default.sortable,b.default.columnResizer,b.default.columnDragger,b.default.columnOrderer,b.default.selectable],toolbarButtons:[b.default.SettingPanels],settingPanels:[b.default.columnHider]},e))},C=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelectionChanged=n.onSelectionChanged.bind(n),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.searchResult&&e.searchResult!==this.props.searchResult&&(e.onSetSingleSelection&&e.onSetSingleSelection(!e.searchResult.get("multiselect")),e.onPreviewEnable&&e.onPreviewEnable(e.searchResult.get("preview")))}},{key:"render",value:function(){var e=this.props,t=e.filter,n=e.proposalCatalog,r=e.title,o=e.selectedIDs,a=e.searchResult,i=e.searchError;if(i)return h.default.createElement(y.Alert,{key:"alert",bsStyle:"danger"},i.message);if(a){var s=n?E:T,l=r?r+": ":"",u=a.get("label");void 0!==u&&(l+=u);var c=a.get("no_of_records_label");return void 0!==c&&(l+=" ("+c+")"),h.default.createElement("div",{className:(0,S.prefixNS)("table-catalog-wrapper")},h.default.createElement(_.default,{table:s,title:l,collapsible:!1,expanded:!0,contentHeight:"100%",tableDef:a.get("tabledef"),rowValues:a.get("rows"),singleSelection:!a.get("multiselect"),withSelector:!0,onSelectionChanged:this.onSelectionChanged,className:(0,S.prefixNS)("catalog-table"),filter:t,initSelected:o,renderDirectives:{linkTarget:"_blank"}}))}return h.default.createElement(y.Alert,{bsStyle:"info"},(0,m.formatStr)("tabcatalog_fetching"))}},{key:"onSelectionChanged",value:function(e){var t=this.props,n=t.onSelectionChanged,r=t.searchResult;if(n(e,r.get("catalog_id")),this.props.onSelect){var a=p.default.Map(r.get("rows").filter(function(t){return e.includes(t.get("id"))}).map(function(e){return[e.get("id"),e.get("restLink")]}));if(e.size>0){var i;window.setTimeout((i=this.props.onSelect).bind.apply(i,[null].concat(o(e.map(function(e){return a.get(e)}).filter(function(e){return void 0!==e})))),200)}else this.props.onSelect()}}}]),t}(h.default.Component);C.propTypes={instanceName:f.PropTypes.string.isRequired,onSelectionChanged:f.PropTypes.func,filter:f.PropTypes.string,proposalCatalog:f.PropTypes.bool,title:f.PropTypes.string,selectedIDs:f.ImmutablePropTypes.orderedSet,onSetSingleSelection:f.PropTypes.func,onPreviewEnable:f.PropTypes.func,onSelect:f.PropTypes.func,searchResult:f.ImmutablePropTypes.map,searchError:f.PropTypes.any},C.defaultProps={filter:"",proposalCatalog:!1,title:"",selectedIDs:p.default.OrderedSet()},t.default=(0,f.connect)(l)(C)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.columnActions,n=e.columns,r=e.visibleColumns,o=e.columnWidths;return i.default.createElement("thead",null,i.default.createElement("tr",null,r.map(function(e){var r=n.findIndex(function(t){return t.get("id")===e}),a=n.get(r),s={width:o.get(e,a.get("width"))};return i.default.createElement("th",{key:e,"data-column-id":e,style:s},i.default.createElement(u.default,{column:a,columnIndex:r,columnActions:t}))})))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(267),u=r(l);o.propTypes={columns:s.ImmutablePropTypes.list,columnActions:s.ImmutablePropTypes.list,columnWidths:s.ImmutablePropTypes.map,visibleColumns:s.ImmutablePropTypes.orderedSet}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnHeader=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(3),p=r(c),f=n(1),d=n(2),h=n(9),y=r(h),m=n(12),g=t.ColumnHeader=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onHeaderClick=n.onHeaderClick.bind(n),n}return i(t,e),s(t,[{key:"onHeaderClick",value:function(){var e=this.props,t=e.setColumnHeaderClicked,n=e.column;t(p.default.Map({columnID:n.get("id")}))}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.columnIndex,r=e.columnActions,o=t.get("hide_label")?"":t.get("label"),a=t.get("tooltip")||t.get("label");return u.default.createElement("div",{className:(0,d.prefixNS)("table-column-header")},u.default.createElement("div",{className:"header-content",title:a,onClick:this.onHeaderClick},o),r?r.map(function(e,r){return u.default.createElement(e,{key:r,column:t,columnIndex:n})}):null)}}]),t}(u.default.Component);g.propTypes={column:f.ImmutablePropTypes.map,columnIndex:f.PropTypes.number,columnActions:f.ImmutablePropTypes.list,setColumnHeaderClicked:f.PropTypes.func},t.default=(0,y.default)(function(){return{}},{setColumnHeaderClicked:m.setColumnHeaderClicked})(g)},function(e,t,n){"use strict";function r(e){return a.default.createElement("tbody",null,e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(21),d=n(2),h=n(1),y=n(3),m=r(y),g=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onClick=n.onClick.bind(n),n}return l(t,e),u(t,[{key:"onClick",value:function(e,t){var n=this.props,r=n.onClick,o=n.row;r&&r(o.get("id"),t,e)}},{key:"shouldComponentUpdate",value:function(e){return e.row!==this.props.row||e.columns!==this.props.columns||e.visibleColumns!==this.props.visibleColumns||e.rowClassName!==this.props.rowClassName||e.columnRenderers!==this.props.columnRenderers||e.focusedRow!==this.props.focusedRow||e.focusedColumn!==this.props.focusedColumn}},{key:"renderRow",value:function(e,t,n,r){var o=this,i=this.props,s=i.columnRenderers,l=i.focusedColumn,u=e.get("Renderer"),c=n.count();return u?p.default.createElement("td",{colSpan:c},p.default.createElement(u,{row:e})):n.map(function(n){var i=t.findIndex(function(e){return e.get("id")===n}),u=t.get(i),c=u.get("contentRenderer")||f.DefaultColumnContentRenderer,y=e.get("columns").get(i),g=m.default.OrderedSet();s&&s.get(n)&&(g=s.get(n));var b=n===l&&r;return p.default.createElement("td",{key:n,className:(0,h.classNames)(a({},(0,d.prefixNS)("table-cell-focus"),b)),onClick:function(e){return o.onClick(e,n)},"data-column-id":n},g.reduce(function(t,n){return p.default.createElement(n,{value:y,row:e,column:u},t)},p.default.createElement(c,{value:y,row:e,column:u})))})}},{key:"render",value:function(){var e,t=this.props,n=t.row,r=t.columns,i=t.visibleColumns,s=t.rowClassName,l=t.focusedRow,u=t.focusedColumn,c=t.hover,f=n.get("id")===l,y=h.classNames.apply(void 0,[n.get("className")].concat(o(s.filter(function(e){return e.contains(n.get("id"))}).keys()),[(e={},a(e,(0,d.prefixNS)("table-row-focus"),f&&null===u),a(e,(0,d.prefixNS)("table-row-hover"),c),e)]));return p.default.createElement("tr",{className:y,ref:this.props.contentRef,"data-row-id":n.get("id")},this.renderRow(n,r,i,f))}}]),t}(p.default.Component);t.default=g,g.propTypes={onClick:h.PropTypes.func,row:h.ImmutablePropTypes.map,columns:h.ImmutablePropTypes.list,visibleColumns:h.ImmutablePropTypes.orderedSet,rowClassName:h.ImmutablePropTypes.map,columnRenderers:h.ImmutablePropTypes.map,focusedRow:h.PropTypes.string,focusedColumn:h.PropTypes.string,contentRef:h.PropTypes.func,hover:h.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ToolbarMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(2),f=n(1),d=n(9),h=r(d),y=n(11),m=r(y),g=0,b=t.ToolbarMenu=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.toolbarMenu;return e&&e.count()>0?u.default.createElement(c.Dropdown,{id:(0,p.prefixNS)("table-toolbar-menu"+ ++g),className:(0,p.prefixNS)("table-toolbar-menu"),pullRight:!0},u.default.createElement(c.Dropdown.Toggle,{noCaret:!0},u.default.createElement(m.default,{name:"csweb_table_toolbar_option_h",size:"sm"})),u.default.createElement(c.Dropdown.Menu,{className:"toolbar-menu-container"},e.map(function(e,t){return u.default.createElement(c.MenuItem,{eventKey:t,key:String(t)},u.default.createElement(e,null))}))):null}}]),t}(u.default.Component);b.propTypes={toolbarMenu:f.ImmutablePropTypes.list};var v=function(e){return{toolbarMenu:e.toolbarMenu}};t.default=(0,h.default)(v)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(4),f=n(16),d=r(f),h=n(167),y=r(h),m=n(163),g=n(12),b=n(9),v=r(b),_=n(21),S=n(38),O=r(S),T=n(20),E=r(T),C=n(85),w=r(C),P=E.default.DropdownIconButton,N=E.default.MenuDivider,I=E.default.MenuItem,R=E.default.MenuHeader,j=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentSelection:e.settingConfigurations.size>0?e.settingConfigurations.toArray()[0]:null},n.onHide=n.onHide.bind(n),n.onConfirm=n.onConfirm.bind(n),n.setSelection=n.setSelection.bind(n),n}return i(t,e),s(t,[{key:"componentDidUpdate",value:function(e){this.props.currentConfiguration!==e.currentConfiguration&&this.setSelection(this.props.currentConfiguration)}},{key:"setSelection",value:function(e){this.setState({currentSelection:e})}},{key:"onHide",value:function(){this.props.onHide()}},{key:"onConfirm",value:function(){this.props.onConfirm(this.state.currentSelection)}},{key:"render",value:function(){return u.default.createElement(d.default.Alert,{title:(0,p.formatStr)("file_table_modal_delete_title"),ActionButton:u.default.createElement(d.default.Buttons.Delete,null),onConfirm:this.onConfirm,showCancel:!0,onHide:this.onHide,show:this.props.show},(0,p.formatStr)("table_settings_delete_modal_text"))}}]),t}(u.default.Component);j.propTypes={settingConfigurations:c.PropTypes.object,currentConfiguration:c.PropTypes.string,show:c.PropTypes.bool,onHide:c.PropTypes.func,onConfirm:c.PropTypes.func};var x=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={opened:!1,newConfigurationDialogVisible:!1,deleteConfigurationsDialogVisible:!1},n.openDialog=n.openDialog.bind(n),n.closeDialog=n.closeDialog.bind(n),n.confirmSettingsDialog=n.confirmSettingsDialog.bind(n),n.changeConfiguration=n.changeConfiguration.bind(n),n.storeConfiguration=n.storeConfiguration.bind(n),n.removeConfiguration=n.removeConfiguration.bind(n),n.newConfiguration=n.newConfiguration.bind(n),n.performCreateNewConfiguration=n.performCreateNewConfiguration.bind(n),n.closeNewConfiguration=n.closeNewConfiguration.bind(n),n.deleteConfigurations=n.deleteConfigurations.bind(n),n.closeDeleteConfigurations=n.closeDeleteConfigurations.bind(n),n.resetSettings=n.resetSettings.bind(n),n}return i(t,e),s(t,[{key:"openDialog",value:function(){this.setState({opened:!0})}},{key:"closeDialog",value:function(){this.setState({opened:!1})}},{key:"changeConfiguration",value:function(e){this.props.setTableChangeConfiguration(e)}},{key:"storeConfiguration",value:function(){0===this.props.settingConfigurations.size||this.props.currentConfiguration===_.DEFAULT_TABLE_CONFIGURATION_NAME?this.setState({newConfigurationDialogVisible:!0}):this.props.storeSettings()}},{key:"newConfiguration",value:function(){this.setState({newConfigurationDialogVisible:!0})}},{key:"deleteConfigurations",value:function(){this.setState({deleteConfigurationsDialogVisible:!0})}},{key:"closeDeleteConfigurations",value:function(){this.setState({deleteConfigurationsDialogVisible:!1})}},{key:"removeConfiguration",value:function(e){this.props.setTableRemoveConfiguration(e)}},{key:"closeNewConfiguration",value:function(){this.setState({newConfigurationDialogVisible:!1})}},{key:"performCreateNewConfiguration",value:function(e){this.props.setTableNewConfiguration(e),this.props.storeSettings()}},{key:"render",value:function(){var e=this,t=this.props.currentConfiguration===_.DEFAULT_TABLE_CONFIGURATION_NAME,n=t?(0,p.formatStr)("table_store_settings_default_conf"):this.props.currentConfiguration;return[u.default.createElement(P,{key:"dropdown",id:"table_settings",iconSrc:w.default,buttonStyle:"info",noCaret:!0,title:(0,p.formatStr)("table_settings_tooltip"),pullRight:!0},u.default.createElement(R,null,(0,p.formatStr)("table_setting",{settingName:n})),u.default.createElement(I,{onClick:this.openDialog},(0,p.formatStr)("table_edit_settings")),t?u.default.createElement(I,{disabled:!0},(0,p.formatStr)("table_store_settings")):u.default.createElement(I,{onClick:this.storeConfiguration},(0,p.formatStr)("table_store_settings")),u.default.createElement(I,{onClick:this.newConfiguration},(0,p.formatStr)("table_store_settings_save_as")),t?u.default.createElement(I,{disabled:!0},(0,p.formatStr)("table_delete_settings")):u.default.createElement(I,{onClick:this.deleteConfigurations},(0,p.formatStr)("table_delete_settings")),u.default.createElement(N,null),u.default.createElement(R,null,(0,p.formatStr)("table_settings")),t?u.default.createElement(I,{active:!0,title:(0,p.formatStr)("table_store_settings_active_tooltip")},(0,p.formatStr)("table_store_settings_default_conf")):u.default.createElement(I,{onClick:function(){return e.changeConfiguration(_.DEFAULT_TABLE_CONFIGURATION_NAME)}},(0,p.formatStr)("table_store_settings_default_conf")),this.props.settingConfigurations?this.props.settingConfigurations.toArray().map(function(t){return n===t?u.default.createElement(I,{key:t,active:!0,title:(0,p.formatStr)("table_store_settings_active_tooltip")},t):u.default.createElement(I,{key:t,onClick:function(){return e.changeConfiguration(t)}},t)}):null),this.renderNewConfDialog(),this.renderDeleteDialog(),this.renderSettingsDialog()]}},{key:"confirmSettingsDialog",value:function(){this.panel.dispatchSettings(),this.closeDialog()}},{key:"resetSettings",value:function(){this.props.setTableResetConfiguration(),this.panel.resetSettings()}},{key:"renderSettingsDialog",value:function(){var e=this;return u.default.createElement(d.default.Dialog,{key:"settings_dialog",title:(0,p.formatStr)("table_settings"),buttons:[u.default.createElement(d.default.Buttons.Ok,{key:"ok",onClick:this.confirmSettingsDialog}),u.default.createElement(d.default.Buttons.Reset,{key:"reset",onClick:this.resetSettings}),u.default.createElement(d.default.Buttons.Cancel,{key:"cancel",onClick:this.closeDialog})],size:d.default.SIZE_SMALL,fixedHeight:!0,onAction:this.confirmSettingsDialog,onHide:this.closeDialog,show:this.state.opened},u.default.createElement(y.default,{registerPanel:function(t){e.panel=t}}))}},{key:"renderNewConfDialog",value:function(){var e=u.default.createElement(O.default.TextInput,{name:"new_conf",placeholder:(0,p.formatStr)("table_store_settings_conf_name_hint")});return u.default.createElement(d.default.InputDialog,{title:(0,p.formatStr)("table_store_settings_save_as"),key:"new_conf_dialog",onSubmitValue:this.performCreateNewConfiguration,showCancel:!0,onHide:this.closeNewConfiguration,show:this.state.newConfigurationDialogVisible,isValueValid:d.default.InputDialog.NO_EMPTY_VALUE,InputControl:e},(0,p.formatStr)("table_store_settings_save_as_text"))}},{key:"renderDeleteDialog",value:function(){return u.default.createElement(j,{key:"delete_dialog",show:this.state.deleteConfigurationsDialogVisible,settingConfigurations:this.props.settingConfigurations,currentConfiguration:this.props.currentConfiguration,onHide:this.closeDeleteConfigurations,onConfirm:this.removeConfiguration})}}]),t}(u.default.Component);x.defaultProps={currentConfiguration:_.DEFAULT_TABLE_CONFIGURATION_NAME};var M=function(e){return{settingConfigurations:e.settingConfigurations,currentConfiguration:e.currentConfiguration}};x.propTypes={storeSettings:c.PropTypes.func,setTableResetConfiguration:c.PropTypes.func,settingConfigurations:c.PropTypes.object,setTableChangeConfiguration:c.PropTypes.func,setTableNewConfiguration:c.PropTypes.func,setTableRemoveConfiguration:c.PropTypes.func,currentConfiguration:c.PropTypes.string};var A={storeSettings:m.storeSettings,setTableResetConfiguration:g.setTableResetConfiguration,setTableChangeConfiguration:g.setTableChangeConfiguration,setTableNewConfiguration:g.setTableNewConfiguration,setTableRemoveConfiguration:g.setTableRemoveConfiguration};t.default=(0,v.default)(M,A)(x)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.Map(),t=arguments[1];switch(t.type){case s.SET_TABLE_USER_SETTING_CONFIGURATIONS:return t.payload;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments[1];switch(t.type){case s.SET_TABLE_CURRENT_CONFIGURATION:return t.payload?t.payload:"";default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.settingConfigurations=r,t.currentConfiguration=o;var a=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(12);t.default={settingConfigurations:r,currentConfiguration:o}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={headerTop:0},t.onScroll=t.onScroll.bind(t),t}return i(n,t),l(n,[{key:"onScroll",value:function(e){this.setState({headerTop:e.target.scrollTop})}},{key:"render",value:function(){var t=this.props,n=t.rows,o=t.id,a=r(t,["rows","id"]);return c.default.createElement("div",{className:(0,f.prefixNS)("table-fixed"),onScroll:this.onScroll,id:o},c.default.createElement("div",{className:"fix-table-top",style:{top:this.state.headerTop}},c.default.createElement(e,s({rows:n.slice(0,0)},a))),c.default.createElement("div",{className:"fix-table-original"},c.default.createElement(e,s({rows:n},a))))}}]),n}(c.default.Component);return t.propTypes={id:p.PropTypes.string,rows:p.ImmutablePropTypes.list},t};var u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(1),f=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return void 0===e||null===e||Number.isNaN(e)}function u(e,t){for(var n=e.count(),r=t.count(),o=Math.min(n,r),a=0;a<o;a++){var i=e.get(a),s=t.get(a);if(l(i)){if(!l(s))return-1}else{if(l(s)||i>s)return 1;if(i<s)return-1}}return n>r?1:n<r?-1:0}function c(e){function t(e){return{sortColumns:(0,_.getSortColumns)(e),columns:e.columns,sortFunctions:e.sortFunctions}}var n=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={sorted:e.rows},t}return s(n,t),f(n,[{key:"componentWillMount",value:function(){this.props.setInitSortColumns(this.props.initSortColumns),this.props.setTableUserSettings("sortColumns")}},{key:"componentWillReceiveProps",value:function(e){e.initSortColumns!==this.props.initSortColumns&&e.setInitSortColumns(this.props.initSortColumns),e.sortColumns===this.props.sortColumns&&e.columns===this.props.columns&&e.rows===this.props.rows||this.sort(e)}},{key:"sort",value:function(e){var t=e.columns,n=e.sortColumns,r=e.sortFunctions,o=e.rows;n.count()>0&&n.forEach(function(e){var n=e.get("id"),a=t.findIndex(function(e){return e.get("id")===n}),i=t.get(a),s=E(i),l=Boolean(e.get("desc")),u=r.map(function(e){return e(O,o,{columnIndex:a,desc:l,cmp:s})});o=T(o,u,{columnIndex:a,desc:l,cmp:s})}),o!==this.state.sorted&&this.setState({sorted:o})}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.rows,delete t.columns,delete t.setInitSortColumns,delete t.initSortColumns,delete t.sortColumns,delete t.setSortColumns,delete t.setTableUserSettings,delete t.sortFunctions,h.default.createElement(e,p({},t,{rows:this.state.sorted}))}}]),n}(h.default.Component);return n.propTypes={initSortColumns:y.ImmutablePropTypes.orderedSet,rows:y.ImmutablePropTypes.list,setSortColumns:y.PropTypes.func,setTableUserSettings:y.PropTypes.func,sortColumns:y.ImmutablePropTypes.orderedSet,columns:y.ImmutablePropTypes.list,setInitSortColumns:y.PropTypes.func,sortFunctions:y.ImmutablePropTypes.orderedSet},(0,g.default)(t,{setInitSortColumns:b.setInitSortColumns,setSortColumns:b.setSortColumns,setTableUserSettings:v.setTableUserSettings})(n)}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=c;var d=n(0),h=r(d),y=n(1),m=n(9),g=r(m),b=n(55),v=n(12),_=n(90),S=function(e,t){return e[0]===t[0]?0:e[0]>t[0]?1:-1},O=function(e,t){var n=t.columnIndex,r=t.desc,o=t.cmp;return e.sortBy(function(e){return[e.get("columns").get(n),e]},function(e,t){return r?-1*o(e,t):o(e,t)})},T=function(e,t,n){var r=n.columnIndex,o=n.desc,a=n.cmp;return e.sortBy(function(e){return[e.get("columns").get(r),e]},function(e,n){var r=t.map(function(t){return t[e[1].get("id")]}).toList(),i=t.map(function(e){return e[n[1].get("id")]}).toList(),s=u(r,i);return 0===s&&(s=a(e,n),s=o?-1*s:s),s})},E=function(e){if(e.get("sortFunction"))return e.get("sortFunction");var t=e.get("contentRenderer");return t&&t.sortFunction?t.sortFunction:S}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{sortColumns:(0,b.getSortColumns)(e),columnHeaderClicked:e.columnHeaderClicked}}Object.defineProperty(t,"__esModule",{value:!0}),t.SortButton=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(3),d=r(f),h=n(2),y=n(9),m=r(y),g=n(55),b=n(90),v=n(11),_=r(v),S=n(82),O=r(S),T=n(276),E=r(T),C=t.SortButton=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSort=n.onSort.bind(n),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.columnHeaderClicked!==this.props.columnHeaderClicked&&e.columnHeaderClicked.get("columnID")===e.column.get("id")&&this.setSortBy(e)}},{key:"getSortingColumn",value:function(e){var t=e.column,n=e.sortColumns,r=t.get("id");return n.find(function(e){return e.get("id")===r})}},{key:"onSort",value:function(){this.setSortBy(this.props)}},{key:"setSortBy",value:function(e){var t=e.column,n=e.setSortColumns,r=e.sortColumns,o=t.get("id"),a=this.getSortingColumn(e);n(a?a.get("desc")?r.delete(a):r.delete(a).add(a.set("desc",!0)):r.add(d.default.Map({id:o,desc:!1})))}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.sortColumns,r=t.get("id"),o=this.getSortingColumn(this.props),a=o&&o.get("desc")?O.default:E.default,i=n.count()&&r===n.last().get("id"),s=(0,p.classNames)((0,h.prefixNS)("table-sort-button"),{"text-muted":!i});return o?c.default.createElement("span",{className:s,onClick:this.onSort},c.default.createElement(_.default,{src:a,size:"sm"})):null}}]),t}(c.default.PureComponent);C.propTypes={sortColumns:p.ImmutablePropTypes.orderedSet,column:p.ImmutablePropTypes.map,columnHeaderClicked:p.ImmutablePropTypes.map},t.default=(0,m.default)(s,{setSortColumns:g.setSortColumns})(C)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnRyaWFuZ2xlLXRvcDwvY2lzLW5hbWU+DTxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBmaWxsPSIjOTk5OTk5IiBkPSJNOC4zNSw1LjM1bDQuOTQsNC45NEMxMy42OCwxMC42OCwxMy41NSwxMSwxMywxMUgzDQljLTAuNTUsMC0wLjY4LTAuMzItMC4yOS0wLjcxbDQuOTQtNC45NEM3Ljg0LDUuMTYsOC4xNiw1LjE2LDguMzUsNS4zNXoiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(4),f=n(2),d=n(90),h=n(3),y=r(h),m=n(9),g=r(m),b=n(71),v=r(b),_=n(55),S=n(44),O=r(S),T=n(11),E=r(T),C=n(21),w=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleSorting=n.toggleSorting.bind(n),n.updateSortColumnsFromOrganizer=n.updateSortColumnsFromOrganizer.bind(n),n.state={sortColumns:y.default.List(),organizerLists:void 0},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.registerPanel(this),this.updateSortColumns(this.props.sortColumns.toList())}},{key:"componentWillReceiveProps",value:function(e){this.props.sortColumns===e.sortColumns&&this.props.columns===e.columns||this.updateSortColumns(e.sortColumns.toList())}},{key:"updateSortColumns",value:function(e){var t=this,n=function(e){var n=t.props.columns.find(function(t){return t.get("id")===e.get("id")}),r=e.get("desc")?"csweb_triangle_bottom":"csweb_triangle_top",o=function(){t.toggleSorting(e.get("id"))};return y.default.Map({tooltip:n.get("tooltip"),desc:e.get("desc"),label:u.default.createElement("span",{className:(0,f.prefixNS)("settings-sortable-item")},u.default.createElement("span",{className:(0,f.prefixNS)("settings-sortable-item-label")},n.get("label")),u.default.createElement(E.default,{name:r,size:"sm",onClick:o})),id:n.get("id")})},r=this.props.columns.filter(function(t){return void 0===e.find(function(e){return t.get("id")===e.get("id")})}).map(function(e){return y.default.Map({id:e.get("id"),label:e.get("label"),tooltip:e.get("tooltip"),desc:!0})}).toList().filter(function(e){return e.get("id")!==C.SELECTORID});this.setState({sortColumns:e,organizerLists:y.default.List([y.default.Map({id:"unsorted",label:(0,p.formatStr)("table_unused_columns"),items:r,unsortable:!0}),y.default.Map({id:"sorted",label:(0,p.formatStr)("table_sorted_columns"),items:e.map(n),unsortable:!1})])})}},{key:"updateSortColumnsFromOrganizer",value:function(e){var t=e.getIn([1,"items"]).map(function(e){return y.default.Map({id:e.get("id"),desc:e.get("desc")})});this.updateSortColumns(t)}},{key:"toggleSorting",value:function(e){var t=this.state.sortColumns.findIndex(function(t){return t.get("id")===e});if(-1!==t){var n=!this.state.sortColumns.get(t).get("desc");this.updateSortColumns(this.state.sortColumns.setIn([t,"desc"],n))}}},{key:"dispatchSettings",value:function(){this.props.setSortColumns(this.state.sortColumns.toOrderedSet())}},{key:"resetSettings",value:function(){this.updateSortColumns(this.props.sortColumns.toList())}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(O.default,{helpId:"user_web_components_table_sort_columns"}),u.default.createElement(v.default,{itemLists:this.state.organizerLists,className:(0,f.prefixNS)("table-column-sorter"),onItemListsChange:this.updateSortColumnsFromOrganizer}))}}]),t}(u.default.Component);w.propTypes={registerPanel:c.PropTypes.func,sortColumns:c.ImmutablePropTypes.orderedSet,setSortColumns:c.PropTypes.func,columns:c.ImmutablePropTypes.list};var P=function(e){return{sortColumns:(0,d.getSortColumns)(e),columns:e.columns}},N=(0,g.default)(P,{setSortColumns:_.setSortColumns})(w);N.settingsTitle=function(){return(0,p.formatStr)("table_settings_title_sortable")},t.default=N},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){return e.map(function(e){return e.get("id",{})}).toOrderedSet()}function u(e){function t(e){return{groupColumns:(0,O.getGroupColumns)(e),collapsedGroups:(0,O.getCollapsedGroups)(e),columns:e.columns}}var n=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={grouped:e.rows,hiddenByGroups:b.default.Set(),hiddenRows:e.hiddenRows},t}return s(n,t),p(n,[{key:"componentWillMount",value:function(){this.props.setInitGroupColumns(this.props.initGroupColumns),this.props.setTableUserSettings("groupColumns"),this.props.expandAll()}},{key:"componentWillReceiveProps",value:function(e){e.initGroupColumns!==this.props.initGroupColumns&&e.setInitGroupColumns(e.initGroupColumns);var t=c({},this.state);if(e.groupColumns!==this.props.groupColumns||e.columns!==this.props.columns||e.rows!==this.props.rows){var n=e.columns.map(function(e){return e.get("id")}).toOrderedSet(),r=e.groupColumns.intersect(n);t.grouped=j(e.rows,r,e.columns,w),l(this.state.grouped).equals(l(t.grouped))||(t.hiddenByGroups=t.hiddenByGroups.clear(),e.expandAll())}else if(e.collapsedGroups!==this.props.collapsedGroups){var o=this.hideGroups(e,t);t.hiddenByGroups.equals(o.hiddenByGroups)||(t.hiddenByGroups=o.hiddenByGroups)}if(e.hiddenRows!==this.props.hiddenRows||t.hiddenByGroups!==this.state.hiddenByGroups){var a=e.hiddenRows.union(t.hiddenByGroups);t.hiddenRows.equals(a)||(t.hiddenRows=a)}this.state.grouped===t.grouped&&this.state.hiddenByGroups===t.hiddenByGroups&&this.state.hiddenRows===t.hiddenRows||this.setState(t)}},{key:"hideGroups",value:function(e,t){var n=this,r=t.grouped,o=t.hiddenByGroups,a=e.collapsedGroups.reduce(function(e,t){return e.union(n.hideGroup(t,r))},b.default.Set());return{hiddenByGroups:o.equals(a)?o:a}}},{key:"hideGroup",value:function(e,t){var n=this,r=t.find(function(t){return t.get("id")===e});if(void 0===r)return b.default.Set();var o=r.get("groupMember",b.default.List()).toSet();return o.filter(function(e){return n.isGroupRow(e)}).reduce(function(e,r){return e.union(n.hideGroup(r,t))},o)}},{key:"isGroupRow",value:function(e){return"string"==typeof e&&e.indexOf(w)>-1}},{key:"render",value:function(){var t=o(this.props,[]),n=this.props.selectableRowIDs?this.props.selectableRowIDs:t.rows.map(function(e){return e.get("id")});return delete t.rows,delete t.setInitGroupColumns,delete t.initGroupColumns,delete t.setGroupColumns,delete t.setTableUserSettings,delete t.groupColumns,delete t.columns,delete t.collapsedGroups,delete t.expandAll,delete t.hiddenRows,h.default.createElement(e,c({},t,{rows:this.state.grouped,hiddenRows:this.state.hiddenRows,selectableRowIDs:n}))}}]),n}(h.default.Component);return n.propTypes={initGroupColumns:v.ImmutablePropTypes.orderedSet,rows:v.ImmutablePropTypes.list,selectableRowIDs:v.ImmutablePropTypes.list,hiddenRows:v.ImmutablePropTypes.set,setInitGroupColumns:v.PropTypes.func,setGroupColumns:v.PropTypes.func,setTableUserSettings:v.PropTypes.func,groupColumns:v.ImmutablePropTypes.orderedSet,columns:v.ImmutablePropTypes.list,collapsedGroups:v.ImmutablePropTypes.set,expandAll:v.PropTypes.func},n.defaultProps={hiddenRows:b.default.Set()},(0,m.default)(t,{setInitGroupColumns:_.setInitGroupColumns,setGroupColumns:_.setGroupColumns,setTableUserSettings:S.setTableUserSettings,expandAll:_.expandAll})(n)}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=u;var d=n(0),h=r(d),y=n(9),m=r(y),g=n(3),b=r(g),v=n(1),_=n(45),S=n(12),O=n(56),T=n(170),E=r(T),C=n(2),w=""+(0,C.prefixNS)("#table-groupBy#"),P=function(e,t,n,r,o){return b.default.Map({id:t+"#"+o,parentID:t,Renderer:E.default,value:e,level:n,columnID:r,groupMember:void 0})},N=function(e){return e},I=function(e){if(e.get("groupByFunction"))return e.get("groupByFunction");var t=e.get("contentRenderer");return t&&t.groupByFunction?t.groupByFunction:N},R=function(e,t,n){var r=t.findIndex(function(e){return e.get("id")===n}),o=t.get(r),a=I(o);return e.groupBy(function(e){return a(e.get("columns").get(r),e,o)})},j=function e(t,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(!n||n.count()<1)return t;var i=n.first(),s=R(t,r,i),l=0,u=s.mapEntries(function(t){var s=f(t,2),u=s[0],c=s[1],p=P(u,o,a,i,++l),d=p.get("id"),h=e(c,n.rest(),r,d,a+1);if(h===c){var y=p.set("groupMember",h.map(function(e){return e.get("id")})).set("groupSize",h.size);return[d,h.unshift(y)]}var m=p.set("groupMember",h.keySeq().toList());return[d,h.toList().flatten(!0).unshift(m)]});return 0===a?u.toList().flatten(!0):u}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{groupColumns:(0,v.getGroupColumns)(e),columns:e.columns}}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupableSettingPanel=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(2),y=n(4),m=n(9),g=r(m),b=n(45),v=n(56),_=n(71),S=r(_),O=n(44),T=r(O),E=n(21),C=t.GroupableSettingPanel=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateGroupedColumnsFromOrganizer=n.updateGroupedColumnsFromOrganizer.bind(n),n.state={groupedColumnIds:f.default.List(),organizerLists:void 0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.registerPanel(this),this.updateGroupedColumns(this.props.groupColumns.toList())}},{key:"componentWillReceiveProps",value:function(e){this.props.groupColumns===e.groupColumns&&this.props.columns===e.columns||this.updateGroupedColumns(e.groupColumns.toList())}},{key:"dispatchSettings",value:function(){this.props.setGroupColumns(this.state.groupedColumnIds.toOrderedSet())}},{key:"resetSettings",value:function(){this.updateGroupedColumns(this.props.groupColumns.toList())}},{key:"updateGroupedColumns",value:function(e){var t=this.props.columns,n=f.default.List([f.default.Map({id:"ungrouped",label:(0,y.formatStr)("table_unused_columns"),items:t.filter(function(t){return!e.contains(t.get("id"))}).filter(function(e){return e.get("id")!==E.SELECTORID}),unsortable:!0}),f.default.Map({id:"grouped",label:(0,y.formatStr)("table_grouped_columns"),items:t.filter(function(t){return e.contains(t.get("id"))}).filter(function(e){return e.get("id")!==E.SELECTORID}),unsortable:!1})]);this.setState({groupedColumnIds:e,organizerLists:n})}},{key:"updateGroupedColumnsFromOrganizer",value:function(e){this.updateGroupedColumns(e.get(1).get("items").map(function(e){return e.get("id")}))}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(T.default,{helpId:"user_web_components_table_group_columns"}),c.default.createElement(S.default,{itemLists:this.state.organizerLists,className:(0,h.prefixNS)("table-column-grouper"),onItemListsChange:this.updateGroupedColumnsFromOrganizer}))}}]),t}(c.default.Component);C.propTypes={registerPanel:d.PropTypes.func,groupColumns:d.ImmutablePropTypes.orderedSet,setGroupColumns:d.PropTypes.func,columns:d.ImmutablePropTypes.list};var w=(0,g.default)(s,{setGroupColumns:b.setGroupColumns})(C);w.settingsTitle=function(){return(0,y.formatStr)("table_settings_title_groupable")},t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{connectDropTarget:e.dropTarget(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop(),draggedItemType:t.getItemType()}}function l(e){return{groupColumns:(0,m.getGroupColumns)(e),columns:e.columns}}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupPanel=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(4),y=n(45),m=n(56),g=n(9),b=r(g),v=n(21),_=n(281),S=r(_),O={canDrop:function(e,t){var n=e.groupColumns,r=t.getItem();return!n.contains(r.columnID)},drop:function(e,t){var n=e.groupColumns,r=e.setGroupColumns,o=t.getItem().columnID;return n.contains(o)||r(n.add(o)),{}}},T=t.GroupPanel=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.isOverCurrent,r=e.canDrop,o=e.groupColumns,a=e.columns,i=(0,f.classNames)((0,d.prefixNS)("table-group-panel"),{"bg-success":n&&r});return t(p.default.createElement("div",{className:(0,d.prefixNS)("table-group-panel-container")},p.default.createElement("div",{className:i},o.count()?o.map(function(e){var t=a.find(function(t){return t.get("id")===e});return void 0===t?null:p.default.createElement(S.default,{key:e,column:t})}):p.default.createElement("span",{className:"text-muted"},(0,h.formatStr)("table_group_drag_here_hint")))))}}]),t}(p.default.Component);T.propTypes={connectDropTarget:f.PropTypes.func,isOverCurrent:f.PropTypes.bool,canDrop:f.PropTypes.bool,groupColumns:f.ImmutablePropTypes.orderedSet,columns:f.ImmutablePropTypes.list},t.default=(0,b.default)(l,{setGroupColumns:y.setGroupColumns})(f.ReactDnD.DropTarget(v.draggableColumnType,O,s)(T))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function l(e){return{connectDropTarget:e.dropTarget()}}function u(e){return{columns:e.columns,groupColumns:(0,b.getGroupColumns)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.GroupLabel=void 0;var c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(1),h=n(6),y=n(2),m=n(9),g=r(m),b=n(56),v=n(45),_=(0,y.prefixNS)("table-group-label-type"),S={beginDrag:function(e){return{columnID:e.column.get("id")}}},O={canDrop:function(e,t){var n=e.column;return t.getItem().columnID!==n.get("id")},drop:function(e,t){var n=e.column,r=e.groupColumns,o=e.setGroupColumns,a=n.get("id"),i=t.getItem().columnID;if(r&&r.contains(a)&&r.contains(i)){var s=r.delete(i).toList(),l=s.indexOf(a),u=s.insert(l,i).toOrderedSet();u.equals(r)||o(u)}return{}}},T=t.GroupLabel=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.removeGroup=n.removeGroup.bind(n),n}return i(t,e),c(t,[{key:"removeGroup",value:function(){var e=this.props,t=e.column,n=e.groupColumns,r=e.setGroupColumns,o=t.get("id");n.contains(o)&&r(n.delete(o))}},{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.connectDropTarget,r=e.isDragging,o=e.column,a=(0,d.classNames)((0,y.prefixNS)("table-group-label"),{"is-dragging":r});return t(n(f.default.createElement("div",{className:a},f.default.createElement(h.Label,null,o.get("label"),f.default.createElement("span",{className:(0,y.prefixNS)("table-group-label-remover"),onClick:this.removeGroup},"×")))))}}]),t}(f.default.Component);T.propTypes={column:d.ImmutablePropTypes.map,isDragging:d.PropTypes.bool,connectDragSource:d.PropTypes.func,connectDropTarget:d.PropTypes.func,setGroupColumns:d.PropTypes.func,groupColumns:d.ImmutablePropTypes.orderedSet},t.default=(0,g.default)(u,{setGroupColumns:v.setGroupColumns})(d.ReactDnD.DropTarget(_,O,l)(d.ReactDnD.DragSource(_,S,s)(T)))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={filtered:e.rows},t}return s(n,t),u(n,[{key:"componentWillMount",value:function(){this.props.setFilter(this.props.initFilter)}},{key:"componentWillReceiveProps",value:function(e){e.initFilter!==this.props.initFilter&&this.props.setFilter(e.initFilter),e.filter===this.props.filter&&e.columns===this.props.columns&&e.rows===this.props.rows||this.doFilter(e.rows,e.filter)}},{key:"doFilter",value:function(e,t){var n=this.props,r=n.columns,o=n.filterFunctions;if(t){var a=t.toLowerCase(),i=e.filter(function(e){return S(e,a,r)});o&&o.count()>0&&(i=o.reduce(function(t,n){return n(t,e,a,r)},i)),this.setState({filtered:i})}else this.setState({filtered:e})}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.rows,delete t.filter,delete t.initFilter,delete t.columns,delete t.setFilter,delete t.setTableUserSettings,delete t.filterFunctions,p.default.createElement(e,l({},t,{rows:this.state.filtered}))}}]),n}(p.default.Component);t.propTypes={initFilter:f.PropTypes.string,filter:f.PropTypes.string,rows:f.ImmutablePropTypes.list,setFilter:f.PropTypes.func,setTableUserSettings:f.PropTypes.func,columns:f.ImmutablePropTypes.list,filterFunctions:f.ImmutablePropTypes.orderedSet};var n=function(e){return{filter:(0,y.getFilter)(e),columns:e.columns,filterFunctions:e.filterFunctions}};return(0,g.default)(n,{setFilter:d.setFilter,setTableUserSettings:h.setTableUserSettings})(t)};var c=n(0),p=r(c),f=n(1),d=n(57),h=n(12),y=n(92),m=n(9),g=r(m),b=n(161),v=function(e,t,n,r){var o=(0,b.getFormattedValue)(e,r,e);return("string"==typeof o?o:JSON.stringify(o)).toLowerCase().indexOf(t)>-1},_=function(e){if(e.get("filterFunction"))return e.get("filterFunction");var t=e.get("contentRenderer");return t&&t.filterFunction?t.filterFunction:v},S=function(e,t,n){return e.get("columns").findIndex(function(r,o){var a=n.get(o);return void 0!==a&&_(a)(r,t,e,a)})>-1}},function(e,t,n){"use strict";function r(e,t){return t((0,o.sendFocusFilter)())}Object.defineProperty(t,"__esModule",{value:!0});var o=n(57);t.default=[{keys:"e",handler:r}]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FilterButton=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(8),d=r(f),h=n(11),y=r(h),m=n(15),g=r(m),b=n(4),v=n(2),_=n(57),S=n(92),O=n(9),T=r(O),E=n(12),C=n(84),w=r(C),P=n(66),N=r(P),I=t.FilterButton=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={focused:!1},n.clearFilter=n.clearFilter.bind(n),n.onChange=n.onChange.bind(n),n.focusFilter=n.focusFilter.bind(n),n.setFilterRef=n.setFilterRef.bind(n),n.resetFocusFilter=n.resetFocusFilter.bind(n),n.onFocus=n.onFocus.bind(n),n.onKeyDown=n.onKeyDown.bind(n),n}return s(t,e),l(t,[{key:"setFilterRef",value:function(e){this.filterField=e}},{key:"componentWillReceiveProps",value:function(e){e.focusFilterSignal!==this.props.focusFilterSignal&&e.focusFilterSignal.get("focusFilter")&&this.focusFilter()}},{key:"focusFilter",value:function(){this.filterField.focus()}},{key:"onFocus",value:function(){this.setState({focused:!0})}},{key:"resetFocusFilter",value:function(){this.setState({focused:!1}),this.props.focusFilterSignal.get("focusFilter")&&this.props.resetFocusFilter()}},{key:"clearFilter",value:function(){this.props.setFilter(""),this.focusFilter()}},{key:"onChange",value:function(e){this.props.setFilter(e.target.value)}},{key:"onKeyDown",value:function(e){switch(e.key){case"Escape":return void this.clearFilter();case"Enter":return void this.props.setFocusTable()}}},{key:"render",value:function(){var e=this.props.filter,t=this.state.focused,n=e>""?(0,b.formatStr)("table_clear_filter"):(0,b.formatStr)("table_show_hide_filter"),r=c.default.createElement(d.default.IconButton,{onClick:this.clearFilter,title:n,iconSrc:N.default,buttonStyle:"auxiliary",key:(0,v.prefixNS)("table-filter-reset")}),a=(0,p.classNames)((0,v.prefixNS)("table-filter-form"),o({},(0,v.prefixNS)("table-filter-form__focused"),t||""!==e));return c.default.createElement("form",{className:a},c.default.createElement(g.default,{placeholder:(0,b.formatStr)("table_placeholder_filter"),className:(0,v.prefixNS)("table-filter-placeholder"),ref:this.setFilterRef,onFocus:this.onFocus,onBlur:this.resetFocusFilter,onKeyDown:this.onKeyDown,name:(0,v.prefixNS)("table-filter"),value:e,beforeControl:[c.default.createElement(y.default,{src:w.default,key:(0,v.prefixNS)("table-filter-icon"),className:(0,v.prefixNS)("table-filter-icon")})],afterControl:[e?r:null],onChange:this.onChange,autoFocus:!0}))}}]),t}(c.default.Component);I.propTypes={filter:p.PropTypes.string,setFilter:p.PropTypes.func,focusFilterSignal:p.ImmutablePropTypes.map,resetFocusFilter:p.PropTypes.func,setFocusTable:p.PropTypes.func,setFocusFilter:p.PropTypes.func};var R=function(e){return{filter:(0,S.getFilter)(e),focusFilterSignal:e.focusFilterSignal}};t.default=(0,T.default)(R,{setFilter:_.setFilter,resetFocusFilter:_.resetFocusFilter,setFocusTable:E.setFocusTable,setFocusFilter:E.setFocusFilter})(I)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={rows:e.rows},t}return s(n,t),u(n,[{key:"componentDidMount",value:function(){this.computeAggregates(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.columnAggregator===this.props.columnAggregator&&e.columns===this.props.columns&&e.rows===this.props.rows||this.computeAggregates(e)}},{key:"computeAggregates",value:function(e){var t=e.rows,n=e.columns,r=e.columnAggregator;if(r){var o=[];n.forEach(function(e,n){var a=null,i=r.aggregationTypes[e.get("attribute")];if(void 0!==i){var s=t.map(function(e){return e.get("columns")}).filter(function(e){return void 0!==e}).map(function(e){return e.get(n)}).filter(function(e){return null!==e&&void 0!==e});switch(i){case"count":a="# "+(0,b.intToDisplayFormat)(s.size);break;case"sum":a="∑ "+(0,b.floatToDisplayFormat)(s.reduce(function(e,t){return e+t},0));break;case"avg":if(s.size>0){a="⌀ "+(0,b.floatToDisplayFormat)(s.reduce(function(e,t){return e+t},0)/s.size)}else a="⌀ -"}}o.push({text:a})});var a=r.top?0:t.size;this.setState({rows:t.insert(a,d.default.fromJS({id:g.ColumnAggregatorRowID,columns:o,className:g.ColumnAggregatorClass,functionalRow:!0}))})}else this.setState({rows:t})}},{key:"render",value:function(){var t=o(this.props,[]),n=this.props.selectableRowIDs?this.props.selectableRowIDs:t.rows.map(function(e){return e.get("id")});return delete t.dispatch,delete t.rows,delete t.columns,delete t.columnAggregatorTypes,p.default.createElement(e,l({},t,{rows:this.state.rows,selectableRowIDs:n}))}}]),n}(p.default.Component);t.propTypes={rows:h.ImmutablePropTypes.list,selectableRowIDs:h.ImmutablePropTypes.list,columns:h.ImmutablePropTypes.list,columnAggregator:h.PropTypes.object};var n=function(e){return{columns:e.columns}};return(0,m.default)(n)(t)};var c=n(0),p=r(c),f=n(3),d=r(f),h=n(1),y=n(9),m=r(y),g=n(21),b=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onSelect=t.onSelect.bind(t),t.markRows=t.markRows.bind(t),t.dispatchNavigation=t.dispatchNavigation.bind(t),t.selectorColumn=h.default.Map({id:O.SELECTORID,label:"",width:"1em",contentRenderer:S.default,tooltip:(0,v.formatStr)("tabcatalog_select_header")}),t}return s(n,t),u(n,[{key:"componentWillMount",value:function(){void 0!==this.props.initSelected&&this.selectRows(this.props.initSelected,this.props),this.props.setSingleSelectionMode(this.props.singleSelection),this.createSelector(this.props),this.props.setAllSelector(this.props.withAllSelector&&this.props.withSelector&&!this.props.singleSelection)}},{key:"dispatchNavigation",value:function(e){var t=this.props,n=t.selectRow,r=t.selectRows,o=t.singleSelection;e.get("extend")?n(e.get("rowIds").get(0)):o?n(e.get("focusedRow")):r(h.default.OrderedSet(e.get("rowIds")),e.get("focusedRow"),e.get("selectionAnchor"))}},{key:"createSelector",value:function(e){var t=e.setColumns,n=e.setOrderedColumns,r=e.columns,o=e.orderedColumns;e.withSelector&&(r.findIndex(function(e){return e.get("id")===O.SELECTORID})<0?(t(r.push(this.selectorColumn)),n(h.default.OrderedSet([O.SELECTORID]).union(o))):o.first()!==O.SELECTORID&&n(h.default.OrderedSet([O.SELECTORID]).union(o)))}},{key:"getValidSelection",value:function(e,t){var n=t.rows;return e.filter(function(e){return n.findIndex(function(t){return t.get("id")===e})>-1})}},{key:"selectRows",value:function(e,t){var n=t.setSelectedRows,r=this.getValidSelection(e,t);n&&(0===e.count()||r.count()>0)&&n(r)}},{key:"componentWillReceiveProps",value:function(e){e.singleSelection!==this.props.singleSelection&&e.setSingleSelectionMode(e.singleSelection),e.columns===this.props.columns&&e.orderedColumns===this.props.orderedColumns||this.createSelector(e),h.default.is(e.initSelected,this.props.initSelected)?e.selectedRows!==this.props.selectedRows?(this.markRows(e),e.onSelectRows&&e.onSelectRows(e.selectedRows)):e.rows!==this.props.rows&&this.markRows(e,!0):this.selectRows(e.initSelected||h.default.OrderedSet(),e),e.withAllSelector===this.props.withAllSelector&&e.withSelector===this.props.withSelector&&e.singleSelection===this.props.singleSelection||e.setAllSelector(e.withAllSelector&&e.withSelector&&!e.singleSelection),e.navigation!==this.props.navigation&&e.navigation&&this.dispatchNavigation(e.navigation)}},{key:"markRows",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.rows.map(function(e){return e.get("id")}),r=void 0===e.selectedRows?h.default.OrderedSet():e.selectedRows.intersect(n);t&&!h.default.is(r,e.selectedRows)?e.setSelectedRows(r):(e.setRowClassName("selected",r),e.singleSelection||e.setRowClassName("last-selected",h.default.OrderedSet([r.last()])))}},{key:"onSelect",value:function(e,t,n){var r=this.props.selectRow;this.getValidSelection(h.default.OrderedSet([e]),this.props).count()>0&&r(e,t,n.shiftKey,n.ctrlKey)}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.singleSelection,delete t.withSelector,delete t.initSelected,delete t.setSingleSelectionMode,delete t.setColumns,delete t.setOrderedColumns,delete t.setSelectedRows,delete t.selectRow,delete t.selectRows,delete t.setRowClassName,delete t.columns,delete t.orderedColumns,delete t.selectedRows,delete t.onSelectRows,delete t.setAllSelector,delete t.withAllSelector,p.default.createElement(e,l({},t,{onSelectRow:this.onSelect}))}}]),n}(p.default.Component);t.propTypes={singleSelection:f.PropTypes.bool,withSelector:f.PropTypes.bool,initSelected:f.ImmutablePropTypes.orderedSet,setSingleSelectionMode:f.PropTypes.func,setColumns:f.PropTypes.func,setOrderedColumns:f.PropTypes.func,setSelectedRows:f.PropTypes.func,selectRow:f.PropTypes.func,selectRows:f.PropTypes.func,setRowClassName:f.PropTypes.func,rows:f.ImmutablePropTypes.list,columns:f.ImmutablePropTypes.list,focusedRow:f.PropTypes.string,orderedColumns:f.ImmutablePropTypes.orderedSet,selectedRows:f.ImmutablePropTypes.orderedSet,onSelectRows:f.PropTypes.func,navigation:f.ImmutablePropTypes.map,withAllSelector:f.PropTypes.bool,setAllSelector:f.PropTypes.func},t.contextTypes={addShortcut:f.PropTypes.func,removeShortcut:f.PropTypes.func},t.defaultProps={singleSelection:!0,withSelector:!1,withAllSelector:!0};var n=function(e){return{selectedRows:e.selectedRows,columns:e.columns,orderedColumns:e.orderedColumns,focusedRow:e.focusedRow,navigation:e.navigation}};return(0,m.default)(n,{setSelectedRows:g.setSelectedRows,setSingleSelectionMode:b.setSingleSelectionMode,selectRow:b.selectRow,selectRows:b.selectRows,setOrderedColumns:g.setOrderedColumns,setColumns:g.setColumns,setRowClassName:g.setRowClassName,setAllSelector:b.setAllSelector})(t)};var c=n(0),p=r(c),f=n(1),d=n(3),h=r(d),y=n(9),m=r(y),g=n(12),b=n(93),v=n(4),_=n(287),S=r(_),O=n(21)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(9),d=r(f),h=n(38),y=r(h),m=n(93),g=n(128),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onChange=n.onChange.bind(n),n.onClick=n.onClick.bind(n),n}return i(t,e),s(t,[{key:"onChange",value:function(){}},{key:"getRowID",value:function(){return this.props.row.get("id")}},{key:"onClick",value:function(e){e.stopPropagation(),e.preventDefault();var t=this.props,n=t.row,r=t.singleSelectionMode;this.props.selectRow(n.get("id"),void 0,e.shiftKey,e.ctrlKey||!r)}},{key:"render",value:function(){var e=this.props,t=e.selectedRows,n=e.singleSelectionMode,r=e.tableID;if(e.row.get("functionalRow",!1))return null;var o=t.contains(this.getRowID()),a=n?y.default.Radio:y.default.CheckBox;return u.default.createElement("div",{className:(0,p.prefixNS)("table-selector-column-renderer"),onClick:this.onClick},u.default.createElement(a,{className:(0,p.prefixNS)("table-selector-column-content"),tabIndex:-1,checked:o,onChange:this.onChange,name:(0,p.prefixNS)("table-selector"+r)}))}}]),t}(u.default.Component);b.propTypes={singleSelectionMode:c.PropTypes.bool,selectedRows:c.ImmutablePropTypes.orderedSet,selectRow:c.PropTypes.func,row:c.ImmutablePropTypes.map,tableID:c.PropTypes.number};var v=function(e){return{selectedRows:e.selectedRows,singleSelectionMode:(0,g.getSingleSelectionMode)(e),tableID:e.tableID}};t.default=(0,d.default)(v,{selectRow:m.selectRow})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(9),f=r(p),d=n(38),h=r(d),y=n(21),m=n(2),g=n(128),b=n(12),v=n(70),_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onStateChange=n.onStateChange.bind(n),n}return i(t,e),s(t,[{key:"onStateChange",value:function(){var e=this.props;(0,e.selectAllRows)(0===e.selectableRowsAggregationState)}},{key:"render",value:function(){var e=this.props,t=e.column,n=e.selectableRowsAggregationState,r=e.allSelector,o=(0,c.classNames)((0,m.prefixNS)("table-selector-column-renderer"),(0,m.prefixNS)("table-selector-column-head-renderer"));return r&&t.get("id")===y.SELECTORID&&n<3?u.default.createElement("div",{className:o},u.default.createElement(h.default.TriStateCheckBox,{className:(0,m.prefixNS)("table-selector-column-content"),name:"Select_All",onStateChange:this.onStateChange,value:0===n?"0":1===n?"1":""})):null}}]),t}(u.default.Component);_.propTypes={column:c.ImmutablePropTypes.map,selectAllRows:c.PropTypes.func,allSelector:c.PropTypes.bool,selectableRowsAggregationState:c.PropTypes.number};var S=function(e){return{allSelector:(0,g.getAllSelector)(e),selectableRowsAggregationState:(0,v.getSelectableRowsAggregationState)(e)}};t.default=(0,f.default)(S,{selectAllRows:b.selectAllRows})(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(73),a=r(o),i=n(290),s=r(i),l=n(94),u=r(l),c=n(291),p=r(c),f=n(292),d=r(f);t.default={actions:a.default,Provider:s.default,reducers:u.default,getAllItems:l.getAllItems,getCurrentPage:l.getCurrentPage,getPageSize:l.getPageSize,getPageSizeOptions:l.getPageSizeOptions,Navigator:p.default,Panels:[d.default,p.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var r=n*t;return e.slice(r-t,r)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={rowsForSelectedPage:e.rows},t}return s(n,t),c(n,[{key:"componentWillMount",value:function(){this.props.setAllItems(this.props.rows.count()),this.props.setPageSize(this.props.initPageSize),this.props.setCurrentPage(this.props.initCurrentPage),this.props.setPageSizeOptions(this.props.initPageSizeOptions),this.props.setTableUserSettings("paginationUserSettings"),this.setState({rowsForSelectedPage:l(this.props.rows,this.props.pageSize,this.props.currentPage)})}},{key:"componentWillReceiveProps",value:function(e){if(e.initPageSize!==this.props.initPageSize&&e.setPageSize(e.initPageSize),e.initPageSizeOptions!==this.props.initPageSizeOptions&&e.setPageSizeOptions(e.initPageSizeOptions),e.initCurrentPage!==this.props.initCurrentPage&&e.setCurrentPage(e.initCurrentPage),e.pageSize!==this.props.pageSize||e.currentPage!==this.props.currentPage||e.rows!==this.props.rows||e.hiddenRows!==this.props.hiddenRows){var t=this.getVisibleRows(e);e.rows===this.props.rows&&e.hiddenRows===this.props.hiddenRows||e.setAllItems(t.count()),this.setState({rowsForSelectedPage:l(t,e.pageSize,e.currentPage)})}}},{key:"getVisibleRows",value:function(e){return e.rows.filterNot(function(t){return e.hiddenRows.contains(t.get("id"))})}},{key:"render",value:function(){var t=this,n=o(this.props,[]),r=this.props.selectableRowIDs?this.state.rowsForSelectedPage.filter(function(e){return t.props.selectableRowIDs.includes(e.get("id"))}).map(function(e){return e.get("id")}):this.state.rowsForSelectedPage.map(function(e){return e.get("id")});return delete n.initPageSize,delete n.initCurrentPage,delete n.initPageSizeOptions,delete n.setAllItems,delete n.setPageSize,delete n.setCurrentPage,delete n.setPageSizeOptions,delete n.pageSize,delete n.currentPage,delete n.setTableUserSettings,delete n.hiddenRows,f.default.createElement(e,u({},n,{rows:this.state.rowsForSelectedPage,selectableRowIDs:r}))}}]),n}(f.default.Component);t.propTypes={initPageSize:d.PropTypes.number,initCurrentPage:d.PropTypes.number,initPageSizeOptions:d.ImmutablePropTypes.setOf(d.PropTypes.number),rows:d.ImmutablePropTypes.list,selectableRowIDs:d.ImmutablePropTypes.list,hiddenRows:d.ImmutablePropTypes.set,setAllItems:d.PropTypes.func,setPageSize:d.PropTypes.func,setCurrentPage:d.PropTypes.func,setPageSizeOptions:d.PropTypes.func,pageSize:d.PropTypes.number,currentPage:d.PropTypes.number,setTableUserSettings:d.PropTypes.func},t.defaultProps={hiddenRows:_.default.Set()};var n=function(e){return{pageSize:(0,m.getPageSize)(e),currentPage:(0,m.getCurrentPage)(e)}};return(0,b.default)(n,{setAllItems:h.setAllItems,setPageSize:h.setPageSize,setCurrentPage:h.setCurrentPage,setPageSizeOptions:h.setPageSizeOptions,setTableUserSettings:y.setTableUserSettings})(t)};var p=n(0),f=r(p),d=n(1),h=n(73),y=n(12),m=n(94),g=n(9),b=r(g),v=n(3),_=r(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Navigator=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(2),d=n(73),h=n(94),y=n(9),m=r(y),g=function(e,t){return Math.ceil(e/t)},b=function(e,t,n){if(n<1)return 1;var r=g(e,t);return n>r?r||1:n},v=t.Navigator=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onNavigate=n.onNavigate.bind(n),n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.allItems,n=e.pageSize,r=e.setCurrentPage,o=e.currentPage,a=b(t,n,o);a!==o&&r(a)}},{key:"onNavigate",value:function(e){var t=this.props,n=t.allItems,r=t.pageSize;(0,t.setCurrentPage)(b(n,r,e))}},{key:"render",value:function(){var e=this.props,t=e.allItems,n=e.pageSize,r=e.currentPage,o=g(t,n);return u.default.createElement(c.Pagination,{className:(0,f.prefixNS)("table-pagination-navigator"),bsSize:"medium",items:o||1,activePage:r,onSelect:this.onNavigate})}}]),t}(u.default.Component);v.propTypes={setCurrentPage:p.PropTypes.func,allItems:p.PropTypes.number,pageSize:p.PropTypes.number,currentPage:p.PropTypes.number};var _=function(e){return{allItems:(0,h.getAllItems)(e),pageSize:(0,h.getPageSize)(e),currentPage:(0,h.getCurrentPage)(e)}};t.default=(0,m.default)(_,{setCurrentPage:d.setCurrentPage})(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.SizeMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(4),d=n(2),h=n(73),y=n(94),m=n(9),g=r(m),b=n(30),v=r(b),_=0,S=t.SizeMenu=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=n.onSelect.bind(n),n}return i(t,e),s(t,[{key:"onSelect",value:function(e){(0,this.props.setPageSize)(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.pageSize,r=t.pageSizeOptions;return r.count()?u.default.createElement(v.default,{className:(0,d.prefixNS)("table-pagination-size-menu")},u.default.createElement(c.DropdownButton,{id:(0,d.prefixNS)("table-pagination-size-menu"+ ++_),title:(0,f.formatStr)("table_paginator_items_per_page",{items:n})},r.map(function(t){return u.default.createElement(c.MenuItem,{key:String(t),eventKey:t,onSelect:e.onSelect},t)}))):null}}]),t}(u.default.Component);S.propTypes={setPageSize:p.PropTypes.func,pageSize:p.PropTypes.number,pageSizeOptions:p.ImmutablePropTypes.set};var O=function(e){return{pageSize:(0,y.getPageSize)(e),pageSizeOptions:(0,y.getPageSizeOptions)(e)}};t.default=(0,g.default)(O,{setPageSize:h.setPageSize})(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnResizer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(9),d=r(f),h=n(12),y=t.ColumnResizer=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={indicatorX:0,resizing:!1,startX:0},n.onMouseMove=n.onMouseMove.bind(n),n.onMouseDown=n.onMouseDown.bind(n),n.onMouseUp=n.onMouseUp.bind(n),n}return i(t,e),s(t,[{key:"onMouseMove",value:function(e){e.stopPropagation(),e.preventDefault(),this.state.resizing&&this.setState({indicatorX:this.state.startX-e.clientX})}},{key:"onMouseDown",value:function(e){e.stopPropagation(),e.preventDefault(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.setState({indicatorX:0,resizing:!0,startX:e.clientX})}},{key:"onMouseUp",value:function(e){e.stopPropagation(),e.preventDefault(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp);var t=this.props,n=t.setColumnWidth,r=t.columnWidth,o=this.state.indicatorX,a=this.resizerContainer.clientWidth,i=0===a?0:o/a,s=void 0===r?this.props.column.get("width"):r,l=parseFloat(s);if(!Number.isNaN(l)&&(0!==o||0!==i)){var u=this.props.column.get("id"),c=0===i||0===l?l-o:l*(1-i);if(c!==l&&n){n(u,String(s).replace(l,c))}}this.setState({indicatorX:0,resizing:!1})}},{key:"render",value:function(){var e=this,t={right:this.state.indicatorX,display:this.state.resizing?void 0:"none"},n=(0,c.classNames)((0,p.prefixNS)("table-column-resizer"),{"is-resizing":this.state.resizing});return u.default.createElement("div",{className:n,ref:function(t){e.resizerContainer=t}},u.default.createElement("div",{className:"resizer-trigger bg-primary",onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp,onMouseDown:this.onMouseDown}),u.default.createElement("div",{className:"resizer-indicator bg-primary",style:t}))}}]),t}(u.default.PureComponent);y.propTypes={columnWidth:c.PropTypes.string,column:c.ImmutablePropTypes.map,setColumnWidth:c.PropTypes.func};var m=function(e,t){var n=e.columnWidths,r=t.column;return{columnWidth:n.get(r.get("id"))}};t.default=(0,d.default)(m,{setColumnWidth:h.setColumnWidth})(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HiderPanel=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(6),d=n(8),h=r(d),y=n(12),m=n(38),g=r(m),b=n(4),v=n(9),_=r(v),S=0,O=t.HiderPanel=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleColumn=n.toggleColumn.bind(n),n}return i(t,e),s(t,[{key:"toggleColumn",value:function(e){var t=this.props.hiddenColumns,n=t.contains(e)?t.delete(e):t.add(e);this.props.setHiddenColumns(n)}},{key:"render",value:function(){var e=this.props,t=e.columns,n=e.hiddenColumns,r=e.unhidableColumns;return u.default.createElement("div",{className:(0,p.prefixNS)("table-column-hider")},u.default.createElement(h.default.DropdownTextButton,{title:(0,b.formatStr)("table_show_columns"),id:(0,p.prefixNS)("table-column-hider"+ ++S),onSelect:this.toggleColumn},t.map(function(e){var t=e.get("id"),o=e.get("alwaysHidden")||r.contains(t),a=!n.subtract(r).contains(t)&&!e.get("alwaysHidden");return u.default.createElement(f.MenuItem,{eventKey:t,key:t},u.default.createElement(g.default.CheckBox,{name:t,label:e.get("label"),checked:a,disabled:o}))})))}}]),t}(u.default.Component);O.propTypes={setHiddenColumns:c.PropTypes.func,columns:c.ImmutablePropTypes.list,hiddenColumns:c.ImmutablePropTypes.set,unhidableColumns:c.ImmutablePropTypes.set};var T=function(e){return{hiddenColumns:e.hiddenColumns,unhidableColumns:e.unhidableColumns,columns:e.columns}};t.default=(0,_.default)(T,{setHiddenColumns:y.setHiddenColumns})(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.HiderSettingPanel=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(12),d=n(4),h=n(9),y=r(h),m=n(3),g=r(m),b=n(71),v=r(b),_=n(44),S=r(_),O=n(21),T=t.HiderSettingPanel=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateHiddenColumnsFromOrganizer=n.updateHiddenColumnsFromOrganizer.bind(n),n.state={hiddenColumnIds:g.default.List(),organizerLists:void 0},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.registerPanel(this),this.updateHiddenColumnsFromProps(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.hiddenColumns===e.hiddenColumns&&this.props.unhidableColumns===e.unhidableColumns&&this.props.columns===e.columns||this.updateHiddenColumnsFromProps(e)}},{key:"dispatchSettings",value:function(){this.props.setHiddenColumns(this.state.hiddenColumnIds.toSet())}},{key:"resetSettings",value:function(){this.updateHiddenColumnsFromProps(this.props)}},{key:"updateHiddenColumnsFromProps",value:function(e){var t=e.hiddenColumns,n=e.unhidableColumns,r=e.columns;this.updateHiddenColumns(t,n,r)}},{key:"updateHiddenColumns",value:function(e,t,n){var r=e.subtract(t);this.setState({hiddenColumnIds:r.toList(),organizerLists:g.default.List([g.default.Map({id:"available",label:(0,d.formatStr)("table_unused_columns"),items:n.filter(function(e){return!e.get("alwaysHidden")&&!r.contains(e.get("id"))&&!t.contains(e.get("id"))}).filter(function(e){return e.get("id")!==O.SELECTORID}),unsortable:!0}),g.default.Map({id:"hidden",label:(0,d.formatStr)("table_hide_columns"),items:n.filter(function(e){return r.contains(e.get("id"))}).filter(function(e){return e.get("id")!==O.SELECTORID}),unsortable:!0})])})}},{key:"updateHiddenColumnsFromOrganizer",value:function(e){this.updateHiddenColumns(e.get(1).get("items").map(function(e){return e.get("id")}).toSet(),this.props.unhidableColumns,this.props.columns)}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(S.default,{helpId:"user_web_components_table_hide_columns"}),u.default.createElement(v.default,{itemLists:this.state.organizerLists,className:(0,p.prefixNS)("table-column-hider"),onItemListsChange:this.updateHiddenColumnsFromOrganizer}))}}]),t}(u.default.Component);T.propTypes={setHiddenColumns:c.PropTypes.func,registerPanel:c.PropTypes.func,columns:c.ImmutablePropTypes.list,hiddenColumns:c.ImmutablePropTypes.set,unhidableColumns:c.ImmutablePropTypes.set};var E=function(e){return{hiddenColumns:e.hiddenColumns,unhidableColumns:e.unhidableColumns,columns:e.columns}},C=(0,y.default)(E,{setHiddenColumns:f.setHiddenColumns})(T);C.settingsTitle=function(){return(0,d.formatStr)("table_settings_title_column_hider")},t.default=C},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnDragger=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(1),p=n(2),f=n(21),d={beginDrag:function(e){return{columnID:e.column.get("id")}}},h=t.ColumnDragger=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.connectDragSource,n=e.connectDragPreview,r=e.isDragging,o=(0,c.classNames)((0,p.prefixNS)("table-column-dragger"),{"is-dragging":r,"bg-primary":r});return n(u.default.createElement("div",{className:o},t(u.default.createElement("div",{className:"drag-trigger bg-primary"}))),{captureDraggingState:!0})}}]),t}(u.default.PureComponent);h.propTypes={column:c.ImmutablePropTypes.map,connectDragSource:c.PropTypes.func,connectDragPreview:c.PropTypes.func,isDragging:c.PropTypes.bool},t.default=c.ReactDnD.DragSource(f.draggableColumnType,d,i)(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{connectDropTarget:e.dropTarget(),isOverCurrent:t.isOver({shallow:!0}),canDrop:t.canDrop(),draggedItemType:t.getItemType()}}function l(e){return{columns:e.columns,orderedColumns:e.orderedColumns}}Object.defineProperty(t,"__esModule",{value:!0}),t.ColumnDropper=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(9),y=r(h),m=n(12),g=n(21),b={canDrop:function(e,t){var n=e.column;return t.getItem().columnID!==n.get("id")},drop:function(e,t){var n=e.orderedColumns,r=e.setOrderedColumns,o=e.column,a=o.get("id"),i=t.getItem().columnID;if(n&&n.contains(a)&&n.contains(i)){var s=n.delete(i).toList(),l=s.indexOf(a),u=s.insert(l,i).toOrderedSet();u.equals(n)||r(u)}return{}}},v=t.ColumnDropper=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.connectDropTarget,n=e.isOverCurrent,r=e.canDrop,o=e.draggedItemType,a=o===g.draggableColumnType&&r,i=(0,f.classNames)((0,d.prefixNS)("table-column-dropper"),{"drop-ready":a,"table-column-dropper--is-over":n&&a});return t(p.default.createElement("div",{className:i}))}}]),t}(p.default.PureComponent);v.propTypes={column:f.ImmutablePropTypes.map,connectDropTarget:f.PropTypes.func,isOverCurrent:f.PropTypes.bool,canDrop:f.PropTypes.bool,draggedItemType:f.PropTypes.string},t.default=(0,y.default)(l,{setOrderedColumns:m.setOrderedColumns})(f.ReactDnD.DropTarget(g.draggableColumnType,b,s)(v))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(4),f=n(71),d=r(f),h=n(2),y=n(3),m=r(y),g=n(9),b=r(g),v=n(12),_=n(44),S=r(_),O=n(21),T=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.updateOrderedColumnsFromOrganizer=n.updateOrderedColumnsFromOrganizer.bind(n),n.state={orderedColumns:m.default.List()},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.registerPanel(this),this.updateOrderedColumns(this.props.orderedColumns.toList().filter(function(e){return e!==O.SELECTORID}))}},{key:"componentWillReceiveProps",value:function(e){this.props.orderedColumns===e.orderedColumns&&this.props.columns===e.columns||this.updateOrderedColumns(e.orderedColumns.toList().filter(function(e){return e!==O.SELECTORID}))}},{key:"updateOrderedColumns",value:function(e){var t=this;this.setState({orderedColumns:e,organizerLists:m.default.List([m.default.Map({id:"ordering",label:(0,p.formatStr)("table_settings_title_column_orderer"),items:e.map(function(e){return t.props.columns.find(function(t){return t.get("id")===e})}),unsortable:!1})])})}},{key:"updateOrderedColumnsFromOrganizer",value:function(e){this.updateOrderedColumns(e.get(0).get("items").map(function(e){return e.get("id")}))}},{key:"dispatchSettings",value:function(){this.props.setOrderedColumns(this.state.orderedColumns.toOrderedSet())}},{key:"resetSettings",value:function(){this.updateOrderedColumns(this.props.orderedColumns.toList().filter(function(e){return e!==O.SELECTORID}))}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(S.default,{helpId:"user_web_components_table_order_columns"}),u.default.createElement(d.default,{itemLists:this.state.organizerLists,className:(0,h.prefixNS)("table-column-orderer"),onItemListsChange:this.updateOrderedColumnsFromOrganizer}))}}]),t}(u.default.Component);T.propTypes={registerPanel:c.PropTypes.func,orderedColumns:c.ImmutablePropTypes.orderedSet,setOrderedColumns:c.PropTypes.func,columns:c.ImmutablePropTypes.list};var E=function(e){return{orderedColumns:e.orderedColumns,columns:e.columns}},C=(0,b.default)(E,{setOrderedColumns:v.setOrderedColumns})(T);C.settingsTitle=function(){return(0,p.formatStr)("table_settings_title_column_orderer")},t.default=C},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(95),a=r(o),i=n(300),s=r(i),l=n(301),u=r(l),c=n(302),p=r(c),f=n(303),d=r(f);t.default={actions:a.default,Provider:d.default,reducers:s.default,columnActions:[p.default],ToolbarButton:u.default,toolbarButtons:[u.default]}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.Map(),t=arguments[1];if(!t.payload)return e;switch(t.type){case s.SEARCHHEADERCOMPONENT_SET_SETTINGS:case s.SEARCHHEADERCOMPONENT_SET_VALUES:case s.SEARCHHEADERCOMPONENT_SET_INITURL:case s.SEARCHHEADERCOMPONENT_SET_INITVALUES:case s.SEARCHHEADERCOMPONENT_SET_ONSEARCHHEADERSUBMIT:return e.merge(t.payload);default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case s.SEARCHHEADERCOMPONENT_SHOW_CONTROLS:return t.payload;case l.SET_TABLE_SETTINGS_FETCHED:return void 0!==t.payload.get("showColumnSearch")?t.payload.get("showColumnSearch"):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.searchSettings=r,t.showColumnSearch=o;var a=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(95),l=n(12);t.default={searchSettings:r,showColumnSearch:o}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e){var t=e.searchSettings,n=e.showColumnSearch;return{initURL:t.get("initURL"),values:t.get("initValues"),onSearchHeaderSubmit:t.get("onSearchHeaderSubmit"),showSearchControl:n}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(3),h=r(d),y=n(1),m=n(9),g=r(m),b=n(2),v=n(4),_=n(10),S=n(8),O=r(S),T=n(95),E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.requestPromise=null,n.state={currValues:h.default.Map(),operationState:h.default.Map(),controls:[],showControls:!1},n.changeFields=n.changeFields.bind(n),n.submitForm=n.submitForm.bind(n),n}return s(t,e),c(t,[{key:"cancelRequest",value:function(){null!==this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null)}},{key:"loadSettings",value:function(e){var t=this,n=e.initURL;this.cancelRequest();var r={};this.requestPromise=(0,b.makeCancelable)((0,_.getJSON)(n,r)),this.requestPromise.promise.then(function(e){t.requestPromise=null;var n=h.default.fromJS(e.operation_state),r=h.default.fromJS(e.display_mapping_url),o=h.default.fromJS(e.registers),a=h.default.fromJS(e.values);t.props.setSettings({registers:o,operationState:n,displayMappingURL:r,onSubmit:t.submitForm,changeFields:t.changeFields,initialValues:a.merge(t.props.values)}),t.setState({currValues:h.default.fromJS(e.values),operationState:n}),t.props.values&&t.changeFields(t.props.values)},function(e){t.requestPromise=null,!0!==e.isCanceled&&b.Console.log(e)})}},{key:"changeFields",value:function(e){var t=this.state,n=t.currValues,r=o(t,["currValues"]),a=n.merge(e);this.setState(u({currValues:a},r)),this.props.setCurrentValues(a)}},{key:"componentDidMount",value:function(){this.props.initURL&&this.loadSettings(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.initURL!==this.props.initURL&&this.loadSettings(e),e.values!==this.props.values&&this.changeFields(e.values),e.showSearchControl!==this.props.showSearchControl&&this.setState({showControls:e.showSearchControl})}},{key:"componentWillUnmount",value:function(){this.cancelRequest()}},{key:"submitForm",value:function(){var e=this.props.onSearchHeaderSubmit;e&&e(this.state.currValues,this.state.operationState)}},{key:"onClick",value:function(){this.setState({showControls:!this.state.showControls}),this.props.showControls(!this.state.showControls)}},{key:"render",value:function(){var e=this.state.showControls?f.default.createElement(O.default.IconButton,{className:(0,b.prefixNS)("search-header-toolbar-button"),onClick:this.submitForm.bind(this),title:(0,v.formatStr)("table_execute_column_search"),iconName:"csweb_tablesearch_execution",buttonStyle:"primary"}):null;return f.default.createElement("div",null,e,f.default.createElement(O.default.IconButton,{className:(0,b.prefixNS)("search-header-toolbar-button"),onClick:this.onClick.bind(this),title:(0,v.formatStr)(this.state.showControls?"table_hide_column_search":"table_show_column_search"),iconName:this.state.showControls?"csweb_tablesearch_hide":"csweb_tablesearch_show"}))}}]),t}(f.default.Component);E.propTypes={initURL:y.PropTypes.string,onClick:y.PropTypes.func,onSearchHeaderSubmit:y.PropTypes.func,setCurrentValues:y.PropTypes.func,onSubmit:y.PropTypes.func,readOnly:y.PropTypes.bool,setSettings:y.PropTypes.func,showControls:y.PropTypes.func,values:y.PropTypes.instanceOf(h.default.Map),columns:y.ImmutablePropTypes.list,columnActions:y.ImmutablePropTypes.list,visibleColumns:y.ImmutablePropTypes.orderedSet,showSearchControl:y.PropTypes.bool},t.default=(0,g.default)(l,{setSettings:T.setSettings,setCurrentValues:T.setCurrentValues,showControls:T.showControls})(E)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.searchSettings,n=e.showColumnSearch;return{searchHeaderSettings:t.get("searchHeaderSettings"),currValues:t.get("currValues"),showControl:n}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(9),y=r(h),m=n(13),g=n(2),b=(0,g.getAppSetup)().get("formats"),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=n.getRelevantField(e);return n.state={field:r},n.changeFields=n.changeFields.bind(n),n.submitForm=n.submitForm.bind(n),n.handleKeyPressed=n.handleKeyPressed.bind(n),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){if(this.props.searchHeaderSettings!==e.searchHeaderSettings){var t=this.getRelevantField(e);this.setState({field:t})}}},{key:"shouldComponentUpdate",value:function(e){return this.props.searchHeaderSettings!==e.searchHeaderSettings||this.props.showControl!==e.showControl||this.checkValueChanged(this.props,e)}},{key:"checkValueChanged",value:function(e,t){if(!e.currValues||!t.currValues||!this.state.field)return!0;var n=t.currValues.get(this.state.field.get("attribute"));return e.currValues.get(this.state.field.get("attribute"))!==n}},{key:"changeFields",value:function(e){var t=this.props.searchHeaderSettings.get("changeFields");t&&t(e)}},{key:"submitForm",value:function(){var e=this.props.searchHeaderSettings.get("onSubmit");e&&e()}},{key:"getFields",value:function(e){var t=e.map(function(e){return e.get("fields").toArray()});return[].concat.apply([],t.toArray())}},{key:"handleKeyPressed",value:function(e){"Enter"===e.key&&this.submitForm()}},{key:"findField",value:function(e){return function(t){var n=t.get("origin_attribute").split(".");return n[n.length-1]===e}}},{key:"getRelevantField",value:function(e){if(e.searchHeaderSettings&&e.searchHeaderSettings.get("registers")){var t=e.column.get("attribute"),n=e.searchHeaderSettings.get("registers");return this.getFields(n).find(this.findField(t))}}},{key:"createControl",value:function(e){if(!e)return null;var t=m.Registry.findComponent("cs-web-components-base-FormControlWrapper"),n=this.props.searchHeaderSettings.get("displayMappingURL"),r=this.props.searchHeaderSettings.get("operationState"),o=e;o=o.setIn(["config","link_target_url"],""),o=o.set("multilang",null),o=o.set("label",null);var a=this.props.searchHeaderSettings.get("initialValues");return a=this.props.currValues?this.props.currValues:a,c.default.createElement("div",{className:(0,g.prefixNS)("search-header-field")},c.default.createElement(t,{setting:o,onFieldsChange:this.changeFields,formats:b,readOnly:!1,values:a,displayMappingURL:n,operationState:r,onKeyPress:this.handleKeyPressed}))}},{key:"render",value:function(){var e=this.props.showControl?c.default.createElement("div",{className:(0,g.prefixNS)("search-header-field")},c.default.createElement("div",{className:(0,g.prefixNS)("search-header-field-empty")})):null;if(this.props.column){return this.state.field&&this.props.showControl?this.createControl(this.state.field):e}return null}}]),t}(c.default.Component);v.defaultProps={showControl:!1},v.propTypes={readOnly:d.PropTypes.bool,values:d.PropTypes.instanceOf(f.default.Map),currValues:d.PropTypes.instanceOf(f.default.Map),columns:d.ImmutablePropTypes.list,columnActions:d.ImmutablePropTypes.list,visibleColumns:d.ImmutablePropTypes.orderedSet,showControl:d.PropTypes.bool,column:d.ImmutablePropTypes.map,searchHeaderSettings:d.PropTypes.object},t.default=(0,y.default)(s)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){return a(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e))}return s(n,t),l(n,[{key:"componentWillMount",value:function(){this.props.setInitURL(this.props.initURL),this.props.setInitValues(this.props.initValues),this.props.setOnSearchHeaderSubmit(this.props.onSearchHeaderSubmit),this.props.setTableUserSettings("showColumnSearch")}},{key:"componentWillReceiveProps",value:function(e){this.props.initURL!==e.initURL&&this.props.setInitURL(e.initURL),this.initValues!==e.initValues&&this.props.setInitValues(e.initValues),this.props.onSearchHeaderSubmit!==e.onSearchHeaderSubmit&&this.props.setOnSearchHeaderSubmit(e.onSearchHeaderSubmit)}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.initURL,delete t.initValues,delete t.onSearchHeaderSubmit,delete t.setInitURL,delete t.setInitValues,delete t.setOnSearchHeaderSubmit,delete t.setTableUserSettings,c.default.createElement(e,t)}}]),n}(c.default.Component);return t.propTypes={initURL:d.PropTypes.string.isRequired,initValues:d.PropTypes.instanceOf(f.default.Map),onSearchHeaderSubmit:d.PropTypes.func,setInitURL:d.PropTypes.func,setInitValues:d.PropTypes.func,setOnSearchHeaderSubmit:d.PropTypes.func,setTableUserSettings:d.PropTypes.func},(0,g.default)(null,{setInitURL:h.setInitURL,setInitValues:h.setInitValues,setOnSearchHeaderSubmit:h.setOnSearchHeaderSubmit,setTableUserSettings:y.setTableUserSettings})(t)};var u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(95),y=n(12),m=n(9),g=r(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){return e.find(function(e){return e.get("id")===t})}function c(e,t,n){return e?e.flatMap(function(e){var r=u(t,e.get("id")),o=g.default.List();if(r){o=o.push(r);var a=n.get(r.get("id"));a&&a.get("expanded")&&(o=o.concat(c(e.get("children"),t,n)))}return o}):g.default.List()}Object.defineProperty(t,"__esModule",{value:!0});var p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},f=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){i(this,n);var t=s(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={rows:e.rows},t.sort=t.sort.bind(t),t.filter=t.filter.bind(t),t.setFiltered=t.setFiltered.bind(t),t}return l(n,t),f(n,[{key:"componentWillMount",value:function(){this.props.setTreeNodes(this.props.treeNodes),this.props.addSortFunction(this.sort),this.props.addFilterFunction(this.filter),this.addTreeColumn(this.props),this.createTreeRows(this.props),this.pinTreeColumn(this.props.treeViewOff),this.props.expandTreeLevel(this.props.initTreeExpandLevel),this.props.setTableUserSettings("treeViewOff")}},{key:"componentWillUnmount",value:function(){this.props.removeSortFunction(this.sort),this.props.removeFilterFunction(this.filter),this.pinTreeColumn(!1)}},{key:"addTreeColumn",value:function(e){(0,e.addColumnRenderer)(e.treeColumnID,v.default)}},{key:"pinTreeColumn",value:function(e){var t=this.props,n=t.treeColumnID,r=t.addUnhidableColumns,o=t.removeUnhidableColumns;e?o(g.default.Set([n])):r(g.default.Set([n]))}},{key:"createTreeRows",value:function(e){var t=e.rows,n=e.treeNodes,r=e.treeViewOff,o=e.treeViewState,a=t;r||void 0===n||(a=c(n,t,o)),this.setState({rows:a})}},{key:"sort",value:function(e,t,n){var r=n.columnIndex,o=n.desc,a=n.cmp,i=this.props,s=i.treeNodes,l=i.treeViewState;return i.treeViewOff?t:(0,P.sortTree)(s,l,e,t,{columnIndex:r,desc:o,cmp:a})}},{key:"filter",value:function(e,t){var n=this.props,r=n.treeNodes,o=n.treeViewState,a=n.treeViewOff,i=n.expandTreeNodes,s=n.collapseTreeNodes,l=n.filterOutNodes;if(a)return e;var u=(0,P.filterTree)(r,o,e,t),c=u.parents,p=u.collapsed,f=u.original,d=u.rows;return i&&c.count()>0&&i(c),s&&p.count()>0&&s(p),l&&l(p.subtract(f)),this.setFiltered(this.props,f),d}},{key:"setFiltered",value:function(e,t){var n=e.setRowClassName;n&&n((0,R.prefixNS)("table-treeview-filtered-row"),t)}},{key:"componentWillReceiveProps",value:function(e){e.treeNodes!==this.props.treeNodes&&e.setTreeNodes(e.treeNodes),e.treeViewOff!==this.props.treeViewOff&&(e.onToggleTreeView&&e.onToggleTreeView(!e.treeViewOff),this.pinTreeColumn(e.treeViewOff)),e.rows===this.props.rows&&e.treeViewState===this.props.treeViewState&&e.treeViewOff===this.props.treeViewOff||this.createTreeRows(e),e.filter===this.props.filter||e.filter||(this.setFiltered(e,g.default.List()),e.filterOutNodes&&e.filterOutNodes(g.default.Set())),e.groupingTreeView&&!this.props.groupingTreeView&&e.addNotification(null,(0,j.formatStr)("table_grouped_by"),(0,j.formatStr)("table_treeview_grouping_msg"),"info",3,null,I.notificationTimeout),e.initTreeExpandLevel!==this.props.initTreeExpandLevel&&e.expandTreeLevel(e.initTreeExpandLevel)}},{key:"render",value:function(){var t=this.props,n=t.className,r=t.filter,i=a(t,["className","filter"]);delete i.setTreeNodes,delete i.expandTreeNodes,delete i.collapseTreeNodes,delete i.rows,delete i.treeColumnID,delete i.treeNodes,delete i.treeViewState,delete i.treeViewOff,delete i.addColumnRenderer,delete i.setRowClassName,delete i.onToggleTreeView,delete i.addSortFunction,delete i.removeSortFunction,delete i.addFilterFunction,delete i.removeFilterFunction,delete i.addNotification,delete i.groupingTreeView,delete i.addUnhidableColumns,delete i.removeUnhidableColumns,delete i.filterOutNodes,delete i.expandTreeLevel,delete i.initTreeExpandLevel,delete i.setTableUserSettings;var s=(0,y.classNames)(n,o({},(0,R.prefixNS)("table-treeview-filtered"),Boolean(r)));return h.default.createElement(e,p({},i,{className:s,rows:this.state.rows}))}}]),n}(h.default.Component);t.propTypes={rows:y.ImmutablePropTypes.list,treeColumnID:y.PropTypes.string.isRequired,treeNodes:y.ImmutablePropTypes.list,treeViewState:y.ImmutablePropTypes.map,treeViewOff:y.PropTypes.bool,setTreeNodes:y.PropTypes.func,expandTreeNodes:y.PropTypes.func,collapseTreeNodes:y.PropTypes.func,addColumnRenderer:y.PropTypes.func,setRowClassName:y.PropTypes.func,onToggleTreeView:y.PropTypes.func,addSortFunction:y.PropTypes.func,removeSortFunction:y.PropTypes.func,addFilterFunction:y.PropTypes.func,removeFilterFunction:y.PropTypes.func,addNotification:y.PropTypes.func,addUnhidableColumns:y.PropTypes.func,removeUnhidableColumns:y.PropTypes.func,groupingTreeView:y.PropTypes.bool,filter:y.PropTypes.string,className:y.PropTypes.string,filterOutNodes:y.PropTypes.func,expandTreeLevel:y.PropTypes.func,initTreeExpandLevel:y.PropTypes.number,setTableUserSettings:y.PropTypes.func},t.defaultProps={initTreeExpandLevel:0};var n=function(e){return{treeViewState:e.treeViewState,treeViewOff:(0,P.isTreeViewOff)(e),groupingTreeView:(0,P.isGrouped)(e)&&!e.treeViewOff,filter:(0,w.getFilter)(e)}};return(0,S.default)(n,{setTreeNodes:T.setTreeNodes,addColumnRenderer:O.addColumnRenderer,setRowClassName:O.setRowClassName,expandTreeNodes:T.expandTreeNodes,collapseTreeNodes:T.collapseTreeNodes,addUnhidableColumns:O.addUnhidableColumns,removeUnhidableColumns:O.removeUnhidableColumns,addSortFunction:E.addSortFunction,removeSortFunction:E.removeSortFunction,addFilterFunction:C.addFilterFunction,removeFilterFunction:C.removeFilterFunction,filterOutNodes:T.filterOutNodes,expandTreeLevel:T.expandTreeLevel,setTableUserSettings:O.setTableUserSettings})((0,y.connect)(null,{addNotification:N.addNotification})(t))};var d=n(0),h=r(d),y=n(1),m=n(3),g=r(m),b=n(305),v=r(b),_=n(9),S=r(_),O=n(12),T=n(74),E=n(55),C=n(57),w=n(92),P=n(129),N=n(19),I=n(21),R=n(2),j=n(4)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(1),h=n(2),y=n(11),m=r(y),g=n(26),b=r(g),v=n(9),_=r(v),S=n(74),O=n(129),T=n(72),E=r(T),C=n(91),w=r(C),P=function(e){function t(){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.expanded,n=e.filteredOut,r=a(e,["expanded","filteredOut"]),i=t?E.default:w.default,s=(0,d.classNames)((0,h.prefixNS)("table-treeview-expand-button"),o({},(0,h.prefixNS)("table-treeview-unexpandable"),n));return n&&delete r.onClick,f.default.createElement(m.default,u({},r,{className:s,src:i,size:"sm"}))}}]),t}(f.default.PureComponent);P.propTypes={expanded:d.PropTypes.bool,filteredOut:d.PropTypes.bool};var N=f.default.createElement(b.default,{src:b.default.BLANK_ICON_SRC,size:"sm"}),I=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleTreeNode=n.toggleTreeNode.bind(n),n}return l(t,e),c(t,[{key:"toggleTreeNode",value:function(e){var t=this.props,n=t.row,r=t.toggleTreeNode;n&&r&&r(n.get("id")),e.preventDefault(),e.stopPropagation()}},{key:"render",value:function(){var e=this.props,t=e.row,n=e.treeviewState,r=e.treeViewOff,o=n.get(t.get("id")),a=o?o.get("level"):0,i=r?void 0:{paddingLeft:.75*a+"em"},s=!!o&&o.get("expanded"),l=o&&o.get("filteredOut",!1),u=o&&(o.get("hasChild")||o.get("children")&&o.get("children").count()>0);return f.default.createElement("div",{className:(0,h.prefixNS)("table-treeview-column-renderer"),style:i},r?null:u?f.default.createElement(P,{filteredOut:l,expanded:s,onClick:this.toggleTreeNode}):N,this.props.children)}}]),t}(f.default.Component);I.propTypes={row:d.ImmutablePropTypes.map,treeviewState:d.ImmutablePropTypes.map,treeViewOff:d.PropTypes.bool,toggleTreeNode:d.PropTypes.func};var R=function(e){return{treeviewState:e.treeViewState,treeViewOff:(0,O.isTreeViewOff)(e)}};t.default=(0,_.default)(R,{toggleTreeNode:S.toggleTreeNode})(I)},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.default.OrderedSet(),n=c.default.Map();return e?(e.forEach(function(e){var o=e.get("id"),a=e.get("children"),i=t.count()>0?t.last():void 0,s=t.count();n=n.set(o,e.set("parents",t).set("parent",i).set("level",s).set("children",a?a.map(function(e){return e.get("id")}):void 0)).merge(r(e.get("children"),t.add(o)))}),n):n}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.default.Map(),t=arguments[1];switch(t.type){case s.SET_TREE_NODES:return void 0===t.payload?c.default.Map():r(t.payload);case s.TOGGLE_TREE_NODE:var n=e.get(t.payload);return void 0===n?e:e.set(t.payload,n.set("expanded",!n.get("expanded",!1)));case s.EXPAND_TREE_NODES:return t.payload?e.withMutations(function(e){t.payload.forEach(function(t){var n=e.get(t);n&&e.set(t,n.set("expanded",!0))})}):e;case s.COLLAPSE_TREE_NODES:return t.payload?e.withMutations(function(e){t.payload.forEach(function(t){var n=e.get(t);n&&e.set(t,n.set("expanded",!1))})}):e;case s.FILTER_OUT_NODES:return t.payload?e.map(function(e){return t.payload.contains(e.get("id"))?e.set("filteredOut",!0):e.delete("filteredOut")}):e;case s.EXPAND_TREE_LEVEL:return void 0===t.payload?e:e.merge(e.filter(function(e){return void 0!==e.get("children")&&e.get("children").count()>0}).map(function(e){return e.set("expanded",e.get("level")<t.payload)}));default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments[1];switch(t.type){case s.TOGGLE_TREE_VIEW:return!e;case l.SET_TABLE_SETTINGS_FETCHED:return void 0!==t.payload.get("treeViewOff")?t.payload.get("treeViewOff"):e;default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1];switch(t.type){case s.EXPAND_TREE_LEVEL:return t.payload;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.treeViewState=o,t.treeViewOff=a,t.treeViewExpandLevel=i;var s=n(74),l=n(12),u=n(3),c=function(e){return e&&e.__esModule?e:{default:e}}(u);t.default={treeViewState:o,treeViewOff:a,treeViewExpandLevel:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollapseButton=t.Collapse=t.ExpandButton=t.Expand=t.ToggleButton=t.Toggle=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(8),f=r(p),d=n(4),h=n(2),y=n(74),m=n(129),g=n(9),b=r(g),v=n(130),_=t.Toggle=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.treeViewOff,n=e.toggleTreeView,r=t?"csweb_table_treeview_on":"csweb_table_treeview_off",o=t?"table_treeview_on":"table_treeview_off";return u.default.createElement(f.default.IconButton,{title:(0,d.formatStr)(o),key:(0,h.prefixNS)("table-treeview-toggle"),onClick:n,iconName:r,buttonStyle:"primary"})}}]),t}(u.default.PureComponent);_.propTypes={treeViewOff:c.PropTypes.bool,toggleTreeView:c.PropTypes.func};var S=(t.ToggleButton=(0,b.default)(function(e){return{treeViewOff:(0,m.isTreeViewOff)(e)}},{toggleTreeView:y.toggleTreeView})(_),t.Expand=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showDialog:!1},n.onExpand=n.onExpand.bind(n),n.showDialog=n.showDialog.bind(n),n.hideDialog=n.hideDialog.bind(n),n}return i(t,e),s(t,[{key:"showDialog",value:function(){this.setState({showDialog:!0})}},{key:"hideDialog",value:function(){this.setState({showDialog:!1})}},{key:"onExpand",value:function(e){this.setState({showDialog:!1}),this.props.expandTreeLevel(e)}},{key:"render",value:function(){var e=this.props,t=e.treeViewExpandLevel,n=e.treeViewOff;return u.default.createElement("div",null,u.default.createElement(f.default.IconButton,{disabled:n,title:(0,d.formatStr)("tree_expand_menu"),key:(0,h.prefixNS)("table-treeview-expand"),onClick:this.showDialog,iconName:"csweb_table_treeview_expand",buttonStyle:"primary"}),this.state.showDialog?u.default.createElement(v.TreeExpandDialog,{onCancel:this.hideDialog,onExpand:this.onExpand,expandLevels:t}):null)}}]),t}(u.default.Component));S.propTypes={treeViewExpandLevel:c.PropTypes.number,treeViewOff:c.PropTypes.bool,expandTreeLevel:c.PropTypes.func};var O=(t.ExpandButton=(0,b.default)(function(e){return{treeViewExpandLevel:e.treeViewExpandLevel,treeViewOff:(0,m.isTreeViewOff)(e)}},{expandTreeLevel:y.expandTreeLevel})(S),t.Collapse=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onCollapse=n.onCollapse.bind(n),n}return i(t,e),s(t,[{key:"onCollapse",value:function(){this.props.expandTreeLevel(0)}},{key:"render",value:function(){var e=this.props.treeViewOff;return u.default.createElement("div",null,u.default.createElement(f.default.IconButton,{disabled:e,title:(0,d.formatStr)("tree_collapse_menu"),key:(0,h.prefixNS)("table-treeview-collapse"),onClick:this.onCollapse,iconName:"csweb_collapse",buttonStyle:"primary"}))}}]),t}(u.default.Component));O.propTypes={treeViewOff:c.PropTypes.bool,expandTreeLevel:c.PropTypes.func};t.CollapseButton=(0,b.default)(function(e){return{treeViewOff:(0,m.isTreeViewOff)(e)}},{expandTreeLevel:y.expandTreeLevel})(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"";return e.filter(function(e){return e.get("columns").get(n)===r}).map(function(r){return y.default.Map({id:r.get("id"),children:l(e,t,n,r.get("columns").get(t))})})}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={treeNodes:y.default.List()},t}return s(n,t),c(n,[{key:"componentWillMount",value:function(){this.updateNodes(this.props)}},{key:"updateNodes",value:function(e){var t=e.rows,n=e.treeParentColumnID,r=e.treeIDColumnID,o=e.columns,a=y.default.List();if(r&&n){var i=o.findIndex(function(e){return e.get("id")===r}),s=o.findIndex(function(e){return e.get("id")===n});i>-1&&s>-1&&(a=l(t,i,s))}this.setState({treeNodes:a})}},{key:"componentWillReceiveProps",value:function(e){e.rows===this.props.rows&&e.columns===this.props.columns&&e.treeParentColumnID===this.props.treeParentColumnID&&e.treeIDColumnID===this.props.treeIDColumnID||this.updateNodes(e)}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.columns,delete t.treeParentColumnID,delete t.treeIDColumnID,f.default.createElement(e,u({},t,{treeNodes:this.state.treeNodes}))}}]),n}(f.default.Component);t.propTypes={rows:d.ImmutablePropTypes.list,columns:d.ImmutablePropTypes.list,treeParentColumnID:d.PropTypes.string.isRequired,treeIDColumnID:d.PropTypes.string.isRequired};var n=function(e){return{columns:e.columns}};return(0,g.default)(n,{})(t)};var p=n(0),f=r(p),d=n(1),h=n(3),y=r(h),m=n(9),g=r(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.FixerSettingPanel=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(12),d=n(4),h=n(9),y=r(h),m=n(44),g=r(m),b=n(96),v=r(b),_=t.FixerSettingPanel=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fixedColumns:e.fixedColumns},n.setFixedColumns=n.setFixedColumns.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.registerPanel(this),this.props.setTableUserSettings("fixedColumns")}},{key:"componentWillReceiveProps",value:function(e){this.props.fixedColumns!==e.fixedColumns&&this.setState({fixedColumns:e.fixedColumns})}},{key:"dispatchSettings",value:function(){this.props.fixedColumns!==this.state.fixedColumns&&this.props.setFixedColumns(this.state.fixedColumns)}},{key:"resetSettings",value:function(){this.setState({fixedColumns:this.props.fixedColumns})}},{key:"setFixedColumns",value:function(e){this.setState({fixedColumns:e})}},{key:"render",value:function(){return u.default.createElement("div",null,u.default.createElement(g.default,{helpId:"user_web_components_table_hide_columns"}),u.default.createElement(v.default,{name:(0,p.prefixNS)("table-fixed-columns"),label:(0,d.formatStr)("table_fixed_columns"),decimalPlaces:0,minValue:0,maxValue:100,value:this.state.fixedColumns,onValueChange:this.setFixedColumns}))}}]),t}(u.default.Component);_.propTypes={fixedColumns:c.PropTypes.number,setFixedColumns:c.PropTypes.func,setTableUserSettings:c.PropTypes.func,registerPanel:c.PropTypes.func};var S=function(e){return{fixedColumns:e.fixedColumns}},O=(0,y.default)(S,{setFixedColumns:f.setFixedColumns,setTableUserSettings:f.setTableUserSettings})(_);O.settingsTitle=function(){return(0,d.formatStr)("table_settings_title_column_fixer")},t.default=O},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(183),a=r(o),i=n(311),s=r(i);t.default={actions:a.default,ToolbarButton:s.default,toolbarButtons:[s.default]}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(6),f=n(2),d=n(4),h=n(26),y=r(h),m=n(183),g=n(9),b=r(g),v=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(p.Button,{className:(0,f.prefixNS)("table-toolbar-store-settings-button"),onClick:this.props.storeSettings,title:(0,d.formatStr)("table_store_settings")},u.default.createElement(y.default,{name:"csweb_table_store_settings",size:"sm"}))}}]),t}(u.default.Component);v.propTypes={storeSettings:c.PropTypes.func},t.default=(0,b.default)(null,{storeSettings:m.storeSettings})(v)},function(e,t,n){"use strict";function r(e){var t=e.get("uiLink");void 0!==t&&(window.location=t)}function o(e,t){if(e&&t&&e[0]&&t[0]){var n=e[0].getIn(["normalized",0]),r=t[0].getIn(["normalized",0]);return n===r?0:n<r?-1:1}return e&&e[0]?1:t&&t[0]?-1:0}function a(e){var t="";return e&&"0"!==e&&(t="✔"),t}function i(e,t){var n=t.toIndexedSeq();return e.filter(function(e){return t.includes(e.get("persistent_id"))}).sort(function(e,t){return n.indexOf(e.get("persistent_id"))-n.indexOf(t.get("persistent_id"))}).map(function(e){return e.get("id")})}Object.defineProperty(t,"__esModule",{value:!0}),t.wrapTableConfig=t.getLink=void 0,t.rowLinkAction=r,t.cmpPhysQuant=o,t.getCheckBoxText=a,t.translateSelection=i;var s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(18),c=n(2),p=n(4),f=l.default.List(),d=l.default.OrderedSet(),h=l.default.List(),y=t.getLink=function(e,t,n){if(n.get("isLink")){var r=n.get("linkParam"),o=t.get("webuiLink"),a=t.get("uiLink");if(void 0!==o&&r)return""+o+r;if(void 0!==a)return""+a+r}else if(e){if(n.get("isURL"))return""+e;if(n.get("isEmail"))return"mailto:"+e}return null};t.wrapTableConfig=function(e,t){var n=[];return{columns:void 0===t?f:t.get("columns").map(function(e){var t=e.getIn(["width","value"]),r=e.getIn(["width","unit"]),i=t?""+t+r:u.DEFAULT_COLUMN_WIDTH;e.get("kind")>=0&&n.push(e.get("id"));var s=e.set("width",i);return(e.get("isLink")||e.get("isURL")||e.get("isEmail"))&&(s=s.set("getLink",y)),e.get("content_type")===u.DATA_TYPES.PQ?s=s.set("getFormattedValue",c.getPhysQuantText).set("sortFunction",o):e.get("displayType")===u.DISPLAY_TYPES.CHECKBOX&&(s=s.set("getFormattedValue",a)),e.get("content_type")===u.DATA_TYPES.DATE?s=s.set("getFormattedValue",c.timeToDisplayFormat):e.get("content_type")===u.DATA_TYPES.FLOAT?s=s.set("getFormattedValue",c.floatToDisplayFormat):e.get("content_type")===u.DATA_TYPES.INTEGER&&(s=s.set("getFormattedValue",c.intToDisplayFormat)),""===e.get("label")&&(s=s.set("label",e.get("tooltip")||(0,p.formatStr)("tabdef_no_description",{attribute:e.get("attribute")})),s=s.set("hide_label",!0)),s}),orderedColumns:n?l.default.OrderedSet(n):d,rows:(void 0===e?h:e).map(function(e){return e.has("persistent_id")?e.set("id",e.get("persistent_id")).delete("persistent_id"):e})}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName;return{isSearchRunning:(0,h.isSearchRunning)(e,n),isClassSearch:(0,h.isClassSearch)(e,n),searchValues:(0,h.getSearchValues)(e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(4),d=n(22),h=n(40),y=n(8),m=r(y),g=n(34),b=r(g),v=n(314),_=r(v),S=n(317),O=r(S),T=n(318),E=r(T),C=n(186),w=r(C),P=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={showSearchDialog:!1},n}return i(t,e),l(t,[{key:"openSearchDialog",value:function(){this.setState({showSearchDialog:!0})}},{key:"closeSearchDialog",value:function(){this.setState({showSearchDialog:!1})}},{key:"closeAndSaveSearchDialog",value:function(e){var t=this.props,n=t.instanceName,r=t.setSearchFieldsFromDialog;this.setState({showSearchDialog:!1}),r(n,e)}},{key:"renderSearchDialog",value:function(){var e=this;if(!this.state.showSearchDialog)return null;var t=this.props,n=t.instanceName,r=t.searchValues;return c.default.createElement(O.default,{instanceName:n,searchValues:r,onSave:function(t){return e.closeAndSaveSearchDialog(t)},onCancel:function(){return e.closeSearchDialog()}})}},{key:"render",value:function(){var e=this,t=this.props,n=t.instanceName,r=t.isSearchRunning,o=t.isClassSearch,a=t.resetSearch;return c.default.createElement(b.default,null,this.renderSearchDialog(),o?c.default.createElement(m.default.IconButton,{disabled:r,title:(0,f.formatStr)("form_name"),onClick:function(){e.openSearchDialog()},iconSrc:w.default,buttonStyle:"primary"}):null,c.default.createElement(m.default.IconButton,{disabled:r,title:(0,f.formatStr)("reset_search"),onClick:function(){return a(n)},iconSrc:E.default,buttonStyle:"warning"}),o?c.default.createElement(_.default,{instanceName:n}):null)}}]),t}(c.default.Component);P.propTypes={instanceName:p.PropTypes.string.isRequired,isSearchRunning:p.PropTypes.bool.isRequired,isClassSearch:p.PropTypes.bool.isRequired,searchValues:p.ImmutablePropTypes.map,resetSearch:p.PropTypes.func.isRequired,setSearchFieldsFromDialog:p.PropTypes.func.isRequired};var N={resetSearch:d.resetSearch,setSearchFieldsFromDialog:d.setSearchFieldsFromDialog};t.default=(0,p.connect)(s,N)(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName,r=e.search.instances.get(n),o=r.get("classname"),a=e.search.favouritesByClass.getIn([o,"favourites"]),i=a.get(r.get("favouriteId"));return{searchRunning:r.get("searchRunning"),rootClassname:o,favourites:a,currentFavourite:i}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(4),d=n(20),h=r(d),y=n(134),m=n(22),g=n(315),b=r(g),v=n(316),_=r(v),S=n(185),O=r(S),T=h.default.DropdownIconButton,E=h.default.MenuItem,C=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={editFavouritesIsActive:!1,storeFavouriteAsIsActive:!1},n.editFavouritesDone=n.editFavouritesDone.bind(n),n.handeSelectFavourite=n.handeSelectFavourite.bind(n),n.handeStoreFavourite=n.handeStoreFavourite.bind(n),n}return i(t,e),l(t,[{key:"editFavouritesDone",value:function(e){var t=this.props,n=t.editedSearchFavourites,r=t.rootClassname,o=t.favourites;this.setState({editFavouritesIsActive:!1}),n(r,o,e)}},{key:"handeSelectFavourite",value:function(e){if(void 0!==e){var t=this.props,n=t.instanceName,r=t.rootClassname;(0,t.selectFavourite)(n,r,e)}}},{key:"handeStoreFavourite",value:function(){var e=this.props,t=e.instanceName;(0,e.storeSearchFavourite)(t)}},{key:"renderStoreAsFavouriteDialog",value:function(){var e=this,t=this.props.instanceName;return this.state.storeFavouriteAsIsActive?c.default.createElement(_.default,{key:"store",instanceName:t,closeDialog:function(){return e.setState({storeFavouriteAsIsActive:!1})}}):null}},{key:"renderEditFavouritesDialog",value:function(){var e=this;return this.state.editFavouritesIsActive?c.default.createElement(b.default,{key:"edit",rootClassname:this.props.rootClassname,searchFavourites:this.props.favourites,onStore:this.editFavouritesDone,onCancel:function(){return e.setState({editFavouritesIsActive:!1})}}):null}},{key:"render",value:function(){var e=this,t=this.props,n=t.instanceName,r=t.favourites,o=t.currentFavourite,a=t.searchRunning;return[c.default.createElement(T,{noCaret:!0,pullRight:!0,key:"menu",id:n,disabled:a,title:(0,f.formatStr)("extended_search_favorites"),iconSrc:O.default,buttonStyle:"info",onSelect:this.handeSelectFavourite},c.default.createElement(E,{onSelect:function(){return e.setState({storeFavouriteAsIsActive:!0})}},(0,f.formatStr)("store_as_search_favourite_dlg")),c.default.createElement(E,{disabled:void 0===o,onSelect:this.handeStoreFavourite},(0,f.formatStr)("store_search_favourite")),c.default.createElement(E,{divider:!0}),c.default.createElement(E,{onSelect:function(){return e.setState({editFavouritesIsActive:!0})}},(0,f.formatStr)("edit_search_favourites")),c.default.createElement(E,{divider:!0}),c.default.createElement(E,{header:!0},(0,f.formatStr)("select_search_favourite")),r.filter(function(e){return void 0===e.get("resultLink")}).map(function(e,t){return c.default.createElement(E,{key:t,eventKey:t,active:o&&t===o.get("cdb_object_id")},e.get("name"))}).toArray()),this.renderStoreAsFavouriteDialog(),this.renderEditFavouritesDialog()]}}]),t}(c.default.Component);C.propTypes={instanceName:p.PropTypes.string.isRequired,searchRunning:p.PropTypes.bool.isRequired,rootClassname:p.PropTypes.string.isRequired,favourites:p.ImmutablePropTypes.orderedMap.isRequired,currentFavourite:p.ImmutablePropTypes.map,selectFavourite:p.PropTypes.func.isRequired,storeSearchFavourite:p.PropTypes.func.isRequired,editedSearchFavourites:p.PropTypes.func.isRequired};var w={selectFavourite:m.selectFavourite,storeSearchFavourite:m.storeSearchFavourite,editedSearchFavourites:y.editedSearchFavourites};t.default=(0,p.connect)(s,w)(C)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(6),f=n(16),d=r(f),h=n(8),y=r(h),m=n(4),g=n(2),b=n(26),v=r(b),_=n(15),S=r(_),O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchFavourites:e.searchFavourites.toList(),editingNameIndex:null,editingNameValue:""},n.onChangeName=n.onChangeName.bind(n),n.onEditNameOk=n.onEditNameOk.bind(n),n.doStore=n.doStore.bind(n),n}return i(t,e),s(t,[{key:"onDelete",value:function(e){var t=this.state.searchFavourites,n=t.remove(e);this.setState({searchFavourites:n})}},{key:"onEditName",value:function(e,t){this.setState({editingNameIndex:t,editingNameValue:e.get("name")})}},{key:"onEditNameOk",value:function(){var e=this.state,t=e.searchFavourites,n=e.editingNameIndex,r=e.editingNameValue,o=t.get(n).set("name",r);this.setState({searchFavourites:t.set(n,o),editingNameIndex:null,editingNameValue:""})}},{key:"onChangeName",value:function(e){this.setState({editingNameValue:e.target.value})}},{key:"renderName",value:function(e,t){var n=this.state,r=n.editingNameIndex,o=n.editingNameValue;return t!==r?e.get("name"):u.default.createElement(S.default,{compact:!0,value:o,onChange:this.onChangeName,name:"classview_search_favorite_name"})}},{key:"renderEditButtons",value:function(){var e=this;return u.default.createElement("div",{className:(0,g.prefixNS)("edit-search-favourites__button_div")},u.default.createElement("span",{"data-ce-id":"OKButton"},u.default.createElement(y.default.IconButton,{onClick:this.onEditNameOk,title:(0,m.formatStr)("ok"),buttonStyle:"success",iconName:"csweb_check",key:"classview_search_favorite_ok"})),u.default.createElement("span",{"data-ce-id":"CancelButton"},u.default.createElement(y.default.IconButton,{onClick:function(){return e.setState({editingNameIndex:null})},title:(0,m.formatStr)("cancel"),buttonStyle:"danger",iconName:"csweb_cancel",key:"classview_search_favorite_cancel"})))}},{key:"getManipulators",value:function(e,t){var n=this,r=u.default.createElement(y.default.IconButton,{iconName:"csweb_edit",size:"xs",buttonStyle:"success",className:"icon",onClick:function(){return n.onEditName(e,t)}}),o=u.default.createElement(y.default.IconButton,{iconName:"csweb_trash",size:"xs",buttonStyle:"danger",className:"icon",onClick:function(){return n.onDelete(t)}});return u.default.createElement("div",{className:(0,c.classNames)("text-muted",(0,g.prefixNS)("edit-search-favourites__button_div"))},u.default.createElement("span",{"data-ce-id":"EditButton"},r),u.default.createElement("span",{"data-ce-id":"DeleteButton"},o))}},{key:"renderTableRow",value:function(e,t){var n=this.state.editingNameIndex,r=e.get("readonly"),o=r?u.default.createElement(v.default,{title:(0,m.formatStr)("edit_search_favourites_locked"),size:"xs",name:"Lock"}):null;return u.default.createElement("tr",{key:e.get("cdb_object_id")},u.default.createElement("td",{className:(0,g.prefixNS)("edit-search-favourites__table__lock")},o),u.default.createElement("td",{className:(0,g.prefixNS)("edit-search-favourites__table__name")},this.renderName(e,t)),n===t?u.default.createElement("td",{className:(0,g.prefixNS)("edit-search-favourites__table__buttons")},this.renderEditButtons()):u.default.createElement("td",{className:(0,c.classNames)((0,g.prefixNS)("edit-search-favourites__table__buttons"),(0,g.prefixNS)("edit-search-favourites__table__manipulator"))},r||n?null:this.getManipulators(e,t)))}},{key:"renderTableBody",value:function(){var e=this,t=this.state.searchFavourites;return u.default.createElement("tbody",null,t.map(function(t,n){return e.renderTableRow(t,n)}).toArray())}},{key:"doStore",value:function(){this.props.onStore(this.state.searchFavourites)}},{key:"render",value:function(){var e=this.props.onCancel;return u.default.createElement(d.default.Dialog,{title:(0,m.formatStr)("edit_search_favourites"),buttons:[u.default.createElement(d.default.Buttons.Save,{key:"save",onClick:this.doStore}),u.default.createElement(d.default.Buttons.Cancel,{key:"cancel",onClick:e})],size:d.default.Dialog.SIZE_SMALL,onAction:this.doStore,onHide:e,show:!0},u.default.createElement(p.Table,{striped:!0,condensed:!0,className:(0,g.prefixNS)("edit-search-favourites__table")},this.renderTableBody()))}}]),t}(u.default.Component);t.default=O,O.propTypes={searchFavourites:c.ImmutablePropTypes.orderedMap.isRequired,rootClassname:c.PropTypes.string,onStore:c.PropTypes.func.isRequired,onCancel:c.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(4),d=n(16),h=r(d),y=n(22),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:""},n.handleEnter=n.handleEnter.bind(n),n.onChangeName=n.onChangeName.bind(n),n.doStore=n.doStore.bind(n),n}return i(t,e),s(t,[{key:"handleEnter",value:function(e){13===e.keyCode&&this.doStore()}},{key:"onChangeName",value:function(e){this.setState({name:e.target.value})}},{key:"doStore",value:function(){var e=this.props,t=e.instanceName;(0,e.storeAsSearchFavourite)(t,this.state.name),this.props.closeDialog()}},{key:"render",value:function(){var e=this.state.name,t=this.props.closeDialog;return u.default.createElement(h.default.Dialog,{title:(0,f.formatStr)("store_as_search_favourite_dlg"),buttons:[u.default.createElement(h.default.Buttons.Save,{key:"save",onClick:this.doStore}),u.default.createElement(h.default.Buttons.Cancel,{key:"cancel",onClick:t})],onAction:this.doStore,onHide:t,size:h.default.Dialog.SIZE_SMALL,show:!0},u.default.createElement(c.FormGroup,{controlId:"favourite_input_name"},u.default.createElement(c.ControlLabel,null,(0,f.formatStr)("store_search_favourite_name")),u.default.createElement(c.FormControl,{type:"text",value:e,id:"modal_input",autoFocus:!0,onChange:this.onChangeName,onKeyUp:this.handleEnter})))}}]),t}(u.default.Component);m.propTypes={instanceName:p.PropTypes.string.isRequired,storeAsSearchFavourite:p.PropTypes.func.isRequired,closeDialog:p.PropTypes.func.isRequired},t.default=(0,p.connect)(null,{storeAsSearchFavourite:y.storeAsSearchFavourite})(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName;return{formURL:(0,O.getFormUrl)(e,n),opData:(0,O.getOpData)(e,n)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),p=n(0),f=r(p),d=n(1),h=n(4),y=n(2),m=n(16),g=r(m),b=n(8),v=n(35),_=n(152),S=r(_),O=n(40),T=(0,y.getAppSetup)().get("formats"),E=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={searchValues:e.opData.get("values").merge(e.searchValues),uncheckedValues:c.default.Set()},n.changeFields=n.changeFields.bind(n),n.saveValues=n.saveValues.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.instanceName;(0,e.initOperationInstance)(t)}},{key:"componentWillUnmount",value:function(){var e=this.props,t=e.instanceName;(0,e.clearOperationInstance)(t)}},{key:"changeFields",value:function(e){this.setState(function(t){return{searchValues:t.searchValues.merge(e)}})}},{key:"saveValues",value:function(){this.props.onSave(this.state.searchValues)}},{key:"render",value:function(){var e=this,t=this.props,n=t.instanceName,r=t.opData,o=t.onCancel;return f.default.createElement("div",{onClick:function(e){return e.stopPropagation()}},f.default.createElement(g.default.Dialog,{title:(0,h.formatStr)("do_extended_search"),buttons:[f.default.createElement(b.TextButton,{key:"save",buttonStyle:"primary",label:(0,h.formatStr)("do_extended_search"),onClick:this.saveValues}),f.default.createElement(g.default.Buttons.Cancel,{key:"cancel",onClick:o})],size:g.default.Dialog.SIZE_MEDIUM,onAction:this.saveValues,onHide:o,showCancel:!0,show:!0},r.get("registers").map(function(t){return f.default.createElement(S.default,{key:t.get("label"),operationInstance:n,register:t,onFieldsChange:e.changeFields,onNavigateLink:e.navigateLink,values:e.state.searchValues,uncheckedValues:e.state.uncheckedValues,displayMappingURL:r.get("display_mapping_url"),operationState:r.get("operation_state"),formats:T})})))}}]),t}(f.default.Component);E.propTypes={instanceName:d.PropTypes.string.isRequired,searchValues:d.ImmutablePropTypes.map,onSave:d.PropTypes.func.isRequired,onCancel:d.PropTypes.func.isRequired,formURL:d.PropTypes.string,opData:d.ImmutablePropTypes.map.isRequired,initOperationInstance:d.PropTypes.func.isRequired,clearOperationInstance:d.PropTypes.func.isRequired};var C={initOperationInstance:v.initOperationInstance,clearOperationInstance:v.clearOperationInstance};t.default=(0,d.connect)(s,C)(E)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnVuZG88L2Npcy1uYW1lPg08Y2lzLXNlbWFudGljPnN1Y2Nlc3M8L2Npcy1zZW1hbnRpYz4NPHBhdGggZmlsbD0iI0FEQzkwMiIgZD0iTTIuMzksNy4zN2w1LjIzLTQuMjhDNy44MywyLjkyLDgsMyw4LDMuMjd2Mi42MmM0LjI5LDAuMjMsNS44NCwyLjkyLDYsNi4yOWMtMC45OC0yLjEyLTMuNTktMi45NC02LTN2Mi45MQ0JYzAsMC4yOC0wLjE3LDAuMzYtMC4zOSwwLjE4TDIuMzksOEMyLjE3LDcuODMsMi4xNyw3LjU0LDIuMzksNy4zN3oiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.searchRunning,n=e.runSearch,r=e.addSearchField,o=e.fields,a=e.searchValues,s=e.visibleAttributes,c=i.default.createElement(y.default,{src:g.default,className:(0,l.prefixNS)("class-search-area__fts-icon")});return i.default.createElement("div",{className:(0,l.prefixNS)("class-search-bar__controls")},i.default.createElement(d.default,{disabled:t,fields:o,searchValues:a,visibleAttributes:s,beforeControl:c,addSearchField:r}),i.default.createElement(p.default.TextButton,{buttonStyle:"primary",disabled:t,"data-ce-id":"submit-search",onClick:n,title:(0,u.formatStr)("do_extended_search")}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(4),c=n(8),p=r(c),f=n(320),d=r(f),h=n(11),y=r(h),m=n(83),g=r(m);o.propTypes={searchRunning:s.PropTypes.bool.isRequired,fields:s.ImmutablePropTypes.map,searchValues:s.ImmutablePropTypes.map,visibleAttributes:s.ImmutablePropTypes.set,addSearchField:s.PropTypes.func.isRequired,runSearch:s.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.inputString,n=e.item,r=t.toLowerCase(),o=(0,h.getStandaloneLabel)(n),a=n.get("additionalInformationHint",!1),i=a?n.get("attribute",""):"",s=o.toLowerCase().indexOf(r),l=s+r.length;return c.default.createElement("span",{className:(0,h.prefixNS)("formcontrols-withtypeahead-menu-item")},o.substring(0,s),c.default.createElement("b",null,o.substring(s,l)),o.substr(l),c.default.createElement("br",null),c.default.createElement("i",{className:"text-muted"},i))}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(3),f=r(p),d=n(1),h=n(2),y=n(4),m=n(15),g=r(m),b=n(87),v=r(b),_=n(17),S=(0,v.default)(g.default);s.propTypes={inputString:d.PropTypes.string.isRequired,item:d.ImmutablePropTypes.map.isRequired};var O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currInput:"",matchFields:f.default.List(),unusedFields:n.getUnusedFields(e)},n.onTextChanged=n.onTextChanged.bind(n),n.onSelectAt=n.onSelectAt.bind(n),n.onFocus=n.onFocus.bind(n),n.onEnter=n.onEnter.bind(n),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){this.props.visibleAttributes===e.visibleAttributes&&this.props.searchValues===e.searchValues&&this.props.fields===e.fields||this.setState({unusedFields:this.getUnusedFields(e)})}},{key:"getUnusedFields",value:function(e){var t=e.visibleAttributes,n=e.searchValues,r=e.fields;return t.remove(_.FTS_ATTRNAME).filterNot(function(e){return n.has(e)}).map(function(e){return r.get(e)}).sortBy(function(e){return e.get("label")}).toList()}},{key:"getMatchedFields",value:function(e){var t=this.state.unusedFields,n=t.filter(function(t){return(0,h.getStandaloneLabel)(t).toLowerCase().indexOf(e.toLowerCase())>=0});return n.map(function(e){return e.set("additionalInformationHint",n.filter(function(t){return(0,h.getStandaloneLabel)(t)===(0,h.getStandaloneLabel)(e)}).size>1)})}},{key:"onTextChanged",value:function(e){var t=this.props.addSearchField,n=this.state.unusedFields;if(e!==this.state.currInput){var r=n.filter(function(t){return(0,h.getStandaloneLabel)(t)===e});1===r.length?(this.setState({currInput:""}),t(r[0].get("attribute"))):this.setState({currInput:e,matchFields:this.getMatchedFields(e)})}}},{key:"onSelectAt",value:function(e){var t=this.props.addSearchField,n=this.state.matchFields.get(e);n&&(this.setState({currInput:""}),t(n.get("attribute")))}},{key:"onEnter",value:function(){1===this.state.matchFields.size&&this.onSelectAt(0)}},{key:"onFocus",value:function(){this.setState({matchFields:this.getMatchedFields(this.state.currInput)})}},{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.beforeControl,r=this.state.unusedFields;return c.default.createElement("div",{className:(0,h.prefixNS)("class-search-area__attribute-selector-div")},c.default.createElement(S,{className:(0,h.prefixNS)("class-search-area__attribute-selector"),value:this.state.currInput,matched:this.state.matchFields,onValueChange:this.onTextChanged,onEnter:this.onEnter,onSelectAt:this.onSelectAt,beforeControl:n,disabled:t||0===r.size,id:"search-attribute-select",placeholder:(0,y.formatStr)("extended_search_add_attr"),TypeAheadItemRenderer:s,name:"attribute_select",onFocus:this.onFocus,forceOpenMatchesOnFocus:!0}))}}]),t}(c.default.Component);t.default=O,O.propTypes={fields:d.ImmutablePropTypes.map,searchValues:d.ImmutablePropTypes.map,visibleAttributes:d.ImmutablePropTypes.set,addSearchField:d.PropTypes.func,disabled:d.PropTypes.bool,beforeControl:d.PropTypes.node}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(4),d=n(28),h=n(119),y=r(h),m=n(8),g=r(m),b=(0,p.getAppSetup)().get("formats"),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.doChangeFields=n.doChangeFields.bind(n),n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.focus,r=t.attr;n&&setTimeout(function(){var t=e.element.querySelector("input[name='"+r+"']");t&&t.focus()},100)}},{key:"doChangeFields",value:function(e){var t=this.props;(0,t.doChangeFields)(e,t.attr)}},{key:"render",value:function(){var e=this,t=this.props,n=t.attr,r=t.searchRunning,o=t.readOnlyAttributes,a=t.operationState,i=t.fields,s=t.searchValues,l=t.doRemoveSearchField,c=t.runSearch,h=t.displayMappingURL,m=t.opData,v=o.includes(n),_=i.get(n).removeIn(["config","link_target_url"]),S=m?m.get("values").merge(s):s,O=v?null:u.default.createElement(g.default.CloseButton,{className:(0,p.prefixNS)("class-search-area__remove_attribute"),title:(0,f.formatStr)("search_attribute_delete"),onClick:function(){l(_)}});return u.default.createElement("div",{key:n,className:(0,p.prefixNS)("class-search-area__attribute-line"),ref:function(t){e.element=t}},u.default.createElement(y.default,{setting:_,onFieldsChange:this.doChangeFields,values:S,onEnter:c,formats:b,calendarValueFormat:d.CE_DATEFORMAT,readOnly:r||v,operationState:a,displayMappingURL:h,afterLabelControl:O}))}}]),t}(u.default.Component);t.default=v,v.propTypes={attr:c.PropTypes.string.isRequired,focus:c.PropTypes.bool.isRequired,searchRunning:c.PropTypes.bool.isRequired,searchValues:c.ImmutablePropTypes.map,runSearch:c.PropTypes.func,fields:c.ImmutablePropTypes.map,operationState:c.ImmutablePropTypes.map,readOnlyAttributes:c.ImmutablePropTypes.set,opData:c.ImmutablePropTypes.map,doChangeFields:c.PropTypes.func.isRequired,doRemoveSearchField:c.PropTypes.func.isRequired,displayMappingURL:c.PropTypes.string}},function(e,t,n){"use strict";function r(e){return{type:o.ACTIONS.SET_CONTEXT,payload:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setSearchContext=r;var o=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(135),d=n(10),h=n(141),y=r(h),m=n(2),g=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.fetchNodeChildren=n.fetchNodeChildren.bind(n),n}return i(t,e),l(t,[{key:"fetchNodeChildren",value:function(e){var t=this;return(0,d.postJSON)(e.getIn(["content","expand_url"]),this.props.formData).then(function(n){t.createNodeChildren(e,{nodes:n})})}}]),t}(f.StructureBaseTree);g.propTypes=s({},f.StructureBaseTree.propTypes,{formData:p.PropTypes.object}),g.defaultProps=s({},f.StructureBaseTree.defaultProps,{TreeRenderer:y.default.DefaultRenderer});var b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=n.onSelect.bind(n),n.state={structureRoot:void 0},n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){var e=this;(0,d.postJSON)(this.props.structureRootURL,this.props.formData).then(function(t){e.setState({structureRoot:t[0]}),e.props.onPreviewEnable&&e.props.onPreviewEnable(!0)})}},{key:"onSelect",value:function(e){var t=e.selectedNode;this.props.onSelectionChanged(t?t.get("selectURL"):void 0);var n=t?t.get("restLink"):void 0;this.props.onSelect&&(n?this.props.onSelect(n):this.props.onSelect())}},{key:"render",value:function(){return c.default.createElement(g,{className:(0,m.prefixNS)("structure-catalog-tree"),treeRendererName:"SimpleTreeContainer.DefaultRenderer",title:this.state.structureRoot&&this.state.structureRoot.label,hideRoot:this.state.structureRoot&&void 0===this.state.structureRoot.selectURL,structureNode:this.state.structureRoot,formData:this.props.formData,onSelect:this.onSelect})}}]),t}(c.default.Component);t.default=b,b.propTypes={structureRootURL:p.PropTypes.string,formData:p.PropTypes.object,onSelectionChanged:p.PropTypes.func,onPreviewEnable:p.PropTypes.func,onSelect:p.PropTypes.func}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(){return JSON.parse((0,d.getAppSetup)().getIn(["appSettings","applicationMenuItems"]))}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(29),y=r(h),m=n(31),g=n(11),b=r(g),v=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentDidMount",value:function(){l().forEach(function(e,t){(0,m.addGlobalShortcut)("g "+(t+1),function(){window.location=e.link})})}},{key:"componentWillUnmount",value:function(){l().forEach(function(e,t){(0,m.removeGlobalShortcut)("g "+(t+1),function(){window.location=e.link})})}},{key:"createAppIcon",value:function(e,t,n){var r,a=(0,d.getAppSetup)().getIn(["appSettings","navigation_app_url"],window.location.pathname),i=a.startsWith(e.link),s=(0,f.classNames)([(0,d.prefixNS)("applications__link-container"),(r={},o(r,(0,d.prefixNS)("applications__link-container--active"),i),o(r,(0,d.prefixNS)("applications__link-container--first"),0===t),r)]),l=(0,f.classNames)([(0,d.prefixNS)("applications__label-link"),o({},(0,d.prefixNS)("applications__label-link--active"),i)]),u=(0,f.classNames)([(0,d.prefixNS)("applications__icon-link"),o({},(0,d.prefixNS)("applications__icon-link--active"),i)]);return p.default.createElement("div",{className:(0,d.prefixNS)("applications__entry"),key:t},p.default.createElement("span",{className:s},p.default.createElement(y.default,{className:u,to:e.link},p.default.createElement(b.default,{className:(0,d.prefixNS)("application-frame__icon"),src:e.imageSrc,alt:e.title,title:e.title})),p.default.createElement(y.default,{className:l,hidden:!1,to:e.link},p.default.createElement("div",{className:n},e.title))))}},{key:"render",value:function(){var e=this,t=(0,f.classNames)((0,d.prefixNS)("applications__label"),o({},(0,d.prefixNS)("applications__label--invisible"),this.props.sidebarCollapsed));return p.default.createElement("div",{"data-ce-id":"ApplicationsView"},l().map(function(n,r){return e.createAppIcon(n,r,t)}))}}]),t}(c.Component);t.default=v,v.propTypes={sidebarCollapsed:f.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{favorites:e.favorites}}Object.defineProperty(t,"__esModule",{value:!0}),t.Favorites=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=n(0),p=r(c),f=n(6),d=n(1),h=n(100),y=n(190),m=r(y),g=n(2),b=n(11),v=r(b),_=n(16),S=r(_),O=t.Favorites=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onEditFavorite=n.onEditFavorite.bind(n),n.showEditDialog=n.showEditDialog.bind(n),n.hideEditDialog=n.hideEditDialog.bind(n),n.onRemoveFavorite=n.onRemoveFavorite.bind(n),n.showRemoveDialog=n.showRemoveDialog.bind(n),n.hideRemoveDialog=n.hideRemoveDialog.bind(n),n.state={editDialogVisible:!1,removeDialogVisible:!1,selectedFavorite:void 0},n}return i(t,e),l(t,[{key:"componentWillMount",value:function(){this.props.initFavorites()}},{key:"hideEditDialog",value:function(){this.setState({editDialogVisible:!1,selectedFavorite:void 0})}},{key:"hideRemoveDialog",value:function(){this.setState({removeDialogVisible:!1,selectedFavorite:void 0})}},{key:"showEditDialog",value:function(e){this.setState({editDialogVisible:!0,selectedFavorite:e})}},{key:"showRemoveDialog",value:function(e){this.setState({removeDialogVisible:!0,selectedFavorite:e})}},{key:"editDialog",value:function(){var e=this.state.selectedFavorite?this.state.selectedFavorite.get("title"):"";return p.default.createElement(S.default.InputDialog,{title:(0,u.formatStr)("favorite_rename"),ActionButton:p.default.createElement(S.default.Buttons.Rename,{title:(0,u.formatStr)("favorite_rename")}),isValueValid:S.default.InputDialog.NO_EMPTY_VALUE,size:S.default.SIZE_SMALL,onHide:this.hideEditDialog,onSubmitValue:this.onEditFavorite,value:e,show:this.state.editDialogVisible},(0,u.formatStr)("favorite_rename_new_label"))}},{key:"onEditFavorite",value:function(e){this.props.updateFavorite(this.state.selectedFavorite,e),this.hideEditDialog()}},{key:"onRemoveFavorite",value:function(){this.props.deleteFavorite(this.state.selectedFavorite),this.hideRemoveDialog()}},{key:"removeDialog",value:function(){return void 0===this.state.selectedFavorite?null:p.default.createElement(S.default.Alert,{ActionButton:p.default.createElement(S.default.Buttons.Delete,null),title:(0,u.formatStr)("favorite_delete"),show:this.state.removeDialogVisible,onHide:this.hideRemoveDialog,onConfirm:this.onRemoveFavorite},p.default.createElement("p",null,(0,u.formatStr)("favorite_delete_text",{favorite:this.state.selectedFavorite.get("title")})))}},{key:"render",value:function(){var e=this,t=p.default.createElement("span",{title:(0,u.formatStr)("favorite_title")},p.default.createElement(v.default,{name:"csweb_favorite_added",className:(0,d.classNames)((0,g.prefixNS)("titlebar__icon"))})),n=(0,d.classNames)((0,g.prefixNS)("favorites"),this.props.className),r=this.props.favorites.valueSeq().map(function(t,n){return p.default.createElement(f.MenuItem,{key:n,href:t.get("frontend_url"),title:t.get("title"),target:"_blank",rel:"noopener"},p.default.createElement(m.default.EditableObjectLabel,{"data-ce-id":"FavoriteEntry_"+n,text:t.get("title"),icon:p.default.createElement(v.default,{src:t.get("icon_url"),size:"sm"}),onEditClicked:function(){return e.showEditDialog(t)},onDeleteClicked:function(){return e.showRemoveDialog(t)}}))});return p.default.createElement(f.NavDropdown,{id:(0,g.prefixNS)("favorites"),title:t,className:n},r.count()>0?r:p.default.createElement(f.MenuItem,{key:"empty",disabled:!0},(0,u.formatStr)("empty_menu")),p.default.createElement(f.MenuItem,{key:"dialogs",disabled:!0,className:(0,g.prefixNS)("favorite-dialogs")},this.editDialog(),this.removeDialog()))}}]),t}(c.Component);O.propTypes={favorites:d.ImmutablePropTypes.map,initFavorites:d.PropTypes.func,updateFavorite:d.PropTypes.func,deleteFavorite:d.PropTypes.func,className:d.PropTypes.string};var T={initFavorites:h.FavoriteActions.initFavorites,deleteFavorite:h.FavoriteActions.deleteFavorite,updateFavorite:h.FavoriteActions.updateFavorite};t.default=(0,d.connect)(s,T)(O)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Map(),t=arguments[1];switch(t.type){case i.FAVORITE_INIT:return e.withMutations(function(e){t.favorites.forEach(function(t){e.set(t.get("frontend_url"),t)})});case i.FAVORITE_DELETE:return e.delete(t.favorite.get("frontend_url"));case i.FAVORITE_UPDATE:return e.set(t.favorite.get("frontend_url"),t.favorite);case i.FAVORITE_ADD:return e.set(t.favorite.get("frontend_url"),a.default.fromJS(t.favorite));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(136)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(0),p=r(c),f=n(1),d=n(22),h=n(53),y=n(192),m=r(y),g=n(39),b=r(g),v=n(4),_=n(8),S=r(_),O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.tableConfig=n.makeTableConfig(e),n.getTableConfig=n.getTableConfig.bind(n),n}return i(t,e),s(t,[{key:"makeTableConfig",value:function(e){var t=e.instanceName,n=e.contextObject,r=e.relshipName,o=e.selectionName,a=e.refreshTable,i=e.hideTableHeaderPanels,s=e.height,l=e.asTree,u=e.tableLayout,c=e.operationParams,f=l?b.default.PredefinedTables.getDefaultTreeTableOptions():b.default.PredefinedTables.getDefaultTableOptions();a&&f.toolbarButtons.push({toolbarButtons:[function(){return p.default.createElement(S.default.IconButton,{onClick:a,buttonStyle:"info",iconName:"csweb_refresh",title:(0,v.formatStr)("refresh")})}]});var y=c||{};return y.successActions||(y.successActions=[]),y.successActions.push((0,d.handleOperationSuccess)(t)),f.toolbarButtons.push({toolbarButtons:[function(){return p.default.createElement(h.ContextObjectWrapper,{readPath:o},p.default.createElement(m.default,{instanceName:t,parentObject:n,operationParams:y,relshipName:r,refreshTable:a}))}]}),!0===i&&(f.headerPanels=[]),"auto"===s&&(f.Table=b.default.Table),void 0!==u&&(f.Layout=u),b.default.PredefinedTables.DefaultTable(f)}},{key:"componentWillReceiveProps",value:function(e){var t=this;["contextObject","relshipName","selectionName","refreshTable","hideTableHeaderPanels","height","asTree","tableLayout"].some(function(n){return e[n]!==t.props[n]})&&this.makeTableConfig(e)}},{key:"getTableConfig",value:function(){return this.tableConfig}},{key:"render",value:function(){return this.props.children(this.getTableConfig)}}]),t}(p.default.Component);t.default=O,O.propTypes={instanceName:f.PropTypes.string.isRequired,operationParams:f.PropTypes.object,contextObject:f.PropTypes.instanceOf(u.default.Map),relshipName:f.PropTypes.string.isRequired,selectionName:f.PropTypes.string.isRequired,refreshTable:f.PropTypes.func,height:f.PropTypes.string.isRequired,hideTableHeaderPanels:f.PropTypes.bool,tableLayout:f.PropTypes.func,asTree:f.PropTypes.bool},O.defaultProps={hideTableHeaderPanels:!1,asTree:!1}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];k.Console.log.apply(k.Console,["operations.js:"].concat(t))}function a(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];k.Console.error.apply(k.Console,["operations.js:"].concat(t))}function i(e,t){return function(n){return n.type===t&&n.payload.instanceName===e}}function s(e){var t,n,r,o,a,i,s,l,u,c=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.instanceName,n=c.parameters,r=c.operationInfo,o=c.contextObjects,a=c.initialFiles,i=c.dialog,e.next=3,fe((0,L.operationIsStarting)(t));case 3:if(c.resultInNewTab!==F.TABS.OPEN_ON_RUN){e.next=6;break}return e.next=6,fe((0,A.openTabAsync)(t));case 6:return s={},o&&(s.object_navigation_id=o.map(function(e){return e.get("system:navigation_id")}).toJS()),i&&(s.dialog_name=i),n&&(s.additional_params=JSON.stringify(n.toJS())),e.prev=10,e.t0=x.default,e.next=14,he(M.getJSON,r.get("form_url"),s);case 14:return e.t1=e.sent,l=e.t0.fromJS.call(e.t0,e.t1),e.next=18,fe((0,L.initOperationState)(t,r,l,{contextObjects:c.contextObjects},c.nonBlocking,c.hasFiles));case 18:return e.next=20,(0,H.selectState)(t);case 20:if(u=e.sent,!u.get("hasFiles")||!a){e.next=24;break}return e.next=24,fe((0,D.addFiles)(t,a));case 24:return e.next=26,fe({type:F.ACTIONS._EXEC_OPERATION,payload:c});case 26:e.next=41;break;case 28:return e.prev=28,e.t2=e.catch(10),e.t3=fe,e.t4=F.ACTIONS._FINISH_OPERATION,e.t5=c,e.next=35,he(H.processNetworkException,e.t2);case 35:return e.t6=e.sent,e.t7={error:e.t6},e.t8={payload:e.t5,result:e.t7},e.t9={type:e.t4,payload:e.t8},e.next=41,(0,e.t3)(e.t9);case 41:case"end":return e.stop()}},q,this,[[10,28]])}function l(e){var t,n,r,o=e.payload,a=o.payload,s=o.hookResult;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.instanceName,e.next=3,fe((0,D.queryUser)(t,s.dialog));case 3:return e.next=5,ye({cancel:de(i(t,F.ACTIONS.QUERY_RESULT_CANCEL)),submit:de(i(t,F.ACTIONS.QUERY_RESULT_SUBMIT)),call:de(i(t,F.ACTIONS.QUERY_RESULT_CALL)),back:de(i(t,F.ACTIONS.QUERY_RESULT_BACK))});case 5:return n=e.sent,e.next=8,fe((0,D.queryDismiss)(t));case 8:if(n.submit?n.attribute=n.submit.payload.attribute:n.call?n.attribute=n.call.payload.attribute:n.back&&(n.attribute=n.back.payload.attribute),!n.attribute){e.next=15;break}return e.next=12,(0,H.selectState)(a.instanceName);case 12:return r=e.sent,e.next=15,fe((0,L.changeFormValues)(t,{values:r.get("values").set(n.attribute.name,n.attribute.value)}));case 15:if(!n.call){e.next=21;break}return e.next=18,fe({type:F.ACTIONS._PRESUBMIT_OPERATION,payload:a});case 18:return e.abrupt("return",e.sent);case 21:if(!n.cancel){e.next=27;break}return e.next=24,fe({type:F.ACTIONS._QUERY_CANCEL_FORM,payload:a});case 24:return e.abrupt("return",e.sent);case 27:if(!n.back){e.next=31;break}return e.next=30,fe({type:F.ACTIONS._EXEC_OPERATION,payload:a});case 30:return e.abrupt("return",e.sent);case 31:return e.next=33,fe({type:F.ACTIONS._SUBMIT_OPERATION,payload:a});case 33:return e.abrupt("return",e.sent);case 34:case"end":return e.stop()}},Y,this)}function u(e){if(!e||0===e.size)return null;var t=e.get("position",0)+1,n=e.get("steps",x.default.List()).skip(t),r=n.findEntry(function(e){return e.get("dialog_link")&&e.get("kind",-1)>-1});return r?[r[0]+t,r[1]]:null}function c(e,t,n){var r,o,a,i,s,l,c;return regeneratorRuntime.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:if(r=u(n)){p.next=3;break}return p.abrupt("return",!1);case 3:return o=I(r,2),a=o[0],i=o[1],p.t0=x.default,p.next=7,he(M.postJSON,i.get("dialog_link"),{wizard_progress:n.toJS(),obj_values:t.get("values").toJS(),operation_state:t.get("operationState").toJS()});case 7:return p.t1=p.sent,s=p.t0.fromJS.call(p.t0,p.t1),l=s.get("operation_state"),c=t.get("values").merge(s.get("values")).mergeWith(function(e){return e},l.get("json_field_types").mapEntries(function(e){return[e[0],""]})),p.next=13,fe((0,L.changeFormValues)(e,{registers:s.get("registers"),operationState:l,wizardProgress:n.set("position",a).set("button_label",i.get("button_label")),dialogHooks:s.get("dialog_hooks"),values:c}));case 13:return p.abrupt("return",!0);case 14:case"end":return p.stop()}},Z,this)}function p(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.instanceName,n={cancel:{}},e.t0=H.hasModifiedValues,e.next=5,(0,H.selectState)(t);case 5:if(e.t1=e.sent,!(0,e.t0)(e.t1)){e.next=12;break}return e.next=9,fe((0,D.queryCancel)(t));case 9:return e.next=11,ye({cancel:de(i(t,F.ACTIONS.QUERY_CANCEL_FORCE)),back:de(i(t,F.ACTIONS.QUERY_CANCEL_BACK))});case 11:n=e.sent;case 12:if(!n.cancel){e.next=17;break}return e.next=15,fe({type:F.ACTIONS._FINISH_OPERATION,payload:{payload:r,result:n}});case 15:e.next=19;break;case 17:return e.next=19,fe({type:F.ACTIONS._EXEC_OPERATION,payload:r});case 19:case"end":return e.stop()}},Q,this)}function f(e){var t,n,r,o,a,i,s,l=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.selectState)(l.instanceName);case 2:return t=e.sent,e.next=5,fe((0,D.clearErrors)(l.instanceName));case 5:if(n=(0,H.getMandatoryFields)(t),0===n.size){e.next=12;break}return e.next=9,fe((0,D.submitValueError)(l.instanceName,n.map(function(e){return x.default.Map({field:e,type:"mandatory"})})));case 9:return e.next=11,fe({type:F.ACTIONS._EXEC_OPERATION,payload:l});case 11:return e.abrupt("return",e.sent);case 12:return e.prev=12,e.next=15,he(B.callPreSubmitHooks,t.get("dialogHooks"),{currValues:t.get("values"),registers:t.get("registers"),operationState:t.get("operationState"),wizardProgress:t.get("wizardProgress")});case 15:if(r=e.sent,!(r.errors.length>0)){e.next=22;break}return e.next=19,fe((0,D.submitGeneralError)(l.instanceName,x.default.fromJS(r.errors)));case 19:return e.next=21,fe({type:F.ACTIONS._EXEC_OPERATION,payload:l});case 21:return e.abrupt("return",e.sent);case 22:if(!r.dialog){e.next=26;break}return e.next=25,fe({type:F.ACTIONS._QUERY_USER,payload:{payload:l,hookResult:r}});case 25:return e.abrupt("return",e.sent);case 26:if(!r.next_dialog){e.next=33;break}return o=r.wizard_progress,e.next=30,fe((0,L.changeFormValues)(l.instanceName,{registers:x.default.fromJS(r.next_dialog.registers),operationState:x.default.fromJS(r.next_dialog.operation_state),values:t.get("values").merge(r.next_dialog.values),dialogHooks:x.default.fromJS(r.next_dialog.dialog_hooks),wizardProgress:o.set("position",o.get("position",0)+1)}));case 30:return e.next=32,fe({type:F.ACTIONS._EXEC_OPERATION,payload:l});case 32:return e.abrupt("return",e.sent);case 33:return a=r.wizard_progress||t.get("wizardProgress"),e.next=36,he(c,l.instanceName,t,a);case 36:if(!e.sent){e.next=40;break}return e.next=39,fe({type:F.ACTIONS._EXEC_OPERATION,payload:l});case 39:return e.abrupt("return",e.sent);case 40:e.next=53;break;case 42:return e.prev=42,e.t0=e.catch(12),e.next=46,he(H.processNetworkException,e.t0);case 46:return i=e.sent,s=i.json?{title:(0,W.formatStr)("op_start_failed",{opname:"Presubmit Hook"}),message:i.json.detail||i.json.message}:{title:(0,W.formatStr)("op_start_failed",{opname:"Presubmit Hook"}),message:(0,W.formatStr)("dialog_unspecified_hook_error")},e.next=50,fe((0,D.submitGeneralError)(l.instanceName,x.default.fromJS([s])));case 50:return e.next=52,fe({type:F.ACTIONS._EXEC_OPERATION,payload:l});case 52:return e.abrupt("return",e.sent);case 53:return e.next=55,fe({type:F.ACTIONS._SUBMIT_OPERATION,payload:l});case 55:return e.abrupt("return",e.sent);case 56:case"end":return e.stop()}},J,this,[[12,42]])}function d(e){var t,n,r,o,i=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.selectState)(i.instanceName);case 2:if(t=e.sent,t.get("pendingChecks").isEmpty()){e.next=7;break}return e.next=6,fe({type:F.ACTIONS._EXEC_OPERATION,payload:i});case 6:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.next=10,he(M.postJSON,i.operationInfo.get("submit_url"),{object_navigation_id:i.contextObjects.map(function(e){return e.get("system:navigation_id")}).toJS(),operation_state:t.get("operationState").toJS(),values:t.get("values").toJS()});case 10:if(e.t0=e.sent,n={submit:e.t0},!t.get("hasFiles")){e.next=16;break}return e.next=15,fe({type:F.ACTIONS._UPLOAD_FILES,payload:{payload:i,result:n}});case 15:return e.abrupt("return",e.sent);case 16:return e.next=18,fe({type:F.ACTIONS._FINISH_OPERATION,payload:{payload:i,result:n}});case 18:return e.abrupt("return",e.sent);case 21:return e.prev=21,e.t1=e.catch(7),a("Error on submit.",e.t1),r=i.operationInfo,e.next=27,he(H.processNetworkException,e.t1);case 27:if(o=e.sent,!o.json||!o.json.back_to_dialog){e.next=34;break}return e.next=31,fe((0,D.submitGeneralError)(i.instanceName,x.default.fromJS([{title:(0,W.formatStr)("op_start_failed",{opname:""+r.get("label")}),message:o.json.detail||e.t1.json.message}])));case 31:return e.next=33,fe({type:F.ACTIONS._EXEC_OPERATION,payload:i});case 33:return e.abrupt("return",e.sent);case 34:return e.next=36,fe({type:F.ACTIONS._FINISH_OPERATION,payload:{payload:i,result:{error:o}}});case 36:return e.abrupt("return",e.sent);case 37:case"end":return e.stop()}},K,this,[[7,21]])}function h(e){var t,n=e.payload,r=n.payload,o=n.result;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.selectState)(r.instanceName);case 2:if(t=e.sent,!t.get("hasFiles")){e.next=7;break}return e.next=6,he(z.uploadFiles,o.submit.object,t.get("files"));case 6:o.submit.files=e.sent;case 7:return e.next=9,fe({type:F.ACTIONS._FINISH_OPERATION,payload:{payload:r,result:o}});case 9:case"end":return e.stop()}},X,this)}function y(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.instanceName,e.next=3,fe((0,L.openForm)(t));case 3:return e.next=5,ye({submit:de(i(t,F.ACTIONS.SUBMIT_OPERATION)),cancel:de(i(t,F.ACTIONS.CANCEL_OPERATION))});case 5:if(n=e.sent,!n.cancel){e.next=14;break}if(!n.cancel.payload.force){e.next=11;break}return e.next=10,fe({type:F.ACTIONS._FINISH_OPERATION,payload:{payload:r,result:n}});case 10:return e.abrupt("return",e.sent);case 11:return e.next=13,fe({type:F.ACTIONS._QUERY_CANCEL_FORM,payload:r});case 13:return e.abrupt("return",e.sent);case 14:if(r.resultInNewTab!==F.TABS.OPEN_ON_SUBMIT){e.next=17;break}return e.next=17,fe((0,A.openTabAsync)(r.instanceName));case 17:return e.next=19,fe({type:F.ACTIONS._PRESUBMIT_OPERATION,payload:r});case 19:return e.abrupt("return",e.sent);case 20:case"end":return e.stop()}},$,this)}function m(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.instanceName,e.next=3,(0,H.selectState)(t);case 3:if(n=e.sent,!n.get("registers").size&&!r.forceHandler||r.suppressHandler){e.next=8;break}return e.next=7,fe({type:F.ACTIONS._EXEC_FORM,payload:r});case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,fe({type:F.ACTIONS._PRESUBMIT_OPERATION,payload:r});case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},ee,this)}function g(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,(0,H.selectState)(e.instanceName);case 2:return t=n.sent,n.abrupt("return",t.get("mode")!==U.OperationMode.INITIAL);case 4:case"end":return n.stop()}},te,this)}function b(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(t=e.operationInfo,n=t.get("target_url")){o.next=4;break}return o.abrupt("return",!1);case 4:return o.next=6,he(k.substitute_link_variables,n,e.contextObjects.get(0));case 6:return r=o.sent,o.next=9,he(H.setWindowLocation,window,r);case 9:return o.abrupt("return",!0);case 10:case"end":return o.stop()}},ne,this)}function v(e){return void 0!==e.operationInfo||(k.Console.error("You must provide an operationInfo object to runOperation"),!1)}function _(e){var t,n=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(w,n);case 2:if(t=e.sent,v(t)){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,he(b,t);case 7:if(!e.sent){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,he(g,t);case 11:if(!e.sent){e.next=13;break}return e.abrupt("return");case 13:return e.next=15,fe({type:F.ACTIONS._START_OPERATION,payload:t});case 15:case"end":return e.stop()}},re,this)}function S(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.submit){n.next=5;break}return n.next=3,fe((0,L.operationSucceeded)(e.instanceName));case 3:n.next=13;break;case 5:if(!t.error){n.next=10;break}return n.next=8,fe((0,L.operationFailed)(e.instanceName));case 8:n.next=13;break;case 10:if(!t.cancel){n.next=13;break}return n.next=13,fe((0,L.operationCancelled)(e.instanceName));case 13:case"end":return n.stop()}},oe,this)}function O(e,t){var n,r,o,a,i,s,l,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:n=!0,r=!1,o=void 0,c.prev=3,a=t[Symbol.iterator]();case 5:if(n=(i=a.next()).done){c.next=14;break}return s=i.value,l=N({},s),l.payload.operation=Object.assign({instanceName:e.instanceName,info:e.operationInfo},u),c.next=11,fe(l);case 11:n=!0,c.next=5;break;case 14:c.next=20;break;case 16:c.prev=16,c.t0=c.catch(3),r=!0,o=c.t0;case 20:c.prev=20,c.prev=21,!n&&a.return&&a.return();case 23:if(c.prev=23,!r){c.next=26;break}throw o;case 26:return c.finish(23);case 27:return c.finish(20);case 28:case"end":return c.stop()}},ae,this,[[3,16,20,28],[21,,23,27]])}function T(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.submit){n.next=9;break}if(o("Operation submitted.",t),!e.resultInNewTab){n.next=5;break}return n.next=5,fe((0,A.navigateTabAsync)(e.instanceName,t.submit.ui_link));case 5:return n.next=7,he(O,e,e.successActions,{result:t.submit});case 7:n.next=25;break;case 9:if(!t.error){n.next=18;break}if(o("Operation failed.",t),!e.resultInNewTab){n.next=14;break}return n.next=14,fe((0,A.closeTabAsync)(e.instanceName));case 14:return n.next=16,he(O,e,e.failedActions,{error:t.error});case 16:n.next=25;break;case 18:if(!t.cancel){n.next=25;break}if(o("Operation cancelled.",t),!e.resultInNewTab){n.next=23;break}return n.next=23,fe((0,A.closeTabAsync)(e.instanceName));case 23:return n.next=25,he(O,e,e.cancelActions);case 25:return n.next=27,he(O,e,e.generalActions,{result:t});case 27:case"end":return n.stop()}},ie,this)}function E(e){var t,n=e.instanceName;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,H.selectState)(n);case 2:if(t=e.sent,!t.get("displayForm")){e.next=6;break}return e.next=6,fe((0,L.closeForm)(n));case 6:case"end":return e.stop()}},se,this)}function C(e){var t=e.payload,n=t.payload,r=t.result;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,he(E,n);case 2:return e.next=4,he(S,n,r);case 4:return e.next=6,he(T,n,r);case 6:return e.next=8,fe((0,L.clearOperationState)(n.instanceName));case 8:case"end":return e.stop()}},le,this)}function w(e){return Object.assign(e,{resultInNewTab:e.operationInfo.get("presentation_id")===F.PRESENTATION_ID.NEW_TAB?F.TABS.OPEN_ON_RUN:e.resultInNewTab,forceHandler:e.operationInfo.get("presentation_id")===F.PRESENTATION_ID.DELETE||e.forceHandler,suppressHandler:e.operationInfo.get("presentation_id")===F.PRESENTATION_ID.NO_FORM||e.suppressHandler,successActions:e.operationInfo.get("presentation_id")===F.PRESENTATION_ID.DELETE&&e.contextObjects.map(function(e){return e.get("system:ui_link")}).contains(window.location.href)?[G.default.navigate("/")]:e.operationInfo.get("presentation_id")===F.PRESENTATION_ID.NEW_TAB?[]:e.successActions,hasFiles:["document","model"].includes(e.operationInfo.get("classname"))&&"CDB_Create"===e.operationInfo.get("opname")})}function P(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(F.ACTIONS.RUN_OPERATION,_);case 2:return e.next=4,pe(F.ACTIONS._START_OPERATION,s);case 4:return e.next=6,pe(F.ACTIONS._EXEC_OPERATION,m);case 6:return e.next=8,pe(F.ACTIONS._EXEC_FORM,y);case 8:return e.next=10,pe(F.ACTIONS._QUERY_CANCEL_FORM,p);case 10:return e.next=12,pe(F.ACTIONS._PRESUBMIT_OPERATION,f);case 12:return e.next=14,pe(F.ACTIONS._QUERY_USER,l);case 14:return e.next=16,pe(F.ACTIONS._SUBMIT_OPERATION,d);case 16:return e.next=18,pe(F.ACTIONS._UPLOAD_FILES,h);case 18:return e.next=20,pe(F.ACTIONS._FINISH_OPERATION,C);case 20:case"end":return e.stop()}},ue,this)}Object.defineProperty(t,"__esModule",{value:!0});var N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},I=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.default=P;var R=n(1),j=n(3),x=r(j),M=n(10),A=n(329),k=n(2),D=n(137),L=n(35),F=n(33),B=n(193),H=n(78),z=n(195),U=n(28),V=n(77),G=r(V),W=n(4),q=regeneratorRuntime.mark(s),Y=regeneratorRuntime.mark(l),Z=regeneratorRuntime.mark(c),Q=regeneratorRuntime.mark(p),J=regeneratorRuntime.mark(f),K=regeneratorRuntime.mark(d),X=regeneratorRuntime.mark(h),$=regeneratorRuntime.mark(y),ee=regeneratorRuntime.mark(m),te=regeneratorRuntime.mark(g),ne=regeneratorRuntime.mark(b),re=regeneratorRuntime.mark(_),oe=regeneratorRuntime.mark(S),ae=regeneratorRuntime.mark(O),ie=regeneratorRuntime.mark(T),se=regeneratorRuntime.mark(E),le=regeneratorRuntime.mark(C),ue=regeneratorRuntime.mark(P),ce=R.ReduxSaga.effects,pe=ce.takeEvery,fe=ce.put,de=ce.take,he=ce.call,ye=ce.race},function(e,t,n){"use strict";function r(e){return{type:i.ACTIONS.OPEN_TAB_ASYNC,payload:{tabId:e}}}function o(e,t){return{type:i.ACTIONS.NAVIGATE_TAB_ASYNC,payload:{tabId:e,url:t}}}function a(e){return{type:i.ACTIONS.CLOSE_TAB_ASYNC,payload:{tabId:e}}}Object.defineProperty(t,"__esModule",{value:!0}),t.openTabAsync=r,t.navigateTabAsync=o,t.closeTabAsync=a;var i=n(33)},function(e,t,n){"use strict";function r(e){var t,n,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.instanceName,r=t.nextState,a.next=3,(0,l.selectState)(n);case 3:if(o=a.sent,o.get("values")===r.values&&o.get("wizardProgress")===r.wizardProgress&&o.get("registers")===r.registers&&o.get("preventSubmitReasons")===r.preventSubmitReasons){a.next=7;break}return a.next=7,y((0,s.changeFormValues)(n,r));case 7:case"end":return a.stop()}},p,this)}function o(e){var t,n,r,o,a,i,c,p,d,h,m,g,b,v,_,S;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return t=e.payload,n=t.instanceName,r=t.values,o=t.unchecked,f.next=3,(0,l.selectState)(n);case 3:if(a=f.sent,i=a.get("values"),c=i.merge(r),p=a.get("registers"),d=p,h=a.get("preventSubmitReasons"),m=h,g=a.get("unchecked"),b=o?g.merge(r.keys()):g.subtract(r.keys()),o){f.next=22;break}if(v={oldValues:i,newValues:c,changes:r,operationState:a.get("operationState"),registers:d,preventSubmitReasons:m,wizardProgress:a.get("wizardProgress")},!(_=a.get("dialogHooks"))){f.next=22;break}return f.next=18,y((0,u.callDialogHooks)(n,_,v));case 18:S=f.sent,c=S.values,d=S.registers,m=S.preventSubmitReasons;case 22:if(i===c&&g===b&&p===d&&h===m){f.next=25;break}return f.next=25,y((0,s.changeFormValues)(n,{values:c,unchecked:b,registers:d,preventSubmitReasons:m}));case 25:case"end":return f.stop()}},f,this)}function a(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(c.ACTIONS.CHANGE_OPERATION_VALUES,o);case 2:return e.next=4,m(c.ACTIONS.DISPATCH_BACKEND_HOOK_RESULTS,r);case 4:case"end":return e.stop()}},d,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchBackendHookResultsSaga=r,t.changeFormSaga=o,t.default=a;var i=n(1),s=n(35),l=n(78),u=n(331),c=n(33),p=regeneratorRuntime.mark(r),f=regeneratorRuntime.mark(o),d=regeneratorRuntime.mark(a),h=i.ReduxSaga.effects,y=h.put,m=h.takeEvery},function(e,t,n){"use strict";function r(e,t){return{type:s.ACTIONS.DISPATCH_BACKEND_HOOK_RESULTS,payload:{instanceName:e,nextState:t}}}function o(e,t,n){return function(o){function s(t,n,a,i){o(r(e,{values:t,registers:n,wizardProgress:a,preventSubmitReasons:i}))}function l(e){e.forEach(function(e){return o((0,i.addNotification)(null,e.title,e.message,"danger",2,null,null))})}return(0,a.callDialogHooks)(t,n,s,l)}}Object.defineProperty(t,"__esModule",{value:!0}),t.callDialogHooks=o;var a=n(193),i=n(19),s=n(33)},function(e,t,n){"use strict";function r(e){var t,n,r,o,a=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=function(e){return function(t){return e===t.type&&t.payload.tabId===a.tabId}},n=window.open("about:blank","_blank"),e.next=4,d({onNavigate:f(t(i.ACTIONS.NAVIGATE_TAB_ASYNC)),close:f(t(i.ACTIONS.CLOSE_TAB_ASYNC))});case 4:if(r=e.sent,!(o=r.onNavigate)){e.next=11;break}return e.next=9,h(s.setWindowLocation,n,o.payload.url);case 9:e.next=13;break;case 11:return e.next=13,h([n,n.close]);case 13:case"end":return e.stop()}},l,this)}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p(i.ACTIONS.OPEN_TAB_ASYNC,r);case 2:case"end":return e.stop()}},u,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(1),i=n(33),s=n(78),l=regeneratorRuntime.mark(r),u=regeneratorRuntime.mark(o),c=a.ReduxSaga.effects,p=c.takeEvery,f=c.take,d=c.race,h=c.call},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return n=e(),n.payload.operation=t.payload.operation,r.next=4,D(n);case 4:case"end":return r.stop()}},C,this)}function a(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:t=e.payload.operation.result.result_type,n.t0=t,n.next=n.t0===O.ResultType.NO_TYPE?4:n.t0===O.ResultType.OBJECT?5:n.t0===O.ResultType.HTML_VIEW?8:11;break;case 4:return n.abrupt("break",13);case 5:return n.next=7,L(o,m.default.updateObjectStore,e);case 7:return n.abrupt("break",13);case 8:return n.next=10,L(o,m.default.navigate,e);case 10:return n.abrupt("break",13);case 11:return T.Console.warn("operations.js: Unhandled result type."),n.abrupt("break",13);case 13:case"end":return n.stop()}},w,this)}function i(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.payload.operation.result.object)){n.next=4;break}return n.next=4,D((0,S.receivedObject)(t["@id"],t));case 4:case"end":return n.stop()}},P,this)}function s(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.payload.path||e.payload.operation.result.web_ui_link)){n.next=8;break}if(!e.payload.options.pushHistory){n.next=7;break}return n.next=5,L([d.browserHistory,d.browserHistory.push],t);case 5:n.next=8;break;case 7:window.location=t;case 8:case"end":return n.stop()}},N,this)}function l(e){var t;return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t=e.payload.operation.result.object)){n.next=4;break}return n.next=4,D((0,_.addHistoryItem)({classname:t["system:classname"],rest_id:t["system:navigation_id"],ref_object_id:t.cdb_object_id}));case 4:case"end":return n.stop()}},I,this)}function u(e){var t,n,r,o,a,i;return regeneratorRuntime.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return t=e.payload.operation,n=t.info,r=t.error,o=n.get("name"),a=n.get("label"),i=r.json?{id:""+o,level:v.default.Level.ERROR,title:(0,g.formatStr)("op_start_failed",{opname:""+a}),message:r.json.detail||r.json.message,global:!0}:{id:""+o,level:v.default.Level.ERROR,title:(0,g.formatStr)("op_start_failed",{opname:""+a}),message:r.message,global:!0},s.next=6,D(v.default.Actions.postMessage(i,v.default.createNotification({timeout:5e3})));case 6:case"end":return s.stop()}},R,this)}function c(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,E.selectState)(e.payload.operation.instanceName);case 2:if(t=r.sent,!(n=t.get("successHandler"))){r.next=9;break}return r.next=7,L(n,{operationState:t});case 7:r.next=11;break;case 9:return r.next=11,L(o,m.default.handleOperationSuccess,e);case 11:case"end":return r.stop()}},j,this)}function p(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,E.selectState)(e.payload.operation.instanceName);case 2:if(t=r.sent,!(n=t.get("failureHandler"))){r.next=9;break}return r.next=7,L(n,{operationState:t});case 7:r.next=11;break;case 9:return r.next=11,L(o,m.default.postError,e);case 11:case"end":return r.stop()}},x,this)}function f(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(h.ACTIONS.HANDLE_OPERATION_SUCCESS,a);case 2:return e.next=4,k(h.ACTIONS.POST_ERROR,u);case 4:return e.next=6,k(h.ACTIONS.NAVIGATE,s);case 6:return e.next=8,k(h.ACTIONS.ADD_HISTORY_ITEM,l);case 8:return e.next=10,k(h.ACTIONS.UPDATE_OBJECT_STORE,i);case 10:return e.next=12,k(h.ACTIONS.EXECUTE_SUCCESS_HANDLER_FNS,c);case 12:return e.next=14,k(h.ACTIONS.EXECUTE_FAILURE_HANDLER_FNS,p);case 14:case"end":return e.stop()}},M,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.dispatchResultHandler=o,t.default=f;var d=n(1),h=n(33),y=n(77),m=r(y),g=n(4),b=n(36),v=r(b),_=n(79),S=n(27),O=n(28),T=n(2),E=n(78),C=regeneratorRuntime.mark(o),w=regeneratorRuntime.mark(a),P=regeneratorRuntime.mark(i),N=regeneratorRuntime.mark(s),I=regeneratorRuntime.mark(l),R=regeneratorRuntime.mark(u),j=regeneratorRuntime.mark(c),x=regeneratorRuntime.mark(p),M=regeneratorRuntime.mark(f),A=d.ReduxSaga.effects,k=A.takeEvery,D=A.put,L=A.call},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(3),p=r(c),f=n(1),d=n(38),h=r(d),y=n(4),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"isCancel",value:function(e){return 0===e.get("action")||1&e.get("action")}},{key:"render",value:function(){var e=this,t=this.props,n=t.readOnly,r=t.allowCancel,o=t.allowSubmit,a=t.buttons,i=t.onCancel,s=t.onSubmit,l=t.submitRunning,c=n&&l,f=a.filter(function(e){var t=e.get("button_type");return 0===t||1===t}).map(function(t){var n=e.isCancel(t),r=n?i:s;return t.merge({onClick:r,disabled:!n&&!o||c})});return n&&r&&!l?u.default.createElement(h.default.FormActions,{buttons:p.default.fromJS([{onClick:i,button_type:1,label:(0,y.formatStr)("dialog_close")}])}):u.default.createElement(h.default.FormActions,{buttons:f})}}]),t}(u.default.Component);t.default=m,m.propTypes={buttons:f.PropTypes.instanceOf(p.default.List).isRequired,onSubmit:f.PropTypes.func,onCancel:f.PropTypes.func,readOnly:f.PropTypes.bool,allowCancel:f.PropTypes.bool,allowSubmit:f.PropTypes.bool,submitRunning:f.PropTypes.bool}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(c.default.YesNo,{title:(0,l.formatStr)("cancel_operation_title"),onConfirm:function(t){t?e.forceCancel():e.cancelQuery()},size:c.default.SIZE_SMALL,show:e.show},(0,l.formatStr)("cancel_operation_query"))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(4),u=n(16),c=r(u);o.propTypes={show:s.PropTypes.bool,forceCancel:s.PropTypes.func.isRequired,cancelQuery:s.PropTypes.func.isRequired},o.defaultProps={show:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.show,n=e.dialog,r=e.buttonPressed,o=n.buttons.filter(function(e){return e.isDefault});o.size>1&&h.Console.warning("PreSubmitDialog has more than one default button");var a=o[0]?function(){return r(o[0].action,o[0].value)}:void 0,s=n.buttons.filter(function(e){return e.isCancel});s.size>1&&h.Console.warning("PreSubmitDialog has more than one cancel button");var u=s[0]?function(){return r(s[0].action,s[0].value)}:void 0;return i.default.createElement(l.default.Dialog,{title:n.title,buttons:n.buttons.map(function(e){return i.default.createElement(p.default.TextButton,{key:e.label,title:e.label,buttonStyle:e.isDefault?"primary":"default",onClick:function(){return r(e.action,e.value)}})}),onAction:a,onHide:u,size:l.default.SIZE_SMALL,show:t},n.text.split("\n").map(function(e,t){return i.default.createElement("span",{key:t},e,i.default.createElement("br",null))}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(16),l=r(s),u=n(1),c=n(8),p=r(c),f=n(194),d=r(f),h=n(2);o.propTypes={show:u.PropTypes.bool,dialog:u.PropTypes.instanceOf(d.default).isRequired,buttonPressed:u.PropTypes.func.isRequired},o.defaultProps={show:!0}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWJlbmVfMSIgZGF0YS1uYW1lPSJFYmVuZSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxNDQgMjQiPg0KICA8dGl0bGU+c3RlcDwvdGl0bGU+DQogIDxyZWN0IHg9Ii0wLjAyIiB5PSIxMSIgd2lkdGg9IjY0LjAyIiBoZWlnaHQ9IjIiIGZpbGw9IiNiZmJlYmUiLz4NCiAgPHBhdGggZD0iTTcyLDZhNiw2LDAsMSwxLTYsNiw2LDYsMCwwLDEsNi02bTAtMmE4LDgsMCwxLDAsOCw4LDgsOCwwLDAsMC04LThaIiBmaWxsPSIjYmZiZWJlIi8+DQogIDxyZWN0IHg9IjgwIiB5PSIxMSIgd2lkdGg9IjYzLjk2IiBoZWlnaHQ9IjIiIGZpbGw9IiNiZmJlYmUiLz4NCjwvc3ZnPg0K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWJlbmVfMSIgZGF0YS1uYW1lPSJFYmVuZSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDMuODgiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxNDMuODggMjQiPg0KICA8dGl0bGU+c3RlcC1sYXN0PC90aXRsZT4NCiAgPHJlY3QgeD0iLTAuMDIiIHk9IjExIiB3aWR0aD0iNjQiIGhlaWdodD0iMiIgZmlsbD0iI2JmYmViZSIvPg0KICA8cGF0aCBkPSJNNzIsNmE2LDYsMCwxLDEtNiw2LDYsNiwwLDAsMSw2LTZtMC0yYTgsOCwwLDEsMCw4LDgsOCw4LDAsMCwwLTgtOFoiIGZpbGw9IiNiZmJlYmUiLz4NCjwvc3ZnPg0K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWJlbmVfMSIgZGF0YS1uYW1lPSJFYmVuZSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxNDQgMjQiPg0KICA8dGl0bGU+c3RlcC1jdXJyZW50PC90aXRsZT4NCiAgPHJlY3QgeT0iMTEuMDQiIHdpZHRoPSI2NC4wMiIgaGVpZ2h0PSIxLjk2IiBmaWxsPSIjMDc4MGM0Ii8+DQogIDxyZWN0IHg9IjgwLjAyIiB5PSIxMS4wNCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjEuOTYiIGZpbGw9IiNiZmJlYmUiLz4NCiAgPHBhdGggZD0iTTcyLDZhNiw2LDAsMSwxLTYsNiw2LDYsMCwwLDEsNi02bTAtMmE4LDgsMCwxLDAsOCw4LDgsOCwwLDAsMC04LThaIiBmaWxsPSIjMDc4MGM0Ii8+DQogIDxjaXJjbGUgY3g9IjcyLjAyIiBjeT0iMTIiIHI9IjQiIGZpbGw9IiMwNzgwYzQiLz4NCjwvc3ZnPg0K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWJlbmVfMSIgZGF0YS1uYW1lPSJFYmVuZSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxNDQgMjQiPg0KICA8dGl0bGU+c3RlcC1jdXJyZW50LWxhc3Q8L3RpdGxlPg0KICA8cmVjdCB5PSIxMS4wNCIgd2lkdGg9IjY0IiBoZWlnaHQ9IjEuOTYiIGZpbGw9IiMwNzgwYzQiLz4NCiAgPHBhdGggZD0iTTcyLDZhNiw2LDAsMSwxLTYsNiw2LDYsMCwwLDEsNi02bTAtMmE4LDgsMCwxLDAsOCw4LDgsOCwwLDAsMC04LThaIiBmaWxsPSIjMDc4MGM0Ii8+DQogIDxjaXJjbGUgY3g9IjcyIiBjeT0iMTIiIHI9IjQiIGZpbGw9IiMwNzgwYzQiLz4NCjwvc3ZnPg0K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyBpZD0iRWJlbmVfMSIgZGF0YS1uYW1lPSJFYmVuZSAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNDQiIGhlaWdodD0iMjQiIHZpZXdCb3g9IjAgMCAxNDQgMjQiPg0KICA8dGl0bGU+c3RlcC12aXNpdGVkPC90aXRsZT4NCiAgPHJlY3QgeD0iLTAuMDUiIHk9IjExLjA0IiB3aWR0aD0iNjQuMDIiIGhlaWdodD0iMS45NiIgZmlsbD0iIzA3ODBjNCIvPg0KICA8Y2lyY2xlIGN4PSI3MS45NyIgY3k9IjEyIiByPSI4IiBmaWxsPSIjMDc4MGM0Ii8+DQogIDxyZWN0IHg9Ijc5Ljk1IiB5PSIxMS4wNCIgd2lkdGg9IjYzLjk0IiBoZWlnaHQ9IjEuOTYiIGZpbGw9IiMwNzgwYzQiLz4NCjwvc3ZnPg0K"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),p=n(0),f=r(p),d=n(1),h=n(54),y=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelectionChanged=n.onSelectionChanged.bind(n),n}return s(t,e),l(t,[{key:"selectedObjectIDs",value:function(e){var t=this.props.rows,n=c.default.Map(t.filter(function(t){return e.includes(t.get("id"))}).map(function(e){return[e.get("id"),e.get("restLink")]}));return e.map(function(e){return n.get(e)}).filter(function(e){return void 0!==e})}},{key:"onSelectionChanged",value:function(e){var t=this.props.selectionName,n=this.props,r=n.setContextObjects,a=n.onSelect,i=this.selectedObjectIDs(e).toArray();r.apply(void 0,[t].concat(o(i))),a&&a.apply(void 0,o(i))}},{key:"render",value:function(){return this.props.children(this.onSelectionChanged)}}]),t}(f.default.Component);y.propTypes={selectionName:d.PropTypes.string.isRequired,rows:d.ImmutablePropTypes.list,onSelect:d.PropTypes.func,setContextObjects:d.PropTypes.func.isRequired},t.default=(0,d.connect)(void 0,{setContextObjects:h.setContextObjects})(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.relshipName,n=e.expanded,r=e.width,a=o(e,["relshipName","expanded","width"]);return l.default.createElement(d.default,{initialExpanded:n},function(n,o){return l.default.createElement("div",{style:{width:r}},l.default.createElement(y.default,{contextObject:e.contextObject},function(e){return l.default.createElement(p.default,i({},a,{relshipName:t,relshipLabel:e.getIn([t,"label"]),relshipIconUrl:e.getIn([t,"icon_url"]),expanded:n,onExpanded:o}))}))})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(0),l=r(s),u=n(1),c=n(46),p=r(c),f=n(103),d=r(f),h=n(42),y=r(h);a.propTypes={contextObject:u.ImmutablePropTypes.map,relshipName:u.PropTypes.string.isRequired,expanded:u.PropTypes.bool,width:u.PropTypes.string,height:u.PropTypes.string},a.defaultProps={expanded:!0,height:"auto"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return s.default.createElement(f.default,{initialExpanded:e.expanded},function(t,n){return s.default.createElement("div",{style:{width:e.width}},s.default.createElement(h.default,{contextObject:e.contextObject},function(r){return s.default.createElement(c.default,a({},e,{asTree:!0,relshipLabel:r.getIn([e.relshipName,"label"]),relshipIconUrl:r.getIn([e.relshipName,"icon_url"]),expanded:t,onExpanded:n}))}))})}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(0),s=r(i),l=n(1),u=n(46),c=r(u),p=n(103),f=r(p),d=n(42),h=r(d);o.propTypes={contextObject:l.ImmutablePropTypes.map,relshipName:l.PropTypes.string.isRequired,treeParentColumnID:l.PropTypes.string.isRequired,treeIDColumnID:l.PropTypes.string.isRequired,treeColumnID:l.PropTypes.string.isRequired,expanded:l.PropTypes.bool,width:l.PropTypes.string,height:l.PropTypes.string},o.defaultProps={expanded:!0,height:"auto"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function l(e,t,n){var r=e&&e[t]||{};return Object.assign({},n,r)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(3),h=r(d),y=n(1),m=n(2),g=n(197),b=r(g),v=n(46),_=r(v),S=n(103),O=r(S),T=n(42),E=r(T),C=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),c(t,[{key:"computeRelships",value:function(e){var t=this.props,n=t.include,r=t.exclude,o=e;if(o=void 0===n?o.filter(function(e){return e.get("show_in_mask")}).filter(function(e){return!e.get("is_one_on_one")}).filter(function(e){return!e.get("hide")}).sortBy(function(e){return e.get("pos")}):h.default.Map(h.default.List(n).filter(function(e){return o.has(e)}).map(function(e){return[e,o.get(e)]})),void 0!==r){var a=new Set(r);o=o.filter(function(e,t){return!a.has(t)})}return o}},{key:"renderRelships",value:function(e){var t=this.props,n=t.tableHeight,r=t.specOptions,a=t.tableClassName,i=o(t,["tableHeight","specOptions","tableClassName"]);return delete i.include,delete i.exclude,this.computeRelships(e).map(function(e,t){var s=l(r,t,i),c=s.expanded,p=o(s,["expanded"]);return p.height=p.height?p.height:n,a&&(p.tableClassName=p.tableClassName?p.tableClassName:a),f.default.createElement(O.default,{key:t,initialExpanded:c||!1},function(n,r){return f.default.createElement(_.default,u({},p,{relshipName:t,relshipLabel:e.get("label"),relshipIconUrl:e.get("icon_url"),expanded:n,onExpanded:r}))})}).toArray()}},{key:"render",value:function(){var e=this;return f.default.createElement(E.default,{contextObject:this.props.contextObject},function(t){return f.default.createElement(b.default,{className:(0,m.prefixNS)("relationship-group")},e.renderRelships(t))})}}]),t}(f.default.Component);t.default=C,C.propTypes={contextObject:y.ImmutablePropTypes.map,include:y.PropTypes.array,exclude:y.PropTypes.array,tableHeight:y.PropTypes.string,tableClassName:y.PropTypes.string,specOptions:y.PropTypes.object},C.defaultProps={tableHeight:"300px"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=n(0),s=r(i),l=n(1),u=n(2),c=n(59),p=r(c),f=n(26),d=r(f),h=n(11),y=r(h),m=n(198),g=r(m),b=n(2),v=function(e){b.Console.warn("ObjectLabel is deprecated. Please use the IconAndLabel module.");var t=e.text,n=e.icon,r=e.iconName,i=e.statusColor,c=e.statusLabel,f=e.link,h=e.className,m=e.onTextClick,v=e.onIconClick,_=e.iconSize,S=e.svgIcon,O=o(e,["text","icon","iconName","statusColor","statusLabel","link","className","onTextClick","onIconClick","iconSize","svgIcon"]),T=(0,u.prefixNS)("object-label__text"),E=f?s.default.createElement(p.default.Link,{className:T,to:f},t):s.default.createElement("span",{className:T},t),C=n||r?s.default.createElement(d.default,{className:(0,u.prefixNS)("object-label__icon"),src:n,name:r,size:_,onClick:v}):null,w=S?s.default.createElement(y.default,{src:S,size:_,onClick:v}):null,P=i?s.default.createElement(g.default,{className:(0,u.prefixNS)("object-label__status"),color:i,label:c,size:_}):null;return s.default.createElement("span",a({className:(0,l.classNames)((0,u.prefixNS)("object-label"),h),onClick:m,title:t},O),w,C,P,E)};v.propTypes={text:l.PropTypes.node.isRequired,link:l.PropTypes.string,icon:l.PropTypes.string,svgIcon:l.PropTypes.string,iconName:l.PropTypes.string,iconSize:l.PropTypes.string,statusColor:l.PropTypes.string,statusLabel:l.PropTypes.string,className:l.PropTypes.string,onTextClick:l.PropTypes.func,onIconClick:l.PropTypes.func},v.defaultProps={iconSize:"sm"},t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=e.name,r=t.name;return n<r?-1:n>r?1:0}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return e.get("title").toLowerCase().indexOf(t)>-1&&-1===n.indexOf(e.get("classname"))}function u(e){return{historyItems:e.historyItems,favoriteItems:e.favorites}}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){var n=[],r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done)&&(n.push(i.value),!t||n.length!==t);r=!0);}catch(e){o=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(o)throw a}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),h=n(3),y=r(h),m=n(1),g=n(15),b=r(g),v=n(10),_=n(19),S=n(348),O=r(S),T=n(138),E=r(T),C=n(104),w=r(C),P=n(2),N=n(4),I=n(79),R=n(100),j=n(51),x=r(j),M=n(20),A=r(M),k=A.default.DropdownTextButton,D=A.default.MenuItem,L="es",F=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.typeAheadObjectSearch=(0,O.default)(b.default),n.state={searchTerm:e.value?e.value:"",searchResults:[],hasMore:!1,limitedClasses:y.default.OrderedSet(n.props.searchClasses),allowedClasses:null,resultClasses:null,searchExecuted:!1,tabkey:L,searchHistoryResults:n.props.historyItems,searchHFExecuted:!1,focused:!1},n.timeoutID=null,n.timeoutIDSelectClasses=null,n.onDeleteTag=n.onDeleteTag.bind(n),n.onSelectTag=n.onSelectTag.bind(n),n.getTitle=n.getTitle.bind(n),n.handleSelect=n.handleSelect.bind(n),n.onSelectItem=n.onSelectItem.bind(n),n.getPlaceholder=n.getPlaceholder.bind(n),n.getAllowedClasses(),e.initHistoryItems(),e.initFavorites(),n}return i(t,e),p(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({searchTerm:e.value})}},{key:"onSelectItem",value:function(e){this.props.onSelectItem&&this.props.onSelectItem(e)}},{key:"isHideDefaultTagsActive",value:function(){return this.props.hideDefaultTags&&y.default.is(y.default.OrderedSet(this.props.searchClasses),y.default.OrderedSet(this.state.limitedClasses))}},{key:"getPlaceholder",value:function(){var e=this;if(this.props.searchPlaceholder)return this.props.searchPlaceholder;if(this.isHideDefaultTagsActive()&&this.props.searchClasses&&this.props.searchClasses.length>0){var t=this.props.searchClasses.map(function(t){return e.getTitle(t)}).join(", ");return(0,N.formatStr)("object_search_placeholder_entity",{entity:t})}return(0,N.formatStr)("object_search_placeholder")}},{key:"getLimitedClassesWSubClasses",value:function(){var e=this,t=this.state.limitedClasses.flatMap(function(t){return e.state.allowedClasses.filter(function(e){return e.classname===t}).flatMap(function(e){return e.subClasses})});if(this.props.searchClasses){var n=y.default.Set(this.props.searchClasses.filter(function(t){return!e.state.limitedClasses.has(t)}));t=t.filter(function(e){return!n.has(e)})}var r=this.state.limitedClasses?t.subtract(this.state.limitedClasses):y.default.Set();return t=t.union(this.state.limitedClasses?this.state.limitedClasses:[]),[t,r]}},{key:"getAllowedClasses",value:function(){var e=this;this.timeoutID&&clearTimeout(this.timeoutID);var t=this.props.excludeClasses,n=t?{exclude_classes:t.join()}:null;this.timeoutID=setTimeout(function(){(0,v.getJSON)("/internal/uisupport/object_search_allowed_classes",n).then(function(t){t.error?(e.props.notifyError(t.error.statusText,"",t.error.message),e.setState({allowedClasses:null})):e.setState({allowedClasses:y.default.Set(t.classes)})}).catch(function(t){e.props.notifyError(t.response.statusText,"")})},250)}},{key:"searchObjectTerm",value:function(){var e=this;this.timeoutID&&clearTimeout(this.timeoutID);var t=this.props.excludeClasses,n=this.getLimitedClassesWSubClasses(),r=c(n,1),o=r[0],a={fulltextsearch:this.state.searchTerm+"*"};o.size&&(a.classes=o.join()),t&&(a.exclude_classes=t.join()),this.timeoutID=setTimeout(function(){(0,v.getJSON)("/internal/uisupport/object_search",a).then(function(t){if(t.error)e.props.notifyError(t.error.statusText,"",t.error.message),e.setState({searchResults:[],hasMore:!1});else if(t.result.no_index_for_class)e.setState({searchResults:[],hasMore:!1,resultClasses:null});else{var n=!(0===Object.keys(t.result.paging).length&&t.result.paging.constructor===Object),r=t.result.facetInfo.filter(function(e){return e.count>0}).map(function(e){return{name:e.name,count:e.count}}).filter(function(e){return e}),o=t.result.result.length>0?y.default.OrderedSet(r):null;e.setState({searchResults:t.result.result,hasMore:n,resultClasses:o,searchExecuted:!0})}}).catch(function(t){e.props.notifyError(t.response.statusText,"")})},250)}},{key:"updateSearchTerm",value:function(e){var t=this,n=e.target.value.trimLeft();this.setState({searchTerm:n},function(){""!==n?(t.searchObjectTerm(),t.searchHistFavObjectTerm()):t.setState({searchResults:[],hasMore:!1,searchExecuted:!0,searchHFExecuted:!0,searchHistoryResults:t.props.historyItems})})}},{key:"searchObjectTermAfterClassChanges",value:function(){var e=this;this.state.tabkey===L?this.timeoutIDSelectClasses=setTimeout(function(){e.searchObjectTerm()},2e3):this.timeoutIDSelectClasses=setTimeout(function(){e.searchHistFavObjectTerm()},2e3)}},{key:"onSelectTag",value:function(e){var t=this;this.setInputFocus(),this.timeoutIDSelectClasses&&clearTimeout(this.timeoutIDSelectClasses);var n=this.isHideDefaultTagsActive()?y.default.OrderedSet([e]):this.state.limitedClasses.add(e);this.setState({limitedClasses:n,searchExecuted:!1,searchHFExecuted:!1},function(){return t.searchObjectTermAfterClassChanges()})}},{key:"onDeleteTag",value:function(e){var t=this;this.setInputFocus(),this.timeoutIDSelectClasses&&clearTimeout(this.timeoutIDSelectClasses);var n=this.state.limitedClasses.filter(function(t){return t!==e});this.props.hideDefaultTags&&this.props.searchClasses&&this.props.searchClasses.length>0&&0===n.size&&(n=y.default.OrderedSet(this.props.searchClasses)),this.setState({limitedClasses:n,searchExecuted:!1,searchHFExecuted:!1},function(){return t.searchObjectTermAfterClassChanges()})}},{key:"getTitle",value:function(e){var t=this.state.allowedClasses?this.state.allowedClasses.find(function(t){return t.classname===e}):e;return t?t.name?t.name:e:e+"*"}},{key:"getParentTitle",value:function(e){var t=this.state.allowedClasses?this.state.allowedClasses.filter(function(t){return t.subClasses.indexOf(e)>-1}):null;return t.size>0?t.first().name:"*"}},{key:"renderAllowedClasses",value:function(){var e=this,t=y.default.Set(this.state.allowedClasses?this.state.allowedClasses.filter(function(e){return e.isIndexed}).map(function(e){return e.classname}):[]),n=this.props.searchClasses?this.props.searchClasses:y.default.OrderedSet(t.keys()).filter(function(e){return e}),r=y.default.Set(n.filter(function(t){return!e.state.limitedClasses.has(t)}).map(function(t){return{id:t,name:e.getTitle(t)}})).sort(s);return d.default.createElement("div",{className:(0,P.prefixNS)("object-search-tags")},(0,N.formatStr)("object_search_search_for"),d.default.createElement(E.default,{tags:r,onClickTag:this.onSelectTag}),d.default.createElement("hr",null))}},{key:"searchHistFavObjectTerm",value:function(){var e=this.getLimitedClassesWSubClasses(),t=c(e,1),n=t[0],r=this.props,o=r.excludeClasses,a=r.historyItems,i=r.favoriteItems,s=this.state.searchTerm.toLowerCase(),u=a.filter(function(e){return l(e,s,o)}),p=i.toList().filter(function(e){return l(e,s,o)});n.size>0&&(u=u.filter(function(e){return n.has(e.get("classname"))}),p=p.filter(function(e){return n.has(e.get("classname"))})),this.setState({searchHistoryResults:u,searchFavoriteResults:p,searchHFExecuted:!0})}},{key:"getSearchExecutedString",value:function(){var e=this;if(this.isHideDefaultTagsActive()){var t=this.props.searchClasses.map(function(t){return e.getTitle(t)}).join(", ");return(0,N.formatStr)("object_search_narrow_entity",{entity:t})}return(0,N.formatStr)("object_search_results_in")}},{key:"calcClassesforRender",value:function(e){var t=!(this.state.limitedClasses&&this.state.limitedClasses.size>0)||this.isHideDefaultTagsActive()||!e,n=y.default.Set(this.state.allowedClasses?this.state.allowedClasses.map(function(e){return e.classname}):[]),r=this.getLimitedClassesWSubClasses(),o=c(r,2),a=o[0],i=o[1];return[this.props.searchClasses?y.default.OrderedSet(this.isHideDefaultTagsActive()&&1===this.props.searchClasses.size?i:a):y.default.OrderedSet(n.keys()).filter(function(e){return e}),i,t]}},{key:"renderResultClasses",value:function(){var e=this,t=this.calcClassesforRender(this.state.searchExecuted),n=c(t,3),r=n[0],o=n[1],a=n[2],i=y.default.Set(this.state.resultClasses),l=y.default.Set(i.filter(function(e){return r.has(e.name)}).map(function(t){var n=o.has(t.name)?e.getParentTitle(t.name)+": ":"";return{id:t.name,name:n+e.getTitle(t.name)+" ("+t.count+")"}})).sort(s);return d.default.createElement("div",{className:(0,P.prefixNS)("object-search-tags")},this.state.searchExecuted?this.getSearchExecutedString():(0,N.formatStr)("object_search_categories"),d.default.createElement(E.default,{tags:l,onClickTag:a?this.onSelectTag:null}),d.default.createElement("hr",null))}},{key:"renderHiFavClasses",value:function(e){var t=this,n=e.map(function(e){return e.get("classname")}).toSet(),r=this.calcClassesforRender(this.state.searchHFExecuted),o=c(r,3),a=o[0],i=o[1],l=o[2],u=y.default.Set(n.filter(function(e){return a.has(e)}).map(function(n){var r=i.has(n)?t.getParentTitle(n)+": ":"",o=e.count(function(e){return e.get("classname")===n});return{id:n,name:r+t.getTitle(n)+" ("+o+")"}})).sort(s);return d.default.createElement("div",{className:(0,P.prefixNS)("object-search-tags")},this.getSearchExecutedString(),d.default.createElement(E.default,{tags:u,onClickTag:l?this.onSelectTag:null}),d.default.createElement("hr",null))}},{key:"renderLimitedClassesTags",value:function(){var e=this;if(this.isHideDefaultTagsActive())return null;var t=!0;this.props.searchClasses&&this.props.searchClasses.length>0&&1===this.state.limitedClasses.size&&!this.props.hideDefaultTags&&(t=!1);var n=y.default.Set(this.state.limitedClasses.map(function(n){return d.default.createElement(w.default,{onClickIcon:t?e.onDeleteTag:null,id:n,key:n,name:e.getTitle(n)})}));return this.state.limitedClasses.size>3?this.createTagsDropDown(n):n.size>0?n.toArray():null}},{key:"createTagsDropDown",value:function(e){var t=(0,N.formatStr)("object_search_in_categories",{count:String(e.size)});return d.default.createElement("div",{className:(0,P.prefixNS)("object-search-tag-dropdown-result")},d.default.createElement(k,{title:t,buttonStyle:"Default",className:(0,P.prefixNS)("object-search-tag-dropdown")},e.map(function(e){return d.default.createElement(D,{key:e,header:!0},e)})))}},{key:"setInputFocus",value:function(){var e=document.querySelector("."+(0,P.prefixNS)("object-search-input"));e&&e.focus();var t=document.querySelector("."+(0,P.prefixNS)("object-search-withtypeahead"));t&&t.classList.add("focus")}},{key:"focus",value:function(e){if(e)this.setInputFocus();else{var t=document.querySelector("."+(0,P.prefixNS)("object-search-withtypeahead"));t&&t.classList.remove("focus")}this.setState({focused:e})}},{key:"handleSelect",value:function(e){this.setInputFocus(),this.setState({tabkey:e}),e===L?this.searchObjectTerm():this.searchHistFavObjectTerm()}},{key:"getEmptyResult",value:function(){var e={};return e.icon="",e.rest_url="",e.title=(0,N.formatStr)("object_search_no_results"),y.default.List([y.default.Map(e)])}},{key:"createSearchResults",value:function(e,t){return e&&0!==e.size?y.default.List(e.map(function(e){var n={};return n.searchtype=t,n.cdb_object_id=e.get("ref_object_id"),n.icon=e.get("icon_url"),n.title=e.get("title"),n.ui_link=e.get("frontend_url"),n.rest_url=e.get("rest_url"),y.default.Map(n)})):this.getEmptyResult()}},{key:"render",value:function(){var e=this,t=this.props.maxResultItemsCount,n=this.state,r=n.searchHistoryResults,o=n.searchFavoriteResults,a=n.searchResults,i=n.tabkey,s=this.typeAheadObjectSearch,l=this.state.searchTerm?this.renderResultClasses():this.renderAllowedClasses(),u=(0,P.isCEDesktop)()?null:d.default.createElement(x.default.Title,{key:"hi",eventKey:"hi",title:(0,N.formatStr)("object_search_results_history")}),c=(0,P.isCEDesktop)()?null:d.default.createElement(x.default.Title,{key:"fav",eventKey:"fav",title:(0,N.formatStr)("object_search_results_favorites")}),p=d.default.createElement(x.default.Container,{activeKey:i,onSelect:this.handleSelect,id:(0,P.prefixNS)("object-search-tabs")},d.default.createElement(x.default.Bar,{activeKey:i,onSelectFromMenu:this.handleSelect},d.default.createElement(x.default.Title,{key:L,eventKey:L,title:(0,N.formatStr)("object_search_results")}),u,c),d.default.createElement(x.default.Content,null,i===L?l:null,"hi"===i?this.renderHiFavClasses(r):null,"fav"===i?this.renderHiFavClasses(o):null)),f=null,h=!1;switch(this.state.tabkey){case L:f=y.default.fromJS(a),f=f&&0!==f.size?f.map(function(e){var t={};return t.searchtype="enterprisesearch",t.cdb_object_id=e.get("cdb_object_id"),t.icon=e.get("icon"),t.title=e.get("system:description"),t.rest_url=e.get("rest_url"),t.ui_link=e.get("ui_link"),y.default.Map(t)}):this.getEmptyResult(),h=this.state.hasMore;break;case"hi":f=this.createSearchResults(r,"history");break;default:f=this.createSearchResults(o,"favorite")}f.size>t&&(f=f.take(t),h=!0);var m=this.renderLimitedClassesTags(),g=d.default.createElement(s,{value:this.state.searchTerm,matched:f,hasMoreMatches:h,id:this.props.id,name:this.props.id,type:"text",autoComplete:"off",placeholder:this.getPlaceholder(),onChange:function(t){e.updateSearchTerm(t)},onSelectItem:this.onSelectItem,leadingComponent:p,beforeControl:m,onFocus:function(){e.focus(!0)},onBlur:function(){e.focus(!1)},className:(0,P.prefixNS)("object-search-input")});return d.default.createElement("div",{className:this.props.className},g)}}]),t}(d.default.Component);F.defaultProps={searchPlaceholder:"",className:(0,P.prefixNS)("object-search"),maxResultItemsCount:10,hideDefaultTags:!1},F.propTypes={id:m.PropTypes.string.isRequired,searchPlaceholder:m.PropTypes.string.isRequired,className:m.PropTypes.string.isRequired,notifyError:m.PropTypes.func,searchClasses:m.PropTypes.arrayOf(m.PropTypes.string),excludeClasses:m.PropTypes.arrayOf(m.PropTypes.string),initHistoryItems:m.PropTypes.func.isRequired,historyItems:m.ImmutablePropTypes.list.isRequired,initFavorites:m.PropTypes.func,favoriteItems:m.ImmutablePropTypes.map,onSelectItem:m.PropTypes.func,value:m.PropTypes.string,maxResultItemsCount:m.PropTypes.number,hideDefaultTags:m.PropTypes.bool};var B={notifyError:_.notifyError,initHistoryItems:I.initHistoryItems,initFavorites:R.FavoriteActions.initFavorites};t.default=(0,m.connect)(u,B)(F)},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={matchActive:-1,hide:!1,selected:!1},t.dropdownID=++b,t.selecting=!1,t.onKeyDown=t.onKeyDown.bind(t),t.onChange=t.onChange.bind(t),t.onToggle=function(){},t.onSelect=t.onSelect.bind(t),t.onBlur=t.onBlur.bind(t),t.onSelecting=t.onSelecting.bind(t),t._wrappedElement=null,t._wrappedComponent=null,t}return i(n,t),l(n,[{key:"isOpen",value:function(){var e=document.querySelector("."+(0,d.prefixNS)("object-search-withtypeahead")),t=document.querySelector("."+(0,d.prefixNS)("object-search-input")),n=e&&e.classList.contains("focus"),r=t&&document.activeElement===t;return!this.state.hide&&!this.state.selected&&(n||r)}},{key:"stepMatch",value:function(e){var t=this.props.matched.count(),n=this.state.matchActive+e;n>=t?n=-1:n<-1&&(n=t-1),this.setState({matchActive:n}),this.props.onTAStepAt&&this.props.onTAStepAt(n)}},{key:"onKeyDown",value:function(e){var t=this.props.onKeyDown;if(this.setState({selected:!1}),this.isOpen())switch(e.key){case"ArrowDown":return this.stepMatch(1),void e.preventDefault();case"ArrowUp":return this.stepMatch(-1),void e.preventDefault();case"Enter":if(this.setState({hide:!0}),this.state.matchActive>-1)return e.preventDefault(),this.onSelectAt(this.state.matchActive);break;case"Escape":return this.setState({hide:!0}),e.preventDefault(),void(this.props.onTACancel&&this.props.onTACancel())}else switch(e.key){case"ArrowDown":return this.setState({hide:!1}),void e.preventDefault()}if(t)return e.persist(),t(e)}},{key:"onChange",value:function(e){var t=this.props.onChange;if(this.setState({matchActive:-1}),t)return e.persist(),t(e)}},{key:"onSelect",value:function(e){return this.onSelectAt(e)}},{key:"onSelectAt",value:function(e){var t=this,n=this.props,r=n.matched,o=n.onSelectItem;if(!(e<0||e>=r.count()))return this.setState({selected:!0,matchActive:-1},function(){t._wrappedComponent&&t._wrappedComponent.quitEditing&&t._wrappedComponent.quitEditing(),t._wrappedElement&&t._wrappedElement.querySelector("input").focus()}),this.selecting=!1,o?o(r.get(e)):void 0}},{key:"onBlur",value:function(e){var t=this.props.onBlur;if(!this.selecting&&(this.setState({hide:!0,matchActive:-1}),t))return t(e)}},{key:"onSelecting",value:function(){this.selecting=!0,this._wrappedComponent&&this._wrappedComponent.ignoreBlurring&&this._wrappedComponent.ignoreBlurring()}},{key:"componentWillReceiveProps",value:function(e){e.matched!==this.props.matched&&this.setState({hide:!1}),this.selecting=!1}},{key:"render",value:function(){var t=this,n=this.props,o=n.value,a=n.typeAheadDropdownClass,i=n.matched,l=n.leadingComponent,u=r(n,["value","typeAheadDropdownClass","matched","leadingComponent"]);delete u.onSelectItem,delete u.hasMoreMatches,delete u.onTAStepAt,delete u.onTACancel;var h=this.state.matchActive,y=this.isOpen(),m=(0,f.classNames)((0,d.prefixNS)("formcontrols-withtypeahead"),(0,d.prefixNS)("object-search-withtypeahead"));return c.default.createElement(p.Dropdown,{className:m,id:""+this.dropdownID,open:y,onToggle:this.onToggle,componentClass:a},c.default.createElement("div",{ref:function(e){t._wrappedElement=e}},c.default.createElement(e,s({value:o},u,{onKeyDown:this.onKeyDown,onChange:this.onChange,onBlur:this.onBlur,autoComplete:"off",ref:function(e){t._wrappedComponent=e}}))),c.default.createElement(p.Dropdown.Toggle,{className:(0,d.prefixNS)("formcontrols-withtypeahead-toggle")}),c.default.createElement(g,{inputString:o,bsRole:"menu",matched:i,activated:h,onSelect:this.onSelect,onMouseDown:this.onSelecting,hasMoreMatches:this.props.hasMoreMatches,leadingComponent:l}))}}]),n}(c.default.Component);return t.propTypes={typeAheadDropdownClass:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.element]),onBlur:f.PropTypes.func,onKeyDown:f.PropTypes.func,onChange:f.PropTypes.func,onSelectItem:f.PropTypes.func,onTAStepAt:f.PropTypes.func,onTACancel:f.PropTypes.func,value:f.PropTypes.any,matched:f.ImmutablePropTypes.list,hasMoreMatches:f.PropTypes.bool,leadingComponent:f.PropTypes.node},t.defaultProps={hasMoreMatches:!1},t};var u=n(0),c=function(e){return e&&e.__esModule?e:{default:e}}(u),p=n(6),f=n(1),d=n(2),h=n(4),y=n(25),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props.item;return c.default.createElement(y.SVGIconAndLabel,{className:(0,d.prefixNS)("object-search-item-renderer"),src:e.get("icon",""),label:e.get("title","")})}}]),t}(c.default.Component);m.propTypes={item:f.ImmutablePropTypes.map};var g=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.inputString,n=e.matched,o=e.activated,a=e.leadingComponent,i=r(e,["inputString","matched","activated","leadingComponent"]);return delete i.hasMoreMatches,c.default.createElement(p.Dropdown.Menu,s({className:(0,d.prefixNS)("formcontrols-withtypeahead-menu")},i),c.default.createElement("div",null,a),n.map(function(e,n){return c.default.createElement(p.MenuItem,{eventKey:n,key:n,active:n===o,disabled:!e.get("rest_url")},c.default.createElement(m,{inputString:t,item:e}))}),this.props.hasMoreMatches?c.default.createElement("div",{className:(0,d.prefixNS)("formcontrols-withtypeahead-has-more")},(0,h.formatStr)("has_more")):null)}}]),t}(c.default.Component);g.propTypes={inputString:f.PropTypes.string,activated:f.PropTypes.number,matched:f.ImmutablePropTypes.list,hasMoreMatches:f.PropTypes.bool,leadingComponent:f.PropTypes.node};var b=0},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(19),p=n(0),f=o(p),d=n(1),h=n(16),y=o(h),m=n(2),g=n(179),b=n(10),v=n(4),_=n(27),S=n(3),O=o(S),T=n(200),E=o(T),C=n(350),w=o(C),P=n(351),N=o(P),I=n(352),R=o(I),j=n(353),x=o(j),M=n(354),A=r(M),k=n(356),D=r(k),L=n(18),F=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.selectionChanged=n.selectionChanged.bind(n),n.askDeleteConfirm=n.askDeleteConfirm.bind(n),n.toggleFilter=n.toggleFilter.bind(n),n.updateContextObject=n.updateContextObject.bind(n),n.cancelConflictResolving=n.cancelConflictResolving.bind(n),n.renameConflictedFile=n.renameConflictedFile.bind(n),n.overwriteConflictedFile=n.overwriteConflictedFile.bind(n),n.registerOperationMenu=n.registerOperationMenu.bind(n),n.getMenuOperations=n.getMenuOperations.bind(n),n.registerQuickAccessMenu=n.registerQuickAccessMenu.bind(n),n.getQuickAccessOperations=n.getQuickAccessOperations.bind(n),n.requestPromise=null,n.operations=null,n.dropzone=null,n.columns=(0,x.default)(),n.state={opContextUrl:null,enableFilterField:!1,showDeleteDialog:!1,showRenameInput:!1,originalFilename:"",renameURL:null,deleteURL:null,showProgress:!1,maxFiles:0,currentFile:0,hoverRow:-1,table:n.prepareTable(),minifiedTable:A.prepareMinifiedTable(),initSelected:void 0,expanded:e.expanded,contextObject:n.props.contextObject,conflicted_filenames:O.default.List(),queued_for_upload:O.default.List(),queued_for_overwrite:O.default.List()},n.selectedRows=[],n.selectionInfo=L.OPERATION_ACTIVATION_MODES.NO_SELECTION,n.uploadInProgress=!1,n.operationMenu=null,n.quickAccessMenu=null,A.registerWindowUnloadListener(),void 0!==e.contextObject&&e.ensureFileTargetsAvailable(e.contextObject.get("@id")),n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){var t=this.state.contextObject;e.contextObject?t!==e.contextObject&&(t&&t.get("@id")===e.contextObject.get("@id")&&t.hasIn(["relship:files","targets"])||(e.ensureFileTargetsAvailable(e.contextObject.get("@id")),this.setState({contextObject:e.contextObject}))):this.setState({contextObject:void 0})}},{key:"prepareTable",value:function(){var e=this,t=(0,g.getDefaultTableOptions)(),n=f.default.createElement(R.default,{ref:this.registerOperationMenu,getMenuOperations:this.getMenuOperations});return t.toolbarButtons.push({toolbarButtons:[function(){return f.default.createElement(N.default,{ref:e.registerQuickAccessMenu,getMenuOperations:e.getQuickAccessOperations,dropdown:n})}]}),(0,g.DefaultTable)(t)}},{key:"registerQuickAccessMenu",value:function(e){this.quickAccessMenu=e}},{key:"registerOperationMenu",value:function(e){this.operationMenu=e}},{key:"getQuickAccessOperations",value:function(){return this.operations?A.getQuickAccessOps(this.mapOperationsToActions(),this.props.quickAccess,this.selectionInfo):[]}},{key:"getMenuOperations",value:function(){return this.operations?A.getMenuOps(this.mapOperationsToActions(),this.selectionInfo):[]}},{key:"cancelRequest",value:function(){null!==this.requestPromise&&(this.requestPromise.cancel(),this.requestPromise=null)}},{key:"updateOpContext",value:function(e){var t=this;this.setState({opContextUrl:e}),this.cancelRequest(),this.requestPromise=(0,m.makeCancelable)((0,b.getJSON)(e)),this.requestPromise.promise.then(function(e){t.requestPromise=null,t.operations=O.default.fromJS(e),t.setState({table:t.prepareTable()})},function(e){t.requestPromise=null,!0!==e.isCanceled&&t.props.notifyError(e,null,"Error","danger")})}},{key:"componentDidMount",value:function(){this.updateOpContext(A.getOpContextUrl())}},{key:"componentWillUnmount",value:function(){this.cancelRequest()}},{key:"cancelConflictResolving",value:function(){this.setState(A.NO_CONFLICTS)}},{key:"proceedWithUpload",value:function(){0===this.state.conflicted_filenames.count()&&this.createFile(this.state.queued_for_upload.toJS())}},{key:"renameConflictedFile",value:function(e,t){var n=this;e.name_alt=t,this.setState({conflicted_filenames:this.state.conflicted_filenames.remove(0),queued_for_upload:this.state.queued_for_upload.push(e)},function(){n.proceedWithUpload()})}},{key:"overwriteConflictedFile",value:function(e){var t=this;this.setState({conflicted_filenames:this.state.conflicted_filenames.remove(0),queued_for_overwrite:this.state.queued_for_overwrite.push(e)},function(){t.proceedWithUpload()})}},{key:"updateContextObject",value:function(){var e=this;this.props.fetchObject(this.state.contextObject.get("@id")).then(function(t){e.setState({contextObject:O.default.fromJS(t)})})}},{key:"toggleFilter",value:function(){this.setState({enableFilterField:!this.state.enableFilterField})}},{key:"downloadFiles",value:function(){var e=this,t=this.selectedRows.map(function(t){return A.files(e.state.contextObject).get(t).get("@id")}),n=!0,r=!1,o=void 0;try{for(var a,i=t[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){var s=a.value;window.open(s)}}catch(e){r=!0,o=e}finally{try{!n&&i.return&&i.return()}finally{if(r)throw o}}this.selectedRows=[],this.setState({selectionInfo:L.OPERATION_ACTIVATION_MODES.NO_SELECTION,initSelected:O.default.OrderedSet()},function(){return e.setState({initSelected:void 0})})}},{key:"showRenameDialog",value:function(e){var t=A.files(this.state.contextObject).get(this.selectedRows[0]);this.setState({renameURL:e,originalFilename:t.get("cdbf_name"),showRenameInput:!0})}},{key:"renameFile",value:function(e){var t=this,n=this.state.originalFilename;this.state.renameURL&&this.performOperation(this.state.renameURL,{cdbf_name:A.baseToFileName(e,n)}).then(function(){t.setState({showRenameInput:!1,renameURL:null,selectionInfo:L.OPERATION_ACTIVATION_MODES.NO_SELECTION,initSelected:O.default.OrderedSet()},function(){return t.setState({initSelected:void 0})}),t.selectedRows=[],t.updateContextObject()})}},{key:"deleteFiles",value:function(){var e=this;this.state.deleteURL&&this.performOperation(this.state.deleteURL,{}).then(function(){e.setState({showDeleteDialog:!1,deleteURL:null,selectionInfo:L.OPERATION_ACTIVATION_MODES.NO_SELECTION,initSelected:O.default.OrderedSet()},function(){return e.setState({initSelected:void 0})}),e.selectedRows=[],e.updateContextObject()})}},{key:"createFile",value:function(e){var t=this;if(e){var n=O.default.List(),r=O.default.List();if(e.map(function(e){var o=!1;return A.files(t.state.contextObject).map(function(t){return e.name===t.get("cdbf_name","")&&(e.name_alt?e.name_alt===t.get("cdbf_name","")&&(o=!0):o=!0,e.overwrite_url=t.get("@id")),r}),o?r=r.push(e):n=n.push(e),r}),r.count()>0)return void this.setState({conflicted_filenames:r,queued_for_upload:n,queued_for_overwrite:O.default.List()});this.setState({showProgress:!0,maxFiles:e.length+this.state.queued_for_overwrite.count(),currentFile:0}),this.uploadInProgress=!0;var o=this.props,a=o.uploadURL,i=o.contextObject,s=a||i.get("@id")+"/files",l=e.map(function(e){return function(){return t.setState({currentFile:t.state.currentFile+1}),(0,b.postForm)(s,A.getFileUploadFormData(e))}}),u=this.state.queued_for_overwrite.map(function(e){return function(){t.setState({currentFile:t.state.currentFile+1});var n={method:"PUT",headers:{Accept:"application/json","Content-Type":"application/octet-stream","Content-Length":e.size},body:e};return(0,b.fetchAndCheck)(e.overwrite_url,n).then(function(e){return e.text().then(function(e){return e?Promise.resolve(JSON.parse(e)):Promise.resolve(e)})})}});l=l.concat(u.toJS()),(0,m.makeSequence)(l).catch(function(e){return t.props.notifyError(e,null,"Error","danger")}).then(function(){t.updateContextObject(),t.setState({showProgress:!1,initSelected:O.default.OrderedSet(),conflicted_filenames:O.default.List(),queued_for_upload:O.default.List(),queued_for_overwrite:O.default.List()},function(){return t.setState({initSelected:void 0})}),t.uploadInProgress=!1})}}},{key:"selectionChanged",value:function(e){var t=this;this.selectedRows=e.toJS(),this.selectionInfo=A.getSelectionInfo(this.selectedRows.length),this.quickAccessMenu&&this.quickAccessMenu.updateContext(),this.operationMenu&&this.operationMenu.updateContext(),this.props.onSelect&&this.props.onSelect(e.map(function(e){return A.files(t.state.contextObject).get(e)}))}},{key:"askDeleteConfirm",value:function(){this.setState({showDeleteDialog:!0})}},{key:"wrappedPerformOperation",value:function(e,t){var n=O.default.Map(this.operations.map(function(e){return[e.get("opname"),e]})),r=n.get("CDB_Modify").get("submit_url");this.selectedRows=[e],this.performOperation(r,t)}},{key:"performOperation",value:function(e,t){var n=this,r=this.selectedRows.map(function(e){return A.files(n.state.contextObject).get(e)});return(0,m.makeSequence)(A.performOpCallables(e,t,r)).catch(function(e){return n.props.notifyError(e,null,"Error","danger")}).then(function(){n.selectedRows=[],n.setState({selectionInfo:L.OPERATION_ACTIVATION_MODES.NO_SELECTION,initSelected:O.default.OrderedSet()},function(){return n.setState({initSelected:void 0})}),n.updateContextObject()})}},{key:"getSpecialActions",value:function(e){var t=this,n=e.get("CDB_Modify").get("submit_url");return{CDB_Delete:[{callback:function(){t.setState({deleteURL:e.get("CDB_Delete").get("submit_url")},t.askDeleteConfirm)}}],CDB_Modify:[D.getFileRenameAction(this.showRenameDialog.bind(this,n)),D.getSetMainFileAction(this.performOperation.bind(this,n,{cdbf_primary:"1"})),D.getUnsetMainFileAction(this.performOperation.bind(this,n,{cdbf_primary:"0"}))],CDB_Import:[D.getCDBImportAction(function(){return t.dropzone.choose()})],CDB_Export:[D.getCDBExportAction(this.downloadFiles.bind(this))]}}},{key:"mapOperationsToActions",value:function(){var e=this,t=O.default.Map(this.operations.map(function(e){return[e.get("opname"),e]})),n=this.getSpecialActions(t),r=!1,o=t.map(function(t,o){if("CDB_Edit"===o)return t.get("submit_url")&&(r=!0),[];if(o in n){var a=[],i=!0,s=!1,l=void 0;try{for(var u,c=n[o][Symbol.iterator]();!(i=(u=c.next()).done);i=!0){var p=u.value;a.push(t.merge(p).toObject())}}catch(e){s=!0,l=e}finally{try{!i&&c.return&&c.return()}finally{if(s)throw l}}return a}return[{label:t.get("label"),icon:t.get("icon"),tooltip:t.get("tooltip"),callback:e.performOperation.bind(e,t.get("submit_url"),{}),activation_mode:t.get("activation_mode")}]});return r?A.addEditAction(o,this.state.contextObject,this.selectedRows):o}},{key:"fillRows",value:function(){return this.props.minified?A.files(this.state.contextObject).map(function(e,t){return A.generateMinifiedRowEntry(e,t)}):A.files(this.state.contextObject).map(function(e,t){return A.generateRowEntry(e,t)})}},{key:"getOverlay",value:function(){return this.state.expanded&&this.state.showProgress?A.getFileStepOverlay(this.state.currentFile,this.state.maxFiles):null}},{key:"expansionChanged",value:function(e){this.setState({expanded:e})}},{key:"renderMinified",value:function(){var e=this.state.minifiedTable;return f.default.createElement("div",{className:(0,d.classNames)((0,m.prefixNS)("filelist"),(0,m.prefixNS)("filelist--minified"))},f.default.createElement(e,l({},this.columns.minified,{rows:this.fillRows(),title:(0,v.formatStr)("file_table_panel"),singleSelection:!1,expanded:!0,onExpansionChanged:this.expansionChanged.bind(this),initSelected:this.state.initSelected,onSelectRows:this.selectionChanged})))}},{key:"render",value:function(){var e=this;if(this.props.minified)return this.renderMinified();var t=this.state.table;return f.default.createElement("div",{className:(0,m.prefixNS)("filelist")},f.default.createElement(t,l({},this.columns.normal,{contentHeight:"200px",rows:this.fillRows(),title:(0,v.formatStr)("file_table_panel"),settingID:A.SETTING_ID,withSelector:!0,singleSelection:!1,expanded:this.state.expanded,onExpansionChanged:this.expansionChanged.bind(this),initSelected:this.state.initSelected,onSelectRows:this.selectionChanged})),f.default.createElement(E.default,{autoHide:!0,onDrop:this.createFile.bind(this),className:A.getDropzoneClass(this.state.expanded),ref:function(t){e.dropzone=t}},f.default.createElement("p",null,(0,v.formatStr)("file_table_drop"))),this.getOverlay(),f.default.createElement(y.default.Alert,{title:(0,v.formatStr)("file_table_modal_delete_title"),ActionButton:f.default.createElement(y.default.Buttons.Delete,null),onConfirm:this.deleteFiles.bind(this),onHide:function(){return e.setState({showDeleteDialog:!1})},show:this.state.showDeleteDialog},(0,v.formatStr)("file_table_modal_delete_text")),f.default.createElement(y.default.InputDialog,{title:(0,v.formatStr)("file_table_rename_file_action"),value:A.fileToBaseName(this.state.originalFilename),ActionButton:f.default.createElement(y.default.Buttons.Rename,null),showCancel:!0,show:this.state.showRenameInput,onSubmitValue:this.renameFile.bind(this),isValueValid:y.default.InputDialog.NO_EMPTY_VALUE,onHide:function(){return e.setState({showRenameInput:!1})}},f.default.createElement("h4",null,(0,v.formatStr)("file_table_rename_dialog_text"))),f.default.createElement(w.default,{visible:this.state.conflicted_filenames.count()>0,file:this.state.conflicted_filenames.first(),onCancel:this.cancelConflictResolving,onRename:this.renameConflictedFile,onOverwrite:this.overwriteConflictedFile}))}}]),t}(f.default.Component);F.propTypes={contextObject:d.PropTypes.instanceOf(O.default.Map).isRequired,onSelect:d.PropTypes.func,notifyError:d.PropTypes.func,fetchObject:d.PropTypes.func,ensureFileTargetsAvailable:d.PropTypes.func,uploadURL:d.PropTypes.string,quickAccess:d.PropTypes.arrayOf(d.PropTypes.string),expanded:d.PropTypes.bool,minified:d.PropTypes.bool},F.defaultProps={quickAccess:["CDB_Import","CDB_Export","CDB_Delete"],expanded:!1};var B={addNotification:c.addNotification,notifyError:c.notifyError,fetchObject:_.fetchObject,ensureFileTargetsAvailable:_.ensureFileTargetsAvailable};t.default=(0,d.connect)(void 0,B)(F)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(16),f=r(p),d=n(4),h=n(2),y=n(201),m=r(y),g=n(15),b=r(g),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedOption:"overwrite",newName:"",textClass:""},n.onOK=n.onOK.bind(n),n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.file&&e.file.name!==this.state.newName&&this.setState({newName:e.file.name})}},{key:"onOK",value:function(){this.setState({textClass:""}),"overwrite"===this.state.selectedOption?this.props.onOverwrite(this.props.file):""!==this.state.newName&&this.state.newName!==this.props.file.name?this.props.onRename(this.props.file,this.state.newName):this.setState({textClass:(0,h.prefixNS)("filelist__mandatory-indicator")})}},{key:"render",value:function(){var e=this,t=this.props.file?this.props.file.name:"";return u.default.createElement(f.default.Dialog,{title:(0,d.formatStr)("file_table_modal_conflict_header"),buttons:[u.default.createElement(f.default.Buttons.Ok,{key:"ok",onClick:this.onOK}),u.default.createElement(f.default.Buttons.Cancel,{key:"cancel",onClick:this.props.onCancel})],size:f.default.SIZE_SMALL,show:this.props.visible,showCancel:!0,onHide:this.props.onCancel,onAction:this.onOK},(0,d.formatStr)("file_table_modal_conflict_msg",{name:t}),u.default.createElement(m.default,{label:(0,d.formatStr)("file_table_modal_conflict_overwrite"),name:"radio_overwrite",checked:"overwrite"===this.state.selectedOption,onClick:function(){e.setState({selectedOption:"overwrite"})}}),u.default.createElement(m.default,{label:(0,d.formatStr)("file_table_modal_conflict_rename"),checked:"overwrite"!==this.state.selectedOption,name:"radio_rename",onClick:function(){e.setState({selectedOption:"rename"})}}),u.default.createElement(b.default,{value:this.state.newName,name:"text_fname",disabled:"overwrite"===this.state.selectedOption,onChange:function(t){e.setState({newName:t.target.value})},className:this.state.textClass}))}}]),t}(u.default.Component);t.default=v,v.propTypes={visible:c.PropTypes.bool,onCancel:c.PropTypes.func,onOverwrite:c.PropTypes.func,onRename:c.PropTypes.func,file:c.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(30),p=r(c),f=n(1),d=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={menuItems:n.props.getMenuOperations()},n}return i(t,e),s(t,[{key:"updateContext",value:function(){this.setState({menuItems:this.props.getMenuOperations()})}},{key:"render",value:function(){return u.default.createElement(p.default,null,this.state.menuItems,this.props.dropdown)}}]),t}(u.default.Component);t.default=d,d.propTypes={getMenuOperations:f.PropTypes.func.isRequired,dropdown:f.PropTypes.object.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(4),f=n(20),d=r(f),h=d.default.DropdownIconButton,y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={menuItems:n.props.getMenuOperations()},n}return i(t,e),s(t,[{key:"updateContext",value:function(){this.setState({menuItems:this.props.getMenuOperations()})}},{key:"render",value:function(){return u.default.createElement(h,{id:"file_actions",iconName:"csweb_table_toolbar_option_h",size:"sm",title:(0,p.formatStr)("toolbar_further_operations"),buttonStyle:"info",noCaret:!0,pullRight:!0},this.state.menuItems)}}]),t}(u.default.Component);t.default=y,y.propTypes={getMenuOperations:c.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){return t.displayName=e,t}function a(e){var t=e,n=-1,r=[" kB"," MB"," GB"," TB"," PB"," EB"," ZB"," YB"];do{t/=1024,n++}while(t>1024);return Math.max(t,.1).toFixed(1)+r[n]}function i(){var e=(0,f.getAppSetup)().getIn(["appSettings","userPersno"]),t=h.default.fromJS([{width:"50px",label:(0,u.formatStr)("file_table_header_locked_status"),tooltip:(0,u.formatStr)("file_table_header_locked_status_tooltip"),id:"locked",contentRenderer:o("LockedRenderer",function(t){return t.value.get("sortableValue")?l.default.createElement("div",{className:(0,f.prefixNS)("filelist__state-indicator")},t.value.get("lockedBy")===e?l.default.createElement(p.default,{name:"cdb_doc_locked_usr",size:"xs"}):l.default.createElement(p.default,{name:"cdb_doc_locked",size:"xs"})):null})},{width:"300px",label:(0,u.formatStr)("file_table_header_file_name"),tooltip:(0,u.formatStr)("file_table_header_file_name_tooltip"),id:"name",contentRenderer:o("FileNameRenderer",function(e){return"1"===e.value.get("main")?l.default.createElement("a",{href:e.value.get("alink"),className:(0,f.prefixNS)("filelist__primary")},e.value.get("sortableValue")):l.default.createElement("a",{href:e.value.get("alink")},e.value.get("sortableValue"))})},{width:"175px",label:(0,u.formatStr)("file_table_header_file_type"),tooltip:(0,u.formatStr)("file_table_header_file_type_tooltip"),id:"type",contentRenderer:o("FileTypeRenderer",function(e){var t="1"===e.value.get("main")?(0,f.prefixNS)("filelist__primary"):"";return l.default.createElement("span",{className:t},l.default.createElement(m.default,{label:e.value.get("sortableValue"),icon:l.default.createElement(p.default,{src:e.value.get("icon"),size:"xs"})}))})},{width:"125px",label:(0,u.formatStr)("file_table_header_file_size"),tooltip:(0,u.formatStr)("file_table_header_file_size_tooltip"),id:"size",sortFunction:function(e,t){return e[0].get("sortableValue")===t[0].get("sortableValue")?0:e[0].get("sortableValue")>t[0].get("sortableValue")?1:-1},contentRenderer:o("FileSizeRenderer",function(e){var t=a(e.value.get("sortableValue")),n="1"===e.value.get("main")?(0,f.prefixNS)("filelist__primary"):"";return l.default.createElement("span",{className:n},t)})},{width:"160px",label:(0,u.formatStr)("file_table_header_file_mdate"),tooltip:(0,u.formatStr)("file_table_header_file_mdate_tooltip"),id:"mdate",contentRenderer:o("FileMdateRenderer",function(e){var t="1"===e.value.get("main")?(0,f.prefixNS)("filelist__primary"):"";return l.default.createElement("span",{className:t},e.value.get("sortableValue"))})},{label:(0,u.formatStr)("file_table_header_file_autor"),tooltip:(0,u.formatStr)("file_table_header_file_autor_tooltip"),id:"author",contentRenderer:o("FileAutorRenderer",function(e){var t="1"===e.value.get("main")?(0,f.prefixNS)("filelist__primary"):"";return l.default.createElement("span",{className:t},e.value.get("sortableValue"))})}]);return{normal:{columns:t,orderedColumns:h.default.OrderedSet(t.map(function(e){return e.get("id")})),initSortColumns:h.default.fromJS([{id:t.getIn([0,"id"]),desc:!0}]).toOrderedSet()},minified:{columns:h.default.List([t.get(1),t.get(3)]).setIn([1,"width"],100),orderedColumns:h.default.fromJS([t.getIn([1,"id"]),t.getIn([3,"id"])]).toOrderedSet(),initSortColumns:h.default.fromJS([{id:t.getIn([1,"id"]),desc:!1}]).toOrderedSet()}}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),l=r(s),u=n(4),c=n(11),p=r(c),f=n(2),d=n(3),h=r(d),y=n(199),m=r(y);t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return["",e===H.OPERATION_ACTIVATION_MODES.NO_SELECTION?"":(0,F.prefixNS)("filelist__action-disabled"),e===H.OPERATION_ACTIVATION_MODES.SINGLE_SELECTION?"":(0,F.prefixNS)("filelist__action-disabled"),e===H.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION||e===H.OPERATION_ACTIVATION_MODES.SINGLE_SELECTION?"":(0,F.prefixNS)("filelist__action-disabled")]}function i(e){return e.substr(0,e.lastIndexOf("."))}function s(){return(0,F.getAppSetup)().getIn(["links","common","opContextPattern"]).replace("${classname}","cdb_file").replace("${opContextName}","WebUIFileControl")}function l(){return(0,F.getAppSetup)().getIn(["formats","dateTimeFormat"]).replace("hh","HH")}function u(e,t){var n=e;return n+=t.substr(t.lastIndexOf("."))}function c(){var e=this,t=function(t){if(e.uploadInProgress){var n=(0,B.formatStr)("file_table_upload_in_progress_warning");return t.returnValue=n,n}};window.addEventListener("beforeunload",t),window.addEventListener("unload",function(){return window.removeEventListener("beforeunload",t)})}function p(){return N.default.Manager({Table:N.default.Fixed(N.default.Table),Layout:N.default.ContentBlockLayout,providers:[N.default.sortable,N.default.selectable],columnActions:[N.default.sortable,N.default.selectable,N.default.columnResizer]})}function f(e){return e?e.getIn(["relship:files","targets"],R.default.List()):R.default.List()}function d(e,t,n){return e.filter(function(e,n){return t.includes(n)}).map(function(e,t){var r=n===H.OPERATION_ACTIVATION_MODES.NO_SELECTION&&"CDB_Import"!==t;return R.default.List(e).map(function(e){return w.default.createElement(k.IconButton,{onClick:e.callback,key:e.label,iconSrc:e.icon,title:e.tooltip,buttonStyle:"info",disabled:r})})}).valueSeq().flatten(!0).toArray()}function h(e,t){var n=a(t);return e.map(function(e){return R.default.List(e).map(function(e){return w.default.createElement(V,{onClick:e.callback,key:e.label,title:e.tooltip,className:n[e.activation_mode]},e.icon?w.default.createElement("img",{src:e.icon,width:"16",height:"16"}):null,"  ",e.label)})}).valueSeq().flatten(!0).toArray()}function y(e,t){return R.default.fromJS({id:""+t,className:"1"===e.get("cdbf_primary")?(0,F.prefixNS)("filelist-primary-file-row"):"",columns:[{sortableValue:e.get("cdbf_name"),alink:e.get("system:ui_link")||e.get("@id"),main:e.get("cdbf_primary")},{sortableValue:parseInt(e.get("cdbf_size")),main:e.get("cdbf_primary")}]})}function m(e,t){return R.default.fromJS({id:""+t,className:"1"===e.get("cdbf_primary")?(0,F.prefixNS)("filelist-primary-file-row"):"",columns:[{sortableValue:e.get("cdb_lock"),main:e.get("cdbf_primary"),lockedBy:e.get("cdb_lock")},{sortableValue:e.get("cdbf_name"),alink:e.get("system:ui_link")||e.get("@id"),main:e.get("cdbf_primary")},{sortableValue:e.get("cdbf_type"),icon:e.get("system:icon_link"),main:e.get("cdbf_primary")},{sortableValue:parseInt(e.get("cdbf_size")),main:e.get("cdbf_primary")},{sortableValue:(0,x.default)(e.get("cdb_mdate"),x.default.ISO_8601).format(l()),main:e.get("cdbf_primary")},{sortableValue:e.get("mapped_mpersno_name"),main:e.get("cdbf_primary")}]})}function g(e){return(0,z.classNames)((0,F.prefixNS)("filelist__dropzone"),o({},(0,F.prefixNS)("filelist__dropzone--collapsed"),!e))}function b(e,t,n){return n.map(function(n){var r={object_navigation_id:n?n.get("system:navigation_id"):null,values:t,operation_state:""};return function(){return(0,U.postJSON)(e,r)}})}function v(e){var t=e.name_alt?e.name_alt:e.name,n=new FormData;return n.append("content",e),n.append("metadata",JSON.stringify({cdbf_original_name:t,cdbf_name:t})),n}function _(e){return 0===e?H.OPERATION_ACTIVATION_MODES.NO_SELECTION:1===e?H.OPERATION_ACTIVATION_MODES.SINGLE_SELECTION:H.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION}function S(e,t){return w.default.createElement("div",{className:(0,F.prefixNS)("overlay")},w.default.createElement("div",{className:"progress-dialog"},w.default.createElement("p",null,(0,B.formatStr)("file_table_upload_progress",{fileno:e,filemax:t})),w.default.createElement(A.default,{hidden:!1})))}function O(e){return btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,t){return String.fromCharCode(parseInt(t,16))}))}function T(e,t){var n={object_name:t.get("system:description"),object_view_link:t.get("system:ui_link"),object_id:t.get("cdb_object_id"),file_name:e.get("cdbf_name"),file_link:e.get("@id")},r=JSON.stringify(n),o=O(r),a=window.location.protocol;a=a.substring(0,a.length-1);var i="cdbf://"+window.location.hostname+(""!==window.location.port?":"+window.location.port:"")+"/"+a+"/parameters?"+o;window.open(i,"_self")}function E(e,t,n){return e.set("editfile",[{label:(0,B.formatStr)("file_edit_label"),icon:"/resources/icons/byname/csweb_edit",tooltip:(0,B.formatStr)("file_edit_tooltip"),callback:function(){T(n.map(function(e){return f(t).get(e)})[0],t)},activation_mode:H.OPERATION_ACTIVATION_MODES.SINGLE_SELECTION}])}Object.defineProperty(t,"__esModule",{value:!0}),t.NO_CONFLICTS=t.SETTING_ID=void 0,t.fileToBaseName=i,t.getOpContextUrl=s,t.getDisplayFormat=l,t.baseToFileName=u,t.registerWindowUnloadListener=c,t.prepareMinifiedTable=p,t.files=f,t.getQuickAccessOps=d,t.getMenuOps=h,t.generateMinifiedRowEntry=y,t.generateRowEntry=m,t.getDropzoneClass=g,t.performOpCallables=b,t.getFileUploadFormData=v,t.getSelectionInfo=_,t.getFileStepOverlay=S,t.editFile=T,t.addEditAction=E;var C=n(0),w=r(C),P=n(39),N=r(P),I=n(3),R=r(I),j=n(23),x=r(j),M=n(49),A=r(M),k=n(8),D=n(20),L=r(D),F=n(2),B=n(4),H=n(18),z=n(1),U=n(10),V=L.default.MenuItem;t.SETTING_ID="FileList",t.NO_CONFLICTS={conflicted_filenames:R.default.List(),queued_for_upload:R.default.List(),queued_for_overwrite:R.default.List()}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDIxLjEuMCwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxNiAxNiIgZW5hYmxlLWJhY2tncm91bmQ9Im5ldyAwIDAgMTYgMTYiIHhtbDpzcGFjZT0icHJlc2VydmUiPgo8cGF0aCBpZD0icGF0aF80MV8iIGZpbGw9IiMwMDgwQzUiIGQ9Ik0xMC40LDQuNUM5LjcsNCw4LjksMy43LDgsMy43QzUuNiwzLjcsMy43LDUuNiwzLjcsOGMwLDIuNCwxLjksNC4zLDQuMyw0LjNzNC4zLTEuOSw0LjMtNC4zCgloMS41YzAsMy4yLTIuNiw1LjgtNS44LDUuOFMyLjIsMTEuMiwyLjIsOFM0LjgsMi4yLDgsMi4yYzEuMywwLDIuNSwwLjQsMy41LDEuMkwxMC40LDQuNXoiLz4KPC9zdmc+Cg=="},function(e,t,n){"use strict";function r(e){return{label:(0,l.formatStr)("file_table_download_file_action"),tooltip:(0,l.formatStr)("file_table_download_file_action"),callback:e,icon:(0,c.getIcon)("csweb_download")}}function o(e){return{label:(0,l.formatStr)("file_table_upload_file_action"),tooltip:(0,l.formatStr)("file_table_upload_file_action"),callback:e,activation_mode:u.OPERATION_ACTIVATION_MODES.EVERYTIME,icon:(0,c.getIcon)("csweb_upload")}}function a(e){return{label:(0,l.formatStr)("file_table_rename_file_action"),tooltip:(0,l.formatStr)("file_table_rename_file_action"),callback:e}}function i(e){return{label:(0,l.formatStr)("file_table_set_main_file_action"),tooltip:(0,l.formatStr)("file_table_set_main_file_action"),callback:e,activation_mode:u.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION}}function s(e){return{label:(0,l.formatStr)("file_table_unset_main_file_action"),tooltip:(0,l.formatStr)("file_table_unset_main_file_action"),callback:e,activation_mode:u.OPERATION_ACTIVATION_MODES.MULTIPLE_SELECTION}}Object.defineProperty(t,"__esModule",{value:!0}),t.getCDBExportAction=r,t.getCDBImportAction=o,t.getFileRenameAction=a,t.getSetMainFileAction=i,t.getUnsetMainFileAction=s;var l=n(4),u=n(18),c=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(105),d=r(f),h=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelect=n.onSelect.bind(n),n.state={selection:void 0},n}return s(t,e),l(t,[{key:"onSelect",value:function(e){this.setState({selection:e.last()})}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.channelName,a=o(e,["children","className","channelName"]),i={selection:this.state.selection,onSelect:this.onSelect};return c.default.createElement(d.default.Provider,{channelName:r,channelValues:i},c.default.createElement("div",{className:n},c.default.Children.map(t,function(e){return c.default.cloneElement(e,a)})))}}]),t}(c.default.Component);t.default=h,h.propTypes={className:p.PropTypes.string,channelName:p.PropTypes.string},h.defaultProps={channelName:"fileSelection"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=m.default.OrderedSet();return{publish:function(e){t.forEach(function(t){return t(e)})},register:function(n){return t=t.add(n),n(e.currentState),function(){t=t.delete(n)}}}}Object.defineProperty(t,"__esModule",{value:!0});var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=n(0),d=r(f),h=n(1),y=n(3),m=r(y),g=n(2),b=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.channel=u(n),n.currentState=m.default.Map(),n}return l(t,e),p(t,[{key:"mergeState",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:m.default.Map(),n=this.currentState.mergeDeep(t.mergeDeep(m.default.fromJS(e.channelValues)));n!==this.currentState&&(this.currentState=n,this.channel.publish(n))}},{key:"getChannelsContext",value:function(){return c({},this.context.channels,a({},this.props.channelName,this.channel.register))}},{key:"getChildContext",value:function(){return{channels:this.getChannelsContext()}}},{key:"componentWillMount",value:function(){var e=this;if(this.props.channelName){var t=this.context.channels[this.props.channelName];t?this.unregister=t(function(t){e.mergeState(e.props,t)}):this.mergeState(this.props)}}},{key:"componentWillUnmount",value:function(){this.unregister&&this.unregister()}},{key:"componentWillReceiveProps",value:function(e){e.channelValues!==this.props.channelValues&&this.mergeState(e),e.channelName!==this.props.channelName&&g.Console.error("You cannot change <Provider channelName>")}},{key:"render",value:function(){var e=this.props,t=e.children,n=o(e,["children"]);return delete n.channelName,delete n.channelValues,d.default.cloneElement(d.default.Children.only(t),c({},n))}}]),t}(d.default.Component);t.default=b,b.propTypes={channelName:h.PropTypes.string.isRequired,channelValues:h.PropTypes.object},b.contextTypes={channels:h.PropTypes.object},b.childContextTypes={channels:h.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(3),h=r(d),y=n(2),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.values=h.default.Map(),n.state={values:n.values},n.unregister=[],n}return s(t,e),u(t,[{key:"subscribe",value:function(e,t){var n=this,r=this.context.channels[e];if(!r)return void y.Console.error('<Listener channelName="%s"> must be rendered in the context of a <Provider channelName="%s">',e,e);this.unregister[e]=r(function(e){var r=h.default.fromJS(t),o=r.map(function(t){return e.get(t)}),a=n.values.mergeDeep(o);a!==n.values&&(n.values=a,n.setState({values:a}))})}},{key:"componentWillMount",value:function(){var e=this,t=this.props,n=t.channelName,r=t.channelMapping,o=t.channels;void 0!==n?this.subscribe(n,r):o.forEach(function(t){e.subscribe(t.channelName,t.channelMapping)})}},{key:"componentWillReceiveProps",value:function(e){e.channelName===this.props.channelName&&e.channelMapping===this.props.channelMapping&&e.channels===this.props.channels||y.Console.error("You cannot change the channel subscription of a <Provider>.")}},{key:"componentWillUnmount",value:function(){this.unregister.forEach(function(e){e()})}},{key:"render",value:function(){var e=this.props,t=e.children,n=o(e,["children"]);return delete n.channelName,delete n.channelMapping,delete n.channels,p.default.cloneElement(p.default.Children.only(t),l({},n,this.state.values.toObject()))}}]),t}(p.default.Component);t.default=m,m.propTypes={channelName:f.PropTypes.string,channelMapping:f.PropTypes.object,channels:f.PropTypes.arrayOf(f.PropTypes.shape({channelName:f.PropTypes.string,channelMapping:f.PropTypes.object}))},m.defaultProps={channels:[]},m.contextTypes={channels:f.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.get("@type")}function l(e,t){var n=s(t.contextObject);return{contextType:e.typesById.get(n)}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(67),y=r(h),m=n(41),g=r(m),b=n(29),v=r(b),_=n(27),S=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){s(this.props.contextObject)!==s(e.contextObject)&&this.checkType(e)}},{key:"componentDidMount",value:function(){this.checkType(this.props)}},{key:"checkType",value:function(e){e.contextObject&&!e.contextType&&e.fetchType&&e.fetchType(s(e.contextObject))}},{key:"render",value:function(){var e=this.props,t=e.contextObject,n=e.contextType,r=e.onOperationSuccess,o=e.onOperationFailure,a=t.get("system:ui_link"),i=(0,d.getObjectImage)(t),s=t.get("system:description"),l=n?n.get("designation"):"";return p.default.createElement("div",{className:(0,d.prefixNS)("compact-header-tile")},p.default.createElement(y.default,{className:(0,d.prefixNS)("compact-header-tile__thumbnail"),imgSrc:i,fallbackSrc:t.get("system:icon_link"),size:"md",title:s}),p.default.createElement("div",{className:(0,d.prefixNS)("compact-header-tile__content")},p.default.createElement("div",{className:(0,d.prefixNS)("compact-header-tile__container")},p.default.createElement("div",{className:(0,d.prefixNS)("compact-header-tile__headerbar")},p.default.createElement("div",{className:(0,d.prefixNS)("compact-header-tile__type-desc"),title:l},l),p.default.createElement(g.default,{className:(0,d.prefixNS)("compact-header-tile__actions"),onSubmitSuccess:r,onSubmitFail:o,contextObject:t,iconSize:"sm"})),p.default.createElement(v.default,{className:(0,d.prefixNS)("compact-header-tile__title"),to:a,title:s,disabled:!a},s))))}}]),t}(p.default.PureComponent);S.propTypes={contextObject:f.ImmutablePropTypes.map.isRequired,contextType:f.ImmutablePropTypes.map,onOperationSuccess:f.PropTypes.func,onOperationFailure:f.PropTypes.func,fetchType:f.PropTypes.func},t.default=(0,f.connect)(l,{fetchType:_.fetchType})(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return{historyItems:e.historyItems}}Object.defineProperty(t,"__esModule",{value:!0}),t.History=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(4),c=n(0),p=r(c),f=n(6),d=n(1),h=n(79),y=n(2),m=n(11),g=r(m),b=n(25),v=t.History=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onToggleDropdown=n.onToggleDropdown.bind(n),n}return i(t,e),l(t,[{key:"onToggleDropdown",value:function(e){e&&this.props.initHistoryItems()}},{key:"render",value:function(){var e=this.props,t=e.historyItems,n=e.className,r=e.deleteHistoryItems,o=p.default.createElement("span",{title:(0,u.formatStr)("history_title")},p.default.createElement(g.default,{name:"csweb_history",className:(0,d.classNames)((0,y.prefixNS)("titlebar__icon"))})),a=(0,d.classNames)((0,y.prefixNS)("history"),n);return p.default.createElement(f.NavDropdown,{id:(0,y.prefixNS)("history"),title:o,className:a,onToggle:this.onToggleDropdown},t.map(function(e,t){return p.default.createElement(f.MenuItem,{key:t,href:e.get("frontend_url"),title:e.get("title"),target:"_blank",rel:"noopener"},p.default.createElement(b.SVGIconAndLabel,{"data-ce-id":"HistoryItem_"+t,label:e.get("title"),src:e.get("icon_url")}))}),p.default.createElement(f.MenuItem,{divider:!0}),p.default.createElement(f.MenuItem,{onClick:function(){r()}},(0,u.formatStr)("clear_recent")))}}]),t}(c.Component);v.propTypes={initHistoryItems:d.PropTypes.func.isRequired,deleteHistoryItems:d.PropTypes.func.isRequired,historyItems:d.ImmutablePropTypes.list.isRequired,className:d.PropTypes.string},t.default=(0,d.connect)(s,{initHistoryItems:h.initHistoryItems,deleteHistoryItems:h.deleteHistoryItems})(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.Toolbar=t.ToolbarSearchWithAdapter=t.ToolbarSearch=t.SEARCH_MODE_CONFIRM=t.SEARCH_MODE_TYPE_AHEAD=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(4),p=n(6),f=n(8),d=r(f),h=n(34),y=r(h),m=n(1),g=n(26),b=r(g),v=n(2),_=n(187),S=r(_),O=n(66),T=r(O),E=n(363),C=r(E),w=n(72),P=r(w),N=t.SEARCH_MODE_TYPE_AHEAD="search_mode_type_ahead",I=t.SEARCH_MODE_CONFIRM="search_mode_confirm",R=0,j=t.ToolbarSearch=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSearchTermChanged=n.onSearchTermChanged.bind(n),n.onPreviousResult=n.onPreviousResult.bind(n),n.onNextResult=n.onNextResult.bind(n),n.onSubmitSearch=n.onSubmitSearch.bind(n),n.onSearchKeyPress=n.onSearchKeyPress.bind(n),n.setSearchStateActive=n.setSearchStateActive.bind(n),n.setSearchStateResults=n.setSearchStateResults.bind(n),n.setSearchStateInactive=n.setSearchStateInactive.bind(n),n.setSearchTerm=n.setSearchTerm.bind(n),n.clearSearchResult=n.clearSearchResult.bind(n),n.state={searchState:R,searchTerm:"",previousResult:!1,nextResult:!1,selectedResult:void 0,resultCount:void 0,searchIsRunning:!1},n}return i(t,e),s(t,[{key:"componentWillReceiveProps",value:function(){this.setState(this.props.getNavigationState())}},{key:"setSearchState",value:function(e){var t=this,n=this.state.searchState;this.setState({searchState:e},function(){t.inputField&&t.inputField.focus()}),e===R&&this.setState({searchTerm:""}),2===n&&2!==e?this.props.onClearResults():2===e&&this.props.searchMode===I&&this.props.onSendQuery(this.state.searchTerm).then(function(){return t.setState(t.props.getNavigationState())})}},{key:"setSearchStateActive",value:function(){this.setSearchState(this.props.searchMode===N?2:1)}},{key:"setSearchStateResults",value:function(){this.setSearchState(2)}},{key:"setSearchStateInactive",value:function(){this.setSearchState(R)}},{key:"clearSearchResult",value:function(){this.setSearchTerm("")}},{key:"onSubmitSearch",value:function(e){switch(e.preventDefault(),this.state.searchState){case 1:this.setSearchState(2);break;case 2:this.onNextResult()}}},{key:"onSearchTermChanged",value:function(e){return this.setSearchTerm(e.target.value)}},{key:"setSearchTerm",value:function(e){var t=this;this.setState({searchTerm:e}),this.props.searchMode===N?this.props.onSendQuery(e).then(function(){return t.setState(t.props.getNavigationState())}):2===this.state.searchState&&this.setSearchState(1)}},{key:"onPreviousResult",value:function(){var e=this;this.props.onPreviousResult().then(function(){return e.setState(e.props.getNavigationState())})}},{key:"onNextResult",value:function(){var e=this;this.props.onNextResult().then(function(){return e.setState(e.props.getNavigationState())})}},{key:"onSearchKeyPress",value:function(e){switch(e.keyCode){case 13:this.setSearchState(2)}}},{key:"onResultKeyPress",value:function(e){switch(e.keyCode){case 27:this.setSearchTerm("");break;case 38:this.onPreviousResult();break;case 13:case 40:this.onNextResult()}}},{key:"render",value:function(){var e=this;return this.inputField=null,this.state.searchState===R?u.default.createElement(d.default.IconButton,{iconSrc:S.default,buttonStyle:"primary",title:(0,c.formatStr)("tree_search_tooltip"),onClick:this.setSearchStateActive}):1===this.state.searchState?u.default.createElement("div",{className:(0,v.prefixNS)("ToolbarSearchWrapper")},u.default.createElement(p.InputGroup,{className:(0,v.prefixNS)("toolbar-search")},u.default.createElement(p.FormControl,{inputRef:function(t){e.inputField=t},onKeyDown:this.onSearchKeyPress,type:"text",label:"Foofoo",placeholder:(0,c.formatStr)("search_for",{product:""}),value:this.state.searchTerm,tabIndex:this.props.tabIndex,onChange:this.onSearchTermChanged}),u.default.createElement(p.InputGroup.Button,null,u.default.createElement(d.default.IconButton,{onClick:this.state.searchTerm?this.setSearchStateResults:void 0,disabled:""===this.state.searchTerm,buttonStyle:"primary",title:(0,c.formatStr)("tree_search_tooltip"),iconSrc:S.default,size:"sm"}),u.default.createElement(d.default.IconButton,{onClick:this.setSearchStateInactive,buttonStyle:"danger",title:(0,c.formatStr)("tree_search_close_tooltip"),iconSrc:T.default,size:"sm"})))):2===this.state.searchState?u.default.createElement("div",{className:(0,v.prefixNS)("ToolbarSearchWrapper")},u.default.createElement(p.InputGroup,{className:0===this.state.resultCount?(0,v.prefixNS)("toolbar-search")+" bg-danger":(0,v.prefixNS)("toolbar-search")},u.default.createElement(p.FormControl,{inputRef:function(t){e.inputField=t},onKeyDown:this.onResultKeyPress.bind(this),type:"text",label:"Foofoo",placeholder:"Enter search",value:this.state.searchTerm,tabIndex:this.props.tabIndex,onChange:this.onSearchTermChanged}),u.default.createElement(p.InputGroup.Button,null,u.default.createElement(d.default.IconButton,{disabled:!this.state.previousResult,buttonStyle:"primary",title:(0,c.formatStr)("tree_search_previous_tooltip"),onClick:this.state.previousResult?this.onPreviousResult:void 0,iconSrc:C.default}),u.default.createElement(d.default.IconButton,{disabled:!this.state.nextResult,buttonStyle:"primary",title:(0,c.formatStr)("tree_search_next_tooltip"),onClick:this.state.nextResult?this.onNextResult:void 0,iconSrc:P.default}),u.default.createElement(d.default.IconButton,{onClick:this.clearSearchResult,buttonStyle:"danger",title:(0,c.formatStr)("tree_search_close_tooltip"),iconSrc:T.default})))):null}}]),t}(u.default.Component);j.propTypes={searchMode:m.PropTypes.oneOf([N,I]),tabIndex:m.PropTypes.number,getNavigationState:m.PropTypes.func.isRequired,onSendQuery:m.PropTypes.func.isRequired,onClearResults:m.PropTypes.func.isRequired,onNextResult:m.PropTypes.func.isRequired,onPreviousResult:m.PropTypes.func.isRequired};var x=m.PropTypes.shape({getNavigationState:m.PropTypes.func.isRequired,onSendQuery:m.PropTypes.func.isRequired,onClearResults:m.PropTypes.func.isRequired,onNextResult:m.PropTypes.func.isRequired,onPreviousResult:m.PropTypes.func.isRequired}),M=t.ToolbarSearchWithAdapter=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(j,{searchMode:this.props.searchMode,getNavigationState:this.props.searchAdapter.getNavigationState,onSendQuery:this.props.searchAdapter.onSendQuery,onPreviousResult:this.props.searchAdapter.onPreviousResult,onNextResult:this.props.searchAdapter.onNextResult,onClearResults:this.props.searchAdapter.onClearResults})}}]),t}(u.default.Component);M.propTypes={searchMode:m.PropTypes.oneOf([N,I]),searchAdapter:x.isRequired};var A={search:function(e,t){return u.default.createElement(M,{key:e,searchMode:t.mode,searchAdapter:t.adapter})},button:function(e,t){return t.iconSrc?u.default.createElement(d.default.IconButton,{key:e,title:t.title,buttonStyle:t.style,iconSrc:t.iconSrc,onClick:t.func}):u.default.createElement(d.default.IconButton,{key:e,title:t.title,buttonStyle:t.style,iconName:t.icon,onClick:t.func})},menu:function(e,t){return u.default.createElement(d.default.DropdownIconButton,{key:e,id:"file_actions",buttonStyle:t.style,iconName:t.icon,noCaret:!0,pullRight:!0},t.conf.map(function(e,t){return A[e.type](t,e)}))},item:function(e,t){return u.default.createElement(p.MenuItem,{key:e,onClick:t.func},u.default.createElement(b.default,{name:t.icon,size:"sm"})," "+t.title)}};(t.Toolbar=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){return u.default.createElement(y.default,null,this.props.config.slice(0).reverse().map(function(e,t){return A[e.type](t,e)}))}}]),t}(u.default.Component)).propTypes={config:m.PropTypes.array.isRequired}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmNoZXZyb24tdXA8L2Npcy1uYW1lPg08cG9seWdvbiBmaWxsPSIjOTk5OTk5IiBwb2ludHM9IjExLDEyIDcuNSw4LjUgMy45LDEyIDIsMTAgNy41LDQuNSAxMywxMCAiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e){if(!e.getClientRects().length)return{top:0,left:0};var t=e.getBoundingClientRect(),n=e.ownerDocument.defaultView;return{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(void 0!==e&&void 0!==t){var o=r(e),a=r(t),i=a.top<o.top,s=a.top+t.clientHeight>o.top+e.clientHeight,l=a.left<n+o.left,u=a.left+t.clientWidth>o.left+e.clientWidth;return!(i||s||l||u)}}function a(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return function(n){if(void 0!==e&&void 0!==n){var o=r(e),a=r(n),i=a.top<o.top,s=a.top+n.clientHeight>o.top+e.clientHeight,l=a.left<t+o.left,u=a.left+n.clientWidth>o.left+e.clientWidth;(i||s)&&(e.scrollTop+=a.top-o.top-e.clientHeight/2),u?e.scrollLeft+=a.left+n.clientWidth-(o.left+e.clientWidth):l&&(e.scrollLeft-=t-a.left+o.left)}}}Object.defineProperty(t,"__esModule",{value:!0}),t.isInView=o,t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(1),h=n(26),y=r(h),m=n(11),g=r(m),b=n(2),v=n(72),_=r(v),S=n(91),O=r(S),T=n(205),E=r(T),C=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.toggleTreeNode=n.toggleTreeNode.bind(n),n}return l(t,e),c(t,[{key:"_ifSelectedScrollToMe",value:function(){var e=this.props.scrollToNode;this.selected()&&e(this.scrollTarget)}},{key:"selected",value:function(){return this.props.node.get("is_selected")}},{key:"toggleTreeNode",value:function(){this.props.toggleTreeNode(this.props.node.get("id"))}},{key:"selectTreeNode",value:function(e){var t=!0===this.props.multiSelect&&!0===e.ctrlKey;this.props.selectTreeNode(this.props.node,t)}},{key:"componentWillReceiveProps",value:function(e){var t=e.node;t.get("expanded")&&!this.props.node.get("expanded")&&0===t.get("children").size&&t.get("has_children")&&this.props.fetchNodeChildren(t)}},{key:"componentDidMount",value:function(){this._ifSelectedScrollToMe();var e=this.props.node;e.get("expanded")&&0===e.get("children").size&&e.get("has_children")&&this.props.fetchNodeChildren(e)}},{key:"componentDidUpdate",value:function(){this._ifSelectedScrollToMe()}},{key:"render",value:function(){var e,n=this,r=this.props.NodeRenderer,i=this.props,s=i.node,l=i.hide,c=a(i,["node","hide"]),p=s.get("children"),h=s.get("expanded"),m=s.get("has_children"),v=(0,d.classNames)((0,b.prefixNS)("tree-subtree"),(e={},o(e,(0,b.prefixNS)("tree-subtree-indented"),!l),o(e,(0,b.prefixNS)("tree-subtree__hidden"),!h),e));return f.default.createElement("div",{className:"tree-node"},f.default.createElement("div",{ref:function(e){n.scrollTarget=e}},l?void 0:[f.default.createElement("div",{key:"tree-icon",className:(0,b.prefixNS)("tree-icon"),onClick:this.toggleTreeNode},m?f.default.createElement(g.default,{src:h?_.default:O.default,size:"sm"}):void 0),f.default.createElement("div",{key:"tree-content","aria-expanded":h,className:(0,b.prefixNS)("tree-content"),onClick:this.selectTreeNode.bind(this)},f.default.createElement(r,u({searchMatch:this.props.searchResult.get(s.get("id"))},this.props)))]),f.default.createElement("div",{className:v},h&&m&&0===p.size?f.default.createElement(y.default,{src:E.default}):p.map(function(e){return f.default.createElement(t,u({key:e.get("id"),node:e},c))})))}}]),t}(f.default.PureComponent);t.default=C,C.propTypes={NodeRenderer:d.PropTypes.oneOfType([d.PropTypes.func,d.PropTypes.instanceOf(f.default.Component)]),keys:d.PropTypes.object.isRequired,node:d.ImmutablePropTypes.map.isRequired,hide:d.PropTypes.bool,multiSelect:d.PropTypes.bool,scrollToNode:d.PropTypes.func,selectTreeNode:d.PropTypes.func.isRequired,selectedId:d.PropTypes.string,toggleTreeNode:d.PropTypes.func.isRequired,fetchNodeChildren:d.PropTypes.func.isRequired,searchResult:d.ImmutablePropTypes.map},C.defaultProps={keys:{activeKeys:[],multiSelect:!1}}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmNvbGxhcHNlPC9jaXMtbmFtZT4NPGNpcy1zZW1hbnRpYz5wcmltYXJ5PC9jaXMtc2VtYW50aWM+DTxwYXRoIGZpbGw9IiMwMDgwQzUiIGQ9Ik0zLDYuNWMwLDEsMCw0LDAsNEMzLDEyLjcsNC4zLDE0LDYuNSwxNGg0YzIuMiwwLDMuNS0xLjMsMy41LTMuNXYtNEMxNCw0LjMsMTIuNywzLDEwLjUsM2gtNA0JQzQuMywzLDMsNC4zLDMsNi41eiBNMTEsNWMwLjUsMCwxLDAuNSwxLDF2NWMwLDAuNS0wLjUsMS0xLDFINmMtMC41LDAtMS0wLjUtMS0xVjZjMC0wLjUsMC41LTEsMS0xSDExeiBNOS45LDguMg0JYzAuMiwwLjIsMC4yLDAuNCwwLDAuNmwtMi41LDEuOUM3LjIsMTAuOSw3LDEwLjgsNywxMC41di00YzAtMC4zLDAuMi0wLjQsMC40LTAuMkw5LjksOC4yeiIvPg08L3N2Zz4N"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmV4cGFuZDwvY2lzLW5hbWU+DTxjaXMtc2VtYW50aWM+cHJpbWFyeTwvY2lzLXNlbWFudGljPg08cGF0aCBmaWxsPSIjMDA4MEM1IiBkPSJNMTAuNSwzYy0xLDAtNCwwLTQsMEM0LjMsMywzLDQuMywzLDYuNXY0QzMsMTIuNyw0LjMsMTQsNi41LDE0aDRjMi4yLDAsMy41LTEuMywzLjUtMy41di00DQlDMTQsNC4zLDEyLjcsMywxMC41LDN6IE0xMiwxMWMwLDAuNS0wLjUsMS0xLDFINmMtMC41LDAtMS0wLjUtMS0xVjZjMC0wLjUsMC41LTEsMS0xaDVjMC41LDAsMSwwLjUsMSwxVjExeiBNOC44LDkuOQ0JYy0wLjIsMC4yLTAuNCwwLjItMC42LDBMNi4zLDcuNEM2LjEsNy4yLDYuMiw3LDYuNSw3aDRjMC4zLDAsMC40LDAuMiwwLjIsMC40TDguOCw5Ljl6Ii8+DTwvc3ZnPg0="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return s.default.createElement(u.default,a({type:"password"},e))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var i=n(0),s=r(i),l=n(15),u=r(l),c=n(14);o.propTypes=a({},c.sharedTextInputProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(120),h=r(d),y=n(14),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={checkState:e.value},n.onToggle=n.onToggle.bind(n),n}return s(t,e),u(t,[{key:"onToggle",value:function(e){var n=t.checkStates.UNCHECKED;switch(this.state.checkState){case t.checkStates.UNCHECKED:n=t.checkStates.CHECKED;break;case t.checkStates.CHECKED:n=t.checkStates.INDETERMINATE}this.setState({checkState:n}),this.props.onStateChange&&this.props.onStateChange(n),this.props.onChange&&this.props.onChange(e)}},{key:"isIndeterminate",value:function(){return this.state.checkState!==t.checkStates.CHECKED&&this.state.checkState!==t.checkStates.UNCHECKED}},{key:"setIndeterminate",value:function(){this._input.indeterminate=this.isIndeterminate()}},{key:"componentDidMount",value:function(){this.setIndeterminate()}},{key:"componentDidUpdate",value:function(){this.setIndeterminate()}},{key:"componentWillReceiveProps",value:function(e){this.setState({checkState:e.value})}},{key:"render",value:function(){var e=this,n=this.state.checkState,r=n===t.checkStates.CHECKED,a=o(this.props,[]);return delete a.onStateChange,p.default.createElement(h.default,l({},a,{checked:r,inputRef:function(t){e._input=t},onClick:this.onToggle}))}}]),t}(c.Component);t.default=m,m.checkStates={UNCHECKED:"0",CHECKED:"1",INDETERMINATE:""},m.propTypes=l({},y.sharedProps,{value:f.PropTypes.oneOf([m.checkStates.UNCHECKED,m.checkStates.CHECKED,m.checkStates.INDETERMINATE]),onStateChange:f.PropTypes.func})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(0),f=r(p),d=n(6),h=n(14),y=n(1),m=n(206),g=r(m),b=n(2),v=function(e){function t(e){return i(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return l(t,e),c(t,[{key:"render",value:function(){var e=this.props,t=e.beforeControl,n=e.afterControl,r=e.label,i=e.tooltip,s=e.validationState,l=e.mandatory,u=e.mandatoryEmptyHint,c=e.compact,p=e.rows,h=e.value,m=e.onValueChange,v=e.className,_=e.readOnly,S=a(e,["beforeControl","afterControl","label","tooltip","validationState","mandatory","mandatoryEmptyHint","compact","rows","value","onValueChange","className","readOnly"]);delete S.onValueChange,delete S.operationInstance,delete S.uncheckedValues;var O=(0,y.classNames)(v,(0,b.prefixNS)("form-input")),T=p?30*p:240,E=null;if(t||n){var C=t?f.default.createElement(d.InputGroup.Button,{className:(0,b.prefixNS)("formcontrols-textarea-buttons")},t):null,w=n?f.default.createElement(d.InputGroup.Button,{className:(0,b.prefixNS)("formcontrols-textarea-buttons")},n):null;E=f.default.createElement(d.InputGroup,null,C,f.default.createElement(g.default,{classNameEditor:O,height:T,Content:h,onBlurValueChange:m}),w)}else E=f.default.createElement(g.default,{classNameEditor:O,height:T,Content:h,onBlurValueChange:m,readOnly:_});var P=(0,y.classNames)(o({},(0,b.prefixNS)("formcontrols-textinput-compact"),c));return f.default.createElement(d.FormGroup,{className:P,validationState:s,"data-mandatory":l,"data-mandatory-empty-hint":u},f.default.createElement(d.ControlLabel,{title:i},r),E)}}]),t}(f.default.Component);t.default=v,v.propTypes=u({},h.sharedTextInputProps,{onValueChange:y.PropTypes.func}),v.defaultProps=Object.assign({compact:!1},h.sharedDefaultProps)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(34),f=r(p),d=n(372),h=r(d),y=n(207),m=r(y),g=n(209),b=r(g),v=n(210),_=r(v),S=n(373),O=r(S),T=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.editorState,n=e.onChange,r=e.inlineStyles,o=e.blockStyles,a=e.additionalButtons,i=e.containerRef,s=a.map(function(e,r){return u.default.cloneElement(e,{editorState:t,onChange:n,key:r})});return u.default.createElement(f.default,null,u.default.createElement(O.default,{editorState:t,onChange:n}),u.default.createElement(_.default,{editorState:t,onChange:n,containerRef:i}),u.default.createElement(m.default,{editorState:t,onChange:n,styles:r}),u.default.createElement(b.default,{editorState:t,onChange:n,styles:o}),u.default.createElement(h.default,{editorState:t,onChange:n}),s)}}]),t}(u.default.Component);t.default=T,T.propTypes={editorState:c.PropTypes.object.isRequired,onChange:c.PropTypes.func.isRequired,inlineStyles:c.PropTypes.array,blockStyles:c.PropTypes.array,additionalButtons:c.PropTypes.array,containerRef:c.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(30),f=r(p),d=n(8),h=r(d),y=n(16),m=r(y),g=n(4),b=n(2),v=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={showURLInput:!1,urlValue:""},e.onToggle=e._onToggle.bind(e),e.onHide=e._onHide.bind(e),e.onOK=e._onOK.bind(e),e}return i(t,e),s(t,[{key:"_onToggle",value:function(){var e=this.props.editorState;if(!e.getSelection().isCollapsed()){var t=e.getCurrentContent(),n=e.getSelection().getStartKey(),r=e.getSelection().getStartOffset(),o=t.getBlockForKey(n),a=o.getEntityAt(r),i="";a&&(i=t.getEntity(a).getData().href),this.setState({showURLInput:!0,urlValue:i})}}},{key:"_onHide",value:function(){var e=this.props,t=e.editorState,n=e.onChange,r=t.getSelection();n(c.DraftJS.EditorState.forceSelection(t,r.merge({hasFocus:!0}))),this.setState({showURLInput:!1})}},{key:"_onOK",value:function(e){var t=this.props,n=t.editorState,r=t.onChange,o=n.getSelection(),a=n.getCurrentContent(),i=a.createEntity("LINK","MUTABLE",{href:e}),s=i.getLastCreatedEntityKey(),l=c.DraftJS.EditorState.set(n,{currentContent:i});l=e?c.DraftJS.RichUtils.toggleLink(l,l.getSelection(),s):c.DraftJS.RichUtils.toggleLink(l,l.getSelection(),null),l=c.DraftJS.EditorState.forceSelection(l,o.merge({hasFocus:!0})),r(l)}},{key:"render",value:function(){var e=this;return u.default.createElement(f.default,null,u.default.createElement(h.default.IconButton,{onMouseDown:function(t){t.preventDefault(),e.onToggle()},iconName:"csweb_richtext_link",buttonStyle:"outline",title:(0,g.formatStr)("richtext_link")}),u.default.createElement(m.default.InputDialog,{show:this.state.showURLInput,title:(0,g.formatStr)("richtext_link"),value:this.state.urlValue,onSubmitValue:this.onOK,onHide:this.onHide,id:(0,b.prefixNS)("richtext-link")}))}}]),t}(u.default.Component);t.default=v,v.propTypes={onChange:c.PropTypes.func.isRequired,editorState:c.PropTypes.object.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(30),f=r(p),d=n(8),h=r(d),y=n(4),m=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.undo=e._undo.bind(e),e.redo=e._redo.bind(e),e}return i(t,e),s(t,[{key:"_undo",value:function(e){e.preventDefault();var t=this.props,n=t.editorState;(0,t.onChange)(c.DraftJS.EditorState.undo(n))}},{key:"_redo",value:function(e){e.preventDefault();var t=this.props,n=t.editorState;(0,t.onChange)(c.DraftJS.EditorState.redo(n))}},{key:"render",value:function(){var e=this.props.editorState;return u.default.createElement(f.default,null,u.default.createElement(h.default.IconButton,{iconName:"csweb_richtext_undo",buttonStyle:"outline",disabled:e.getUndoStack().isEmpty(),onMouseDown:this.undo,title:(0,y.formatStr)("richtext_undo")}),u.default.createElement(h.default.IconButton,{iconName:"csweb_richtext_redo",buttonStyle:"outline",disabled:e.getRedoStack().isEmpty(),onMouseDown:this.redo,title:(0,y.formatStr)("richtext_redo")}))}}]),t}(u.default.Component);t.default=m,m.propTypes={onChange:c.PropTypes.func.isRequired,editorState:c.PropTypes.object.isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.contentState,n=e.entityKey,r=e.children,o=t.getEntity(n).getData(),a=o.href;return l.default.createElement("a",{href:a,target:"_blank"},r)}}]),t}(l.default.Component);t.default=c,c.propTypes={contentState:u.PropTypes.object.isRequired,entityKey:u.PropTypes.string.isRequired}},function(e,t,n){"use strict";function r(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.findLinkEntities=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(e){function t(t){var n=t.onNavigateLink,r=t.targetLink,i=t.targetWindow,l=t.afterControl,p=t.value,h=o(t,["onNavigateLink","targetLink","targetWindow","afterControl","value"]),y=null;r&&(y=n?{onClick:function(){return n(r)}}:{href:(0,c.ensureLinkProtocol)(r),target:i||"_blank"});var m=y?s.default.createElement(f.default.IconButton,a({className:(0,c.prefixNS)("form-control-button"),key:"LinkNavigator"},y,{iconName:"csweb_link",buttonStyle:"info",title:(0,d.formatStr)("formcontrol_navigate_href",{url:r}),disabled:!p})):null;return s.default.createElement(e,a({afterControl:(0,u.combineInputExtensions)(l,m),value:p},h))}return t.propTypes={targetLink:l.PropTypes.string,targetWindow:l.PropTypes.string,onNavigateLink:l.PropTypes.func,afterControl:l.PropTypes.node,value:l.PropTypes.any},t};var i=n(0),s=r(i),l=n(1),u=n(15),c=n(2),p=n(8),f=r(p),d=n(4)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=function(e){return e&&e.__esModule?e:{default:e}}(c),f=n(6),d=n(14),h=n(1),y=n(2),m=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value},n.onChange=n.onChange.bind(n),n}return s(t,e),u(t,[{key:"onChange",value:function(e){var t=this,n=this.props,r=n.onChange,o=n.onValueChange;if(this.setState({value:e.target.value},function(){o&&o(t.state.value)}),r)return e.persist(),r(e)}},{key:"componentDidUpdate",value:function(e){e.value!==this.props.value&&this.setState({value:this.props.value})}},{key:"render",value:function(){var e,t=this.props,n=t["data-ce-id"],a=t["data-ce-type"],i=t.beforeControl,s=t.afterControl,u=t.afterLabelControl,c=t.label,d=t.tooltip,m=t.validationState,g=t.mandatory,b=t.mandatoryEmptyHint,v=t.className,_=t.compact,S=o(t,["data-ce-id","data-ce-type","beforeControl","afterControl","afterLabelControl","label","tooltip","validationState","mandatory","mandatoryEmptyHint","className","compact"]);delete S.onValueChange;var O=(0,h.classNames)([(0,y.prefixNS)("slider"),v]),T=null;if(i||s){var E=i?p.default.createElement(f.InputGroup.Button,null,i):null,C=s?p.default.createElement(f.InputGroup.Button,null,s):null;T=p.default.createElement(f.InputGroup,null,E,p.default.createElement(f.FormControl,l({type:"range"},S,{value:this.state.value,className:O,onChange:this.onChange})),C)}else T=p.default.createElement(f.FormControl,l({type:"range"},S,{value:this.state.value,className:O,onChange:this.onChange}));var w=(0,h.classNames)((0,y.prefixNS)("formcontrols-formcontrol"),(e={},r(e,(0,y.prefixNS)("formcontrols-formcontrol-readonly"),S.readOnly),r(e,(0,y.prefixNS)("formcontrols-textinput-compact"),_),e));return p.default.createElement(f.FormGroup,{className:w,validationState:m,"data-ce-id":n,"data-ce-type":a,"data-mandatory":g,"data-mandatory-empty-hint":b},c?p.default.createElement("span",{className:(0,y.prefixNS)("formcontrols-label-aftercontrol")},p.default.createElement(f.ControlLabel,{title:d},c),u):null,T)}}]),t}(p.default.Component);t.default=m,m.propTypes=l({},d.sharedTextInputProps,{onValueChange:h.PropTypes.func,value:h.PropTypes.string}),m.defaultProps=l({},d.sharedDefaultProps,{compact:!1})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(0),p=r(c),f=n(1),d=n(13),h=n(4),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.label,n=e.onValueChange,r=e.readOnly,o=e.value,a=e.contextObjects,i=e.operationState,s=e.componentName,l=e.tooltip,u=e.contentType,c=e.lines;if(s){var f=d.Registry.findComponent(s);return f?p.default.createElement(f,{value:o,label:t,tooltip:l,onValueChange:n,readOnly:r,contentType:u,lines:c,contextObjects:a,operationState:i}):p.default.createElement("div",null,(0,h.formatStr)("react_component_not_found",{componentName:s}))}return p.default.createElement("div",null,(0,h.formatStr)("invalid_react_component_configuration"))}}]),t}(p.default.Component);t.default=y,y.propTypes={label:f.PropTypes.string,tooltip:f.PropTypes.string,componentName:f.PropTypes.string,contentType:f.PropTypes.string,lines:f.PropTypes.number,onValueChange:f.PropTypes.func.isRequired,readOnly:f.PropTypes.bool.isRequired,value:f.PropTypes.any,contextObjects:f.PropTypes.instanceOf(u.default.List),operationState:f.PropTypes.instanceOf(u.default.Map)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={display_value:e.value},t}return s(n,t),u(n,[{key:"componentDidMount",value:function(){this.fetchDisplayMapping(this.props.value)}},{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.fetchDisplayMapping(e.value)}},{key:"fetchDisplayMapping",value:function(e){var t=this,n=this.props,r=n.displayMapping,o=n.operationState,a=n.displayMappingURL,i=!1,s=r.get("mappings"),l=r.get("id");if(e&&l){var u=s.find(function(t){return t.get(0)===e});if(u)i=!0,this.setState({display_value:u.get(1)});else if(a){i=!0;var c={mapping_id:l,value:e,operation_state:o};(0,y.postJSON)(a,c).then(function(e){e.new_value&&t.setState({display_value:e.new_value})})}}i||this.setState({display_value:e})}},{key:"render",value:function(){var t=o(this.props,[]);return delete t.operationState,delete t.displayMapping,delete t.displayMappingURL,p.default.createElement(e,l({},t,{value:this.state.display_value}))}}]),n}(c.Component);return t.propTypes={value:h.PropTypes.any,displayMapping:h.PropTypes.instanceOf(d.default.Map),operationState:h.PropTypes.instanceOf(d.default.Map),displayMappingURL:h.PropTypes.string},t.displayName="MappingTextWrapper("+(0,m.getDisplayName)(e)+")",t};var c=n(0),p=r(c),f=n(3),d=r(f),h=n(1),y=n(10),m=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=function(t){function n(e){a(this,n);var t=i(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onSelect=t.onSelect.bind(t),t}return s(n,t),u(n,[{key:"getMappings",value:function(){var e=this.props.config.getIn(["display_mapping","mappings"]);return e||d.default.List()}},{key:"render",value:function(){var t=this.props,n=t.value,r=o(t,["value"]),a=this.getMappings(),i=a.find(function(e){return e.get(0)===n});return delete r.onCatalogChange,delete r.config,p.default.createElement(e,l({},r,{items:a.map(function(e){return e.get(1)}),onSelect:this.onSelect,value:i?i.get(1):n}))}},{key:"onSelect",value:function(e,t){var n=this.props,r=n.onSelect,o=n.name,a=n.onCatalogChange,i={};i[o]=this.getMappings().get(e).get(0),a&&a(i),r&&r(e,t)}}]),n}(c.Component);return t.propTypes={config:h.PropTypes.instanceOf(d.default.Map),name:h.PropTypes.string.isRequired,value:h.PropTypes.string.isRequired,onCatalogChange:h.PropTypes.func,onSelect:h.PropTypes.func},t.displayName="EnumWrapper("+(0,y.getDisplayName)(e)+")",t};var c=n(0),p=r(c),f=n(3),d=r(f),h=n(1),y=n(2)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.state={value:e.value},t.onBlur=t.onBlur.bind(t),t.onValueChange=t.onValueChange.bind(t),t}return i(n,t),u(n,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.state.value&&this.setState({value:e.value})}},{key:"onValueChange",value:function(e){this.setState({value:e})}},{key:"onBlur",value:function(){this.props.value!==this.state.value&&this.props.onValueChange(this.state.value)}},{key:"render",value:function(){return p.default.createElement(e,l({},this.props,{value:this.state.value,onValueChange:this.onValueChange,onBlur:this.onBlur}))}}]),n}(p.default.Component);return t.propTypes={onValueChange:f.PropTypes.func,value:f.PropTypes.any},t}Object.defineProperty(t,"__esModule",{value:!0}),t.TableCatalogBuffer=void 0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.SimpleBuffer=s;var c=n(0),p=r(c),f=n(1),d=n(38),h=r(d);(t.TableCatalogBuffer=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.value,unchecked:e.unchecked},n.onValueChange=n.onValueChange.bind(n),n}return i(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.value!==this.props.value&&this.setState({value:e.value,unchecked:e.unchecked})}},{key:"onValueChange",value:function(e,t){this.props.unchecked?this.setState({value:e,unchecked:!0}):this.props.onValueChange(e,t)}},{key:"render",value:function(){return p.default.createElement(h.default.CatalogField,l({},this.props,{unchecked:this.state.unchecked||this.props.unchecked,value:this.state.value,onValueChange:this.onValueChange}))}}]),t}(p.default.Component)).propTypes={name:f.PropTypes.string,value:f.PropTypes.oneOfType([f.PropTypes.string,f.PropTypes.number]),onValueChange:f.PropTypes.func,onCatalogChange:f.PropTypes.func,unchecked:f.PropTypes.bool}},function(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return""!==e&&void 0!==e&&null!==e}function a(e,t){return!(!o(e)&&!o(t))&&e!==t}function i(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var o=!0,a=!1,i=void 0;try{for(var s,l=n[Symbol.iterator]();!(o=(s=l.next()).done);o=!0){delete e[s.value]}}catch(e){a=!0,i=e}finally{try{!o&&l.return&&l.return()}finally{if(a)throw i}}return e}function s(e,t){var n=e.setting,o=e.values,s=e.readOnly,y=e.operationState,m=r(e,["setting","values","readOnly","operationState"]),g=n.get("attribute"),b=n.get("label"),v=n.get("tooltip").replace(/\\n/g,"\n"),_=void 0;o&&(_=o.get(g));var S=(0,c.isMandatory)(n),O=!S||s||(0,c.isFilled)(n,o)?void 0:"warning",T=s||1===n.get("readonly"),E=n.get("readonly")>0&&!T&&h.indexOf(n.get("fieldtype"))>-1||n.get("fieldtype")===p.default.ENUMCOMBOBOX&&!s,C=!0;y&&y.get("opname")&&d.indexOf(y.get("opname"))>-1&&(C=!1);var w=void 0;T&&(w=(0,f.prefixNS)("form-input-read-only")),a(_,t)&&C&&(w=(0,f.prefixNS)("form-input-modified")),E&&(w=(0,f.prefixNS)("form-input-text-read-only")),S&&!_&&(w=E||T?(0,u.classNames)((0,f.prefixNS)("form-input-text-ro-mandatory"),w):(0,f.prefixNS)("form-input-mandatory"));var P=S&&0!==_&&!_;return i(m,"formats","displayMappingURL","onNavigateLink","onFieldsChange","getPlaceholderCB","calendarValueFormat","contextObjects"),l({label:b,value:_,name:g,mandatory:S,mandatoryEmptyHint:P,validationState:O,readOnly:T,className:w,tooltip:v},m)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.deleteProps=i,t.default=s;var u=n(1),c=n(60),p=function(e){return e&&e.__esModule?e:{default:e}}(c),f=n(2),d=["CDB_Search","CDB_Create","CDB_ShowObject"],h=[p.default.CATALOG,p.default.COMBOBOX,p.default.ENUMCOMBOBOX]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.ReduxSaga.effects.all(b.Registry.getSagas().map(y.ReduxSaga.effects.call));case 2:case"end":return e.stop()}},j,this)}function l(){var e=(0,m.getAppSetup)().getIn(["appSettings","appComponent"]);if(null===e){var t=(0,m.getAppSetup)().get("applicationConfiguration").map(function(e){return"string"==typeof e?b.Registry.findComponent(e):(0,g.makeConfiguredComponentClass)(e)}),n=function(e){var n=t.get("pageRenderer"),r=t.delete("pageRenderer").toObject();return h.default.createElement(n,f({},e,r))};return n.displayName="ConfiguredApp",n}return b.Registry.findComponent(e)}function u(){window.CE_SCROLLBAR_WIDTH=(0,m.getScrollBarWidth)()}function c(){var e=(0,m.getAppSetup)();e.getIn(["appSettings","renderFixedBody"])&&document.body.classList.add((0,m.prefixNS)("fixed-body"));var t=(0,y.createStore)((0,y.combineReducers)(b.Registry.getReducers()),L);A.run(s);var n=y.ReactDnD.DragDropContext(y.ReactDnD.HTML5Backend)(F),r=e.getIn(["appSettings","language"]),o=(0,R.getContainerId)();return u(),function(e){return h.default.createElement(y.Provider,{store:t},h.default.createElement(y.ReactIntl.IntlProvider,{locale:r},h.default.createElement(T.default.Provider,{channelName:""},h.default.createElement(n,null,h.default.createElement(C.default,null,h.default.createElement(P.default,{handlerName:"*"}),h.default.createElement(I.default,null),(0,m.isCEDesktop)()?h.default.createElement(S.ModificationListener,null):null,h.default.Children.only(e.children)),h.default.createElement("div",{id:o,className:o,ref:R.setContainer}),h.default.createElement(_.default.NotificationContainer,null)))))}}Object.defineProperty(t,"__esModule",{value:!0});var p=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.getAppComponent=l,t.getAppContainer=c;var d=n(0),h=r(d),y=n(1),m=n(2),g=n(211),b=n(13),v=n(36),_=r(v),S=n(212),O=n(105),T=r(O),E=n(63),C=r(E),w=n(61),P=r(w),N=n(387),I=r(N),R=n(111),j=regeneratorRuntime.mark(s),x=function(){return function(e){return function(t){return m.Console.log("dispatching",t),e(t)}}},M=function(){return function(e){return function(t){if(!t.meta||!t.meta.delay)return e(t);var n=setTimeout(function(){return e(t)},t.meta.delay);return function(){clearTimeout(n)}}}},A=y.ReduxSaga.createSagaMiddleware(),k=[y.thunk,M,A];m.debugMode&&k.unshift(x);var D=y.applyMiddleware.apply(void 0,k),L=m.debugMode&&void 0!==window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({name:"global"})(D):D,F=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),p(t,[{key:"render",value:function(){return h.default.createElement("div",{className:(0,m.prefixNS)("dnd-wrapper")},this.props.children)}}]),t}(h.default.Component)},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NCjxjaXMtbmFtZT5wdXp6bGU8L2Npcy1uYW1lPg0KPHBhdGggZmlsbD0iIzk5OTk5OSIgZD0iTTEzLjg5LDguODhjLTAuMTYsMC4yNi0wLjM2LDAuNTctMC42MSwwLjkzYy0wLjQ4LDAuNjgtMS4wNCwwLjc3LTEuMjksMC4zYy0wLjE4LTAuMzMtMC4zNy0wLjYxLTAuNTUtMC43OA0KCWMtMC41OS0wLjU5LTEuNTQtMC41OS0yLjEyLDBjLTAuNTksMC41OS0wLjU5LDEuNTQsMCwyLjEyYzAuMTgsMC4xOCwwLjQ2LDAuMzcsMC43OCwwLjU1YzAuNDcsMC4yNSwwLjM3LDAuODEtMC4zLDEuMjkNCgljLTAuMzUsMC4yNC0wLjY2LDAuNDUtMC45MywwLjYxYy0wLjQ3LDAuMjgtMS4wNywwLjA3LTEuMzUtMC40Yy0wLjE2LTAuMjYtMC4zNi0wLjU3LTAuNjEtMC45M2MtMC40OC0wLjY4LTEuMDMtMC43Ny0xLjI5LTAuMw0KCWMtMC4xOCwwLjMzLTAuMzcsMC42MS0wLjU1LDAuNzhjLTAuNTksMC41OS0xLjU0LDAuNTktMi4xMiwwYy0wLjU5LTAuNTktMC41OS0xLjU0LDAtMi4xMmMwLjE4LTAuMTgsMC40Ni0wLjM3LDAuNzgtMC41NQ0KCWMwLjQ3LTAuMjUsMC4zNy0wLjgxLTAuMy0xLjI5QzMuMDksOC44MywyLjc4LDguNjMsMi41Miw4LjQ4Yy0wLjQ3LTAuMjktMC42OS0wLjg4LTAuNC0xLjM1YzAuMTYtMC4yNiwwLjM2LTAuNTcsMC42MS0wLjkzDQoJQzMuMiw1LjUyLDMuNzUsNS40Miw0LDUuODlDNC4xOCw2LjIyLDQuMzgsNi41LDQuNTUsNi42N2MwLjU5LDAuNTksMS41NCwwLjU5LDIuMTIsMGMwLjU5LTAuNTksMC41OS0xLjU0LDAtMi4xMg0KCUM2LjUsNC4zOCw2LjIyLDQuMTgsNS44OSw0QzUuNDIsMy43NSw1LjUyLDMuMiw2LjE5LDIuNzJjMC4zNS0wLjI1LDAuNjYtMC40NSwwLjkzLTAuNjFDNy41OSwxLjgzLDguMDEsMS42Niw4LjAzLDEuNw0KCUM4LjA0LDEuNzIsOC4yOSwyLjIsOC40LDIuMzljMC4wNiwwLjA5LDAuMTIsMC4yLDAuMTksMC4zMWMwLjE0LDAuMjIsMC4zLDAuNDcsMC41LDAuNzVjMC40OCwwLjY4LDEuMDMsMC43NywxLjI5LDAuMw0KCWMwLjE4LTAuMzMsMC4zNy0wLjYxLDAuNTUtMC43OGMwLjU5LTAuNTksMS41NC0wLjU5LDIuMTIsMGMwLjU5LDAuNTksMC41OSwxLjU0LDAsMi4xMmMtMC4xOCwwLjE4LTAuNDYsMC4zNy0wLjc4LDAuNTUNCgljLTAuNDcsMC4yNS0wLjM3LDAuODEsMC4zLDEuMjljMC4yNywwLjE5LDAuNTMsMC4zNiwwLjc1LDAuNWMwLjQ0LDAuMjgsMC43NywwLjQ0LDAuOTMsMC41M2MwLjAyLDAuMDEsMC4wNSwwLjAyLDAuMDYsMC4wMw0KCUMxNC4zNCw3Ljk5LDE0LjE3LDguNDEsMTMuODksOC44OHoiLz4NCjwvc3ZnPg0K"},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{hasPendingOperations:e.formWithOperations.some(function(e){return e.get("mode")===p.OperationMode.STARTED}),hasModifiedComponents:e.modifications.some(function(e){return e})}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(1),p=n(28),f=function(e){function t(e){r(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.isModified=n.isModified.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){try{window.external.csweb_register_modified_callback("csweb_is_modified"),window.csweb_is_modified=this.isModified}catch(e){}}},{key:"componentWillUnmount",value:function(){try{window.external.csweb_register_modified_callback(),window.csweb_is_modified=void 0}catch(e){}}},{key:"isModified",value:function(){return this.props.hasPendingOperations||this.props.hasModifiedComponents}},{key:"render",value:function(){return null}}]),t}(u.default.Component);f.propTypes={hasPendingOperations:c.PropTypes.bool,hasModifiedComponents:c.PropTypes.bool},t.default=(0,c.connect)(i,{})(f)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.default.Map(),t=arguments[1];switch(t.type){case a.SET_COMPONENT_MODIFIED:return e.set(t.payload.component,t.payload.modified)}return e};var r=n(3),o=function(e){return e&&e.__esModule?e:{default:e}}(r),a=n(213)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.operationState,n=e.onCancel,r=e.onSubmit;if(!t.get("displayForm"))return null;var o=void 0,a=t.getIn(["params","contextObjects"]),s=t.getIn(["info","relship_context"]);if(1===a.size){var l=a.get(0);o=(0,c.formatStr)(s?"relship_delete_text":"detail_delete_text",{object:l.get("system:description")})}else o=(0,c.formatStr)(s?"relship_delete_multiple_txt":"detail_delete_multiple_txt");var p=t.getIn(["info","label"]);return i.default.createElement(u.default.Alert,{title:p,ActionButton:i.default.createElement(u.default.Buttons.Delete,null),onConfirm:r,onHide:n},o,void 0===a||1===a.size?null:i.default.createElement("p",{style:{textAlign:"left"}},i.default.createElement("ul",null,a.map(function(e){return i.default.createElement("li",{key:e.get("@id")},e.get("system:description"))}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.OperationDeleteDialog=o;var a=n(0),i=r(a),s=n(48),l=n(16),u=r(l),c=n(4),p=n(1);o.propTypes={operationState:p.PropTypes.object.isRequired,onSubmit:p.PropTypes.func.isRequired,onCancel:p.PropTypes.func.isRequired},t.default=(0,s.WithOperationHandler)(o,"delete")},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.Map(),t=arguments[1];switch(t.type){case c.RECEIVED_OBJECT:return e.withMutations(function(e){var n=u.default.fromJS(t.payload);t.payload["@id"]!==t.meta.url?e.set(t.payload["@id"],n).set(t.meta.url,n):e.set(t.payload["@id"],n)});case c.RECEIVED_COLLECTION:case c.RECEIVED_RELSHIP_N:var n=t.payload.filter(function(e){return"object"===(void 0===e?"undefined":s(e))}).map(function(e){return[e["@id"],u.default.fromJS(e)]});return n.length>0?e.mergeDeep(u.default.Map(n)):e;case c.RECEIVED_RELSHIP_1:return null===t.payload||"string"==typeof t.payload?e:e.mergeDeepIn([t.payload["@id"]],u.default.fromJS(t.payload));case c.EDITING_OBJECT:var r=t.payload,o=r.object,a=r.values;return e.mergeIn([o.get("@id")],a);case c.DELETED_OBJECT:return e.delete(t.payload.get("@id"));default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.Map(),t=arguments[1];switch(t.type){case c.RECEIVED_TYPE:return e.set(t.payload["@id"],u.default.fromJS(t.payload));default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.Map(),t=arguments[1];switch(t.type){case c.DELETED_OBJECT:var n=t.payload.getIn(["system:relships","relships"]);if(n){var r=e;return n.toList().forEach(function(e){r=r.delete(e)}),r}return e;case c.RECEIVED_RELSHIP_N:var o=e.get(t.meta.url),a=t.payload.map(function(e){return"string"==typeof e?e:e["@id"]});if(void 0===o)return e.set(t.meta.url,u.default.OrderedSet(a));var i=o.intersect(a).union(a);return e.set(t.meta.url,i);case c.RECEIVED_RELSHIP_1:return e.set(t.meta.url,null===t.payload?null:"string"==typeof t.payload?t.payload:t.payload["@id"]);default:return e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u.default.Map(),t=arguments[1];switch(t.type){case c.RECEIVED_CLASS_RELSHIPS:var n=t.payload,r=n.classname,o=n.relships;return e.set(r,u.default.fromJS(o));default:return e}}Object.defineProperty(t,"__esModule",{value:!0});var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.objectsById=r,t.typesById=o,t.relshipsById=a,t.relshipsByClass=i;var l=n(3),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(27)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.Map(),t=arguments[1];switch(t.type){case a.FETCHING_URL:return e.set(t.meta.url,t.meta.promise);case a.FETCH_OK:case a.FETCH_ERROR:return e.delete(t.meta.url);default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s.default.Map(),t=arguments[1];switch(t.type){case a.FETCH_OK:case a.FETCHING_URL:return e.delete(t.meta.url);case a.FETCH_ERROR:return t.error?e.set(t.meta.url,t.payload):e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.fetchingById=r,t.errorsById=o;var a=n(89),i=n(3),s=function(e){return e&&e.__esModule?e:{default:e}}(i)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.Actions=t.FavouriteSelectorDialog=t.SearchByFavourite=void 0,n(391),n(396);var o=n(399),a=r(o),i=n(400),s=r(i),l=n(97),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(l);t.SearchByFavourite=a.default,t.FavouriteSelectorDialog=s.default,t.Actions=u},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Set(),t=arguments[1];switch(t.type){case l.ACTIONS.INIT_CLASS_SEARCH_DONE:var n=t.payload.classname;return e.add(n);default:return e}}var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1),s=n(13),l=n(17),u=n(392),c=n(393),p=n(394),f=n(395);s.Registry.registerReducer("search",(0,i.combineReducers)({initializedClasses:r,operationByClass:u.operationByClass,favouritesByClass:c.favouritesByClass,instances:p.instances,context:f.context}))},function(e,t,n){"use strict";function r(e,t){var n=i.default.fromJS({opInfo:e,opData:t});return n.merge((0,l.extractAttributesFromSearchOperation)(n.getIn(["opData","registers"]),n.getIn(["opData","values"])))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.Map(),t=arguments[1];switch(t.type){case s.ACTIONS.SEARCH_OP_LOADED:var n=t.payload,o=n.classname,a=n.opInfo,l=n.opData;return e.set(o,r(a,l));case s.ACTIONS.SEARCH_OP_LOAD_ERROR:var u=t.payload,c=u.classname,p=u.error;return e.set(c,i.default.fromJS({classname:c,error:p}));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.operationByClass=o;var a=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(17),l=n(214)},function(e,t,n){"use strict";function r(e,t){return void 0!==e.localeCompare?e.localeCompare(t):e<t?-1:e>t?1:0}function o(e,t){var n=e.get("readonly");return n===t.get("readonly")?r(e.get("name"),t.get("name")):n?-1:1}function a(e,t,n){var r=l.default.Map(e.map(function(e){return[e.cdb_object_id,l.default.fromJS(e)]})).sort(o);return l.default.fromJS({favourites:r,defaultFavouriteId:t,classDesignation:n})}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.Map(),t=arguments[1];switch(t.type){case u.ACTIONS.LOADED_FAVOURITES_FOR_CLASS:var n=t.payload,r=n.classname,i=n.favourites,s=n.defaultFavouriteId,c=n.classDesignation;return e.set(r,a(i,s,c));case u.ACTIONS.LOADED_ALL_FAVOURITES:var p=t.payload.allFavourites;return e.withMutations(function(e){p.forEach(function(t){var n=t.classname,r=t.favourites,o=t.defaultFavouriteId,i=t.classDesignation;e.set(n,a(r,o,i))})});case u.ACTIONS.STORE_FAVOURITE_FOR_CLASS:var f=t.payload,d=f.classname,h=f.newFavourite;return e.setIn([d,"favourites"],e.getIn([d,"favourites"]).set(h.cdb_object_id,l.default.fromJS(h)).sort(o));case u.ACTIONS.REMOVE_FAVOURITE_FROM_CLASS:var y=t.payload,m=y.classname,g=y.favouriteId;return e.deleteIn([m,"favourites",g]);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.favouritesByClass=i;var s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(17)},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=t.instanceName,r=t.opState,o=t.favourite,a=void 0,i=void 0;if(void 0===o)i=r.get("defaultValues"),a=r.get("visibleAttributes").filter(function(e){return i.has(e)}).toList();else{i=p.default.Map(o.get("params").map(function(e){return[e.get("attribute"),e.get("value")]})),a=o.get("params").map(function(e){return e.get("attribute")});a=r.get("visibleAttributes").filter(function(e){return r.hasIn(["fixedValues",e])}).filterNot(function(e){return i.has(e)}).toList().concat(a),a=a.filterNot(function(e){return e===f.FTS_ATTRNAME})}return e.mergeIn([n],{searchValues:i,attributeOrder:a})}function a(e,t){var n=t.instanceName,o=t.catalogTableURL,a=t.queryFormURL,i=t.callingFormData,s=i.catalog_field,l=i.form_data&&s?r({},s,i.form_data[s]):{};return e.set(n,p.default.fromJS({catalogTableURL:o,queryFormURL:a,callingFormData:i,searchResult:null,searchRunning:!1,searchError:null,notYetSearched:!0,searchOnNavigate:!1,searchValues:l,attributeOrder:[s]}))}function i(e,t){var n=t.instanceName,r=t.parentObject,o=t.relshipName,a=t.tableName;return e.set(n,p.default.fromJS({parentObject:r,relshipName:o,tableName:a,searchResult:null,searchRunning:!1,searchError:null,notYetSearched:!0,searchOnNavigate:!1,searchValues:{},attributeOrder:[]}))}function s(e,t){var n=t.instanceName,r=t.searchFormData,o=p.default.fromJS(r),a=(0,d.extractAttributesFromSearchOperation)(o.get("registers"),o.get("values")),i=o.get("values").filter(function(e){return""!==e}),s=a.get("visibleAttributes").filter(function(e){return i.has(e)}).toList();return e.setIn([n,"searchFormData"],a).setIn([n,"searchFormData","original"],o).setIn([n,"searchValues"],i).setIn([n,"attributeOrder"],s)}function l(e,t){var n=t.instanceName,r=t.searchFormData;return s(e.setIn([n,"searchValues"],p.default.Map()),{instanceName:n,searchFormData:r})}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p.default.Map(),t=arguments[1];switch(t.type){case f.ACTIONS.CREATE_SEARCH_INSTANCE:var n=t.payload,r=n.instanceName,u=n.classname,c=n.favouriteId,d=n.searchValues,h=n.attributeOrder;return e.set(r,p.default.fromJS({classname:u,favouriteId:c,searchResult:null,searchRunning:!1,searchError:null,notYetSearched:!0,searchOnNavigate:!1,searchValues:p.default.Map(d),attributeOrder:p.default.List(h)}));case f.ACTIONS.CREATE_CATALOG_SEARCH_INSTANCE:return a(e,t.payload);case f.ACTIONS.CREATE_RELSHIP_SEARCH_INSTANCE:return i(e,t.payload);case f.ACTIONS.REMOVE_SEARCH_INSTANCE:var y=t.payload.instanceName;return e.delete(y);case f.ACTIONS.INITIALIZE_SEARCH_PARAMS:return o(e,t.payload);case f.ACTIONS.CATALOG_SEARCH_FORM_LOADED:return s(e,t.payload);case f.ACTIONS.LOAD_RELSHIP_SEARCH_FORM:var m=t.payload,g=m.instanceName,b=m.formURL,v=m.submitURL;return e.setIn([g,"formURL"],b).setIn([g,"submitURL"],v);case f.ACTIONS.RELSHIP_SEARCH_FORM_LOADED:return l(e,t.payload);case f.ACTIONS.CHANGE_FIELDS:var _=t.payload,S=_.instanceName,O=_.fields;return e.mergeIn([S,"searchValues"],O);case f.ACTIONS.ADD_SEARCH_FIELD:var T=t.payload,E=T.instanceName,C=T.fieldname;return e.setIn([E,"searchValues",C],"").updateIn([E,"attributeOrder"],function(e){return e.push(C)});case f.ACTIONS.REMOVE_SEARCH_FIELD:var w=t.payload,P=w.instanceName,N=w.fieldname;return e.deleteIn([P,"searchValues",N]).updateIn([P,"attributeOrder"],function(e){return e.filter(function(e){return e!==N})});case f.ACTIONS.REMOVE_SEARCH_FIELDS:var I=t.payload,R=I.instanceName,j=I.fieldnames;return e.updateIn([R,"searchValues"],function(e){return e.filter(function(e,t){return!j.includes(t)})}).updateIn([R,"attributeOrder"],function(e){return e.filter(function(e){return!j.includes(e)})});case f.ACTIONS.SET_SEARCH_FIELDS:var x=t.payload,M=x.instanceName,A=x.searchValues,k=x.attributeOrder;return e.setIn([M,"searchValues"],A).setIn([M,"attributeOrder"],k);case f.ACTIONS.SET_FAVOURITE_ID:var D=t.payload,L=D.instanceName,F=D.classname,B=D.favouriteId;return e.mergeIn([L],{classname:F,favouriteId:B});case f.ACTIONS.SEARCH_STARTED:var H=t.payload.instanceName;return e.mergeIn([H],{searchRunning:!0,notYetSearched:!1});case f.ACTIONS.SEARCH_DONE:case f.ACTIONS.CATALOG_SEARCH_DONE:case f.ACTIONS.RELSHIP_SEARCH_DONE:var z=t.payload,U=z.instanceName,V=z.result;return e.mergeIn([U],{searchResult:p.default.fromJS(V),searchRunning:!1,searchError:null});case f.ACTIONS.SEARCH_FAILED:var G=t.payload,W=G.instanceName,q=G.err;return e.mergeIn([W],{searchResult:null,searchRunning:!1,searchError:p.default.fromJS(q)});case f.ACTIONS.REMOVE_FAVOURITE_FROM_CLASS:var Y=t.payload,Z=Y.classname,Q=Y.favouriteId;return e.map(function(e){return e.get("classname")===Z&&e.get("favouriteId"===Q)?e.delete("favouriteId"):e});case f.ACTIONS.SET_SEARCH_ON_NAVIGATE:var J=t.payload,K=J.instanceName,X=J.value;return e.setIn([K,"searchOnNavigate"],X);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.instances=u;var c=n(3),p=function(e){return e&&e.__esModule?e:{default:e}}(c),f=n(17),d=n(214)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Map(),t=arguments[1];switch(t.type){case i.ACTIONS.SET_CONTEXT:return e.merge(t.payload);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.context=r;var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.ReduxSaga.effects.all([a.ReduxSaga.effects.call(l.default),a.ReduxSaga.effects.call(c.default),a.ReduxSaga.effects.call(f.default),a.ReduxSaga.effects.call(h.default)]);case 2:case"end":return e.stop()}},y,this)}var a=n(1),i=n(13),s=n(215),l=r(s),u=n(216),c=r(u),p=n(398),f=r(p),d=n(217),h=r(d),y=regeneratorRuntime.mark(o);i.Registry.registerSaga(o)},function(e,t,n){"use strict";function r(e){return{type:i.ACTIONS.LOAD_SEARCH_OP,payload:{classname:e}}}function o(e,t,n){return{type:i.ACTIONS.SEARCH_OP_LOADED,payload:{classname:e,opInfo:t,opData:n}}}function a(e,t){return{type:i.ACTIONS.SEARCH_OP_LOAD_ERROR,payload:{classname:e,error:t}}}Object.defineProperty(t,"__esModule",{value:!0}),t.loadSearchOperation=r,t.searchOperationLoaded=o,t.searchOperationLoadError=a;var i=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(n=e,!e.response){o.next=11;break}return o.prev=2,o.next=5,fe(function(e){return e.json()},e.response);case 5:r=o.sent,r&&(r.message||r.detail)&&(n=(r.message?r.message:"")+" "+(r.detail?r.detail:"")),o.next=11;break;case 9:o.prev=9,o.t0=o.catch(2);case 11:return o.next=13,de({type:A.ACTIONS.SEARCH_FAILED,payload:{instanceName:t,err:new Error(n)}});case 13:case"end":return o.stop()}},V,this,[[2,9]])}function a(e){var t,n,r;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,de({type:A.ACTIONS.SEARCH_STARTED,payload:{instanceName:e}});case 2:return a.prev=2,a.next=5,he();case 5:return t=a.sent,n=(0,k.getSpecialResultLink)(t,e),a.next=9,fe(x.getJSON,n);case 9:return r=a.sent,a.next=12,de({type:A.ACTIONS.SEARCH_DONE,payload:{instanceName:e,result:r}});case 12:a.next=18;break;case 14:return a.prev=14,a.t0=a.catch(2),a.next=18,fe(o,a.t0,e);case 18:case"end":return a.stop()}},G,this,[[2,14]])}function i(e){var t,n,r,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,de({type:A.ACTIONS.SEARCH_STARTED,payload:{instanceName:e}});case 2:return i.prev=2,i.next=5,he();case 5:return t=i.sent,n=(0,k.getSubmitUrl)(t,e),r=(0,k.getSearchRequestData)(t,e),i.next=10,fe(x.postJSON,n,r);case 10:return a=i.sent,i.next=13,de({type:A.ACTIONS.SEARCH_DONE,payload:{instanceName:e,result:a}});case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(2),i.next=19,fe(o,i.t0,e);case 19:case"end":return i.stop()}},W,this,[[2,15]])}function s(e){var t,n,r,s,u=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.instanceName,e.next=3,he();case 3:if(n=e.sent,!(0,k.isSearchRunning)(n,t)){e.next=6;break}return e.abrupt("return");case 6:if(r=(0,k.getClassname)(n,t),!(0,k.isCatalogSearch)(n,t)){e.next=10;break}e.next=26;break;case 10:if(!(0,k.hasSpecialFavourite)(n,t)){e.next=15;break}return e.next=13,fe(a,t);case 13:e.next=26;break;case 15:if(!n.search.operationByClass.get(r).get("error")){e.next=21;break}return s=(0,U.formatStr)(n.search.operationByClass.get(r).get("error")),e.next=19,fe(o,s,t);case 19:e.next=26;break;case 21:if(!l(n,t)){e.next=26;break}return e.next=24,de((0,F.setSearchOnNavigate)(t,!1));case 24:return e.next=26,fe(i,t);case 26:case"end":return e.stop()}},q,this)}function l(e,t){return(0,k.getSearchOnNavigate)(e,t)||u(e,t)}function u(e,t){var n=(0,k.getClassname)(e,t);if(void 0!==(0,k.getFavouriteId)(e,t))return!0;var r=e.search.operationByClass.get(n);return!R.default.is((0,k.getSearchValues)(e,t),r.get("defaultValues"))}function c(e){var t,n,r,a,i,s,l,u=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=u.instanceName,e.next=3,he();case 3:if(n=e.sent,!(0,k.isCatalogSearch)(n,t)&&!(0,k.hasSpecialFavourite)(n,t)){e.next=6;break}return e.abrupt("return");case 6:if(r=(0,k.getClassname)(n,t),a=(0,k.getFavouriteId)(n,t),i=n.search.operationByClass.get(r),!i.get("error")){e.next=15;break}return s=(0,U.formatStr)(i.get("error")),e.next=13,fe(o,s,t);case 13:e.next=18;break;case 15:return l=n.search.favouritesByClass.getIn([r,"favourites",a]),e.next=18,de({type:A.ACTIONS.INITIALIZE_SEARCH_PARAMS,payload:{instanceName:t,opState:i,favourite:l}});case 18:case"end":return e.stop()}},Y,this)}function p(e){var t,n,r,a,i=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=i.instanceName,n=i.queryFormURL,r=i.callingFormData,e.prev=1,!n){e.next=8;break}return e.next=5,fe(x.postJSON,n,r);case 5:return a=e.sent,e.next=8,de({type:A.ACTIONS.CATALOG_SEARCH_FORM_LOADED,payload:{instanceName:t,searchFormData:a}});case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,fe(o,e.t0,t);case 14:return e.next=16,fe(f,t);case 16:case"end":return e.stop()}},Z,this,[[1,10]])}function f(e){var t,n,r,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,de({type:A.ACTIONS.SEARCH_STARTED,payload:{instanceName:e}});case 2:return i.next=4,he();case 4:return t=i.sent,i.prev=5,n=(0,k.getSubmitUrl)(t,e),r=(0,k.getSearchRequestData)(t,e),i.next=10,fe(x.postJSON,n,r);case 10:return a=i.sent,i.next=13,de({type:A.ACTIONS.CATALOG_SEARCH_DONE,payload:{instanceName:e,result:a}});case 13:i.next=19;break;case 15:return i.prev=15,i.t0=i.catch(5),i.next=19,fe(o,i.t0,e);case 19:case"end":return i.stop()}},Q,this,[[5,15]])}function d(e,t){var n=e.search.instances.get(t),r=n.get("searchValues"),o=n.get("attributeOrder"),a=o.map(function(e){return{attribute:e,value:r.get(e,"")}}),i=r.get(A.FTS_ATTRNAME,"");return""===i||o.includes(A.FTS_ATTRNAME)?a:a.unshift({attribute:A.FTS_ATTRNAME,value:i})}function h(e){var t,n,r,o,a,i,s,l=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.instanceName,n=l.favouriteName,e.next=3,he();case 3:return r=e.sent,o=r.search.instances.getIn([t,"classname"]),a={name:n,params:d(r,t).toArray()},i=(0,M.getAppSetup)().getIn(["class_view","searchFavourites"]),e.next=9,fe(x.postJSON,i,a);case 9:return s=e.sent,e.next=12,de.resolve({type:A.ACTIONS.STORE_FAVOURITE_FOR_CLASS,payload:{classname:o,newFavourite:s}});case 12:return e.next=14,de({type:A.ACTIONS.SET_FAVOURITE_ID,payload:{instanceName:t,classname:o,favouriteId:s.cdb_object_id}});case 14:case"end":return e.stop()}},J,this)}function y(e){var t,n,r,o,a,i,s=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=s.instanceName,e.next=3,he();case 3:return n=e.sent,r=n.search.instances.getIn([t,"classname"]),o=n.search.instances.getIn([t,"favouriteId"]),a=n.search.favouritesByClass.getIn([r,"favourites",o]).set("params",d(n,t)),e.next=9,fe(x.putJSON,a.get("@id"),a.toJS());case 9:return i=e.sent,e.next=12,de({type:A.ACTIONS.STORE_FAVOURITE_FOR_CLASS,payload:{classname:r,newFavourite:i}});case 12:case"end":return e.stop()}},K,this)}function m(e){var t,n,r,o;return regeneratorRuntime.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return t=e.payload,n=t.instanceName,r=t.classname,o=t.favouriteId,a.next=3,de.resolve({type:A.ACTIONS.SET_FAVOURITE_ID,payload:{instanceName:n,classname:r,favouriteId:o}});case 3:return a.next=5,fe(D.initClassSearch,e);case 5:return a.next=7,fe(c,e);case 7:return a.next=9,fe(s,e);case 9:case"end":return a.stop()}},X,this)}function g(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe(v,e);case 2:case"end":return t.stop()}},$,this)}function b(e){var t,n,r;return regeneratorRuntime.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return t=e.payload.instanceName,o.next=3,he();case 3:if(n=o.sent,!(0,k.isSearchRunning)(n,t)){o.next=6;break}return o.abrupt("return");case 6:if(!(0,k.isCatalogSearch)(n,t)){o.next=12;break}return r=(0,k.getOriginalCatalogSearchFormData)(n,t),o.next=10,de({type:A.ACTIONS.CATALOG_SEARCH_FORM_LOADED,payload:{instanceName:t,searchFormData:r}});case 10:o.next=21;break;case 12:if(!(0,k.isRelshipSearch)(n,t)){o.next=17;break}return o.next=15,fe(w,e);case 15:o.next=21;break;case 17:return o.next=19,fe(c,e);case 19:return o.next=21,fe(s,e);case 21:case"end":return o.stop()}},ee,this)}function v(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.instanceName,e.next=3,he();case 3:if(n=e.sent,!(0,k.isSearchRunning)(n,t)){e.next=6;break}return e.abrupt("return");case 6:if(!(0,k.isCatalogSearch)(n,t)){e.next=11;break}return e.next=9,fe(f,t);case 9:e.next=23;break;case 11:if(!(0,k.hasSpecialFavourite)(n,t)){e.next=16;break}return e.next=14,fe(a,t);case 14:e.next=23;break;case 16:if(!(0,k.isRelshipSearch)(n,t)){e.next=21;break}return e.next=19,fe(P,t);case 19:e.next=23;break;case 21:return e.next=23,fe(i,t);case 23:case"end":return e.stop()}},te,this)}function _(e){var t,n,r,o,a,i,s,l,u,c=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=c.instanceName,n=c.fields,e.next=3,he();case 3:return r=e.sent,o=(0,k.getVisibleAttributes)(r,t),a=(0,k.getSearchValues)(r,t),i=a.filter(function(e){return""!==e}).keySeq().toSet().intersect(n.filter(function(e){return""===e}).keySeq()),s=a.merge(n.filter(function(e){return""!==e})).filter(function(e,t){return o.includes(t)}).filter(function(e,t){return!i.includes(t)}),l=(0,k.getAttributeOrder)(r,t).toOrderedSet(),u=l.union(o.filter(function(e){return e!==A.FTS_ATTRNAME})),e.next=12,de.resolve({type:A.ACTIONS.SET_SEARCH_FIELDS,payload:{instanceName:t,searchValues:s,attributeOrder:u.filter(function(e){return s.has(e)}).toList()}});case 12:return e.next=14,fe(v,{payload:c});case 14:case"end":return e.stop()}},ne,this)}function S(e){var t,n,r,o,a,i,s,l,u,c,p=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.instanceName,n=p.fields,r=p.attr,e.next=3,he();case 3:return o=e.sent,a=(0,k.getVisibleAttributes)(o,t),i=(0,k.getSearchValues)(o,t),s=i.filter(function(e){return""!==e}).keySeq().toSet().intersect(n.filter(function(e){return""===e}).keySeq()),l=i.merge(n.filter(function(e,t){return""!==e||t===r})).filter(function(e,t){return a.includes(t)}).filter(function(e,t){return!s.includes(t)||t===r}),u=(0,k.getAttributeOrder)(o,t).toOrderedSet(),c=u.union(a.filter(function(e){return e!==A.FTS_ATTRNAME})),e.next=12,de.resolve({type:A.ACTIONS.SET_SEARCH_FIELDS,payload:{instanceName:t,searchValues:l,attributeOrder:c.filter(function(e){return l.has(e)}).toList()}});case 12:case"end":return e.stop()}},re,this)}function O(e){var t,n,r,o,a,i,s,l,u,c,p=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.instanceName,n=p.field,r=n.get("attribute"),e.next=4,he();case 4:if(o=e.sent,!(a=n.getIn(["config","selectURL"]))){e.next=20;break}return i=(0,k.getSearchValues)(o,t),s=(0,k.getOperationState)(o,t),i["cdb::argument.catalogcall_cldef"]=n.getIn(["config","contextClass"]),i["cdb::argument.catalogfieldactivelang"]=n.getIn(["config","iso_lang"]),i[r]="",l={form_data:i,catalog_field:r,operation_state:s},l.selected_ids=[],e.next=16,fe(x.postJSON,a,l);case 16:return u=e.sent,c=R.default.Map(u.selected_values).filter(function(e,t){return t!==r&&!e}).keySeq().toList(),e.next=20,de.resolve({type:A.ACTIONS.REMOVE_SEARCH_FIELDS,payload:{instanceName:t,fieldnames:c}});case 20:return e.next=22,de.resolve({type:A.ACTIONS.REMOVE_SEARCH_FIELD,payload:{instanceName:t,fieldname:r}});case 22:case"end":return e.stop()}},oe,this)}function T(e){var t,n;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(t=H.default.Handlers,n=H.default.dispatchResultHandler,e.payload.operation.result.result_type!==L.ResultType.HTML_VIEW){r.next=6;break}return r.next=4,fe(n,t.handleOperationSuccess,e);case 4:r.next=8;break;case 6:return r.next=8,de((0,F.repeatSearch)(e.payload.instanceName));case 8:case"end":return r.stop()}},ae,this)}function E(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.parentObject,n=r.relshipName,e.next=3,de((0,z.fetchRelshipOperationInfo)(t,n));case 3:case"end":return e.stop()}},ie,this)}function C(e){var t,n,r,o=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.instanceName,n=o.formURL,e.next=3,fe(x.getJSON,n);case 3:return r=e.sent,e.next=6,de({type:A.ACTIONS.RELSHIP_SEARCH_FORM_LOADED,payload:{instanceName:t,searchFormData:r}});case 6:case"end":return e.stop()}},se,this)}function w(e){var t,n,r,o=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.instanceName,e.next=3,he();case 3:return n=e.sent,r=(0,k.getFormUrl)(n,t),e.next=7,fe(C,{payload:{instanceName:t,formURL:r}});case 7:case"end":return e.stop()}},le,this)}function P(e){var t,n,r,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,de({type:A.ACTIONS.SEARCH_STARTED,payload:{instanceName:e}});case 2:return i.prev=2,i.next=5,he();case 5:if(t=i.sent,n=(0,k.getSubmitUrl)(t,e),r=void 0,!(0,k.relshipHasSearch)(t,e)){i.next=15;break}return a=(0,k.getSearchRequestData)(t,e),i.next=12,fe(x.postJSON,n,a);case 12:r=i.sent,i.next=18;break;case 15:return i.next=17,fe(x.getJSON,n);case 17:r=i.sent;case 18:if(!r.error_message){i.next=23;break}return i.next=21,fe(o,r.error_message,e);case 21:i.next=25;break;case 23:return i.next=25,de({type:A.ACTIONS.RELSHIP_SEARCH_DONE,payload:{instanceName:e,result:r}});case 25:i.next=31;break;case 27:return i.prev=27,i.t0=i.catch(2),i.next=31,fe(o,i.t0,e);case 31:case"end":return i.stop()}},ue,this,[[2,27]])}function N(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ye(A.ACTIONS.INITIALIZE_SEARCH,s);case 2:return e.next=4,ye(A.ACTIONS.DO_INITIALIZE_SEARCH_PARAMS,c);case 4:return e.next=6,ye(A.ACTIONS.REPEAT_SEARCH,g);case 6:return e.next=8,ye(A.ACTIONS.RUN_SEARCH,v);case 8:return e.next=10,ye(A.ACTIONS.RESET_SEARCH,b);case 10:return e.next=12,ye(A.ACTIONS.SELECT_FAVOURITE,m);case 12:return e.next=14,ye(A.ACTIONS.STORE_SEARCH_FAVOURITE,y);case 14:return e.next=16,ye(A.ACTIONS.STORE_AS_SEARCH_FAVOURITE,h);case 16:return e.next=18,ye(A.ACTIONS.CREATE_CATALOG_SEARCH_INSTANCE,p);case 18:return e.next=20,ye(A.ACTIONS.CHANGE_FIELDS_FROM_DIALOG,_);case 20:return e.next=22,ye(A.ACTIONS.CHANGE_FIELDS_FROM_SEARCHBAR,S);case 22:return e.next=24,ye(A.ACTIONS.HANDLE_OPERATION_SUCCESS,T);case 24:return e.next=26,ye(A.ACTIONS.REMOVE_SEARCH_FIELD_INCLUDING_DEPENDENCIES,O);case 26:return e.next=28,ye(A.ACTIONS.CREATE_RELSHIP_SEARCH_INSTANCE,E);case 28:return e.next=30,ye(A.ACTIONS.LOAD_RELSHIP_SEARCH_FORM,C);case 30:case"end":return e.stop()}},ce,this)}Object.defineProperty(t,"__esModule",{value:!0}),t.runSearch=v,t.changeFieldsFromDialog=_,t.changeFieldsFromSearchBar=S,t.removeSearchFieldIncludingDependencies=O,t.default=N;var I=n(3),R=r(I),j=n(1),x=n(10),M=n(2),A=n(17),k=n(40),D=n(217),L=n(28),F=n(22),B=n(102),H=r(B),z=n(76),U=n(4),V=regeneratorRuntime.mark(o),G=regeneratorRuntime.mark(a),W=regeneratorRuntime.mark(i),q=regeneratorRuntime.mark(s),Y=regeneratorRuntime.mark(c),Z=regeneratorRuntime.mark(p),Q=regeneratorRuntime.mark(f),J=regeneratorRuntime.mark(h),K=regeneratorRuntime.mark(y),X=regeneratorRuntime.mark(m),$=regeneratorRuntime.mark(g),ee=regeneratorRuntime.mark(b),te=regeneratorRuntime.mark(v),ne=regeneratorRuntime.mark(_),re=regeneratorRuntime.mark(S),oe=regeneratorRuntime.mark(O),ae=regeneratorRuntime.mark(T),ie=regeneratorRuntime.mark(E),se=regeneratorRuntime.mark(C),le=regeneratorRuntime.mark(w),ue=regeneratorRuntime.mark(P),ce=regeneratorRuntime.mark(N),pe=j.ReduxSaga.effects,fe=pe.call,de=pe.put,he=pe.select,ye=pe.takeEvery},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName,r=e.search.instances.get(n);if(void 0===r)return{};var o=(0,b.getFavouriteForInstance)(e,n),a=e.search.favouritesByClass.getIn([r.get("classname"),"classDesignation"]),i=o?a+" - "+o.get("name"):"";return{searchResult:r.get("searchResult"),searchRunning:r.get("searchRunning"),searchError:r.get("searchError"),clsTitle:i}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(39),d=r(f),h=n(75),y=r(h),m=n(49),g=r(m),b=n(40),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=d.default.PredefinedTables.getDefaultTableOptions();return r.Layout=d.default.DefaultLayout,r.Table=d.default.Table,n.table=d.default.PredefinedTables.DefaultTable(r),n.getTable=function(){return n.table},n}return i(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.searchResult,n=e.searchRunning,r=e.clsTitle,o=e.children,a="",i=null;return n?i=c.default.createElement(g.default,null):t&&(a=" ("+t.get("no_of_records_label")+")",i=c.default.createElement(y.default,{tableDef:t.get("tabledef"),rowValues:t.get("rows"),singleSelection:!1,withSelector:!1,table:this.getTable})),o(""+r+a,i)}}]),t}(c.default.Component);v.propTypes={instanceName:p.PropTypes.string.isRequired,searchResult:p.ImmutablePropTypes.map,searchRunning:p.PropTypes.bool,searchError:p.PropTypes.any,clsTitle:p.PropTypes.string},t.default=(0,p.connect)(s)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=t.instanceName,r=e.search.instances.get(n);return{initialClassname:r.get("classname"),initialFavouriteId:r.get("favouriteId"),favouritesByClass:e.search.favouritesByClass}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(16),d=r(f),h=n(22),y=n(134),m=n(401),g=r(m),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={classname:e.initialClassname,favouriteId:e.initialFavouriteId},n.handeSelectFavourite=n.handeSelectFavourite.bind(n),n.handeSelectClass=n.handeSelectClass.bind(n),n.handleOk=n.handleOk.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.loadAllFavourites()}},{key:"handeSelectFavourite",value:function(e){this.setState({favouriteId:e})}},{key:"handeSelectClass",value:function(e){this.state.classname!==e&&this.setState({classname:e,favouriteId:void 0})}},{key:"handleOk",value:function(){var e=this.props,t=e.instanceName,n=e.onSave,r=e.selectFavourite,o=this.state,a=o.classname,i=o.favouriteId;r(t,a,i),n(a,i)}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.onCancel,r=e.favouritesByClass,o=this.state,a=o.classname,i=o.favouriteId,s=Boolean(a)&&Boolean(i);return c.default.createElement(d.default.Dialog,{title:t,buttons:[c.default.createElement(d.default.Buttons.Ok,{key:"ok",disabled:!s,onClick:this.handleOk}),c.default.createElement(d.default.Buttons.Cancel,{key:"cancel",onClick:n})],show:!0,showCancel:!0,onHide:n,dialogClassName:"cs-web-components-base-search-favourite-config",allowOverlay:!0},c.default.createElement(g.default,{classname:a,favouriteId:i,favouritesByClass:r,onSelectFavourite:this.handeSelectFavourite,onSelectClass:this.handeSelectClass}))}}]),t}(c.default.Component);b.propTypes={instanceName:p.PropTypes.string.isRequired,initialClassname:p.PropTypes.string,initialFavouriteId:p.PropTypes.string,title:p.PropTypes.string.isRequired,onSave:p.PropTypes.func.isRequired,onCancel:p.PropTypes.func.isRequired,favouritesByClass:p.ImmutablePropTypes.map.isRequired,loadAllFavourites:p.PropTypes.func.isRequired,selectFavourite:p.PropTypes.func.isRequired};var v={loadAllFavourites:y.loadAllFavourites,selectFavourite:h.selectFavourite};t.default=(0,p.connect)(s,v)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.classname,n=e.favouriteId,r=e.favouritesByClass,o=e.onSelectFavourite,a=e.onSelectClass,c=r.sortBy(function(e){return e.get("classDesignation")}),f=r.getIn([t,"favourites"],null),d=(0,s.classNames)((0,l.prefixNS)("class-search-area__favourites"),"elements-formcontrol-grid"),m=r.getIn([t,"classDesignation"],(0,u.formatStr)("type")),g=r.getIn([t,"favourites",n,"name"],(0,u.formatStr)("select_search_favourite"));return i.default.createElement(p.default,{className:d},i.default.createElement(h,{id:"Favourite-Class-Selector",title:m,buttonStyle:"outline",className:(0,l.prefixNS)("class-search-area__favourites-input"),onSelect:a},c.map(function(e,t){return i.default.createElement(y,{key:t,eventKey:t},e.get("classDesignation"))}).toArray()),i.default.createElement(h,{id:"Favourite-Selector",title:g,disabled:!f||0===f.size,buttonStyle:"outline",className:(0,l.prefixNS)("class-search-area__favourites-input"),onSelect:o},f?f.map(function(e,t){return i.default.createElement(y,{key:t,eventKey:t},e.get("name"))}).toArray():null))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(4),c=n(30),p=r(c),f=n(20),d=r(f),h=d.default.DropdownTextButton,y=d.default.MenuItem;o.propTypes={classname:s.PropTypes.string,favouriteId:s.PropTypes.string,favouritesByClass:s.ImmutablePropTypes.map.isRequired,onSelectFavourite:s.PropTypes.func.isRequired,onSelectClass:s.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.List(),t=arguments[1];switch(t.type){case i.HISTORY_INIT:return e.clear().merge(t.payload);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(79)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Map(),t=arguments[1];switch(t.type){case i.SET_CONTEXT_OBJECTS:var n=t.payload.path.split("/");return e.setIn(n,t.payload.objectIds);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(54)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.Map(),t=arguments[1],n=e.getIn([t.objectType,"fetchedAll"])||t.type===i.OPERATION_INFO_FETCHED;switch(t.type){case i.OPERATION_INFO_FETCHED:case i.OPERATION_CONTEXT_FETCHED:return e.withMutations(function(e){t.data.forEach(function(t){e.mergeIn([t.get("classname"),"operations",t.get("opname")],t)})}).setIn([t.objectType,"fetchedAll"],n);default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.Map(),t=arguments[1];switch(t.type){case i.OPERATION_CONTEXT_FETCHED:return e.setIn([t.objectType,t.contextName],t.data.map(function(e){return e.get("opname")}).toSet());default:return e}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.default.Map(),t=arguments[1];switch(t.type){case i.RELSHIP_OP_INFO_FETCHED:var n=t.payload,r=n.parentObject,o=n.relshipName,a=n.data,s=[r.get("@id"),o];if(!e.getIn(s,l.default.Map()).equals(a)){var u=a.updateIn(["link_opinfo",1],l.default.Map(),function(e){return e.map(function(e){return e.set("relship_context",l.default.Map({parent:r,relship:o}))})});return e.setIn(s,u)}return e;default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.operationsById=r,t.operationContextById=o,t.operationsByRelship=a;var i=n(76),s=n(3),l=function(e){return e&&e.__esModule?e:{default:e}}(s)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Map(),t=arguments[1];switch(t.type){case i.USER_SETTING_FETCHED:case i.USER_SETTING_STORED:return e.setIn([t.payload.componentId,t.payload.settingKey],a.default.fromJS(t.payload.value));case i.USER_SETTING_RESET:return e.deleteIn([t.payload.componentId,t.payload.settingKey]);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(69)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(219),h=r(d),y=n(223),m=r(y),g=n(59),b=r(g),v=n(11),_=r(v),S=n(4),O=n(414),T=r(O),E=n(415),C=r(E),w=(0,f.prefixNS)("ApplicationSidebar"),P=function(e){return(0,f.getAppSetup)().getIn(["appSettings",e])}("title"),N=function(e){return(0,f.getAppSetup)().getIn(["links","common",e])}("home"),I=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.collapseTooltip=""!==n.props.sidebarCollapsedTooltip?n.props.sidebarCollapsedTooltip:(0,S.formatStr)("application_menu_open"),n.expandedTooltip=""!==n.props.sidebarExpandedTooltip?n.props.sidebarExpandedTooltip:(0,S.formatStr)("application_menu_close"),n.state={sidebarCollapsed:JSON.parse(localStorage.getItem(w)||"true")},n}return s(t,e),l(t,[{key:"toggleSidebar",value:function(){var e=!this.state.sidebarCollapsed;this.setState({sidebarCollapsed:e}),localStorage.setItem(w,JSON.stringify(e))}},{key:"render",value:function(){var e,t=(e={},o(e,(0,f.prefixNS)("application-frame__content--with-sidebar"),!(0,f.isCEDesktop)()),o(e,(0,f.prefixNS)("application-frame__content--with-sidebar-expanded"),!(0,f.isCEDesktop)()&&!this.state.sidebarCollapsed),o(e,(0,f.prefixNS)("application-frame_cdbpc"),(0,f.isCEDesktop)()),e),n=(0,p.classNames)((0,f.prefixNS)("application-pagecontent"),t);return c.default.createElement("div",{className:(0,f.prefixNS)("application-frame")},c.default.createElement(h.default,{title:this.props.pageTitle,homeLink:this.props.pageLink,logoSrc:this.props.logoSrc},this.props.titleBarContent),(0,f.isCEDesktop)()?null:c.default.createElement(m.default,{collapsed:this.state.sidebarCollapsed},c.default.createElement(b.default.Applications,{sidebarCollapsed:this.state.sidebarCollapsed}),c.default.createElement("div",{className:(0,f.prefixNS)("application-frame__menu-button")},c.default.createElement(_.default,{src:this.state.sidebarCollapsed?C.default:T.default,onClick:this.toggleSidebar.bind(this),title:this.state.sidebarCollapsed?this.collapseTooltip:this.expandedTooltip,className:(0,f.prefixNS)("application-frame__icon")}))),c.default.createElement("div",{className:(0,f.prefixNS)("application-frame__content")},c.default.createElement("div",{className:n},this.props.children)))}}]),t}(u.Component);t.default=I,I.defaultProps={sidebarCollapsedTooltip:"",sidebarExpandedTooltip:"",pageTitle:P,pageLink:N,logoSrc:"/static/imgid/branding_web_portal_logo_small.svg",titleBarContent:c.default.createElement(d.CDBTitleBar,null)},I.propTypes={sidebarCollapsedTooltip:p.PropTypes.string.isRequired,sidebarExpandedTooltip:p.PropTypes.string.isRequired,pageTitle:p.PropTypes.string.isRequired,pageLink:p.PropTypes.string.isRequired,logoSrc:p.PropTypes.string,titleBarContent:p.PropTypes.element}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){return{serverMessages:e.messages.getIn(["server","messages"])}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=function(e){return e&&e.__esModule?e:{default:e}}(l),c=n(1),p=n(64),f=n(6),d=n(2),h=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.fetchServerMessages()}},{key:"render",value:function(){return u.default.createElement(f.FormControl,{componentClass:"textarea",className:(0,d.prefixNS)("server-log-area"),rows:"20",value:this.props.serverMessages.toJS().join("")})}}]),t}(u.default.Component);h.propTypes={fetchServerMessages:c.PropTypes.func,serverMessages:c.ImmutablePropTypes.list},t.default=(0,c.connect)(i,{fetchServerMessages:p.fetchServerMessages})(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),p=n(4),f=n(0),d=r(f),h=n(3),y=r(h),m=n(6),g=n(1),b=n(16),v=r(b),_=n(11),S=r(_),O=n(14),T=n(10),E=n(2),C=n(19),w={authRules:y.default.List(),rulesFetched:!1,passwordFormDisabled:!0,oldPassword:"",newPassword:"",passwordConfirm:"",oldPasswordWrong:!1,rulesViolated:!1,passwordMismatch:!1,submittingPassword:!1},P=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.formControl=null,n.onKeyDown=n.onKeyDown.bind(n),n.onChange=n.onChange.bind(n),n}return l(t,e),c(t,[{key:"onKeyDown",value:function(e){var t=this.props,n=t.onEnter,r=t.onKeyDown;r&&(r(e),e.isDefaultPrevented())||("Enter"===e.key&&(e.preventDefault(),n&&n()),"Backspace"===e.key&&this.props.readOnly&&e.preventDefault())}},{key:"onChange",value:function(e){var t=this.props,n=t.onChange,r=t.onValueChange;if(r&&r(e.target.value),n)return e.persist(),n(e)}},{key:"grabFocus",value:function(){this.formControl.focus(),this.formControl.select()}},{key:"componentDidMount",value:function(){"error"===this.props.validationState&&this.grabFocus()}},{key:"componentDidUpdate",value:function(e){null===e.validationState&&"error"===this.props.validationState&&this.grabFocus()}},{key:"render",value:function(){var e=this,t=this.props,n=t.label,r=t.tooltip,i=t.validationState,s=t.mandatory,l=t.mandatoryEmptyHint,c=t.className,p=t.compact,f=t.feedbackControl,h=t.overlayTrigger,y=t.overlayPlacement,b=t.overlay,v=a(t,["label","tooltip","validationState","mandatory","mandatoryEmptyHint","className","compact","feedbackControl","overlayTrigger","overlayPlacement","overlay"]);delete v.onKeyDown,delete v.onEnter,delete v.onValueChange,delete v.operationInstance,delete v.uncheckedValues,delete v.children;var _=(0,g.classNames)(c,"no-ie-text-input-clear-button"),S=null;S=null!==b?d.default.createElement(m.OverlayTrigger,{trigger:h,placement:y,overlay:b},d.default.createElement(m.FormControl,u({type:"text"},v,{className:_,onKeyDown:this.onKeyDown,onInput:this.onChange,inputRef:function(t){e.formControl=t}}))):d.default.createElement(m.FormControl,u({type:"text"},v,{className:_,onKeyDown:this.onKeyDown,onInput:this.onChange,inputRef:function(t){e.formControl=t}}));var O=(0,g.classNames)(o({},(0,E.prefixNS)("formcontrols-textinput-compact"),p));return d.default.createElement(m.FormGroup,{className:O,validationState:i,"data-mandatory":s,"data-mandatory-empty-hint":l},d.default.createElement(m.ControlLabel,{title:r},n),S,f)}}]),t}(d.default.Component);P.propTypes=u({},O.sharedTextInputProps,{onKeyDown:g.PropTypes.func,onEnter:g.PropTypes.func,onValueChange:g.PropTypes.func,feedbackControl:g.PropTypes.node,validationState:g.PropTypes.oneOf(["success","warning","error",null]),overlayTrigger:g.PropTypes.oneOfType([g.PropTypes.oneOf(["manual","click","hover","focus"]),g.PropTypes.arrayOf(g.PropTypes.oneOf(["click","hover","focus"]))]),overlayPlacement:g.PropTypes.oneOf(["top","right","bottom","left"]),overlay:g.PropTypes.node}),P.defaultProps={compact:!1};var N=function(e){function t(e){i(this,t);var n=s(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state=w,n.state.ruleFetchError=!1,n.submitPassword=n.submitPassword.bind(n),n.close=n.close.bind(n),n}return l(t,e),c(t,[{key:"close",value:function(){this.setState(w),this.props.onClose()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.show&&!this.state.rulesFetched&&(0,T.getJSON)("/changepwd/rules").then(function(t){e.setState({rulesFetched:!0,authRules:y.default.List(t),passwordFormDisabled:!1})},function(t){throw e.close(),e.props.onLoadError(),t})}},{key:"doSubmit",value:function(){var e=this;if(this.state.newPassword!==this.state.passwordConfirm)return void this.setState({passwordMismatch:!0,passwordFormDisabled:!1});var t=new FormData;t.append("username",this.props.userLogin),t.append("old_password",this.state.oldPassword),t.append("new_password",this.state.newPassword),(0,T.postForm)("/changepwd",t).then(function(){e.props.addNotification("pwdchange",(0,p.formatStr)("pwd_changed_title"),(0,p.formatStr)("pwd_changed"),"success",null,null,5e3),e.close()},function(t){401===t.response.status?e.setState({passwordFormDisabled:!1,oldPasswordWrong:!0,oldPassword:""}):409===t.response.status&&t.response.json().then(function(t){e.setState({passwordFormDisabled:!1,rulesViolated:!0,authRules:y.default.List(t),newPassword:"",passwordConfirm:""})})})}},{key:"submitPassword",value:function(){this.setState({passwordFormDisabled:!0,oldPasswordWrong:!1,passwordMismatch:!1,rulesViolated:!1},this.doSubmit)}},{key:"renderPopover",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"popover-error";return d.default.createElement(m.Popover,{id:e,className:(0,E.prefixNS)(n)},t)}},{key:"renderRules",value:function(){var e=this;return this.state.authRules.map(function(t){var n=t.value>0?(0,p.formatStr)(t.label,{count:t.value}):(0,p.formatStr)(t.label);return e.state.rulesViolated?t.error?d.default.createElement("div",{key:t.label,className:(0,E.prefixNS)("password-rule")},d.default.createElement("p",null,n),d.default.createElement(S.default,{name:"csweb_remove",size:"sm"})):d.default.createElement("div",{key:t.label,className:(0,E.prefixNS)("password-rule")},d.default.createElement("p",null,n),d.default.createElement(S.default,{name:"csweb_check",size:"sm"})):d.default.createElement("div",{key:t.label,className:(0,E.prefixNS)("password-rule")},d.default.createElement("p",null,n))}).toArray()}},{key:"getFeedback",value:function(e){var t=null,n=null;return e&&(t="error",n=d.default.createElement(m.FormControl.Feedback,null,d.default.createElement(S.default,{name:"csweb_remove",size:"sm"}))),{validationState:t,feedbackControl:n}}},{key:"renderPasswordForm",value:function(){var e=this,t=this.getFeedback(this.state.oldPasswordWrong),n=this.getFeedback(this.state.passwordMismatch),r=this.getFeedback(this.state.rulesViolated),o=this.state.oldPasswordWrong?this.renderPopover("old-password-popover",(0,p.formatStr)("pwd_password_fail")):null,a=null,i=this.renderRules();this.state.rulesViolated?a=this.renderPopover("password-rules-popover",i):i.length>0&&(a=this.renderPopover("password-rules-popover",i,"popover-info"));var s=this.state.passwordMismatch?this.renderPopover("password-mismatch-popover",(0,p.formatStr)("pwd_no_match")):null;return d.default.createElement("form",{className:(0,E.prefixNS)("password-form")},d.default.createElement(P,u({label:(0,p.formatStr)("pwd_old_password"),name:"oldpassword",type:"password",className:(0,E.prefixNS)("old-password"),overlayTrigger:"focus",overlayPlacement:"right",overlay:o},t,{disabled:this.state.passwordFormDisabled,value:this.state.oldPassword,onValueChange:function(t){return e.setState({oldPassword:t})},onEnter:this.submitPassword})),d.default.createElement(P,u({label:(0,p.formatStr)("pwd_new_password"),name:"newpassword",type:"password",overlayTrigger:"focus",overlayPlacement:"right",overlay:a},r,{disabled:this.state.passwordFormDisabled,value:this.state.newPassword,onValueChange:function(t){return e.setState({newPassword:t})},onEnter:this.submitPassword})),d.default.createElement(P,u({label:(0,p.formatStr)("pwd_confirm_password"),name:"passwordconfirm",type:"password",overlayTrigger:"focus",overlayPlacement:"right",overlay:s},n,{disabled:this.state.passwordFormDisabled,value:this.state.passwordConfirm,onValueChange:function(t){return e.setState({passwordConfirm:t})},onEnter:this.submitPassword})))}},{key:"render",value:function(){return d.default.createElement(v.default.Dialog,{title:(0,p.formatStr)("change_password"),buttons:[d.default.createElement(v.default.Buttons.Ok,{key:"ok",onClick:this.submitPassword,disabled:this.state.passwordFormDisabled}),d.default.createElement(v.default.Buttons.Cancel,{key:"cancel",onClick:this.close})],show:this.props.show,size:v.default.Dialog.SIZE_SMALL,onAction:this.submitPassword,onHide:this.close},d.default.createElement("div",{className:(0,E.prefixNS)("password-change-userinfo")},d.default.createElement("p",{className:(0,E.prefixNS)("password-username")},this.props.userName),d.default.createElement("p",{className:(0,E.prefixNS)("password-userrole")},this.props.userRole)),this.renderPasswordForm())}}]),t}(d.default.Component);N.propTypes={onClose:g.PropTypes.func.isRequired,onLoadError:g.PropTypes.func.isRequired,userLogin:g.PropTypes.string.isRequired,userName:g.PropTypes.string,userRole:g.PropTypes.string,userPasswordRule:g.PropTypes.string.isRequired,show:g.PropTypes.bool,addNotification:g.PropTypes.func.isRequired},t.default=(0,g.connect)(null,{addNotification:C.addNotification})(N)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.contextObject,n=e.fallBackImg,r=t.get("login");return i.default.createElement("div",{className:(0,l.prefixNS)("titlebar__userpanel")},i.default.createElement(c.default.Tile,{contextObject:t,fallbackImg:n,headerAttr:"name"},r))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(220),c=r(u);o.propTypes={contextObject:s.ImmutablePropTypes.map.isRequired,fallBackImg:s.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.contextObject,n=e.plain,r=e.controls,o=t.get("e_mail"),a=t.get("telefon1");return i.default.createElement(l.Tile,{contextObject:t,plain:n,labelText:e.label,fallbackImg:(0,u.getIcon)("csweb_person_fallback"),headerAttr:"name",controls:r},i.default.createElement(p.SVGIconAndLabel,{src:d.default,title:(0,c.formatStr)("person_tile_email"),label:i.default.createElement("a",{href:"mailto:"+o},o)}),i.default.createElement(p.SVGIconAndLabel,{src:y.default,title:(0,c.formatStr)("person_tile_earphone"),label:a}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(145),u=n(2),c=n(4),p=n(25),f=n(411),d=r(f),h=n(412),y=r(h);o.propTypes={contextObject:s.ImmutablePropTypes.map.isRequired,label:s.PropTypes.string,plain:s.PropTypes.bool,controls:s.PropTypes.node}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmVudmVsb3BlPC9jaXMtbmFtZT4NPGNpcy1zZW1hbnRpYz5wcmltYXJ5PC9jaXMtc2VtYW50aWM+DTxwYXRoIGZpbGw9IiMwMDgwQzUiIGQ9Ik04LjE4LDguODVjLTAuMSwwLjEtMC4yNiwwLjEtMC4zNSwwTDIuMTgsMy4xOEMyLjA4LDMuMDgsMi4xMSwzLDIuMjUsM2gxMS41YzAuMTQsMCwwLjE3LDAuMDgsMC4wNywwLjE4DQlMOC4xOCw4Ljg1eiBNOC4xOCwxMC44MmMtMC4xLDAuMS0wLjI2LDAuMS0wLjM1LDBMNi4xOCw5LjE4Yy0wLjEtMC4xLTAuMjYtMC4xLTAuMzUsMGwtMy42NSwzLjY1QzIuMDgsMTIuOTIsMi4xMSwxMywyLjI1LDEzaDExLjUNCWMwLjE0LDAsMC4xNy0wLjA4LDAuMDctMC4xOGwtMy42NS0zLjY1Yy0wLjEtMC4xLTAuMjYtMC4xLTAuMzUsMEw4LjE4LDEwLjgyeiBNMTEuMTgsNy44MmMtMC4xLDAuMS0wLjEsMC4yNiwwLDAuMzVsMi42NSwyLjY1DQljMC4xLDAuMSwwLjE4LDAuMDYsMC4xOC0wLjA3di01LjVjMC0wLjE0LTAuMDgtMC4xNy0wLjE4LTAuMDdMMTEuMTgsNy44MnogTTIuMTgsNS4xOEMyLjA4LDUuMDgsMiw1LjExLDIsNS4yNXY1LjUNCWMwLDAuMTQsMC4wOCwwLjE3LDAuMTgsMC4wN2wyLjY1LTIuNjVjMC4xLTAuMSwwLjEtMC4yNiwwLTAuMzVMMi4xOCw1LjE4eiIvPg08L3N2Zz4N"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmVhcnBob25lPC9jaXMtbmFtZT4NPGNpcy1zZW1hbnRpYz5wcmltYXJ5PC9jaXMtc2VtYW50aWM+DTxwYXRoIGZpbGw9IiMwMDgwQzUiIGQ9Ik0yLjE3LDMuOTNsMS42Mi0xLjYzYzAuMjItMC4yMiwwLjU4LTAuMTcsMC43NywwLjA5bDEuMzksMS45NGMwLjE5LDAuMjYsMC4xMywwLjYzLTAuMDksMC44Nkw0LjY3LDYuMzcNCUM1LjI3LDcuMiw1Ljk5LDguMDksNi45NSw5LjA1YzAuOTYsMC45NiwxLjg1LDEuNjgsMi42OCwyLjI3bDEuMTgtMS4xOGMwLjIyLTAuMjIsMC42Mi0wLjI2LDAuODctMC4wN2wxLjkxLDEuMzYNCWMwLjI2LDAuMTgsMC4zMiwwLjU1LDAuMSwwLjc4bC0xLjYzLDEuNjNjMCwwLTIuODEsMC4yNS02LjQ4LTMuNDJDMS45Miw2Ljc1LDIuMTcsMy45MywyLjE3LDMuOTN6Ii8+DTwvc3ZnPg0="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(4),u=n(0),c=r(u),p=n(1),f=n(2),d=n(133),h=r(d),y=n(8),m=n(222),g=r(m),b=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={speechActive:!1,focused:!1},n.doSearch=n.doSearch.bind(n),n.toggleSpeechActive=n.toggleSpeechActive.bind(n),n.speechRecognized=n.speechRecognized.bind(n),n.requestSearch=n.requestSearch.bind(n),n}return i(t,e),s(t,[{key:"doSearch",value:function(e){document.location.href="/search/fulltextsearch?searchtext="+encodeURIComponent(e)}},{key:"setFocusToInputField",value:function(){var e=document.getElementsByClassName((0,f.prefixNS)("titlebar__searchfield"))[0];e&&e.getElementsByTagName("input")[0].focus()}},{key:"componentDidUpdate",value:function(e){this.props.focused&&e.focused!==this.props.focused&&this.setFocusToInputField()}},{key:"toggleSpeechActive",value:function(){this.setState(function(e){return{speechActive:!e.speechActive}})}},{key:"speechRecognized",value:function(e){this.searchField.search(e)}},{key:"focusActive",value:function(e,t){if(!e&&t.relatedTarget){if(t.relatedTarget.className.includes((0,f.prefixNS)("titlebar__search-button")))return}this.setState({focused:e})}},{key:"requestSearch",value:function(e){this.searchField.onSearchRequested(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.speechActive,r=t.focused,o=r?c.default.createElement(y.IconButton,{className:(0,f.prefixNS)("titlebar__search-button"),title:(0,l.formatStr)("speech"),iconName:n?"csweb_microphone":"csweb_microphone_off",onClick:this.toggleSpeechActive,key:"speachButton"}):"",a=r?c.default.createElement(y.IconButton,{className:(0,f.prefixNS)("titlebar__search-button"),title:(0,l.formatStr)("do_extended_search"),iconName:"csweb_search_icon_svg",onClick:this.requestSearch,key:"searchButton"}):"";return c.default.createElement("li",{className:this.props.hide?"hidden":"",role:"presentation"},c.default.createElement(g.default,{allowSpeech:n,onTextRecognized:this.speechRecognized},function(t){var r=t.speechAvailable,i=t.finalTranscript;return c.default.createElement("div",{className:(0,f.prefixNS)("titlebar__searchfield")},c.default.createElement(h.default,{id:"myawesomeid",searchText:n?i:"",productName:e.props.productName,searchCallback:e.doSearch,ref:function(t){return e.searchField=t},onFocus:function(){e.focusActive(!0)},onBlur:function(t){e.focusActive(!1,t)},afterControl:[r?o:"",a]}))}))}}]),t}(c.default.Component);t.default=b,b.propTypes={productName:p.PropTypes.string.isRequired,focused:p.PropTypes.bool,hide:p.PropTypes.bool}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmxpc3QtY2xvc2U8L2Npcy1uYW1lPg08Y2lzLXNlbWFudGljPnByaW1hcnk8L2Npcy1zZW1hbnRpYz4NPHBhdGggZmlsbD0iIzAwODBDNSIgZD0iTTQuNSwzaC0yQzIuMiwzLDIsMy4yLDIsMy41djJDMiw1LjgsMi4yLDYsMi41LDZoMkM0LjgsNiw1LDUuOCw1LDUuNXYtMkM1LDMuMiw0LjgsMyw0LjUsM3oiLz4NPHBhdGggZmlsbD0iIzAwODBDNSIgZD0iTTQuNSw3aC0yQzIuMiw3LDIsNy4yLDIsNy41djJDMiw5LjgsMi4yLDEwLDIuNSwxMGgyQzQuOCwxMCw1LDkuOCw1LDkuNXYtMkM1LDcuMiw0LjgsNyw0LjUsN3oiLz4NPHBhdGggZmlsbD0iIzAwODBDNSIgZD0iTTQuNSwxMWgtMkMyLjIsMTEsMiwxMS4yLDIsMTEuNXYyQzIsMTMuOCwyLjIsMTQsMi41LDE0aDJDNC44LDE0LDUsMTMuOCw1LDEzLjV2LTJDNSwxMS4yLDQuOCwxMSw0LjUsMTF6Ig0JLz4NPHBhdGggZmlsbD0iIzAwODBDNSIgZD0iTTEzLjUsMTFoLTdDNi4yLDExLDYsMTEuMiw2LDExLjV2MkM2LDEzLjgsNi4yLDE0LDYuNSwxNGg3YzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMg0JQzE0LDExLjIsMTMuOCwxMSwxMy41LDExeiBNMTMsMTNIN3YtMWg2VjEzeiIvPg08cGF0aCBmaWxsPSIjMDA4MEM1IiBkPSJNMTMuNSw3aC03QzYuMiw3LDYsNy4yLDYsNy41djJDNiw5LjgsNi4yLDEwLDYuNSwxMGg3YzAuMywwLDAuNS0wLjIsMC41LTAuNXYtMkMxNCw3LjIsMTMuOCw3LDEzLjUsN3oNCSBNMTMsOUg3VjhoNlY5eiIvPg08cGF0aCBmaWxsPSIjMDA4MEM1IiBkPSJNMTMuNSwzaC03QzYuMiwzLDYsMy4yLDYsMy41djJDNiw1LjgsNi4yLDYsNi41LDZoN0MxMy44LDYsMTQsNS44LDE0LDUuNXYtMkMxNCwzLjIsMTMuOCwzLDEzLjUsM3ogTTEzLDVINw0JVjRoNlY1eiIvPg08L3N2Zz4N"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmxpc3Q8L2Npcy1uYW1lPg08Y2lzLXNlbWFudGljPnByaW1hcnk8L2Npcy1zZW1hbnRpYz4NPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGZpbGw9IiMwMDgwQzUiIGQ9Ik01LDkuNUM1LDkuNzgsNC43NywxMCw0LjUsMTBoLTJDMi4yMywxMCwyLDkuNzgsMiw5LjV2LTINCUMyLDcuMjIsMi4yMyw3LDIuNSw3aDJDNC43Nyw3LDUsNy4yMiw1LDcuNVY5LjV6IE01LDExLjVDNSwxMS4yMiw0Ljc3LDExLDQuNSwxMWgtMkMyLjIzLDExLDIsMTEuMjIsMiwxMS41djINCUMyLDEzLjc4LDIuMjMsMTQsMi41LDE0aDJDNC43NywxNCw1LDEzLjc4LDUsMTMuNVYxMS41eiBNNSwzLjVDNSwzLjIyLDQuNzcsMyw0LjUsM2gtMkMyLjIzLDMsMiwzLjIyLDIsMy41djJDMiw1Ljc4LDIuMjMsNiwyLjUsNg0JaDJDNC43Nyw2LDUsNS43OCw1LDUuNVYzLjV6IE0xNCw3LjVDMTQsNy4yMiwxMy43Nyw3LDEzLjUsN2gtN0M2LjIzLDcsNiw3LjIyLDYsNy41djJDNiw5Ljc4LDYuMjMsMTAsNi41LDEwaDcNCWMwLjI3LDAsMC41LTAuMjIsMC41LTAuNVY3LjV6IE0xNCwxMS41YzAtMC4yOC0wLjIzLTAuNS0wLjUtMC41aC03QzYuMjMsMTEsNiwxMS4yMiw2LDExLjV2MkM2LDEzLjc4LDYuMjMsMTQsNi41LDE0aDcNCWMwLjI3LDAsMC41LTAuMjIsMC41LTAuNVYxMS41eiBNMTQsMy41QzE0LDMuMjIsMTMuNzcsMywxMy41LDNoLTdDNi4yMywzLDYsMy4yMiw2LDMuNXYyQzYsNS43OCw2LjIzLDYsNi41LDZoNw0JQzEzLjc3LDYsMTQsNS43OCwxNCw1LjVWMy41eiIvPg08L3N2Zz4N"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.frameComponent,n=e.pageContent;return i.default.createElement(t,null,i.default.createElement(s.ReactRouter.Router,{history:s.browserHistory},i.default.createElement(s.ReactRouter.Switch,null,i.default.createElement(s.ReactRouter.Route,{path:p,component:n}),i.default.createElement(s.ReactRouter.Route,{component:c.default}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(225),c=r(u),p=(0,l.getAppSetup)().getIn(["appSettings","basePath"]),f=s.PropTypes.oneOfType([s.PropTypes.func,s.PropTypes.instanceOf(i.default.Component)]).isRequired;o.propTypes={frameComponent:f,pageContent:f}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.frameComponent,n=e.detailView,r=d+"/:object_keys";return i.default.createElement(t,null,i.default.createElement(s.ReactRouter.Router,{history:s.browserHistory},i.default.createElement(s.ReactRouter.Switch,null,i.default.createElement(s.ReactRouter.Route,{path:r,component:(0,c.default)(n)}),i.default.createElement(s.ReactRouter.Route,{component:f.default}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(2),u=n(418),c=r(u),p=n(225),f=r(p),d=(0,l.getAppSetup)().getIn(["appSettings","basePath"]),h=s.PropTypes.oneOfType([s.PropTypes.func,s.PropTypes.instanceOf(i.default.Component)]).isRequired;o.propTypes={frameComponent:h,detailView:h}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){function t(e,t){var n=(0,h.getAppSetup)().getIn(["links","detail_view","object_url_template"]),r=n.replace("${keys}",t.match.params.object_keys);return{objectUrl:r,contextObject:e.objectsById.get(r),fetchError:e.errorsById.get(r)}}var n=function(t){function n(e){r(this,n);var t=o(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t._onDeleteContextObject=t._onDeleteContextObject.bind(t),t.onDeleteContextObject=t.onDeleteContextObject.bind(t),t}return a(n,t),i(n,[{key:"componentDidMount",value:function(){var e=this.props,t=e.contextObject,n=e.fetchObject,r=e.fetchType;n(this.props.objectUrl,null,"no"),void 0!==t&&r(t.get("@type"))}},{key:"componentWillReceiveProps",value:function(e){e.objectUrl!==this.props.objectUrl&&this.props.fetchObject(e.objectUrl);var t=e.contextObject;if(t!==this.props.contextObject&&this.props.setContextObjects("root",t),t&&t!==this.props.contextObject){var n=t.get("system:description");document.title=n,this.props.addHistoryItem({classname:t.get("system:classname"),rest_id:t.get("system:navigation_id"),ref_object_id:t.get("cdb_object_id")})}e.fetchError&&e.fetchError!==this.props.fetchError&&this.props.notifyError(e.fetchError,null,"Error while fetching object")}},{key:"_onDeleteContextObject",value:function(){window.location="/"}},{key:"onDeleteContextObject",value:function(e){var t=this.props.contextObject,n=e.get("params");return t&&(void 0===n.get("objects")?n.getIn(["object","@id"])===t.get("@id"):n.get("objects").map(function(e){return e.get("@id")}).includes(t.get("@id")))?this._onDeleteContextObject:void 0}},{key:"render",value:function(){var t=this.props,n=t.contextObject,r=t.fetchError;return r?l.default.createElement(c.Alert,{bsStyle:"warning"},(0,m.formatStr)("detail_wrapper_fetch_error"),": "+r.status+" "+r.statusText):void 0===n?l.default.createElement(c.Alert,{bsStyle:"info"},(0,m.formatStr)("detail_wrapper_fetching")):l.default.createElement(e,this.props)}}]),n}(s.Component);n.propTypes={contextObject:u.ImmutablePropTypes.map,objectUrl:u.PropTypes.string.isRequired,fetchError:u.PropTypes.object,fetchObject:u.PropTypes.func.isRequired,fetchType:u.PropTypes.func.isRequired,addHistoryItem:u.PropTypes.func.isRequired,setContextObjects:u.PropTypes.func.isRequired,notifyError:u.PropTypes.func.isRequired},n.displayName="DetailWrapper("+(0,h.getDisplayName)(e)+")";var g={fetchObject:f.fetchObject,fetchType:f.fetchType,addHistoryItem:d.addHistoryItem,setContextObjects:y.setContextObjects,notifyError:p.notifyError};return(0,u.connect)(t,g)(n)};var s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=n(6),p=n(19),f=n(27),d=n(79),h=n(2),y=n(54),m=n(4)},function(e,t,n){"use strict";function r(e){var t=e.children,n=e.className;return a.default.createElement("div",{className:n},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1);r.propTypes={className:i.PropTypes.string}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=(0,u.classNames)("cs-web-components-base-flexbox",{"cs-web-components-base-flexbox-growfirstchild":this.props.growFirstChild}),t={flexDirection:this.props.vertical?"column":"row",flexWrap:this.props.wrap?"wrap":"nowrap"};return l.default.createElement("div",{className:e,style:t},this.props.children)}}]),t}(l.default.Component);t.default=c,c.propTypes={vertical:u.PropTypes.bool,wrap:u.PropTypes.bool,growFirstChild:u.PropTypes.bool},c.defaultProps={vertical:!1,wrap:!0,growFirstChild:!0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(226),f=r(p),d=n(202),h=r(d),y=n(47),m=n(48),g=n(62),b=r(g),v=n(105),_=r(v),S=n(3),O=r(S),T=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"startEditing",value:function(){var e=this.props,t=e.runOperation,n=e.operations,r=n.first();void 0!==r&&t(r,{contextObjects:O.default.List([this.props.contextObject])})}},{key:"render",value:function(){var e=this.props,t=e.contextObject,n=e.content,r=e.operations,o=e.isOperationRunning,a=e.isInstanceRunning,i=r.first(),s=a?u.default.createElement(b.default,this.props):n;return u.default.createElement(_.default.Provider,{channelName:"sidebar",channelValues:{isEditing:a}},u.default.createElement(f.default,{content:s},a?n:null,a?null:u.default.createElement(h.default,{onStartEditing:o||void 0===i?void 0:this.startEditing.bind(this),editingLabel:i?i.get("label",""):"",contextObject:t,dialog:this.props.attributeDialog}),this.props.children))}}]),t}(u.default.Component);T.propTypes={content:c.PropTypes.node.isRequired,attributeDialog:c.PropTypes.string,contextObject:c.ImmutablePropTypes.map.isRequired,operationInstance:c.PropTypes.string,operationState:c.ImmutablePropTypes.map.isRequired,runOperation:c.PropTypes.func.isRequired,submitOperation:c.PropTypes.func.isRequired,cancelOperation:c.PropTypes.func.isRequired,continueOperation:c.PropTypes.func.isRequired,operations:c.ImmutablePropTypes.list.isRequired,isInstanceRunning:c.PropTypes.bool,isOperationRunning:c.PropTypes.bool},T.childContextTypes={minified:c.PropTypes.bool},t.default=(0,y.WithOperations)((0,m.WithOperationHandler)(T,"editor"),{operationNames:["CDB_Modify"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.previewFile.get("@id"),n=e.previewFile.get("cdbf_name");return f.default.createElement(h.CarouselItem,{active:e.active,className:"preview-item"},f.default.createElement("div",{className:"squared-container"},f.default.createElement("img",{src:t,alt:n,className:"preview"})),f.default.createElement("div",{className:"preview-caption"},f.default.createElement("span",{className:"preview-filename"},n),f.default.createElement("a",{href:t,className:"file-download"},f.default.createElement(m.default,{name:"csweb_download",size:"sm"}))))}Object.defineProperty(t,"__esModule",{value:!0}),t.ImageFiles=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),p=n(0),f=r(p),d=n(1),h=n(6),y=n(11),m=r(y),g=n(4),b=n(2),v=n(27);s.propTypes={active:d.PropTypes.bool.isRequired,previewFile:d.PropTypes.instanceOf(c.default.Map).isRequired};var _=t.ImageFiles=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={index:0},n}return i(t,e),l(t,[{key:"render",value:function(){var e=t.determinePreviewFiles(this.props.files),n=this.state.index;return e&&0!==e.size?f.default.createElement("div",{className:(0,b.prefixNS)("ImageFiles")},f.default.createElement(h.Panel,null,f.default.createElement(h.Carousel,{activeIndex:this.state.index,onSelect:this.handleSelect.bind(this),interval:0},e.map(function(e,t){return f.default.createElement(s,{key:e.get("cdb_object_id"),previewFile:e,active:t===n})})))):f.default.createElement("div",null,f.default.createElement(g.Format,{messageId:"no_preview"}))}},{key:"handleSelect",value:function(e){this.setState({index:e})}}],[{key:"determinePreviewFiles",value:function(e){return void 0===e?null:e.filter(function(e){return(0,b.isSupportedImageType)(e.get("system:content_type"))})}}]),t}(p.Component);_.propTypes={files:d.PropTypes.instanceOf(c.default.List).isRequired};var S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return e.contextObject&&e.ensureFileTargetsAvailable(e.contextObject.get("@id")),n}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.contextObject!==this.props.contextObject&&e.ensureFileTargetsAvailable(e.contextObject.get("@id"))}},{key:"render",value:function(){var e=this.props.contextObject.getIn(["relship:files","targets"],c.default.List());return f.default.createElement(_,{files:e})}}]),t}(f.default.Component);S.propTypes={contextObject:d.ImmutablePropTypes.map.isRequired,ensureFileTargetsAvailable:d.PropTypes.func};var O={ensureFileTargetsAvailable:v.ensureFileTargetsAvailable};t.default=(0,d.connect)(void 0,O)(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(50),a=r(o),i=n(146),s=r(i),l=n(153),u=r(l),c=n(52),p=r(c);t.default={NumberType:a.default,CalendarSimpleConverter:s.default,CalendarConverter:u.default,DateRange:p.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(228),f=r(p),d=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"getStoredCollapsed",value:function(){var e=localStorage.getItem(this.props.collapsedKey);return void 0===e||JSON.parse(e)}},{key:"onCollapsed",value:function(e){localStorage.setItem(this.props.collapsedKey,JSON.stringify(e)),this.props.onCollapsed&&this.props.onCollapsed(e)}},{key:"render",value:function(){return u.default.createElement(f.default,{header:this.props.header,onCollapsed:this.onCollapsed.bind(this),initialCollapsed:this.getStoredCollapsed(),useGlyphiconStyle:this.props.useGlyphiconStyle},this.props.children)}}]),t}(l.Component);t.default=d,d.propTypes={header:c.PropTypes.oneOfType([c.PropTypes.node,c.PropTypes.string]).isRequired,onCollapsed:c.PropTypes.func,collapsedKey:c.PropTypes.string.isRequired,useGlyphiconStyle:c.PropTypes.bool},d.defaultProps={onCollapsed:void 0}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return s.default.createElement("div",{className:e.className},s.default.createElement("div",{className:(0,f.classNames)("cs-web-components-base-progress-detail__children")},e.children))}function a(e){var t=e.state,n=e.label,r=(0,f.classNames)("cs-web-components-base-progress-detail__label",t===g?"cs-web-components-base-progress-detail__label--incomplete":""),o=void 0;switch(t){case g:o=s.default.createElement(u.default,{src:m.default});break;case b:o=s.default.createElement(p.default,{size:"sm"});break;case v:o=s.default.createElement(u.default,{src:h.default})}return s.default.createElement("div",null,o,s.default.createElement("div",{className:r},n))}Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressDetailContainer=o,t.ProgressDetailItem=a;var i=n(0),s=r(i),l=n(11),u=r(l),c=n(49),p=r(c),f=n(1),d=n(426),h=r(d),y=n(427),m=r(y),g=0,b=1,v=2;o.propTypes={className:f.PropTypes.string},a.propTypes={state:f.PropTypes.oneOf([g,b,v]),label:f.PropTypes.string},t.default={ProgressDetailContainer:o,ProgressDetailItem:a,ITEM_INCOMPLETE:g,ITEM_IN_PROGRESS:b,ITEM_COMPLETE:v}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPmNoZWNrPC9jaXMtbmFtZT4NPHBhdGggZmlsbD0iIzk5OTk5OSIgZD0iTTExLDJINUMzLjM0LDIsMiwzLjM0LDIsNXY2YzAsMS42NiwxLjM0LDMsMywzaDZjMS42NiwwLDMtMS4zNCwzLTNWNUMxNCwzLjM0LDEyLjY2LDIsMTEsMnogTTEyLDExDQljMCwwLjU1LTAuNDUsMS0xLDFINWMtMC41NSwwLTEtMC40NS0xLTFWNWMwLTAuNTUsMC40NS0xLDEtMWg2YzAuNTUsMCwxLDAuNDUsMSwxVjExeiBNMTEuMTgsNi42MUwxMC40Nyw1LjkNCWMtMC4yLTAuMi0wLjUxLTAuMi0wLjcxLDBMNy4yOSw4LjM4TDYuMjMsNy4zMmMtMC4yLTAuMi0wLjUxLTAuMi0wLjcxLDBMNC44Miw4LjAzYy0wLjIsMC4yLTAuMiwwLjUxLDAsMC43MWwxLjA2LDEuMDZsMS4wNiwxLjA2DQljMC4yLDAuMiwwLjUxLDAuMiwwLjcxLDBsMS4wNi0xLjA2bDIuNDctMi40N0MxMS4zOCw3LjEyLDExLjM4LDYuODEsMTEuMTgsNi42MXoiLz4NPC9zdmc+DQ=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxNiAxNiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ij4NPGNpcy1uYW1lPnVuY2hlY2tlZDwvY2lzLW5hbWU+DTxwYXRoIGZpbGw9IiM5OTk5OTkiIGQ9Ik0xMSwySDVDMy4zNCwyLDIsMy4zNCwyLDV2NmMwLDEuNjYsMS4zNCwzLDMsM2g2YzEuNjYsMCwzLTEuMzQsMy0zVjVDMTQsMy4zNCwxMi42NiwyLDExLDJ6IE0xMiwxMQ0JYzAsMC41NS0wLjQ1LDEtMSwxSDVjLTAuNTUsMC0xLTAuNDUtMS0xVjVjMC0wLjU1LDAuNDUtMSwxLTFoNmMwLjU1LDAsMSwwLjQ1LDEsMVYxMXoiLz4NPC9zdmc+DQ=="},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(58),a=r(o),i=n(98),s=r(i),l=n(80),u=r(l),c=n(135),p=r(c),f=n(229),d=r(f),h=n(143),y=r(h),m=n(141),g=r(m),b=n(429),v=r(b),_=n(130);t.default={Tree:s.default,StructureTree:p.default,TreeContainer:g.default,ModalTreeContainer:v.default,RestTree:d.default,NodeRenderer:a.default,TreeFilter:y.default,SimpleTextMatcher:u.default,TreeExpandDialog:_.TreeExpandDialog}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){function n(e){o(this,n);var t=a(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e));return t.onExpandLevelsChanged=t.onExpandLevelsChanged.bind(t),t.state={expandLevels:2},t}return i(n,t),l(n,[{key:"onExpandLevelsChanged",value:function(e){this.setState({expandLevels:e})}},{key:"render",value:function(){return c.default.createElement("div",null,c.default.createElement(e,this.props))}}]),n}(c.default.Component)}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var u=n(0),c=r(u),p=n(2),f=n(143),d=r(f),h=n(142),y=r(h),m=n(144),g=r(m);s.DefaultRenderer=g.default.registerTreeRenderer("ModalTreeContainer.DefaultRenderer",(0,p.compose)(y.default,d.default.ShowSearchResults,s))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return p.default.createElement("div",{className:(0,m.prefixNS)("related-objects-wrapper")},e.text?p.default.createElement("span",{className:(0,m.prefixNS)("related-objects__label")},e.text):p.default.createElement("span",{className:(0,m.prefixNS)("related-objects__label--empty")}),p.default.createElement("div",{className:(0,m.prefixNS)("related-objects")},e.children))}function l(e,t){var n=t.contextObject;return{relshipConfigs:e.relatedObjectTiles.get(n.get("system:classname"),d.default.List()),objectsById:e.objectsById,relshipsById:e.relshipsById}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(3),d=r(f),h=n(1),y=n(4),m=n(2),g=n(32),b=r(g),v=n(221),_=r(v),S=n(147),O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tilesByClass:d.default.Map()},n}return i(t,e),u(t,[{key:"componentDidMount",value:function(){this.fetchRelatedObjectTiles(this.props),this.cacheConfiguredTiles(this.props)}},{key:"componentWillReceiveProps",value:function(e){e.contextObject&&this.props.contextObject!==e.contextObject&&this.fetchRelatedObjectTiles(e),this.cacheConfiguredTiles(e)}},{key:"cacheConfiguredTiles",value:function(e){var t=this,n=this.state.tilesByClass,r=n;e.relshipConfigs.forEach(function(n){var o=(0,m.referencedObjects)(e,e.contextObject,n.get("name"));null!==o&&void 0!==o&&(o.has("system:classname")?r=t.cacheTile(r,o):o.forEach(function(e){r=t.cacheTile(r,e)}))}),r!==n&&this.setState({tilesByClass:r})}},{key:"cacheTile",value:function(e,t){var n=t.get("system:classname");if(e.has(n))return e;var r=(0,m.getPlugin)(this.props.pluginContextName,function(e){return e===n},_.default);return e.set(n,r)}},{key:"fetchRelatedObjectTiles",value:function(e){var t=e.contextObject;(0,e.fetchRelatedObjectTiles)(t.get("system:classname"),t.get("system:navigation_id"))}},{key:"renderTile",value:function(e,t){var n=this.state.tilesByClass,r=n.get(e.get("system:classname"));return r?p.default.createElement(r,{key:t,contextObject:e}):null}},{key:"tilesToRender",value:function(){var e=this,t=this.props.relshipConfigs,n=[];return t.forEach(function(t){var r=t.get("name"),o=(0,m.referencedObjects)(e.props,e.props.contextObject,r);if(null!==o&&void 0!==o){var a=t.get("label");if(o.has("system:classname")){var i=r+"-"+o.get("@id"),l=e.renderTile(o,i);l&&n.push(p.default.createElement(s,{text:a,key:i},l))}else if(o.size>0){var u=r+"-"+t.get("id");n.push(p.default.createElement(s,{text:a,key:u},o.map(function(t){return e.renderTile(t,r+"-"+t.get("@id"))})))}}}),n}},{key:"render",value:function(){var e=this.tilesToRender();return p.default.createElement(b.default,{collapsible:!0,expanded:!0,title:(0,y.formatStr)("related_objects")},p.default.createElement(b.default.Body,null,e.length>0?e:p.default.createElement("div",{className:"cs-web-components-base-related-objects__default"},(0,y.formatStr)("related_objects_default"))))}}]),t}(p.default.Component);O.propTypes={contextObject:h.ImmutablePropTypes.map.isRequired,pluginContextName:h.PropTypes.string,relshipConfigs:h.ImmutablePropTypes.list.isRequired},O.defaultProps={pluginContextName:"class-tile-small"},s.propTypes={text:h.PropTypes.string};var T={fetchRelatedObjectTiles:S.fetchRelatedObjectTiles};t.default=(0,h.connect)(l,T)(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(2),d=n(11),h=r(d),y=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props.alertType,t="info"===e?(0,f.prefixNS)("InfoBox-info"):"warning"===e?(0,f.prefixNS)("InfoBox-warning"):"danger"===e?(0,f.prefixNS)("InfoBox-danger"):"";return u.default.createElement(c.Alert,{className:(0,p.classNames)((0,f.prefixNS)("InfoBox"),t)},u.default.createElement("div",{className:(0,f.prefixNS)("InfoBox-inline-display")},this.props.iconName?u.default.createElement(h.default,{name:this.props.iconName,size:"lg"}):this.props.iconSrc?u.default.createElement(h.default,{src:this.props.iconSrc,size:"lg"}):null),u.default.createElement("div",{className:(0,f.prefixNS)("InfoBox-inline-display")},u.default.createElement("div",{className:"notification-title"},this.props.title),u.default.createElement("div",{className:(0,f.prefixNS)("InfoBox-text")},this.props.msg)))}}]),t}(u.default.Component);t.default=y,y.propTypes={title:p.PropTypes.string.isRequired,msg:p.PropTypes.string.isRequired,alertType:p.PropTypes.oneOf(["info","warning","danger"]).isRequired,iconName:p.PropTypes.string,iconSrc:p.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=r(o),i=n(218),s=r(i),l=n(2),u=function(e){var t=(0,l.getAppSetup)();return a.default.createElement(s.default.ApplicationFrame,null,a.default.createElement("div",{className:(0,l.prefixNS)("error-text")},a.default.createElement("h1",null,"Server Status Code ",t.getIn(["server_error","code"]),"- ",t.getIn(["server_error","title"])),a.default.createElement("p",null,t.getIn(["server_error","explanation"]))),e.children)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.composeExtensions=t.applyExtension=t.FormWithOperations=t.ConfiguredForm=t.OperationScope=t.WithOperationHandler=t.OperationHandler=t.WithOperationTrigger=t.OperationTrigger=t.OperationMessageBox=t.DisplayForm=t.FormRaw=t.Form=void 0;var o=n(13),a=n(434),i=r(a),s=n(62),l=r(s),u=n(435),c=r(u),p=n(119),f=r(p),d=n(108),h=r(d),y=n(48),m=r(y),g=n(101),b=r(g),v=n(63),_=r(v),S=n(436),O=r(S),T=n(437),E=r(T);o.Registry.registerComponent("cs-web-components-base-OperationScope",_.default),o.Registry.registerComponent("cs-web-components-base-OperationMessageBox",O.default),o.Registry.registerComponent("cs-web-components-base-ConfiguredForm",l.default),o.Registry.registerComponent("cs-web-components-base-FormWithOperations",c.default),o.Registry.registerComponent("cs-web-components-base-FormControlWrapper",f.default),o.Registry.registerComponent("cs-web-components-base-OperationHandler",m.default),o.Registry.registerComponent("cs-web-components-base-OperationTrigger",b.default),o.Registry.registerComponent("cs-web-components-base-Form",E.default),o.Registry.registerReducer("formWithOperations",i.default),t.Form=E.default,t.FormRaw=T.FormRaw,t.DisplayForm=h.default,t.OperationMessageBox=O.default,t.OperationTrigger=b.default,t.WithOperationTrigger=g.WithOperationTrigger,t.OperationHandler=m.default,t.WithOperationHandler=y.WithOperationHandler,t.OperationScope=_.default,t.ConfiguredForm=l.default,t.FormWithOperations=c.default,t.applyExtension=y.applyExtension,t.composeExtensions=y.composeExtensions},function(e,t,n){"use strict";function r(){return{mode:s.OperationMode.INITIAL,info:null,state:null,params:null,values:null,registers:null,wizardProgress:null,dialogHooks:null,operationState:null,unchecked:null,preventSubmitReasons:null,valueErrors:null,generalErrors:null,query:null,queryCancel:!1,displayForm:!1,submitDisabled:!1,pendingChecks:a.default.Map(),nonBlocking:null,hasFiles:!1,files:null}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Map(),t=arguments[1];if(!t.payload)return e;var n=t.payload.instanceName;switch(t.type){case i.INIT_OP_INSTANCE:return e.mergeIn([n],r()).setIn([n,"result"],null).setIn([n,"successHandler"],null).setIn([n,"failureHandler"],null);case i.CLEAR_OP_STATE:return e.mergeIn([n],r());case i.CLEAR_OP_INSTANCE:return e.delete(n);case i.OPERATION_IS_STARTING:return e.setIn([n,"mode"],s.OperationMode.STARTING);case i.INIT_OP_STATE:var o=t.payload,u=o.opInfo,c=o.opState,p=o.opParams,f=o.nonBlocking;return e.mergeIn([n],{mode:s.OperationMode.STARTED,info:u,state:c,params:p,values:c.get("values"),registers:c.get("registers"),wizardProgress:c.get("wizard_progress"),dialogHooks:c.get("dialog_hooks"),operationState:c.get("operation_state"),unchecked:a.default.Set(),preventSubmitReasons:a.default.Set(),submitDisabled:!1,pendingChecks:a.default.Map(),nonBlocking:f,result:null,hasFiles:t.payload.hasFiles,files:t.payload.hasFiles?[]:null});case i.ADD_FILES:return e.updateIn([n,"files"],function(e){return e.concat(t.payload.files)});case i.REMOVE_FILES:return e.updateIn([n,"files"],function(e){return e.filter(function(e){return!t.payload.files.contains(e)})});case i.OPEN_FORM:return e.setIn([n,"displayForm"],!0).setIn([n,"submitDisabled"],!1);case i.CLOSE_FORM:return e.setIn([n,"displayForm"],!1).setIn([n,"submitDisabled"],!1);case i.CHANGE_FORM_VALUES:return e.updateIn([n,"values"],function(e){return t.payload.fields.values||e}).updateIn([n,"unchecked"],function(e){return t.payload.fields.unchecked||e}).updateIn([n,"preventSubmitReasons"],function(e){return t.payload.fields.preventSubmitReasons||e}).updateIn([n,"registers"],function(e){return t.payload.fields.registers||e}).updateIn([n,"wizardProgress"],function(e){return t.payload.fields.wizardProgress||e}).updateIn([n,"dialogHooks"],function(e){return t.payload.fields.dialogHooks||e}).updateIn([n,"operationState"],function(e){return t.payload.fields.operationState||e});case l.ACTIONS.SUBMIT_OPERATION:return e.setIn([n,"submitDisabled"],!0);case l.ACTIONS.QUERY_CANCEL:return e.setIn([n,"queryCancel"],!0);case l.ACTIONS.QUERY_CANCEL_FORCE:case l.ACTIONS.QUERY_CANCEL_BACK:return e.setIn([n,"queryCancel"],!1);case l.ACTIONS.QUERY_USER:return e.setIn([n,"query"],t.payload.dialog);case l.ACTIONS.QUERY_DISMISS:return e.setIn([n,"query"],null);case l.ACTIONS.SUBMIT_VALUE_ERROR:return e.setIn([n,"valueErrors"],t.payload.fields);case l.ACTIONS.SUBMIT_GENERAL_ERROR:return e.setIn([n,"generalErrors"],t.payload.errors);case l.ACTIONS.CLEAR_ERRORS:return e.setIn([n,"valueErrors"],null).setIn([n,"generalErrors"],null);case i.FORM_CHECK_PENDING:return e.setIn([n,"pendingChecks",t.payload.field],!0);case i.FORM_CHECK_DONE:return e.deleteIn([n,"pendingChecks",t.payload.field]);case i.OPERATION_SUCCEEDED:return e.setIn([n,"result"],s.OperationMode.SUCCEEDED);case i.OPERATION_FAILED:return e.setIn([n,"result"],s.OperationMode.FAILED);case i.OPERATION_CANCELLED:return e.setIn([n,"result"],s.OperationMode.CANCELLED);case i.SET_SUBMIT_HANDLER:return e.setIn([n,"successHandler"],t.payload.onSuccess).setIn([n,"failureHandler"],t.payload.onFailure);default:return e}};var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(35),s=n(28),l=n(33)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(3),c=r(u),p=n(0),f=r(p),d=n(6),h=n(1),y=n(227),m=r(y),g=n(62),b=r(g),v=n(2),_=n(28),S=n(47),O=n(48),T=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),l(t,[{key:"componentWillReceiveProps",value:function(e){e.operations.size&&!e.isInstanceActive&&this.runOperation(e,e.operations.get(0))}},{key:"runOperation",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=t.get("opname"),o=e.dialogNames&&e.dialogNames[r];e.runOperation(t,{contextObjects:c.default.List([e.contextObject]),nonBlocking:"CDB_ShowObject"===r,dialog:o},n)}},{key:"renderHeader",value:function(){var e=this,t=this.props,n=t.operationState,r=t.contextObject,o=t.operationContext,a=t.forceCancel,i=t.isOperationRunning;return n.get("mode")!==_.OperationMode.STARTED||n.get("nonBlocking")?f.default.createElement(m.default,{contextObject:r,operationContextName:o,disabled:i,selectCB:function(t){return a(),e.runOperation(e.props,t)},deleteCB:function(t){e.runOperation(e.props,t,t.get("presentation_id"))}}):f.default.createElement("h4",null,n.getIn(["info","label"]))}},{key:"render",value:function(){var e=this.props,t=e.isInstanceActive,n=e.operationState;if(!t)return null;var r="CDB_ShowObject"===n.getIn(["info","opname"]);return f.default.createElement("div",{className:(0,v.prefixNS)("form-max-form-width")},f.default.createElement(d.Panel,{header:this.renderHeader()},f.default.createElement(b.default,s({},this.props,{hideButtons:r}))))}}]),t}(p.Component);T.propTypes={operationContext:h.PropTypes.string.isRequired,contextObject:h.PropTypes.instanceOf(c.default.Map).isRequired,dialogNames:h.PropTypes.object,operations:h.ImmutablePropTypes.list.isRequired,operationInstance:h.PropTypes.string.isRequired,operationState:h.ImmutablePropTypes.map.isRequired,runOperation:h.PropTypes.func.isRequired,forceCancel:h.PropTypes.func.isRequired,isInstanceActive:h.PropTypes.bool.isRequired,isOperationRunning:h.PropTypes.bool.isRequired},t.default=(0,S.WithOperations)((0,O.WithOperationHandler)(T,"DisplayForm"),{operationNames:["CDB_ShowObject"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.operationState,n=e.cancelOperation,r=e.continueOperation,o=t.get("lastErrorResult").back_to_dialog?function(){r()}:function(){n()},a=t.get("currentOpLabel"),s=t.get("lastErrorResult");return i.default.createElement(p.default.Notice,{title:a+" "+(0,f.formatStr)("op_failed"),onHide:o},s.message)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(0),i=r(a),s=n(1),l=n(3),u=r(l),c=n(16),p=r(c),f=n(4);o.propTypes={operationState:s.PropTypes.instanceOf(u.default.Map).isRequired,cancelOperation:s.PropTypes.func.isRequired,continueOperation:s.PropTypes.func.isRequired},t.default=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(6),d=n(4),h=n(49),y=r(h),m=n(1),g=n(48),b=n(62),v=r(b),_=n(3),S=r(_),O=n(47),T=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={operationMissing:!1},n}return s(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){this.props.contextObject!==e.contextObject&&e.isInstanceActive&&this.props.cancelOperation(e.operationInstance,!0),e.showObject&&!e.isInstanceActive&&(e.operations.size?e.runOperation(e.operations.get(0),{contextObjects:S.default.List([e.contextObject]),nonBlocking:!0}):e.operationsFetched&&this.setState({operationMissing:!0}))}},{key:"componentWillUnmount",value:function(){this.props.cancelOperation(this.props.operationInstance,!0)}},{key:"render",value:function(){var e=this.props,t=e.showObject,n=o(e,["showObject"]),r=this.props,a=r.isInstanceActive,i=r.operationState;if(this.state.operationMissing)return p.default.createElement(f.Alert,{bsStyle:"warning"},(0,d.formatStr)("operation_not_available",{opname:"CDB_ShowObject"}));if(!a)return p.default.createElement(y.default,null);var s=t&&i.get("nonBlocking");return p.default.createElement(v.default,l({},n,{hideButtons:s}))}}]),t}(p.default.Component);T.propTypes={operationState:m.ImmutablePropTypes.map.isRequired,operationInstance:m.PropTypes.string.isRequired,operations:m.ImmutablePropTypes.list.isRequired,operationsFetched:m.PropTypes.bool.isRequired,isInstanceActive:m.PropTypes.bool.isRequired,contextObject:m.PropTypes.object,runOperation:m.PropTypes.func.isRequired,cancelOperation:m.PropTypes.func.isRequired,showObject:m.PropTypes.bool},T.defaultProps={showObject:!0},t.default=(0,O.WithOperations)((0,g.WithOperationHandler)(T,"DisplayForm"),{operationNames:["CDB_ShowObject"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.ClassViewRaw=t.ClassView=void 0;var o=n(2),a=n(13),i=n(439);n(440);var s=n(232),l=r(s),u=n(443),c=r(u);a.Registry.registerReducers({tabsByClass:i.tabsByClass,currentTabByClass:i.currentTabByClass}),a.Registry.registerComponent((0,o.prefixNS)("ClassApplicationBar"),l.default),a.Registry.registerComponent((0,o.prefixNS)("ClassView"),c.default),t.ClassView=c.default,t.ClassViewRaw=u.ClassViewRaw},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.Map(),t=arguments[1];switch(t.type){case s.ACTIONS.LOADED_TABS_FOR_CLASS:var n=t.payload,r=n.classname,o=n.tabs;return e.set(r,i.default.fromJS(o));case s.ACTIONS.CREATED_TAB_FOR_CLASS:var a=t.payload,l=a.classname,u=a.tab;return e.updateIn([l],function(e){return e.push(i.default.fromJS(u))});case s.ACTIONS.REMOVE_TAB_FOR_CLASS:var c=t.payload,p=c.classname,f=c.instanceName;return e.updateIn([p],function(e){return e.filter(function(e){return e.get("instanceName")!==f})});case s.ACTIONS.REORDER_TABS_FOR_CLASS:var d=t.payload,h=d.classname,y=d.draggedInstanceName,m=d.droppedInstanceName,g=e.get(h).findIndex(function(e){return e.get("instanceName")===y}),b=e.get(h).findIndex(function(e){return e.get("instanceName")===m});return e.updateIn([h],function(e){return e.splice(g,1).splice(b,0,e.get(g))});case s.ACTIONS.SET_TAB_NAME:var v=t.payload,_=v.classname,S=v.instanceName,O=v.name;return e.has(_)?e.updateIn([_],function(e){return e.map(function(e){return e.get("instanceName")===S?e.set("name",O):e})}):e;default:return e}}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.Map(),t=arguments[1];switch(t.type){case s.ACTIONS.CREATED_TAB_FOR_CLASS:var n=t.payload,r=n.classname,o=n.tab;return e.set(r,o.instanceName);case s.ACTIONS.SET_ACTIVE_TAB:var a=t.payload,l=a.classname,u=a.instanceName;return e.set(l,u);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.tabsByClass=r,t.currentTabByClass=o;var a=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(106)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return"search-"+e+"-"+(0,N.cuid)()}function i(e){var t,n,r,o;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,se(function(e){return e.search});case 2:return t=i.sent,n=t.favouritesByClass,r=n.getIn([e,"favourites"],P.default.Map()).filter(function(e){return void 0!==e.get("resultLink")}).valueSeq().toJS(),o=r.map(function(t){return{instanceName:a(e),favouriteId:t.cdb_object_id,name:t.name,iconName:t.iconName,kind:"SPECIAL"}}),(0,z.getClassOpInfo)(e,U.OPERATION_NAMES.kOperationSearch)&&o.unshift({instanceName:a(e),name:(0,R.formatStr)("do_extended_search"),iconName:"csweb_search_icon_svg",kind:"SEARCH"}),i.abrupt("return",{tabs:o,active_tab:o[0].instanceName});case 8:case"end":return i.stop()}},V,this)}function s(e){var t,n,r,o,a,s,u,c,p=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=p.classname,e.next=3,ie((0,j.fetchUserSetting)(ce,t));case 3:return e.next=5,le(function(e){return e.type===j.USER_SETTING_FETCHED&&e.payload.componentId===ce&&e.payload.settingKey===t});case 5:if(n=e.sent,r=n.payload.value,!(o=""!==r)){e.next=12;break}e.t0=r,e.next=15;break;case 12:return e.next=14,ae(i,t);case 14:e.t0=e.sent;case 15:return a=e.t0,s=a.active_tab,u=a.tabs,e.next=20,ae(l,t,u);case 20:return e.next=22,ie({type:L.ACTIONS.LOADED_TABS_FOR_CLASS,payload:{classname:t,tabs:u}});case 22:return e.next=24,ae(g,t,u);case 24:return c=e.sent,e.next=27,ie({type:L.ACTIONS.SET_ACTIVE_TAB,payload:{classname:t,instanceName:c||s,storeSettings:!o||c&&c!==s}});case 27:case"end":return e.stop()}},G,this)}function l(e,t){return regeneratorRuntime.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,oe(t.map(function(t){return ie.resolve((0,M.createSearchInstance)(t.instanceName,e,t.favouriteId,t.searchValues,t.attributeOrder))}));case 2:return n.next=4,oe(t.filter(function(e){return void 0===e.searchValues}).map(function(e){return ie((0,M.doInitializeSearchParams)(e.instanceName))}));case 4:case"end":return n.stop()}},W,this)}function u(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.classname,n=c(t),e.next=4,ie.resolve((0,M.createSearchInstance)(n.instanceName,t));case 4:return e.next=6,ie.resolve((0,M.doInitializeSearchParams)(n.instanceName));case 6:return e.next=8,ie.resolve({type:L.ACTIONS.CREATED_TAB_FOR_CLASS,payload:{classname:t,tab:n}});case 8:return e.next=10,ae(y,t);case 10:return e.next=12,ae(m,t);case 12:case"end":return e.stop()}},q,this)}function c(e){return{instanceName:a(e),name:(0,R.formatStr)("do_extended_search"),iconName:"csweb_search_icon_svg",kind:"SEARCH"}}function p(e){var t,n,r,o,a,i,s,l=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=l.classname,n=l.instanceName,e.next=3,se();case 3:return r=e.sent,o=r.tabsByClass,a=r.currentTabByClass,e.next=8,ie({type:x.ACTIONS.REMOVE_SEARCH_INSTANCE,payload:{instanceName:n,classname:t}});case 8:if(a.get(t)!==n){e.next=13;break}return i=o.get(t),s=0===i.size?null:i.last().get("instanceName"),e.next=13,ie({type:L.ACTIONS.SET_ACTIVE_TAB,payload:{classname:t,instanceName:s}});case 13:case"end":return e.stop()}},Y,this)}function f(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.classname,n=r.draggedInstanceName,e.next=3,ie({type:L.ACTIONS.SET_ACTIVE_TAB,payload:{instanceName:n,storeSettings:!0,classname:t}});case 3:case"end":return e.stop()}},Z,this)}function d(e){var t,n,r,o,a,i=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=i.instanceName,n=i.favouriteId,e.next=3,se();case 3:return r=e.sent,o=(0,A.getClassname)(r,t),a=(0,D.getFavouriteName)(r,o,n),e.next=8,ie({type:L.ACTIONS.SET_TAB_NAME,payload:{classname:o,instanceName:t,name:a}});case 8:case"end":return e.stop()}},Q,this)}function h(e){var t,n,r=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=r.classname,!(n=r.storeSettings)){e.next=4;break}return e.next=4,ae(y,t);case 4:return e.next=6,ae(m,t);case 6:case"end":return e.stop()}},J,this)}function y(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,se();case 2:return t=i.sent,n=t.tabsByClass,r=t.currentTabByClass,o=n.get(e).map(function(e){var n=e.get("instanceName");return e.merge({searchValues:(0,A.getSearchValues)(t,n),attributeOrder:(0,A.getAttributeOrder)(t,n),favouriteId:(0,A.getFavouriteId)(t,n)})}),a={active_tab:r.get(e),tabs:o},i.next=8,ie((0,j.storeUserSetting)(ce,e,a));case 8:case"end":return i.stop()}},K,this)}function m(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,se();case 2:t=i.sent,(0,k.updateLocationAllowed)(t)&&(n=t.currentTabByClass,r={active_tab_id:n.get(e)},o=(0,A.getSearchValues)(t,r.active_tab_id),a=(0,A.getAttributeOrder)(t,r.active_tab_id),r.search_attributes=a.toArray(),r.search_values=a.map(function(e){return o.get(e)}).toArray(),(0,A.getNotYetSearched)(t,r.active_tab_id)||(r.search_on_navigate=!0),N.browserHistory.replace({pathname:N.browserHistory.location.pathname,search:N.qs.stringify(r),state:N.browserHistory.location.state}));case 4:case"end":return i.stop()}},X,this)}function g(e,t){var n,r,o,a,i,s,l,u,p;return regeneratorRuntime.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return n=v(N.browserHistory.location.search),r=n.instanceName,o=n.searchOnNavigate,a=n.attributes,i=n.values,f.next=3,se();case 3:if(s=f.sent,l=(0,A.getSearchValues)(s,r),u=(0,A.getAttributeOrder)(s,r),!o){f.next=9;break}return f.next=9,ie.resolve((0,M.setSearchOnNavigate)(r,!0));case 9:if(!t.some(function(e){return e.instanceName===r})||!b(a,i,u,l)){f.next=11;break}return f.abrupt("return",r);case 11:if(0!==a.length){f.next=13;break}return f.abrupt("return",null);case 13:return p=c(e),f.next=16,ie.resolve((0,M.createSearchInstance)(p.instanceName,e,void 0,i,a));case 16:return f.next=18,ie.resolve({type:L.ACTIONS.CREATED_TAB_FOR_CLASS,payload:{classname:e,tab:p}});case 18:return f.abrupt("return",p.instanceName);case 19:case"end":return f.stop()}},$,this)}function b(e,t,n,r){return 0===e.length||n.equals(P.default.fromJS(e))&&r.equals(P.default.fromJS(t))}function v(e){var t=N.qs.parse(e,{ignoreQueryPrefix:!0}),n=[],r={};return Array.isArray(t.search_attributes)&&Array.isArray(t.search_values)&&(n=t.search_attributes,r=n.reduce(function(e,n,r){return T({},e,o({},n,t.search_values[r]))},{})),{instanceName:t.active_tab_id,searchOnNavigate:t.search_on_navigate,attributes:n,values:r}}function _(e){var t,n,r,o=e.payload;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.instanceName,e.next=3,se();case 3:return n=e.sent,r=(0,A.getClassname)(n,t),e.next=7,ae(y,r);case 7:return e.next=9,ae(m,r);case 9:case"end":return e.stop()}},ee,this)}function S(e){var t,n,r,o,a;return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(t=e.payload.operation,n=t.info,r=t.result,"CDB_Create"!==(o=n.get("opname"))||!r.object){i.next=6;break}return a=r.object["system:description"],i.next=6,N.ReduxSaga.effects.put((0,F.addNotification)(L.NOTIFICATION_ID,(0,R.formatStr)("op_object_created_title",{class_label:a}),C.default.createElement(H.default,{result:r}),"success",1,null,2e4));case 6:case"end":return i.stop()}},te,this)}function O(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ue(x.ACTIONS.INIT_CLASS_SEARCH_DONE,s);case 2:return e.next=4,ue(L.ACTIONS.ADD_TAB_FOR_CLASS,u);case 4:return e.next=6,ue(L.ACTIONS.REMOVE_TAB_FOR_CLASS,p);case 6:return e.next=8,ue(L.ACTIONS.REORDER_TABS_FOR_CLASS,f);case 8:return e.next=10,ue(L.ACTIONS.SET_ACTIVE_TAB,h);case 10:return e.next=12,ue(x.ACTIONS.SELECT_FAVOURITE,d);case 12:return e.next=14,ue(x.ACTIONS.SEARCH_DONE,_);case 14:return e.next=16,N.ReduxSaga.effects.takeEvery(L.ACTIONS.HANDLE_SUBMIT,S);case 16:case"end":return e.stop()}},ne,this)}Object.defineProperty(t,"__esModule",{value:!0});var T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.loadTabsForClass=s;var E=n(0),C=r(E),w=n(3),P=r(w),N=n(1),I=n(13),R=n(4),j=n(69),x=n(17),M=n(22),A=n(40),k=n(441),D=n(184),L=n(106),F=n(19),B=n(442),H=r(B),z=n(107),U=n(18),V=regeneratorRuntime.mark(i),G=regeneratorRuntime.mark(s),W=regeneratorRuntime.mark(l),q=regeneratorRuntime.mark(u),Y=regeneratorRuntime.mark(p),Z=regeneratorRuntime.mark(f),Q=regeneratorRuntime.mark(d),J=regeneratorRuntime.mark(h),K=regeneratorRuntime.mark(y),X=regeneratorRuntime.mark(m),$=regeneratorRuntime.mark(g),ee=regeneratorRuntime.mark(_),te=regeneratorRuntime.mark(S),ne=regeneratorRuntime.mark(O),re=N.ReduxSaga.effects,oe=re.all,ae=re.call,ie=re.put,se=re.select,le=re.take,ue=re.takeEvery,ce="search_tabs";I.Registry.registerSaga(O)},function(e,t,n){"use strict";function r(e){return e.search.context.get(o.CONTEXT.UPDATE_LOCATION_ALLOWED,!1)}Object.defineProperty(t,"__esModule",{value:!0}),t.updateLocationAllowed=r;var o=n(17)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){var t=e.result.files||[];return i.default.createElement("div",{className:(0,c.prefixNS)("class-view__extension-results")},t.map(function(e,t){return i.default.createElement("div",{key:t},i.default.createElement(u.default,{name:e.success?"csweb_check":"csweb_remove",size:"sm"}),i.default.createElement("span",{className:(0,c.prefixNS)("class-view__extension-result-message")},e.file))}),i.default.createElement("a",{href:e.result.ui_link},(0,p.formatStr)("op_object_created_show_details")))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(11),u=r(l),c=n(2),p=n(4);o.propTypes={result:s.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ClassViewRaw=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(19),h=n(48),y=n(62),m=r(y),g=n(232),b=r(g),v=n(444),_=r(v),S=n(107),O=n(102),T=r(O),E=n(106),C=n(233),w=n(97),P=n(17),N=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.runOperation=n.runOperation.bind(n),n.rootClassname=(0,S.getClassViewSetup)().get("rootClassname"),n.classTitle=(0,S.getClassViewSetup)().getIn(["classInfos",n.rootClassname,"title"]),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){(0,this.props.setSearchContext)(o({},P.CONTEXT.UPDATE_LOCATION_ALLOWED,!0)),this.startOperation(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.startOperation(e,this.props),this.removeNotification(e,this.props)}},{key:"removeNotification",value:function(e,t){e.isOperationRunning&&!t.isOperationRunning&&this.props.removeNotificationNow(E.NOTIFICATION_ID)}},{key:"startOperation",value:function(e,t){var n=(0,f.parseQuery)(e.location),r=t?(0,f.parseQuery)(t.location):{};if(n.action&&n.action!==r.action&&!e.isInstanceActive){var o=(0,S.getClassOpInfo)(n.cdb_class,n.action);this.runOperation(o)}else if(n.action!==r.action&&e.isInstanceActive){var a=e.operationState.get("info"),i=(0,S.getClassOpInfo)(a.get("classname"),a.get("opname")),s=Object.assign({pathname:e.location.pathname,search:"",hash:""},i.get("uiLink").toJS());this.props.history.push(s)}}},{key:"runOperation",value:function(e,t){this.props.runOperation(e,Object.assign({successActions:[T.default.Handlers.updateObjectStore(),T.default.Handlers.addObjectToHistory(),(0,C.handleSubmit)()],generalActions:[T.default.Handlers.navigate(this.getSearchLocation(),{pushHistory:!0})]},t))}},{key:"getSearchLocation",value:function(){return{pathname:this.props.location.pathname}}},{key:"render",value:function(){var e=this.props.toolbarComponent?c.default.cloneElement(this.props.toolbarComponent,{key:"class-view:toolbar-component",runOperation:this.runOperation,isOperationRunning:this.props.isOperationRunning}):void 0,t=this.props.operationState.get("displayForm")?"":(0,f.prefixNS)("class-view");return c.default.createElement("div",{className:t},c.default.createElement(b.default,{additionalElement:e,isInstanceRunning:this.props.isInstanceRunning}),this.props.operationState.get("displayForm")?c.default.createElement(m.default,this.props):c.default.createElement(_.default,{rootClassname:this.rootClassname,classTitle:this.classTitle,detail:this.props.detail,childConfiguration:this.props.childConfiguration}))}}]),t}(c.default.Component);N.propTypes={operationInstance:p.PropTypes.string,runOperation:p.PropTypes.func.isRequired,detail:p.PropTypes.element,removeNotificationNow:p.PropTypes.func,continueOperation:p.PropTypes.func,onFailure:p.PropTypes.func,isInstanceActive:p.PropTypes.bool,isInstanceRunning:p.PropTypes.bool,operationState:p.ImmutablePropTypes.map,childConfiguration:p.PropTypes.object,toolbarComponent:p.PropTypes.element,isOperationRunning:p.PropTypes.bool,setSearchContext:p.PropTypes.func.isRequired,location:p.PropTypes.object.isRequired,history:p.PropTypes.object.isRequired};var I=t.ClassViewRaw=p.ReactRouter.withRouter((0,p.connect)(void 0,{removeNotificationNow:d.removeNotificationNow,setSearchContext:w.setSearchContext})(N));t.default=(0,h.WithOperationHandler)(I,"editor")},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){return{tabs:e.tabsByClass.get(t.rootClassname),activeInstance:e.currentTabByClass.get(t.rootClassname)}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(0),c=r(u),p=n(1),f=n(2),d=n(4),h=n(61),y=r(h),m=n(63),g=r(m),b=n(97),v=n(233),_=n(8),S=r(_),O=n(445),T=r(O),E=n(451),C=r(E),w=n(51),P=r(w),N=n(107),I=n(18),R=0,j=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.draggableItemId=(0,f.prefixNS)("tab")+"-"+ ++R,n.onSelectTab=n.onSelectTab.bind(n),n.onReorderTabs=n.onReorderTabs.bind(n),n}return i(t,e),l(t,[{key:"componentDidMount",value:function(){this.props.initClassSearch(this.props.rootClassname)}},{key:"onSelectTab",value:function(e){if(e===P.default.EVENT_KEY_ADD){var t=this.props,n=t.rootClassname;(0,t.addTabForClass)(n)}else{var r=this.props,o=r.rootClassname;(0,r.setActiveTab)(o,e)}}},{key:"onRemoveTab",value:function(e,t){var n=this.props,r=n.rootClassname;(0,n.removeTabForClass)(r,t),e.stopPropagation()}},{key:"renderTabTitle",value:function(e){var t=this,n=e.get("instanceName"),r="SEARCH"===e.get("kind")?c.default.createElement(S.default.CloseButton,{title:(0,d.formatStr)("delete_search_tab"),onClick:function(e){return t.onRemoveTab(e,n)}}):null;return c.default.createElement(P.default.DraggableTitle,{key:n,eventKey:n,iconName:e.get("iconName"),title:e.get("name"),onReorderTabs:this.onReorderTabs,draggableItemId:this.draggableItemId},r)}},{key:"onReorderTabs",value:function(e,t){var n=this.props,r=n.rootClassname;(0,n.reOrderTabsForClass)(r,e,t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.tabs,r=t.activeInstance,o=t.detail,a=t.classTitle,i=t.rootClassname,s=t.childConfiguration;if(void 0===n)return null;var l=(0,N.getClassOpInfo)(i,I.OPERATION_NAMES.kOperationSearch)?(0,d.formatStr)("new_search"):null;return c.default.createElement(g.default,null,c.default.createElement(y.default,{handlerName:"editor"}),c.default.createElement(P.default.Container,{activeKey:r,onSelect:this.onSelectTab,id:(0,f.prefixNS)("class-search-tabs"),className:(0,f.prefixNS)("class-search-tabs-wrapper")},c.default.createElement(P.default.Bar,{activeKey:r,onSelectFromMenu:this.onSelectTab,addControlLabel:l},n.map(function(t,n){return e.renderTabTitle(t,n)})),c.default.createElement(P.default.Content,null,n.map(function(e){return c.default.createElement(P.default.Pane,{mountOnEnter:!0,key:e.get("instanceName"),eventKey:e.get("instanceName")},"SEARCH"===e.get("kind")?c.default.createElement(T.default,{instanceName:e.get("instanceName"),rootClassname:i,classTitle:a,detail:o,childConfiguration:s}):c.default.createElement(C.default,{instanceName:e.get("instanceName"),rootClassname:i,classTitle:a,detail:o,childConfiguration:s}))}))))}}]),t}(c.default.Component);j.propTypes={rootClassname:p.PropTypes.string.isRequired,classTitle:p.PropTypes.string.isRequired,detail:p.PropTypes.element,childConfiguration:p.PropTypes.object,tabs:p.ImmutablePropTypes.list,activeInstance:p.PropTypes.string,initClassSearch:p.PropTypes.func.isRequired,addTabForClass:p.PropTypes.func.isRequired,removeTabForClass:p.PropTypes.func.isRequired,setActiveTab:p.PropTypes.func.isRequired,reOrderTabsForClass:p.PropTypes.func.isRequired};var x={initClassSearch:b.initClassSearch,addTabForClass:v.addTabForClass,removeTabForClass:v.removeTabForClass,setActiveTab:v.setActiveTab,reOrderTabsForClass:v.reOrderTabsForClass};t.default=(0,p.connect)(s,x)(j)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(22),f=n(68),d=r(f),h=n(234),y=r(h),m=n(132),g=r(m),b=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.instanceName;(0,e.initializeSearchInstance)(t)}},{key:"render",value:function(){var e=this.props,t=e.instanceName,n=e.rootClassname,r=e.classTitle,o=e.detail,a=e.childConfiguration;return u.default.createElement(d.default,null,u.default.createElement(d.default.SecondaryPane,{initCollapsed:!1,defaultSize:"300px"},u.default.createElement(g.default,{instanceName:t,classTitle:r})),u.default.createElement(d.default.PrimaryPane,null,u.default.createElement(y.default,{instanceName:t,rootClassname:n,detail:o,childConfiguration:a})))}}]),t}(u.default.Component);b.propTypes={instanceName:c.PropTypes.string.isRequired,rootClassname:c.PropTypes.string.isRequired,classTitle:c.PropTypes.string.isRequired,detail:c.PropTypes.element,childConfiguration:c.PropTypes.object,initializeSearchInstance:c.PropTypes.func.isRequired},t.default=(0,c.connect)(null,{initializeSearchInstance:p.initializeSearchInstance})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(3),u=r(l),c=n(0),p=r(c),f=n(1),d=n(2),h=n(54),y=n(53),m=n(68),g=r(m),b=n(447),v=r(b),_=n(448),S=r(_),O=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.onSelectionChanged=n.onSelectionChanged.bind(n),n}return i(t,e),s(t,[{key:"selectionPath",value:function(){return"search-result/"+this.props.instanceName}},{key:"selectedObjectIDs",value:function(e){var t=this.props.searchResult,n=u.default.Map(t.get("rows").filter(function(t){return e.includes(t.get("id"))}).map(function(e){return[e.get("id"),[e.get("restLink"),e.get("restname"),e.get("keys")]]}));return e.map(function(e){return n.get(e)}).filter(function(e){return void 0!==e})}},{key:"onSelectionChanged",value:function(e){var t=this.props.setContextObjectsBatchLoad,n=this.selectedObjectIDs(e);t(this.selectionPath(),n)}},{key:"render",value:function(){var e=this.props,t=e.instanceName,n=e.rootClassname,r=e.detail,o=e.searchResult,a=e.repeatSearch,i=e.childConfiguration,s=this.selectionPath(),l=i?i.resultTable:null,u=p.default.createElement(v.default,{instanceName:t,rootClassname:n,selectionPath:s,searchResult:o,repeatSearch:a,onSelectionChanged:this.onSelectionChanged,resultTableConf:l});return void 0===r?p.default.createElement("div",{className:(0,d.prefixNS)("result-no-details")},u):p.default.createElement(g.default,null,p.default.createElement(g.default.PrimaryPane,null,u),p.default.createElement(g.default.SecondaryPane,{initCollapsed:!1,defaultSize:"300px"},p.default.createElement("div",{className:(0,d.prefixNS)("classview-detail")},p.default.createElement(y.ContextObjectWrapper,{readPath:s},p.default.createElement(S.default,{detail:r,selectionPath:this.selectionPath()})))))}}]),t}(p.default.Component);O.propTypes={instanceName:f.PropTypes.string.isRequired,rootClassname:f.PropTypes.string.isRequired,searchResult:f.ImmutablePropTypes.map.isRequired,detail:f.PropTypes.element,repeatSearch:f.PropTypes.func.isRequired,childConfiguration:f.PropTypes.object,setContextObjectsBatchLoad:f.PropTypes.func.isRequired},t.default=(0,f.connect)(null,{setContextObjectsBatchLoad:h.setContextObjectsBatchLoad})(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(75),f=r(p),d=n(39),h=r(d),y=n(41),m=n(4),g=n(8),b=r(g),v=n(53),_=n(22),S=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={tableDef:n.createTableDef(e)},n}return i(t,e),s(t,[{key:"createTableDef",value:function(e){var t=h.default.PredefinedTables.getDefaultTableOptions();e.repeatSearch&&t.toolbarButtons.push({toolbarButtons:[function(){return u.default.createElement(b.default.IconButton,{onClick:e.repeatSearch,buttonStyle:"info",iconName:"csweb_refresh",title:(0,m.formatStr)("refresh")})}]});var n={successActions:[(0,_.handleOperationSuccess)(e.instanceName)]};return t.toolbarButtons.push({toolbarButtons:[function(){return u.default.createElement(v.ContextObjectWrapper,{readPath:e.selectionPath},u.default.createElement(y.TableOperationToolbar,{objectType:e.rootClassname,operationParams:n}))}]}),h.default.PredefinedTables.DefaultTable(t)}},{key:"componentWillReceiveProps",value:function(e){e.selectionPath!==this.props.selectionPath&&this.setState({tableDef:this.createTableDef(e)})}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchResult,r=t.onSelectionChanged,o=t.resultTableConf;if(void 0===n)return null;var a="",i=n.get("no_of_records_label");i&&(a=" ("+i+")");var s=o?o.columnAggregator:null;return u.default.createElement(f.default,{tableDef:n.get("tabledef"),contentHeight:"100%",rowValues:n.get("rows"),collapsible:!1,title:(0,m.formatStr)("result_area_title")+a,singleSelection:!1,withSelector:!0,onSelectionChanged:r,table:function(){return e.state.tableDef},columnAggregator:s})}}]),t}(u.default.Component);t.default=S,S.propTypes={instanceName:c.PropTypes.string,rootClassname:c.PropTypes.string.isRequired,searchResult:c.ImmutablePropTypes.map.isRequired,selectionPath:c.PropTypes.string.isRequired,repeatSearch:c.PropTypes.func,onSelectionChanged:c.PropTypes.func.isRequired,resultTableConf:c.PropTypes.object}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(449),d=r(f),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.detail,n=e.contextObject;if(void 0===n){var r=(0,c.classNames)((0,p.prefixNS)("class-search-detail"),(0,p.prefixNS)("class-search-detail--empty"));return u.default.createElement(d.default,{className:r})}return u.default.cloneElement(t,{className:(0,p.prefixNS)("class-search-detail"),contextObject:n})}}]),t}(u.default.Component);t.default=h,h.propTypes={detail:c.PropTypes.element.isRequired,contextObject:c.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e){return i.default.createElement(c.default,{collapsible:!1,className:e.className},i.default.createElement(c.default.Body,null,(0,l.formatStr)("select_entry_for_details")))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var a=n(0),i=r(a),s=n(1),l=n(4),u=n(32),c=r(u);o.propTypes={className:s.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(){if(null===g){var e=(0,c.formatStr)("not_yet_searched_body").split("|");g=s.default.createElement(s.default.Fragment,null,e[0],s.default.createElement("br",null),e[1],s.default.createElement("br",null),s.default.createElement(f.default.IconButton,{title:(0,c.formatStr)("form_name"),iconSrc:h.default,buttonStyle:"primary"}),e[2],s.default.createElement("br",null),s.default.createElement(f.default.IconButton,{title:(0,c.formatStr)("extended_search_favorites"),iconSrc:m.default,buttonStyle:"info"}),e[3])}return g}function a(){return s.default.createElement(l.Alert,{bsStyle:"info"},s.default.createElement("div",{className:(0,u.prefixNS)("not-yet-searched__title")},(0,c.formatStr)("not_yet_searched_title")),s.default.createElement("div",{className:(0,u.prefixNS)("not-yet-searched__body")},o()))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=a;var i=n(0),s=r(i),l=n(6),u=n(2),c=n(4),p=n(8),f=r(p),d=n(186),h=r(d),y=n(185),m=r(y),g=null},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(22),f=n(234),d=r(f),h=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.instanceName;(0,e.initializeSearchInstance)(t)}},{key:"render",value:function(){var e=this.props,t=e.instanceName,n=e.rootClassname,r=e.detail,o=e.childConfiguration;return u.default.createElement(d.default,{instanceName:t,rootClassname:n,detail:r,childConfiguration:o})}}]),t}(u.default.Component);h.propTypes={instanceName:c.PropTypes.string.isRequired,rootClassname:c.PropTypes.string.isRequired,detail:c.PropTypes.element,childConfiguration:c.PropTypes.object,initializeSearchInstance:c.PropTypes.func.isRequired},t.default=(0,c.connect)(null,{initializeSearchInstance:p.initializeSearchInstance})(h)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(13),a=n(2),i=n(453),s=r(i),l=n(454),u=r(l);o.Registry.registerComponent((0,a.prefixNS)("ImageViewer"),s.default),o.Registry.registerComponent((0,a.prefixNS)("TextViewer"),u.default),t.default={ImageViewer:s.default,TextViewer:u.default}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(1),f=n(224),d=r(f),h=n(32),y=r(h),m=n(4),g=n(8),b=r(g),v=0,_=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={currentScale:1,imageError:!1,scaleSelection:v},n.updateViewSize=n.updateViewSize.bind(n),n.timeoutID=0,n}return i(t,e),s(t,[{key:"updateViewSize",value:function(){var e=this;if(this.state.scaleSelection)return this.setScaleToFit(this.state.scaleSelection),void(this.timeoutID=setTimeout(function(){return e.updateViewSize()},200));this.timeoutID=0}},{key:"componentDidMount",value:function(){var e=this;this.timeoutID=setTimeout(function(){return e.updateViewSize()},200)}},{key:"componentWillReceiveProps",value:function(e){var t=this;this.props.url!==e.url&&this.state.imageError&&this.setState({imageError:!1}),this.timeoutID||(this.timeoutID=setTimeout(function(){return t.updateViewSize()},200))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.timeoutID)}},{key:"updateContainerRef",value:function(e){e&&(this.containerRef=e,this.updateContainerValues(e))}},{key:"updateContainerValues",value:function(){if(this.containerRef){var e=this.containerRef.clientWidth-14,t=this.containerRef.clientHeight-14;e===this.containerWidth&&t===this.containerHeight||(this.containerWidth=e,this.containerHeight=t)}}},{key:"updateImageRef",value:function(){this.imageRef&&(this.imageWidth=this.imageRef.naturalWidth,this.imageHeight=this.imageRef.naturalHeight,this.props.minified&&this.setScaleToFit(2))}},{key:"setScaleToFit",value:function(e){if(e&&(this.updateContainerValues(),this.imageWidth&&this.containerWidth&&this.imageHeight&&this.containerHeight&&e)){var t=this.containerWidth/this.imageWidth,n=this.containerHeight/this.imageHeight;switch(e){case 1:this.setScale(Math.min(t,n),e);break;case 2:this.setScale(t,e);break;case 3:this.setScale(n,e)}}}},{key:"setScale",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:v;this.state.currentScale===e&&this.state.scaleSelection===n||this.setState({currentScale:e,scaleSelection:n}),n&&!this.timeoutID&&(this.timeoutID=setTimeout(function(){return t.updateViewSize()},200))}},{key:"imageError",value:function(){this.setState({imageError:!0})}},{key:"render",value:function(){var e=this,t=this.state.currentScale,n=this.imageWidth&&this.imageHeight?{width:this.imageWidth*t,height:this.imageHeight*t}:{};return u.default.createElement(y.default,{collapsible:!1,expanded:!0,title:this.props.filename,className:"cs-web-components-base-image-viewer"},u.default.createElement(y.default.Header,null,u.default.createElement(d.default,{currentScale:t,onZoomIn:function(){return e.setScale(.8*t)},onReset:function(){return e.setScale(1)},onZoomOut:function(){return e.setScale(1.2*t)},onZoomToFit:function(){return e.setScaleToFit(1)},onZoomToFitHorizontal:function(){return e.setScaleToFit(2)},onZoomToFitVertical:function(){return e.setScaleToFit(3)}}),this.props.toolbar,u.default.createElement(b.default.DownloadButton,{url:this.props.url})),u.default.createElement(y.default.Body,null,u.default.createElement("div",{className:"cs-web-components-base-image-viewer-scroller"},u.default.createElement("div",{ref:function(t){return e.updateContainerRef(t)},className:"cs-web-components-base-image-viewer-container"},this.state.imageError?u.default.createElement(c.Alert,{bsStyle:"warning"},(0,m.formatStr)("image_viewer_error")):u.default.createElement("img",{ref:function(t){t&&(e.imageRef=t)},className:"cs-web-components-base-image-viewer-image",onLoad:function(){return e.updateImageRef()},style:n,src:this.props.url,onError:function(){return e.imageError()}})))))}}]),t}(u.default.Component);t.default=_,_.propTypes={url:p.PropTypes.string.isRequired,filename:p.PropTypes.string.isRequired,minified:p.PropTypes.bool,toolbar:p.PropTypes.node},_.defaultProps={toolbar:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(10),f=n(2),d=n(32),h=r(d),y=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={fileContent:null},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.retrieveFile(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.url!==e.url&&this.retrieveFile(e)}},{key:"retrieveFile",value:function(e){var t=this;(0,p.fetchAndCheck)(e.url).then(function(e){return e.text()}).then(function(e){t.setState({fileContent:e})})}},{key:"render",value:function(){return u.default.createElement(h.default,{collapsible:!1,expanded:!0,title:this.props.filename,className:(0,f.prefixNS)("text-viewer")},u.default.createElement(h.default.Body,null,u.default.createElement("textarea",{readOnly:!0,value:this.state.fileContent})))}}]),t}(u.default.Component);t.default=y,y.propTypes={url:c.PropTypes.string.isRequired,filename:c.PropTypes.string.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}var o=n(13),a=n(2),i=n(456),s=r(i),l=n(235),u=r(l),c=n(461),p=r(c),f=n(462),d=r(f),h=n(463),y=r(h),m=n(464),g=r(m);o.Registry.registerComponent((0,a.prefixNS)("DetailLayout"),s.default),o.Registry.registerComponent((0,a.prefixNS)("ObjectHeader"),u.default),o.Registry.registerComponent((0,a.prefixNS)("ObjectDetails"),p.default),o.Registry.registerComponent((0,a.prefixNS)("DetailOutletRelationshipTable"),d.default),o.Registry.registerComponent((0,a.prefixNS)("DetailOutletRelationshipTreeTable"),y.default),o.Registry.registerComponent((0,a.prefixNS)("DetailOutletRelationshipTableWithContentView"),g.default)},function(e,t,n){"use strict";function r(e){return null===e.contextObject||void 0===e.contextObject?null:a.default.createElement("div",{className:(0,s.prefixNS)("detail-layout")},e.children)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1),s=n(2);r.propTypes={contextObject:i.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(67),f=r(p),d=n(10),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={imageURL:null,iconURL:null},n}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this.getURL(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.props.contextObject!==e.contextObject&&this.getURL(e)}},{key:"getURL",value:function(e){var t=this,n=e.contextObject;if(n){var r=n.get("@id")+"/file";(0,d.getJSON)(r,{kind:"thumbnail"}).then(function(e){t.setState({imageURL:e?e.url:null,iconURL:n.get("system:icon_link")})})}}},{key:"render",value:function(){var e=this.props.size,t=this.state,n=t.imageURL,r=t.iconURL;return u.default.createElement(f.default,{size:e,imgSrc:n,fallbackSrc:r})}}]),t}(u.default.Component);t.default=h,h.propTypes={contextObject:c.ImmutablePropTypes.map.isRequired,size:c.PropTypes.string}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(189),d=r(f),h=n(41),y=r(h),m=n(61),g=r(m),b=n(63),v=r(b),_=n(59),S=r(_),O=n(236),T=r(O),E=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"renderExpandButton",value:function(){var e=this.props,t=e.minified,n=e.toggleMinified;return t?u.default.createElement(T.default,{minified:t,toggleMinified:n}):null}},{key:"render",value:function(){var e=this.props.contextObject,t=(0,p.getAppSetup)();return u.default.createElement("div",{className:(0,p.prefixNS)("object-header__titlebar")},u.default.createElement("div",{className:(0,p.prefixNS)("object-header__class_and_description")},u.default.createElement("div",{className:(0,p.prefixNS)("object-header__classname")},u.default.createElement(S.default.Link,{to:t.getIn(["links","detail_view","classUiLink"])},t.getIn(["detail_view","appInfo","classDesignation"]))),u.default.createElement("div",{className:(0,p.prefixNS)("object-header__fav_description")},u.default.createElement(d.default,{contextObject:e}),u.default.createElement("span",{title:e.get("system:description"),className:(0,p.prefixNS)("object-header__description")},e.get("system:description")))),u.default.createElement(v.default,null,u.default.createElement(g.default,{handlerName:"editor"}),u.default.createElement(y.default,{contextObject:e,iconSize:"sm"})),this.renderExpandButton())}}]),t}(u.default.Component);t.default=E,E.propTypes={contextObject:c.ImmutablePropTypes.map.isRequired,minified:c.PropTypes.bool.isRequired,toggleMinified:c.PropTypes.func.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(3),p=r(c),f=n(1),d=n(2),h=n(460),y=r(h),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.contextObject,n=e.fields,r=e.values,o=n.map(function(e){return e.get("column")}).toSet().sort(),a=(0,f.classNames)((0,d.prefixNS)("object-header__data-container-row"),(0,d.prefixNS)("object-header__data-container-row-"+o.size));return u.default.createElement("div",{className:a},o.map(function(e){return u.default.createElement(y.default,{key:e,colNum:e,allFields:n,values:r,contextObject:t})}).toArray())}}]),t}(u.default.Component);t.default=m,m.propTypes={contextObject:f.ImmutablePropTypes.map.isRequired,fields:f.ImmutablePropTypes.list,values:f.ImmutablePropTypes.map},m.defaultProps={contextObject:p.default.Map(),fields:p.default.List(),values:p.default.Map()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(2),f=n(204),d=r(f),h=n(140),y=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.allFields,r=t.colNum,o=t.values,a=n.filter(function(e){return e.get("column")===r}).sortBy(function(e){return e.get("row")});return u.default.createElement("div",{className:(0,p.prefixNS)("object-header__data-container")},a.map(function(t){return u.default.createElement(d.default,{key:t.get("row"),field:t,value:(0,p.toDisplayFormat)(o.get(t.get("attribute")),(0,h.toDATA_TYPE)(t.get("data_type"))),contextObject:e.props.contextObject})}))}}]),t}(u.default.Component);t.default=y,y.propTypes={contextObject:c.ImmutablePropTypes.map.isRequired,colNum:c.PropTypes.number.isRequired,allFields:c.ImmutablePropTypes.list.isRequired,values:c.ImmutablePropTypes.map.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(6),p=n(51),f=r(p),d=n(1),h=n(2),y=n(4),m=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e)),r=e.__outlets;return n.state={activeKey:r.length>0?r[0].key:null},n.onSelectTab=n.onSelectTab.bind(n),n}return i(t,e),s(t,[{key:"onSelectTab",value:function(e){this.setState({activeKey:e})}},{key:"renderTitles",value:function(){var e=this.props.__outlets;return e.length<=1?null:u.default.createElement(f.default.Bar,{activeKey:this.state.activeKey,onSelectFromMenu:this.onSelectTab},e.map(function(e){var t=e.key,n=e.title,r=e.icon_id,o=e.icon_url;return u.default.createElement(f.default.Title,{key:t,eventKey:t,iconName:r,iconSrc:o,title:n})}))}},{key:"renderChildren",value:function(){var e=this.props,t=e.children,n=e.__outlets,r=this.state.activeKey;return u.default.Children.map(t,function(e,t){return u.default.createElement(f.default.Pane,{mountOnEnter:!0,key:n[t].key,eventKey:n[t].key},u.default.cloneElement(e,{active:n[t].key===r}))})}},{key:"renderNoOutlets",value:function(){return u.default.createElement(c.Alert,{bsStyle:"warning"},(0,y.formatStr)("no_detail_outlet_found"))}},{key:"render",value:function(){return 0===this.props.__outlets.length?this.renderNoOutlets():u.default.createElement(f.default.Container,{activeKey:this.state.activeKey,onSelect:this.onSelectTab,id:(0,h.prefixNS)("object-details")},this.renderTitles(),u.default.createElement(f.default.Content,null,this.renderChildren()))}}]),t}(u.default.Component);t.default=m,m.propTypes={__outlets:d.PropTypes.arrayOf(d.PropTypes.shape({childIndex:d.PropTypes.number.isRequired,key:d.PropTypes.string.isRequired,title:d.PropTypes.string.isRequired,icon:d.PropTypes.string})).isRequired,contextObject:d.ImmutablePropTypes.map}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.active,n=o(e,["active"]);return l.default.createElement(d.default,{contextObject:n.contextObject},function(e){return l.default.createElement(p.default,i({},n,{relshipLabel:e.getIn([n.relshipName,"label"]),relshipIconUrl:e.getIn([n.relshipName,"icon_url"]),height:"100%",collapsible:!1,expanded:t}))})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(0),l=r(s),u=n(1),c=n(46),p=r(c),f=n(42),d=r(f);a.propTypes={contextObject:u.ImmutablePropTypes.map,relshipName:u.PropTypes.string.isRequired,active:u.PropTypes.bool.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e){var t=e.active,n=o(e,["active"]);return l.default.createElement(d.default,{contextObject:n.contextObject},function(e){return l.default.createElement(p.default,i({},n,{asTree:!0,relshipLabel:e.getIn([n.relshipName,"label"]),relshipIconUrl:e.getIn([n.relshipName,"icon_url"]),height:"100%",collapsible:!1,expanded:t}))})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=a;var s=n(0),l=r(s),u=n(1),c=n(46),p=r(c),f=n(42),d=r(f);a.propTypes={contextObject:u.ImmutablePropTypes.map,relshipName:u.PropTypes.string.isRequired,active:u.PropTypes.bool.isRequired}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(1),d=n(2),h=n(46),y=r(h),m=n(42),g=r(m),b=n(131),v=r(b),_=n(53),S=n(231),O=r(S),T=0,E=function(e){function t(e){a(this,t);var n=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.objectSelectPath=(0,d.prefixNS)("DetailOutletRelationshipTableWithContentView-"+ ++T),n}return s(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.active,r=t.relshipName,a=t.splitLayoutProps,i=t.contentViewProps,s=o(t,["active","relshipName","splitLayoutProps","contentViewProps"]);return p.default.createElement(v.default,l({split:"vertical",primary:"second",defaultSize:"300px"},a),p.default.createElement(g.default,{contextObject:s.contextObject},function(t){return p.default.createElement(_.ContextObjectSetter,{setPath:e.objectSelectPath},p.default.createElement(y.default,l({},s,{relshipName:r,relshipLabel:t.getIn([r,"label"]),relshipIconUrl:t.getIn([r,"icon_url"]),height:"100%",collapsible:!1,expanded:n})))}),p.default.createElement(_.ContextObjectWrapper,{readPath:this.objectSelectPath},p.default.createElement(O.default,l({showPlaceholder:!0,minified:!0},i))))}}]),t}(p.default.Component);t.default=E,E.propTypes={contextObject:f.ImmutablePropTypes.map,relshipName:f.PropTypes.string.isRequired,splitLayoutProps:f.PropTypes.object,contentViewProps:f.PropTypes.object,active:f.PropTypes.bool.isRequired}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(6),c=n(1),p=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=this.props,t=e.value,n=e.hideLabel,r=e.max,o=n?void 0:Math.trunc(100*t/r)+"%";return l.default.createElement(u.ProgressBar,{now:t,max:r,label:o})}}]),t}(l.default.Component);t.default=p,p.propTypes={value:c.PropTypes.number,max:c.PropTypes.number,hideLabel:c.PropTypes.bool},p.defaultProps={hideLabel:!1,max:100}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(1),c=n(2),p={},f={},d=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"componentDidMount",value:function(){this.loadLibrary(this.props.scriptUrl,this.props.setup)}},{key:"componentWillReceiveProps",value:function(e){e.scriptUrl&&e.scriptUrl!==this.props.scriptUrl&&this.loadLibrary(e.scriptUrl,e.setup)}},{key:"loadLibrary",value:function(e,t){var n=this;if(!f[e]){if(p[e])return void p[e].then(function(){n.forceUpdate()});var r=new Promise(function(n,r){var o=document.createElement("script");o.onload=function(){delete p[e],f[e]=!0,t&&t.call(),n()},o.onerror=function(e){r(e)},o.src=e,document.body.appendChild(o)}).then(function(){n.forceUpdate()},function(t){c.Console.error("Loading of script "+e+" failed: ",t)});p[e]=r}}},{key:"render",value:function(){var e=this.props,t=e.scriptUrl;return(0,e.children)(!0===f[t])}}]),t}(l.default.Component);t.default=d,d.propTypes={scriptUrl:u.PropTypes.string.isRequired,setup:u.PropTypes.func}},function(e,t,n){"use strict";function r(e){return a.default.createElement(s.Alert,{bsStyle:"warning"},e.message)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(0),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(1),s=n(6);r.propTypes={message:i.PropTypes.string.isRequired},t.default=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(2),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e=(0,u.prefixNS)("embedded_page"),t=(0,u.getAppSetup)().getIn([e,"link"]);return l.default.createElement("iframe",{src:t,className:e})}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(1),p=n(47),f=n(101),d=n(2),h=n(8),y=r(h),m=function(e){function t(){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.setSubmitHandler)(e.onSuccess,e.onFailure)}},{key:"render",value:function(){var e=this.props,t=e.startOperation,n=e.operations,r=e.icon;if(0===n.size)return null;var o=n.get(0);return u.default.createElement(y.default.IconButton,{onClick:function(){return t(o)},className:(0,d.prefixNS)("operation-button__important"),iconSrc:r||o.get("icon"),title:o.get("tooltip")||void 0})}}]),t}(u.default.Component);m.propTypes={startOperation:c.PropTypes.func.isRequired,operations:c.ImmutablePropTypes.map.isRequired,setSubmitHandler:c.PropTypes.func.isRequired,onSuccess:c.PropTypes.func,onFailure:c.PropTypes.func,icon:c.PropTypes.string},t.default=(0,p.WithOperations)((0,f.WithOperationTrigger)(m),{operationNames:["CDB_Create"]})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(0),u=r(l),c=n(3),p=r(c),f=n(1),d=n(2),h=n(10),y=n(16),m=r(y),g=n(34),b=r(g),v=n(158),_=r(v),S=n(157),O=r(S),T=p.default.List(),E=p.default.List(),C=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={selectedIDs:E,selectedProposalIDs:T,selectedURL:void 0},n.singleSelection=!1,n.onSelectionChanged=n.onSelectionChanged.bind(n),n.onProposalSelectionChanged=n.onProposalSelectionChanged.bind(n),n.onTreeSelectionChanged=n.onTreeSelectionChanged.bind(n),n.setSingleSelection=n.setSingleSelection.bind(n),n.doCancel=n.doCancel.bind(n),n.doSelect=n.doSelect.bind(n),n}return i(t,e),s(t,[{key:"doCancel",value:function(){(0,d.isCEDesktop)()?window.external.cdbEFClose():window.close()}},{key:"onSelectionChanged",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=this.singleSelection&&0!==e.size?T:this.state.selectedProposalIDs;this.setState({selectedIDs:e,selectedProposalIDs:n,catalogId:t})}},{key:"onProposalSelectionChanged",value:function(e){var t=this.singleSelection&&0!==e.size?E:this.state.selectedIDs;this.setState({selectedProposalIDs:e,selectedIDs:t})}},{key:"onTreeSelectionChanged",value:function(e){this.setState({selectedURL:e})}},{key:"setSingleSelection",value:function(e){this.singleSelection=e}},{key:"renderCatalog",value:function(){var e=this.props,t=e.catalogTableURL,n=e.proposalCatalogURL,r=e.proposalLabel,o=e.queryFormURL,a=e.operationState;return u.default.createElement(_.default,{catalogTableURL:t,proposalCatalogURL:n,proposalLabel:r,structureRootURL:null,queryFormURL:o,formData:this.prepareData(),operationState:a,selectedIDs:this.state.selectedIDs,selectedProposalIDs:this.state.selectedProposalIDs,setSingleSelection:this.setSingleSelection,onSelectionChanged:this.onSelectionChanged,onTreeSelectionChanged:this.onTreeSelectionChanged,onProposalSelectionChanged:this.onProposalSelectionChanged})}},{key:"renderCatalogWithPreview",value:function(){var e=this.props,t=e.previewWidth,n=e.previewComponent,r=e.userSettings;return u.default.createElement(O.default,{previewWidth:t,previewComponent:n,userSettings:p.default.fromJS(r)},this.renderCatalog())}},{key:"render",value:function(){var e=this.props,t=e.catalogTableURL,n=e.selectButtonLabel,r=e.withPreview,o=""!==t?!(this.state.selectedIDs.count()>0||this.state.selectedProposalIDs.count()>0):void 0===this.state.selectedURL||""===this.state.selectedURL,a=n||void 0;return u.default.createElement("div",{className:(0,d.prefixNS)("flat-catalog")},u.default.createElement("div",{className:(0,d.prefixNS)("flat-catalog__catalog")},r?this.renderCatalogWithPreview():this.renderCatalog()),u.default.createElement(b.default,{"data-ce-id":"flatcatalog-action-",className:(0,d.prefixNS)("form-actions")},u.default.createElement(m.default.Buttons.Select,{key:"select",labelId:a,disabled:o,onClick:this.doSelect}),u.default.createElement(m.default.Buttons.Cancel,{key:"cancel",onClick:this.doCancel})))}},{key:"prepareData",value:function(){var e=this.props,t=e.contextClass,n=e.activeLanguage,r=this.props.formData;return n&&(r["cdb::argument.catalogfieldactivelang"]=n),t&&(r["cdb::argument.catalogcall_cldef"]=t),{form_data:r,catalog_field:"z_nummer",operation_state:this.props.operationState}}},{key:"doSelect",value:function(){var e=this.state.selectedIDs.concat(this.state.selectedProposalIDs),t=this.props,n=t.selectURL,r=t.onSelect,o=this.prepareData();o.selected_ids=e.toArray(),this.state.catalogId&&(o.catalog_id=this.state.catalogID),(0,h.postJSON)(n,o).then(function(e){r(e)})}}]),t}(l.Component);t.default=C,C.propTypes={onSelect:f.PropTypes.func.isRequired,selectURL:f.PropTypes.string.isRequired,catalogTableURL:f.PropTypes.string.isRequired,activeLanguage:f.PropTypes.string,contextClass:f.PropTypes.string,formData:f.ImmutablePropTypes.map,operationState:f.PropTypes.object,proposalLabel:f.PropTypes.string,proposalCatalogURL:f.PropTypes.string,queryFormURL:f.PropTypes.string,selectButtonLabel:f.PropTypes.string,withPreview:f.PropTypes.bool,previewComponent:f.PropTypes.node,previewWidth:f.PropTypes.string,userSettings:f.PropTypes.object},C.defaultProps={withPreview:!1,previewWidth:"200px"}},function(e,t,n){"use strict";n(472),n(473)},function(e,t,n){"use strict";function r(e){var t,n,r=e.payload,o=r.classname,a=r.id,s=r.relshipNames;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g(c.postJSON,"/internal/uisupport/related_objects/"+o+"/"+a,{relships:s||[]});case 3:return t=e.sent,e.next=6,v(t.map(function(e){return e.relship}).map(function(e){return b((0,p.receivedRelship)(e["@id"],e))}));case 6:return n=i.default.List(t.map(function(e){return i.default.Map({id:e.relship["@id"],label:e.label,name:e.name})})),e.next=9,b((0,u.relatedObjectTilesFetched)(o,n));case 9:e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(0),e.next=15,b((0,f.notifyError)(e.t0));case 15:case"end":return e.stop()}},d,this,[[0,11]])}function o(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(u.FETCH_RELATED_OBJECT_TILES,r);case 2:case"end":return e.stop()}},h,this)}var a=n(3),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=n(1),l=n(13),u=n(147),c=n(10),p=n(27),f=n(19),d=regeneratorRuntime.mark(r),h=regeneratorRuntime.mark(o),y=s.ReduxSaga.effects,m=y.takeEvery,g=y.call,b=y.put,v=y.all;l.Registry.registerSaga(o)},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.default.Map(),t=arguments[1];switch(t.type){case s.RELATED_OBJECT_TILES_FETCHED:return e.set(t.payload.classname,t.payload.relshipConfigs);default:return e}}var o=n(3),a=function(e){return e&&e.__esModule?e:{default:e}}(o),i=n(13),s=n(147);i.Registry.registerReducers({relatedObjectTiles:r})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(0),l=function(e){return e&&e.__esModule?e:{default:e}}(s),u=n(2),c=function(e){function t(){return r(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),i(t,[{key:"render",value:function(){var e=l.default.Children.toArray(this.props.children),t=e.length,n=void 0,r=void 0,o=void 0;return 1===t?o=e[0]:2===t?(n=e[0],o=e[1]):t>2&&(n=e[0],r=e[1],o=e[2]),l.default.createElement("div",{className:(0,u.prefixNS)("vertical-block-layout")},l.default.createElement("div",{className:(0,u.prefixNS)("vertical-block-layout__header")},n),r?l.default.createElement("div",{className:(0,u.prefixNS)("vertical-block-layout__navbar")},r):null,l.default.createElement("div",{className:(0,u.prefixNS)("vertical-block-layout__content")},o))}}]),t}(l.default.PureComponent);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(0),p=r(c),f=n(3),d=r(f),h=n(1),y=n(2),m=n(159),g=r(m),b=function(e){function t(){return a(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,e),u(t,[{key:"componentDidMount",value:function(){y.Console.warn("TableCatalogWrapper is deprecated. Please use Catalog Components instead.")}},{key:"render",value:function(){var e=this.props,t=e.tabdefURL,n=e.height,r=o(e,["tabdefURL","height"]);return p.default.createElement("div",{className:(0,y.prefixNS)("table-catalog-wrapper"),style:{height:n+"px"}},p.default.createElement(g.default,l({},r,{selectedIDs:d.default.OrderedSet(),catalogTableURL:t})))}}]),t}(p.default.Component);t.default=b,b.propTypes={tabdefURL:h.PropTypes.string.isRequired,height:h.PropTypes.number.isRequired}},function(e,t,n){"use strict";Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;if(!document.documentElement.contains(t))return null;do{if(t.matches(e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})}])});
//# sourceMappingURL=cs-web-components-base.aa856dd38a3166c920c6.js.map