/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: SplitterLayoutOnChangeDemo.jsx 178676 2018-06-08 11:43:18Z yzh $"
 */

import React from 'react';
import {SplitterLayout} from 'cs-web-components-base';
import {PropTypes} from 'cs-web-components-externals';

export default class SplitterLayoutOnChangeDemo extends React.Component {
    constructor(props) {
        super(props);
        this.onLeftPaneChange = this.onLeftPaneChange.bind(this);
        this.onRightPaneChange = this.onRightPaneChange.bind(this);
    }

    onLeftPaneChange(changes) {
        // e.g. do something with the settings.
        if (this.props.saveSettings) {
            this.props.saveSettings('left', changes.collapsed, changes.size);
        }
    }

    onRightPaneChange(changes) {
        // e.g. do something with the settings.
        if (this.props.saveSettings) {
            this.props.saveSettings('right', changes.collapsed, changes.size);
        }
    }

    render() {
        return (
            <div style={{
                width: '100%',
                height: '200px',
                position: 'relative',
                marginTop: '2em',
                backgroundColor: 'white'
            }}>
                <SplitterLayout>
                    <SplitterLayout.SecondaryPane onChange={this.onLeftPaneChange}>
                        <div style={{height: '100%', border: '1px solid blue'}}>left</div>
                    </SplitterLayout.SecondaryPane>
                    <SplitterLayout.PrimaryPane>
                        <div style={{height: '100%', border: '1px solid blue'}}>center main</div>
                    </SplitterLayout.PrimaryPane>
                    <SplitterLayout.SecondaryPane
                        hidingBreakPoint={50}
                        defaultSize={'60px'}
                        onChange={this.onRightPaneChange}>
                        <div style={{height: '100%', border: '1px solid blue'}}>right</div>
                    </SplitterLayout.SecondaryPane>
                </SplitterLayout>
            </div>
        );
    }
}

SplitterLayoutOnChangeDemo.propTypes = {
    saveSettings: PropTypes.func
};
