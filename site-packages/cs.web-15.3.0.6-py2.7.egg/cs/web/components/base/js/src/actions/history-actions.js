/*
 * Copyright (C) 1990-2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: history-actions.js 149996 2016-11-29 14:53:49Z sla $"
 */

import {getJSON, postJSON, deleteObject} from '../fetch.js';

export const HISTORY_INIT = `${componentNameSpace}-HISTORY_INIT`;

function historyItemsInitialized(historyItems) {
    return {
        type: HISTORY_INIT,
        payload: historyItems
    };
}

export function deleteHistoryItems() {
    return (dispatch) => {
        return deleteObject('/internal/history')
            .then(data => dispatch(historyItemsInitialized(data.history_items)));
    };
}

export function addHistoryItem(info) {
    return (dispatch) => {
        // update the UI
        return postJSON('/internal/history', info)
            .then(data => dispatch(historyItemsInitialized(data.history_items)));
    };
}

export function initHistoryItems() {
    return (dispatch) => {
        return getJSON("/internal/history/")
            .then(data => dispatch(historyItemsInitialized(data.history_items)));
    };
}
