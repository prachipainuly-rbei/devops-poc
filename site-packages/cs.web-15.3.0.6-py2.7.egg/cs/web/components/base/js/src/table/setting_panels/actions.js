/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: actions.js 167821 2017-11-06 11:28:23Z yzh $"
 */
export const STORE_SETTINGS =
    `${componentNameSpace}-STORE_SETTINGS`;

function storeSettingsComponentStore(settings) {
    return {
        type: STORE_SETTINGS,
        payload: settings
    };
}

export function storeSettings() {
    return (dispatch, getState) => {
        const settings = {};
        const state = getState();
        const settingNames = state.settingsToStore;
        // Immutable.Set.forEach stops iteration if any callback returns false,
        // therefore called in {} with undefined return value.
        settingNames.forEach(name => {settings[name] = state[name]});
        return dispatch(storeSettingsComponentStore(settings));
    };
}

export default {
    storeSettings, STORE_SETTINGS
};
