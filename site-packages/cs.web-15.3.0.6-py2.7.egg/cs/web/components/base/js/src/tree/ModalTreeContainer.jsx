/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ModalTreeContainer.jsx 166271 2017-10-05 13:44:17Z cla $"
 */

import React from 'react';
import {compose} from '../helpers.js';
import TreeFilter from './TreeFilter.jsx';
import TreeRenderer from './TreeRenderer.jsx';
import Registry from './Registry.js';

export default function ModalTreeContainer(TreeRenderer) {
    class _ModalTreeContainer extends React.Component {
        constructor(props) {
            super(props);
            this.onExpandLevelsChanged = this.onExpandLevelsChanged.bind(this);
            this.state = {
                expandLevels: 2
            };
        }

        onExpandLevelsChanged(expandLevels) {
            this.setState({expandLevels});
        }

        render() {
            return (
                <div>
                    <TreeRenderer {...this.props} />
                </div>
            );
        }
    }

    return _ModalTreeContainer;
}

ModalTreeContainer.DefaultRenderer = Registry.registerTreeRenderer(
    'ModalTreeContainer.DefaultRenderer',
    compose(
        TreeRenderer,
        TreeFilter.ShowSearchResults,
        ModalTreeContainer
    )
);
