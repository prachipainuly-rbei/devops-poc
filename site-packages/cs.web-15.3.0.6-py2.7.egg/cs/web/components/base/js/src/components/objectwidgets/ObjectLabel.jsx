/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ObjectLabel.jsx 174212 2018-03-08 10:50:39Z vov $"
 */

import React from 'react';
import {classNames, PropTypes} from 'cs-web-components-externals';
import {prefixNS} from '../../helpers';
import Navigation from '../navigation';
import Icon from '../Icon';
import SVGIcon from '../SVGIcon';
import StatusIcon from '../StatusIcon';
import {Console} from '../../helpers.js';

/**
 * A label that is used to display an object.
 *
 *   .. note::
 *      ObjectLabel is deprecated. Please use the IconAndLabel module.
 *
 *
 * React Properties
 * ----------------
 *
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | Property          | Type         | Default             | Use                                               |
 * +===================+==============+=====================+===================================================+
 * | text              | node         | \-                  | Label content to be displayed                     |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | link              | string       | undefined           | Link to follow when clicking this label           |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | icon              | string       | undefined           | URL to icon for this object                       |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | iconSize          | string       | undefined           | Size of icon for this object                      |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | statusColor       | string       | undefined           | Color of this object's status                     |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | statusLabel       | string       | undefined           | Status description text                           |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | className         | string       | undefined           | Additional CSS class                              |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | onTextClick       | string       | undefined           | Function to call when clicking this label         |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 * | onIconClick       | string       | undefined           | Function to call when clicking this object's icon |
 * +-------------------+--------------+---------------------+---------------------------------------------------+
 *
 * @module
 */
const ObjectLabel = (props) => {
    Console.warn('ObjectLabel is deprecated. Please use the IconAndLabel module.');
    const {
        text, icon, iconName, statusColor, statusLabel, link, className,
        onTextClick, onIconClick, iconSize, svgIcon, ...others
    } = props;
    const clsname = prefixNS('object-label__text');
    const textItem = link ?
        <Navigation.Link className={clsname} to={link}>{text}</Navigation.Link> :
        <span className={clsname}>{text}</span>;

    const iconItem = icon || iconName ?
        <Icon className={prefixNS('object-label__icon')}
              src={icon}
              name={iconName}
              size={iconSize}
              onClick={onIconClick}
        /> : null;
    const svgItem = svgIcon ?
        <SVGIcon src={svgIcon}
                 size={iconSize}
                 onClick={onIconClick}
        /> : null;
    const iconStatus = statusColor ?
        <StatusIcon className={prefixNS('object-label__status')}
                    color={statusColor}
                    label={statusLabel}
                    size={iconSize} /> : null;

    return (
        <span className={classNames(prefixNS('object-label'), className)}
             onClick={onTextClick}
             title={text}
             {...others}>
            {svgItem}{iconItem}{iconStatus}{textItem}
        </span>
    );
};

ObjectLabel.propTypes = {
    text: PropTypes.node.isRequired,
    link: PropTypes.string,
    icon: PropTypes.string,
    svgIcon: PropTypes.string,
    iconName: PropTypes.string,
    iconSize: PropTypes.string,
    statusColor: PropTypes.string,
    statusLabel: PropTypes.string,
    className: PropTypes.string,
    onTextClick: PropTypes.func,
    onIconClick: PropTypes.func
};

ObjectLabel.defaultProps = {
    iconSize: "sm"
};

export default ObjectLabel;
