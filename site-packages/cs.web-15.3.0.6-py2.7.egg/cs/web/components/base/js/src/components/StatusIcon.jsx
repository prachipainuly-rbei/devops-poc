/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: StatusIcon.jsx 158306 2017-05-08 08:29:40Z gwe $"
 */

import React from 'react';
import {PropTypes} from 'cs-web-components-externals';
import Icon from './Icon';

const getStatusSVG = (color, stroke = 'black') => (
    "data:image/svg+xml," + encodeURIComponent(
        `<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'>
            <circle cx='12' cy='12' r='11' stroke-width='1' fill='${color}' stroke='${stroke}'/>
        </svg>`
    )
);

/**
 * The component displays a status "icon" in predefined sizes.
 *
 * React Properties
 * ----------------
 *
 * +------------------+--------------+--------------+---------------------------------+
 * | Property         | Type         | Default      | Use                             |
 * +==================+==============+==============+=================================+
 * | label            | string       | -            | Status description              |
 * +------------------+--------------+--------------+---------------------------------+
 * | color            | string       | -            | Status color (css-compatible)   |
 * +------------------+--------------+--------------+---------------------------------+
 *
 * @module
 */
const StatusIcon = ({label, color, ...others}) => (
        <Icon src={getStatusSVG(color)}
              title={label}
              {...others} />
);

StatusIcon.propTypes = {
    label: PropTypes.string,
    color: PropTypes.string.isRequired
};

export default StatusIcon;
