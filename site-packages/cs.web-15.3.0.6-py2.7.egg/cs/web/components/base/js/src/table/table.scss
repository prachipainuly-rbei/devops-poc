/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: table.scss 144440 2016-08-01 10:41:39Z yzh $"
 */

.#{$componentNameSpace}-table-setting-panels > div {
    width: 100%;
}

.#{$componentNameSpace}-table-setting-panel-wrapper {
    margin: 1em;
}

.#{$componentNameSpace}-content-block-table {

    //div.form-group {
    //  display: -moz-box;
    //}

    ul.pagination {
        margin: 0;
    }

    form {
        display: inherit;
        //display: -moz-box; /* firefox specific overwrite, will be ignored by other browsers */
        vertical-align: top;

        .form-control {
            height: 31px;
        }

        .form-group {
            margin: auto;
        }
    }

    .cs-web-components-base-table-header-panels {
        text-align: right;
        margin-right: 4px;
    }

    .panel-body {
        .panel-heading {
            padding: 0;

            .pagination {
                padding: 0;
                margin: 0;
                vertical-align: middle;
            }
        }
    }
}

.#{$componentNameSpace}-table {
    overflow: auto;
    height: 100%;
    outline: none;

    table {
        table-layout: fixed;
    }

    th {
        position: relative;
    }

    .#{$componentNameSpace}-table-column-header {
        display: flex;
        flex-wrap: wrap;
        cursor: pointer;
    }

    .#{$componentNameSpace}-table-column-header .header-content {
        cursor: pointer;
        flex: 1 0 1%;
    }

    .#{$componentNameSpace}-table-column-header .header-content,
    .#{$componentNameSpace}-table-column-content {
        @include text-overflow;
        max-width: 100%;
    }

    .#{$componentNameSpace}-table-column-content-right-align {
        text-align: right;
    }

    tr {
        &.#{$componentNameSpace}-table-row-hover:hover {
            background-color: $gray-lighter;
        }

        &.#{$componentNameSpace}-table-row-focus {
            border-style: double;
            border-width: 1px;
            border-color: #73B9DF;
        }

        > td.#{$componentNameSpace}-table-cell-focus {
            border-style: double;
            border-width: 1px;
            border-color: #73B9DF;
        }
    }

    .table-unspread .#{$componentNameSpace}-table-column-header {
        width: inherit;
    }
}

.#{$componentNameSpace}-table-fixed {
    overflow: auto;
    height: 100%;
    position: relative;

    .fix-table-original {
        .#{$componentNameSpace}-table {
            overflow: visible;
        }

        .#{$componentNameSpace}-table thead {
            visibility: hidden;
        }
    }

    .fix-table-top-container {
        position: relative;
        height: 100%;
        width: 100%;
    }

    .fix-table-top {
        position: absolute;
        background-color: #fff;
        width: auto;

        .#{$componentNameSpace}-table {
            overflow-x: visible !important;
            overflow-y: hidden !important;
        }
    }

    .fix-table-top table {
        margin-bottom: 0px;

        th {
            z-index: 999;
            background-color: rgba(255, 255, 255, 0.9);
        }
    }

}

.#{$componentNameSpace}-table-layout-default {
    display: flex;
    flex-direction: column;
    height: 100%;

    .table-layout-header + * {
        flex-grow: 2;
        flex-shrink: 1;
        flex-basis: auto; /* Default should be 0% but IE11 doesn't show the result table */
    }

    .table-layout-header {
        display: flex;
        flex-direction: row;
        padding-bottom: 0.25em;
    }

    .cs-web-components-base-table-header-panels {
        flex-grow: 1;
    }

    .pagination {
        margin: 0px 10px 0px 10px;
    }
}

.#{$componentNameSpace}-table-viewport-container {
    overflow: hidden;
    height: 100%;
    position: relative;

    // Make focus visible table focus visible on container
    // as outline on table results in artifact-like effect
    // TODO this should be improved when it is clear how
    // focus on table should look
    &:focus-within {
        outline: -webkit-focus-ring-color auto 5px;
    }

    .#{$componentNameSpace}-table-viewport-scroller {
        position: absolute;
        right: 0;
        top: 0;
        width: 20px;
        height: 100%;
        overflow-y: auto;
        overflow-x: hidden;
    }

    .#{$componentNameSpace}-table-viewport-content {
        position: relative;
        height: 100%;
        overflow-x: auto;
        overflow-y: hidden;
        margin-right: 20px;
    }

    .#{$componentNameSpace}-table-viewport-content-hide-scrollbar {
        margin-right: 0px;
    }

    .#{$componentNameSpace}-table-viewport-resizetrigger {
        opacity: 0;
        position: absolute;
        height: 100%;
        width: 1px;
        top: 0;
        left: 0;
        z-index: -999999;
    }

    .#{$componentNameSpace}-table {
        overflow: visible;
    }

    .#{$componentNameSpace}-table-viewport-content-fixer {
        position: absolute;
        left: 0;
        top: 0;
        bottom: 0;
        z-index: 999;
    }

    .#{$componentNameSpace}-table-viewport-content-fixer__wrapper {
        position: fixed;
        overflow: hidden;
        background-color: $white-base;
        border-right: 1px solid $gray-light;
    }
}

// all cells
.table {
    > thead,
    > tbody,
    > tfoot {
        > tr {
            > th,
            > td {
                vertical-align: middle;
            }
        }
    }
}

@import "./column_dragger/styles";
@import "./column_orderer/styles";
@import "./column_resizer/styles";
@import "./groupable/styles";
@import "./selectable/styles";
@import "./setting_panels/styles";
@import "./column_search/styles";
@import "./sortable/styles";
@import "./settings_store/styles";
@import "./filterable/styles";
@import "./ContentBlockLayout";
@import "./sortable/SettingPanel";
@import "./column_aggregator/styles";
@import "./treeview/styles";
