/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: OpStartError.jsx 163848 2017-08-24 09:03:30Z cla $"
 */

import React from 'react';
import Immutable from 'immutable';
import {PropTypes} from 'cs-web-components-externals';
import FormControl from '../../formcontrols';
import {formatStr} from '../../i18n.js';

// TODO cla: this component might be obsolete, as this had to be moved to ConfiguredForm
// because of E043629

export default function OpStartError(props) {
    const buttons = Immutable.fromJS([
        {
            onClick: props.callback,
            button_type: 1,
            label: formatStr("dialog_close")
        }
    ]);
    return props.children(
        <div>
            <h2>
                {formatStr("op_start_failed", {opname: props.operationLabel})}
            </h2>
            <p>
                {props.detail}
            </p>
        </div>,
        <FormControl.FormActions buttons={buttons} />,
        props.callback
    );
}
OpStartError.propTypes = {
    operationLabel: PropTypes.string.isRequired,
    detail: PropTypes.node.isRequired,
    callback: PropTypes.func.isRequired
};
