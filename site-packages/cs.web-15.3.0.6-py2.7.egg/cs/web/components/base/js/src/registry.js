/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: registry.js 170594 2017-12-18 12:15:41Z yzh $"
 */

/**
 * This module provides the a global Registry object, that has functions to
 * register and retrieve React components, redux reducers and frontend form
 * exits.
 *
 * @module
 */

export const Registry = (function() {
    const _components = {};
    const _reducers = {};
    const _dialogHooks = {};
    const _sagas = [];

    const registerComponent = function(name, component) {
        _components[name] = component;
    };

    const findComponent = function(name) {
        return _components[name];
    };

    const registerReducer = function(name, reducer) {
        _reducers[name] = reducer;
    };

    const registerReducers = function(reducers) {
        Object.assign(_reducers, reducers);
    };

    const getReducers = function() {
        return Object.assign({}, _reducers);
    };

    const registerDialogHook = function(name, fct) {
        _dialogHooks[name] = fct;
    };

    const findDialogHook = function(name) {
        return _dialogHooks[name];
    };

    const registerSaga = function(saga) {
        _sagas.push(saga);
    };

    const registerSagas = function(sagas) {
        _sagas.push(...sagas);
    };

    const getSagas = function() {
        return _sagas.slice(0);
    };

    return {
        registerComponent, findComponent,
        registerReducer, registerReducers, getReducers,
        registerDialogHook, findDialogHook,
        registerSaga, registerSagas, getSagas
    };
}());
