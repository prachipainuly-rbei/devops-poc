/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: Collapsible.js 169704 2017-12-01 10:15:26Z gwe $"
 */

/* eslint-env jest */

import React from 'react';
import {shallow} from 'enzyme';
import Collapsible from '../Collapsible.jsx';

describe('The Collapsible component', () => {

    it('reacts to clicks on header', () => {
        const wrapper = shallow(
            <Collapsible
                header='This is the Header'
                initialCollapsed={false}
                useGlyphiconStyle={true}
            >
                This is the Body
            </Collapsible>
        );

        const head = wrapper.find('.cs-web-components-base-collapsible-head');
        expect(head).toHaveLength(1);

        expect(wrapper.state('collapsed')).toBe(false);
        head.simulate('click');
        expect(wrapper.state('collapsed')).toBe(true);
        head.simulate('click');
        expect(wrapper.state('collapsed')).toBe(false);

        wrapper.setProps({initialCollapsed: true});
        expect(wrapper.state('collapsed')).toBe(true);
    });

});
