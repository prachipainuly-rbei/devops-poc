/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: Tags.jsx 165072 2017-09-13 11:17:40Z cla $"
 */

import React from 'react';
import Tag from './Tag';
import {PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';
import {prefixNS} from '../helpers';

/**
 * Container for displaying :ref:`cs-web-components-base-components.Tag.__default__`
 * elements. This component gets a tag definition in form of an array, and
 * renders tag elements based on that configuration.
 *
 * The structure of a tag configuration is:
 *
 * .. code-block:: javascript
 *
 *    {
 *      id,   // Identifier of the tag
 *      name, // Name to be displayed
 *    }
 *
 * Properties accepted by this component are:
 *
 * +----------------------------+--------+---------+---------------------------------------------------+
 * | Name                       | Type   | Default | Description                                       |
 * +============================+========+=========+===================================================+
 * | hidden                     | bool   | false   | Tags will be rendered with display none           |
 * +----------------------------+--------+---------+---------------------------------------------------+
 * | glyph                      | string | delete  | Glyph displayed in the right corner of each tag.  |
 * +----------------------------+--------+---------+---------------------------------------------------+
 * | onClickIcon                | func   | \-      | Callback that is executed, when a tag's glyph is  |
 * |                            |        |         | clicked.                                          |
 * +----------------------------+--------+---------+---------------------------------------------------+
 * | onClickTag                 | func   | \-      | Callback that is executed, when a tag is          |
 * |                            |        |         | clicked.                                          |
 * +----------------------------+--------+---------+---------------------------------------------------+
 */
export default class Tags extends React.Component {

    constructor(props) {
        super(props);
    }

    render() {
        const {hidden, tags, glyph} = this.props;
        const classname = hidden ? prefixNS('generic-tags-hidden')
                                 : prefixNS('generic-tags');
        return (
            <div className={classname}>
              {tags.map(t => (
                    <Tag
                        key={t.id}
                        id={t.id}
                        name={t.name}
                        onClickTag={this.props.onClickTag}
                        onClickIcon={this.props.onClickIcon}
                        glyph={glyph}>
                    </Tag>
                  )
                )
              }
            </div>
        );
    }
}

Tags.defaultProps = {
    hidden: false
};

Tags.propTypes = {
    hidden: PropTypes.bool,
    onClickTag: PropTypes.func,
    onClickIcon: PropTypes.func,
    tags: ImmutablePropTypes.set,
    glyph: PropTypes.string,
};
