/*
 * Copyright (C) 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: SimpleTextMatcher.js 174864 2018-03-22 11:24:56Z gwe $"
 */

export default function SimpleTextMatcher(getContent = (node => node.get('content'))) {
    return (node, search) => {
        if (search === '') {
            return false;
        }

        const startIndex = getContent(node).toLowerCase().indexOf(search.toLowerCase());
        if (startIndex === -1) {
            return false;
        }

        return {
            type: 'substring',
            value: {
                start: startIndex,
                end: startIndex + search.length
            }
        };
    };
}
