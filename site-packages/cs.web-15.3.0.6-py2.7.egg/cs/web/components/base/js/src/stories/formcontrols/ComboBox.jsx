/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ComboBox.jsx 182713 2018-08-23 12:57:08Z vov $"
 */

import React from 'react';
import {storiesOf, centered} from 'cs-web-components-storybook';
import Immutable from 'immutable';
// DO NOT import components use relative path! Only use Registry or
// from component libs(defined externals)
import {FormControl} from 'cs-web-components-base';
const items = Immutable.fromJS(["Entry 1", "Entry 2", "Entry 3"]);

class ComboBoxStory extends React.Component {
    constructor(props) {
        super(props);
        this.state = {
            value: "Please select..."
        };
        this.onSelect = this.onSelect.bind(this);
    }

    onSelect(value) {
        this.setState({value: items.get(value)});
    }

    render() {
        return (
            <FormControl.ComboBox
                {...this.props}
                onSelect={this.onSelect}
                onToggle={() => {}}
                value={this.state.value}
                onChange={() => {}}/>
        );
    }
}

storiesOf('Form Control', {})
    .addDecorator(centered)
    .addWithInfo(
        'ComboBox default',
        ``,
        () => {
            return (
                <ComboBoxStory
                    name="name"
                    items={items}/>
            );
        }
    );
storiesOf('Form Control', {})
    .addDecorator(centered)
    .addWithInfo(
        'ComboBox textReadOnly',
        ``,
        () => {
            return (
                <ComboBoxStory
                    name="name"
                    items={items}
                    textReadOnly/>
            );
        }
    );
