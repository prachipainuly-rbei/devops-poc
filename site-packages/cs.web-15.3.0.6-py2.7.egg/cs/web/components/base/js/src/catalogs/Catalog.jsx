/*
 * Copyright (C) 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: Catalog.jsx 174283 2018-03-09 10:30:35Z gwe $"
 */

import React from 'react';
import {PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';
import TableCatalog from './TableCatalog.jsx';
import StructureCatalog from './StructureCatalog.jsx';

/**
 * Wrapper to select either a table or a structure catalog
 */
export default function Catalog(props) {
    const {catalogTableURL} = props;
    if (catalogTableURL) {
        return (
            <TableCatalog
                catalogTableURL={catalogTableURL}
                proposalCatalogURL={props.proposalCatalogURL}
                proposalLabel={props.proposalLabel}
                queryFormURL={props.queryFormURL}
                formData={props.formData}
                operationState={props.operationState}
                selectedIDs={props.selectedIDs}
                selectedProposalIDs={props.selectedProposalIDs}
                selectedURL={props.selectedURL}
                setSingleSelection={props.setSingleSelection}
                onSelectionChanged={props.onSelectionChanged}
                onProposalSelectionChanged={props.onProposalSelectionChanged}
                onSelect={props.onSelect}
                onPreviewEnable={props.onPreviewEnable}
            />
        );
    }
    else {
        return (
            <StructureCatalog
                structureRootURL={props.structureRootURL}
                formData={props.formData}
                onSelectionChanged={props.onTreeSelectionChanged}
                onSelect={props.onSelect}
                onPreviewEnable={props.onPreviewEnable}
            />
        );
    }
}
Catalog.propTypes = {
    catalogTableURL: PropTypes.string,
    structureRootURL: PropTypes.string,
    proposalCatalogURL: PropTypes.string,
    proposalLabel: PropTypes.string,
    queryFormURL: PropTypes.string,
    formData: PropTypes.object,
    operationState: ImmutablePropTypes.map,
    selectedIDs: ImmutablePropTypes.list,
    selectedProposalIDs: ImmutablePropTypes.list,
    selectedURL: PropTypes.string,
    setSingleSelection: PropTypes.func,
    onSelectionChanged: PropTypes.func,
    onProposalSelectionChanged: PropTypes.func,
    onTreeSelectionChanged: PropTypes.func,
    onPreviewEnable: PropTypes.func,
    onSelect: PropTypes.func
};
