/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: FrontendDialog.js 169544 2017-11-29 09:06:51Z cla $"
 */

import {ButtonActions} from './constants.js';

/**
 * Representation of a dialog to be shown from a hook function
 */
export default class FrontendDialog {
    constructor(title, text, argumentName) {
        this.ButtonActions = ButtonActions;
        this.title = title;
        this.text = text;
        this.argumentName = argumentName;
        this.buttons = [];
    }

    static fromBackendData(data) {
        const dlg = new FrontendDialog(
            data.title,
            data.text,
            data.argumentName);
        data.buttons.forEach(btn => {
            dlg.addButton(btn.label, btn.value, btn.action, btn.isDefault, btn.isCancel);
        });
        return dlg;
    }

    addButton(label, value, action, isDefault = false, isCancel = false) {
        this.buttons.push({label, value, action, isDefault, isCancel});
    }
}
