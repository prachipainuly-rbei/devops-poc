/*
 * Copyright (C) 1990-2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: FileDropdownMenu.jsx 184157 2018-09-19 11:40:42Z cla $"
 */

import React from "react";
import {PropTypes} from 'cs-web-components-externals';
import {formatStr} from '../../i18n.js';
import Overlays from '../../overlays';

const {DropdownIconButton} = Overlays;

export default class FileDropdownMenu extends React.Component {

    constructor(props) {
        super(props);
        this.state = {menuItems: this.props.getMenuOperations()};
    }

    updateContext() {
        this.setState({menuItems: this.props.getMenuOperations()});
    }

    render() {
        return (
            <DropdownIconButton id="file_actions"
                                iconName="csweb_table_toolbar_option_h"
                                size="sm"
                                title={formatStr('toolbar_further_operations')}
                                buttonStyle="info"
                                noCaret pullRight>
                {this.state.menuItems}
            </DropdownIconButton>
        );
    }
}

FileDropdownMenu.propTypes = {
    getMenuOperations: PropTypes.func.isRequired,
};
