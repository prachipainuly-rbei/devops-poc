/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id$"
 */

.modal-backdrop {
    background-color: $gray-darker;
}

.modal-backdrop.in {
    opacity: .0;
}

// Only the first backdrop gets opacity, as otherwise, each add. modal would
// darken the background more
.modal-backdrop.in.#{$componentNameSpace}-dialog--first {
    opacity: .65;
}

// Scrolling modal content

.#{$componentNameSpace}-dialog.modal {
    .modal-content {
        display: flex;
        flex-direction: column;
        max-height: 90vh;

        .modal-body {
            overflow-y: auto;
        }

        .modal-footer {
            padding-top: 15px;
        }
    }

    &.#{$componentNameSpace}-dialog--fixed-height.modal {
        .modal-content {
            height: 90vh;
            .modal-body {
                display: flex;
                flex-direction: column;
                flex: 1 1 auto;
                height: 100%;
            }
        }
    }
}

@media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {
    /* IE10+ specific styles go here */
    .#{$componentNameSpace}-dialog.modal {
        .modal-body {
            max-height: 62vh;
        }
    }
}

.#{$componentNameSpace}-dialog.#{$componentNameSpace}-dialog-allow-overlay {
    .modal-body {
        position: static;
    }
}

.#{$componentNameSpace}-modal-v-centered-headline {
    vertical-align: middle;
}

//Quickfix: Setting alignment and overwriting Icon Buttons in modal-header
.#{$componentNameSpace}-dialog.modal {
    .modal-header {
        display: flex;
        align-items: center;
        flex-shrink: 0;

        h4 {
            display: inline;
            width: 100%;
            @include text-overflow;
        }

        .#{$componentNameSpace}-icon-button-wrapper {
            display: flex;
        }
    }
}

// Transitions for animating in, Width changes

@mixin dialog-animation($op, $target-y) {
    > .modal-dialog {
        opacity: $op;
        transform: translate(0, $target-y);
    }
}

.#{$componentNameSpace}-dialog.modal {
    overflow-y: hidden;

    &.fade {
        @include dialog-animation(0, 100vh);
    }

    @media screen and (-ms-high-contrast: active), screen and (-ms-high-contrast: none) {
        /* IE10+ specific styles go here */
        &.fade {
            @include dialog-animation(0, 1080px);
        }
    }

    &.in {
        @include dialog-animation(1, 0);
    }

    > .modal-dialog {
        transition: width .3s ease-in-out, transform .3s ease-out, opacity .3s ease-out;
    }
}

// Different modal sizes are fun, too

.#{$componentNameSpace}-dialog-sm {
    .modal-dialog {
        width: 50vw;
        max-width: 640px;
        min-width: 320px;
    }
}

.#{$componentNameSpace}-dialog-md {
    .modal-dialog {
        width: 70vw;
        max-width: 840px;
        min-width: 480px;
    }
}

.#{$componentNameSpace}-dialog-lg {
    .modal-dialog {
        width: 90vw;
        min-width: 640px;
    }
}

// Option styles: notice, alert, error

.#{$componentNameSpace}-dialog__notice-title,
.#{$componentNameSpace}-dialog__alert-title,
.#{$componentNameSpace}-dialog__error-title
 {
    display: inline-block;
    width: calc(100% - 100px);
    text-align: center;
    span {
        margin-left: $margin-md;
        vertical-align: middle;
        font-size: initial;
    }
}

.#{$componentNameSpace}-dialog__notice-title {
    color: $elements-info;
    .#{$componentNameSpace}-svg-icon {
        font-size: initial;
        svg * {
            fill: $elements-info;
        }
    }
}

.#{$componentNameSpace}-dialog__alert-title {
    color: $elements-warning;
    .#{$componentNameSpace}-svg-icon {
        font-size: initial;
        svg * {
            fill: $elements-warning;
        }
    }
}

.#{$componentNameSpace}-dialog__error-title {
    color: $elements-danger;
    .#{$componentNameSpace}-svg-icon {
        font-size: initial;
        svg * {
            fill: $elements-danger;
        }
    }
}

.#{$componentNameSpace}-dialog__notice-body,
.#{$componentNameSpace}-dialog__alert-body,
.#{$componentNameSpace}-dialog__error-body
 {
    text-align: center;
}
