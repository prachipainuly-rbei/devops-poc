/*
 * Copyright (C) 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: AttributeList.jsx 185017 2018-10-12 13:04:05Z yzh $"
 */

import React from 'react';
import {ImmutablePropTypes} from 'cs-web-components-externals';
import {prefixNS, toDisplayFormat} from '../../helpers';
import {toDATA_TYPE} from '../../form/dataTypes.js';
import DataContainerField from '../../detail_page/DataContainerField.jsx';

/**
 * This component displays a list of attributes.
 *
 * React Properties
 * ----------------
 *
 * - contextObject: The object whose base data should be displayed
 * - fields: Fields that will be shown
 * - values: Values of the fields
 *
 */
export default function AttributeList({fields, values, contextObject}) {
    return (
        <div className={prefixNS('attribute-list')}>
            {fields.map(fld => (
                <DataContainerField
                    key={fld.get('row')}
                    contextObject={contextObject}
                    field={fld}
                    value={toDisplayFormat(
                        values.get(fld.get('attribute')),
                        toDATA_TYPE(fld.get('data_type')))}
                    rawValue={values.get(fld.get('attribute'))}
                />
            ))}
        </div>
    );
}
AttributeList.propTypes = {
    contextObject: ImmutablePropTypes.map,
    fields: ImmutablePropTypes.list,
    values: ImmutablePropTypes.map
};
