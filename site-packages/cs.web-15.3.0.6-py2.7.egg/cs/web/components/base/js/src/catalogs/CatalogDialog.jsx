/*
 * Copyright (C) 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: CatalogDialog.jsx 183513 2018-09-07 10:56:20Z cla $"
 */

import React from 'react';
import {PropTypes} from 'cs-web-components-externals';
import {prefixNS} from '../helpers.js';
import Dialog from '../dialogs';
import CatalogWithPreview from './CatalogWithPreview.jsx';

export default function CatalogDialog(props) {
    const {label, submitDisabled, modalSubmit,
           clearSelected, closeCatalog, userSettings} = props;
    return (
        <Dialog.Dialog
            title={label}
            buttons={[
                <Dialog.Buttons.Select
                    key="select"
                    disabled={submitDisabled}
                    onClick={modalSubmit} />,
                <Dialog.Buttons.Reset
                    key="reset"
                    labelId="tabcatalog_clear"
                    onClick={clearSelected} />,
                <Dialog.Buttons.Cancel
                    key="cancel"
                    onClick={closeCatalog} />
            ]}
            onHide={closeCatalog}
            onAction={submitDisabled ? undefined : modalSubmit}
            size={Dialog.SIZE_LARGE}
            dialogClassName={prefixNS('catalog-dialog')}
            fixedHeight={true}
            show={true}
        >
            <div className={prefixNS('catalog-dialog__body')}>
                <CatalogWithPreview userSettings={userSettings}>
                    {React.Children.only(props.children)}
                </CatalogWithPreview>
            </div>
        </Dialog.Dialog>
    );
}
CatalogDialog.propTypes = {
    children: PropTypes.element.isRequired,
    label: PropTypes.string.isRequired,
    submitDisabled: PropTypes.bool.isRequired,
    modalSubmit: PropTypes.func.isRequired,
    clearSelected: PropTypes.func.isRequired,
    closeCatalog: PropTypes.func.isRequired,
    userSettings: PropTypes.object,
};
