/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: colrenderer.jsx 177114 2018-05-14 10:11:38Z cla $"
 */

import React from 'react';
import Immutable from 'immutable';
import {storiesOf, appContainer} from 'cs-web-components-storybook';
import {Table, FormControl} from 'cs-web-components-base';

const columns = Immutable.fromJS(
    [
        {
            width: 400,
            label: "col1",
            tooltip: "Tooltip for col1",
            id: "col1"
        },
        {
            label: "col2",
            tooltip: "Tooltip for col2",
            id: "col2"
        },
        {
            contentRenderer: FormControl.TextInput,
            width: 400,
            label: "col3",
            tooltip: "Tooltip for col1",
            id: "col3"
        },
    ]
);

const orderedColumns = Immutable.OrderedSet(
    columns.map(c => c.get('id'))
);

const initSortColumns = Immutable.fromJS(
    [{id: columns.getIn([0, 'id']), desc: true}]
).toOrderedSet();

const rows = Immutable.fromJS([
    {
        id: "0",
        columns: [
            "Hallo",
            "Welt",
            "value 1",
        ]
    },
    {
        id: "1",
        columns: [
            "Hallo",
            "Erde",
            "value 2",
        ]
    },
    {
        id: "2",
        columns: [
            "Guten Morgen",
            "Erde",
            "value 3",
        ]
    },
    {
        id: "3",
        columns: [
            "Guten Morgen",
            "Welt",
            "value 4",
        ]
    }
]);

storiesOf('Table', {})
    .addDecorator(appContainer)
    .add('Mock data with column renderer', () => {
        // import {Table} from 'cs-web-components-base';
        const MyTable = Table.PredefinedTables.DefaultTable();
        return (
            <MyTable condensed={false} rows={rows}
                     title={"Simple Table"}
                     columns={columns}
                     orderedColumns={orderedColumns}
                     initSortColumns={initSortColumns}
                     contentHeight="360px"
                     className="my-table"/>
        );
    });
