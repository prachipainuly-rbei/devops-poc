/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: THead.jsx 172155 2018-01-23 12:31:49Z gwe $"
 */

import React from 'react';
import {ImmutablePropTypes} from 'cs-web-components-externals';
import ColumnHeader from './ColumnHeader';

export default function THead(props) {
    const {columnActions, columns, visibleColumns, columnWidths} = props;
    return (
        <thead>
            <tr>
                {visibleColumns.map((colID) => {
                    const colIdx = columns.findIndex(
                        c => c.get('id') === colID);
                    const col = columns.get(colIdx);
                    const style = {
                        width: columnWidths.get(
                            colID, col.get('width'))
                    };
                    return (
                        <th key={colID}
                            data-column-id={colID}
                            style={style}>
                            <ColumnHeader column={col}
                                          columnIndex={colIdx}
                                          columnActions={columnActions}/>
                        </th>
                    );
                })}
            </tr>
        </thead>
    );
}
THead.propTypes = {
    columns: ImmutablePropTypes.list,
    columnActions: ImmutablePropTypes.list,
    columnWidths: ImmutablePropTypes.map,
    visibleColumns: ImmutablePropTypes.orderedSet
};
