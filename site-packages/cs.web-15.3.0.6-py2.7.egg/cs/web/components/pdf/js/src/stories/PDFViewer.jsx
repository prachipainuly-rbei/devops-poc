/*
 * Copyright (C) 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: PDFViewer.jsx 184929 2018-10-11 09:37:41Z gwe $"
 */

import React from 'react';
import {getAppSetup, SplitterLayout} from "cs-web-components-base";
import {storiesOf, knobs, appContainer} from 'cs-web-components-storybook';
import {PDFViewer} from 'cs-web-components-pdf';

function getViewerFor(name) {
    const setup = getAppSetup().getIn(["storybook", "stories", "cs-web-components-pdf", name]);
    return (
        <PDFViewer
            url={setup.get("path")}
            filename={setup.get("name")}
            minified={knobs.boolean(name + ' minified', false)}
        />
    );
}

storiesOf('PDFViewer', {})
    .addDecorator(appContainer)
    .add('Single Page', () => getViewerFor("singlepage"))
    .add('Multi Page', () => getViewerFor("multipage"))
    .add('In SplitterLayout', () => {
        return (
            <div style={{width: '100%', height: '800px'}}>
                <SplitterLayout vertical={true}>
                    <SplitterLayout.PrimaryPane>
                        <SplitterLayout vertical={false}>
                            <SplitterLayout.PrimaryPane>
                                {getViewerFor("singlepage")}
                            </SplitterLayout.PrimaryPane>
                            <SplitterLayout.SecondaryPane defaultSize="300px">
                                {getViewerFor("multipage")}
                            </SplitterLayout.SecondaryPane>
                        </SplitterLayout>
                    </SplitterLayout.PrimaryPane>
                    <SplitterLayout.SecondaryPane defaultSize="100px">
                        This page intentionally left blank
                    </SplitterLayout.SecondaryPane>
                </SplitterLayout>
            </div>
        );
    });
