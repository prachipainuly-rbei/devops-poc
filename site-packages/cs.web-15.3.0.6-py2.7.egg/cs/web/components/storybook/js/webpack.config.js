/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: webpack.config.js 170262 2017-12-08 15:02:29Z yzh $"
 */
const configModule = require(process.env.WEBPACK_CONFIG_COMMON);
const commonConfig = configModule.makeConfig();
const componentNameSpace = configModule.getComponentNameSpace();

module.exports = Object.assign({}, commonConfig, {
    // here the app spernals
    entry: Object.assign({}, commonConfig.entry, {
        [`${componentNameSpace}-utils`]: "./src/utils",
        [`${componentNameSpace}-manager`]: "./src/manager",
        [`${componentNameSpace}-loader`]: "./src/loader"
    }),
    module: Object.assign({}, commonConfig.module, {
        rules: commonConfig.module.rules.concat(
            [
                {
                    test: /\.scss$/,
                    use: [
                        {loader: "sass-loader"},
                        {loader: "css-loader"}
                    ]
                }
            ]
        )
    })
});
