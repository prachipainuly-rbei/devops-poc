/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: DashboardArea.jsx 156333 2017-04-03 08:48:43Z gwe $"
 */

import React from 'react';
import {ImmutablePropTypes, classNames} from 'cs-web-components-externals';
import DashboardColumn from './DashboardColumn.jsx';
import {ColumnWidths} from './constants.js';

export default function DashboardArea(props) {
    const columns = props.layout.get('columns');
    const baseColCnt = columns.map(c => ColumnWidths[c]).reduce((a, b) => a + b, 0);
    const clsnames = classNames(
        `${componentNameSpace}-dashboard__area`,
        `${componentNameSpace}-dashboard__area--${baseColCnt}`
    );
    return (
        <div className={clsnames}>
            {columns.map((colWidth, idx) => (
                <DashboardColumn
                    key={idx}
                    items={props.items}
                    column={idx}
                    columnWidth={colWidth}
                    widgets={props.widgets} />
            ))}
        </div>
    );
}
DashboardArea.propTypes = {
    items: ImmutablePropTypes.map.isRequired,
    layout: ImmutablePropTypes.map.isRequired,
    widgets: ImmutablePropTypes.map.isRequired
};
