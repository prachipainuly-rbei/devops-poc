/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ColumnDropArea.jsx 161953 2017-07-20 12:55:37Z yzh $"
 */

import React from 'react';
import {PropTypes, connect, ReactDnD} from 'cs-web-components-externals';
import {moveItemToColumn} from './actions.js';
import {DASHBOARD_ITEM_DND_TYPE} from './constants.js';

const columnTarget = {
    drop() {
        // Intentionally left blank
    },
    hover(props, monitor) {
        const {origItem} = monitor.getItem();
        const {column} = props;
        props.moveItemToColumn(origItem.get('cdb_object_id'), column);
    }
};

function collect(connect) {
    return {
        connectDropTarget: connect.dropTarget()
    };
}

function ColumnDropArea(props) {
    return props.connectDropTarget(
        <div className={`${componentNameSpace}-dashboard__column-drop-area`}>
        </div>
    );
}
ColumnDropArea.propTypes = {
    column: PropTypes.number.isRequired,
    // injected by connect
    moveItemToColumn: PropTypes.func.isRequired,
    // injected by DnD
    connectDropTarget: PropTypes.func.isRequired
};

export default connect(undefined, {moveItemToColumn})(
    ReactDnD.DropTarget(DASHBOARD_ITEM_DND_TYPE, columnTarget, collect)(
        ColumnDropArea
    )
);
