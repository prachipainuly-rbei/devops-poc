# Copyright (C) 1990 - 2012 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

Feature: Permissions on Documents

In order to work with documents in a controlled and secure way
As a writer
I want to 
     - have all necessary system permissions to do my work* 
     - be corrected by the system if I accidentally try to change a released document
     - have the system to prevent the access to my documents from users which *dont* have 
       the nessecary permissions to access them

* this is already tested by the 'basic operations'-feature


Scenario Outline: A Non-Writer Tries To Create A Document
    WHEN a <role> tries to create a document
    THEN he's <result> to do so
    Examples:
    | role   | result        |
    | public | not permitted |

    
Scenario Outline: A Non-Writer Tries To Handle An Unreleased Document
    GIVEN a document exists
    WHEN a <role> tries to <action> this document
    THEN he's <result> the necessary permissions
    Examples:
    | role   | action | result      |
    | public | read   | granted     |
    | public | change | not granted |

    # The above examples list should probably be extended


Scenario Outline: A Writer Tries To Handle A Released Document
    GIVEN a released document exists
    WHEN a writer tries to <action> this released document
    THEN he's <result> the necessary permissions
    Examples:
    | action | result      |
    | read   | granted     |
    | change | not granted |

    # The above examples list should probably be extended
