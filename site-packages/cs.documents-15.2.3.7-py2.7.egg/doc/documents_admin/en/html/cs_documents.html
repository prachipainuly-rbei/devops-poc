

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>cs.documents &mdash; Documents</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Documents" href="index.html"/>
        <link rel="up" title="PowerScript API" href="powerscript.html"/>
        <link rel="next" title="Dialog Hooks" href="cs_documents_std_hooks.html"/>
        <link rel="prev" title="PowerScript API" href="powerscript.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="/doc/en" class="icon fa-book">
            Documentation Portal
          </a>
        

        
          <a href="index.html" class="icon icon-home"> Documents
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="documents_admin_intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="documents-accesssystem.html">The standard access system</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documents-accesssystem.html#roles">Roles</a></li>
<li class="toctree-l2"><a class="reference internal" href="documents-accesssystem.html#access-control-system">Access Control System</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cdb-objects-defaultdocumentclass.html">Defining the default document class</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="documents-widgets.html">Dashboard Widgets</a><ul>
<li class="toctree-l2"><a class="reference internal" href="documents-widgets.html#my-documents-last-modified-documents"><code class="docutils literal"><span class="pre">my-documents</span></code> - <span class="guilabel">Last modified Documents</span></a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cdbmodules-mdm-ident.html">Ident mechanism</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="batch_op.html">Batch operations</a><ul>
<li class="toctree-l2"><a class="reference internal" href="batch_op.html#change-status"><span class="guilabel">Change Status</span></a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="powerscript.html">PowerScript API</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">cs.documents</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Documents</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
          <li><a href="powerscript.html">PowerScript API</a> &raquo;</li>
      
    <li>cs.documents</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/cs_documents.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="module-cs.documents">
<span id="cs-documents"></span><h1>cs.documents<a class="headerlink" href="#module-cs.documents" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="cs_documents_std_hooks.html">Dialog Hooks</a></li>
</ul>
</div>
<div class="section" id="document">
<h2>Document<a class="headerlink" href="#document" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="cs.documents.Document">
<em class="property">class </em><code class="descclassname">cs.documents.</code><code class="descname">Document</code><span class="sig-paren">(</span><em>**values</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="cs.documents.Document.CalculateOLC">
<code class="descname">CalculateOLC</code><span class="sig-paren">(</span><em>ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.CalculateOLC" title="Permalink to this definition">¶</a></dt>
<dd><p>The function is called to calculate the object life cycle from the
attributes provided by ctx.dialog or self. You can overwrite this
function to adapt the system behaviour. If there is no rule, you should
return <code class="docutils literal"><span class="pre">None</span></code>. The function is used to prevent object
modifications that implies a change of the object life cycle if the
document state is not <code class="docutils literal"><span class="pre">0</span></code>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="cs.documents.Document.CalculateSourceOID">
<em class="property">classmethod </em><code class="descname">CalculateSourceOID</code><span class="sig-paren">(</span><em>ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.CalculateSourceOID" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the framework to set the <code class="docutils literal"><span class="pre">source_oid</span></code> attribute
during the creation of a document.
The default returns the <code class="docutils literal"><span class="pre">cdb_object_id</span></code> of the template if you
use <span class="guilabel">Create from template</span> and the <code class="docutils literal"><span class="pre">cdb_object_id</span></code> of the
copy source if the <code class="docutils literal"><span class="pre">CDB_Copy</span></code> operation is used.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.CreateIndex">
<code class="descname">CreateIndex</code><span class="sig-paren">(</span><em>new_index=''</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.CreateIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and returns a new version of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code>. You can use <code class="xref py py-obj docutils literal"><span class="pre">new_index</span></code>
to predefine the value of <code class="docutils literal"><span class="pre">z_index</span></code>. If <code class="xref py py-obj docutils literal"><span class="pre">new_index</span></code> is emtpy it is
generated using the index schema of your installation.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.GetActivityStreamTopics">
<code class="descname">GetActivityStreamTopics</code><span class="sig-paren">(</span><em>posting</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetActivityStreamTopics" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the Activity stream topics where a posting to the
document should occure. The default implementation assigns
a posting to the project and the object itself.</p>
</dd></dl>

<dl class="classmethod">
<dt id="cs.documents.Document.GetDefaultErzSystem">
<em class="property">classmethod </em><code class="descname">GetDefaultErzSystem</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetDefaultErzSystem" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the default that has to be used to initialize the
attribute <code class="docutils literal"><span class="pre">erzeug_system</span></code> from the personal setting
<code class="docutils literal"><span class="pre">cs.documents.default_cad</span></code>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="cs.documents.Document.GetInitialCopyValues">
<em class="property">classmethod </em><code class="descname">GetInitialCopyValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetInitialCopyValues" title="Permalink to this definition">¶</a></dt>
<dd><p>The function is called for <code class="xref py py-obj docutils literal"><span class="pre">CDB_Copy</span></code>
to retrieve values as <code class="docutils literal"><span class="pre">dict</span></code> that should not be
copied from the previous version.
For interactive operations these attributes
are set during the <code class="docutils literal"><span class="pre">pre_mask</span></code> call. For batch operations the
attributes are set in <code class="docutils literal"><span class="pre">pre</span></code>.</p>
</dd></dl>

<dl class="classmethod">
<dt id="cs.documents.Document.GetInitialCreateValues">
<em class="property">classmethod </em><code class="descname">GetInitialCreateValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetInitialCreateValues" title="Permalink to this definition">¶</a></dt>
<dd><p>The function is called for <code class="xref py py-obj docutils literal"><span class="pre">CDB_Create</span></code>
to retrieve initial values as <code class="docutils literal"><span class="pre">dict</span></code>.
For interactive operations these attributes
are set during the <code class="docutils literal"><span class="pre">pre_mask</span></code> call. For batch operations the
attributes are set in <code class="docutils literal"><span class="pre">pre</span></code> if no value is supplied before.</p>
</dd></dl>

<dl class="classmethod">
<dt id="cs.documents.Document.GetInitialIndexValues">
<em class="property">classmethod </em><code class="descname">GetInitialIndexValues</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetInitialIndexValues" title="Permalink to this definition">¶</a></dt>
<dd><p>The function is called for <code class="xref py py-obj docutils literal"><span class="pre">CDB_Index</span></code>
to retrieve values as <code class="docutils literal"><span class="pre">dict</span></code> that should not be
copied from the previous version.
For interactive operations these attributes
are set during the <code class="docutils literal"><span class="pre">pre_mask</span></code> call. For batch operations the
attributes are set in <code class="docutils literal"><span class="pre">pre</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.GetOLCRelevantAttributes">
<code class="descname">GetOLCRelevantAttributes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetOLCRelevantAttributes" title="Permalink to this definition">¶</a></dt>
<dd><p>The function should return a list of attributes that are relevant
for <a class="reference internal" href="#cs.documents.Document.CalculateOLC" title="cs.documents.Document.CalculateOLC"><code class="xref py py-obj docutils literal"><span class="pre">CalculateOLC</span></code></a> to determine the object life cycle.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.GetReadonlyAttrsIfOLCStarted">
<code class="descname">GetReadonlyAttrsIfOLCStarted</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetReadonlyAttrsIfOLCStarted" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of attributes that should be set readonly if
the document has left the initial state. The default implementation
calls <a class="reference internal" href="#cs.documents.Document.GetOLCRelevantAttributes" title="cs.documents.Document.GetOLCRelevantAttributes"><code class="xref py py-obj docutils literal"><span class="pre">GetOLCRelevantAttributes</span></code></a>.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.GetReviewer">
<code class="descname">GetReviewer</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.GetReviewer" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of personal numbers of the persons that should
review or have reviewed the document. This is e.g. used to implement
the recipient list <span class="guilabel">Reviewer</span> of the sharing. The default
tries to map the value of the attribute <code class="docutils literal"><span class="pre">pruefer</span></code> to the
personal no.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.HandleUnlockForeignLock">
<code class="descname">HandleUnlockForeignLock</code><span class="sig-paren">(</span><em>f</em>, <em>previous_locker</em>, <em>ctx</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.HandleUnlockForeignLock" title="Permalink to this definition">¶</a></dt>
<dd><p>The framework calls this function as part of the <code class="docutils literal"><span class="pre">post</span></code>
user exit of the <code class="docutils literal"><span class="pre">CDB_Unlock</span></code> action of the class
<code class="xref py py-obj docutils literal"><span class="pre">cdb.objects.Object.cdb_file.CDB_File</span></code> if the user has unlocked
a file locked by the user identified by <code class="xref py py-obj docutils literal"><span class="pre">previous_locker</span></code>.
The function generates a sharing to send this information to
the previous locker. You might overwrite the function to adapt
this behaviour.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.IsValidInteractiveTargetStatus">
<code class="descname">IsValidInteractiveTargetStatus</code><span class="sig-paren">(</span><em>target_status</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.IsValidInteractiveTargetStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by the framework as an additional check if a target status
should be selectable by an user. If you return <code class="docutils literal"><span class="pre">False</span></code> the standard
implementation ensures that the status is excluded in the target status
catalog of the operation <code class="docutils literal"><span class="pre">CDB_Workflow</span></code>. Trying to set the status of
<code class="xref py py-obj docutils literal"><span class="pre">self</span></code> to <code class="xref py py-obj docutils literal"><span class="pre">target_status</span></code> using a batch operation will also fail.
You can overwrite this function to exclude status from interactive
use.</p>
</dd></dl>

<dl class="attribute">
<dt id="cs.documents.Document.PreviousIndex">
<code class="descname">PreviousIndex</code><a class="headerlink" href="#cs.documents.Document.PreviousIndex" title="Permalink to this definition">¶</a></dt>
<dd><p>A <code class="xref py py-obj docutils literal"><span class="pre">cdb.objects.ReferenceMethod_1</span></code> that returns the document that represents
the previous version of <code class="xref py py-obj docutils literal"><span class="pre">self</span></code> usually by selecting all versions and
sorting them using the configuration of the property <code class="docutils literal"><span class="pre">ixsm</span></code> and
<code class="docutils literal"><span class="pre">z_index</span></code>. This is quite expensive - if you know your indexing schema
you should use an implementation that do not need DB-Statements.</p>
<p>Note that this function will not work for a ‘delete’-‘post’ user exit
if your sorting uses any other attribute from <code class="docutils literal"><span class="pre">zeichnung</span></code> than
<code class="docutils literal"><span class="pre">z_index</span></code> for sorting.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.copyDoc">
<code class="descname">copyDoc</code><span class="sig-paren">(</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.copyDoc" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a copy of self using <code class="xref py py-obj docutils literal"><span class="pre">makeNumber</span></code> to generate a new document
number. The function uses <code class="xref py py-obj docutils literal"><span class="pre">cdb.objects.Object.Copy</span></code> which means at
this time that there is no access check and no user exits are called.
The function also copies the non derived files of the document using
<code class="xref py py-obj docutils literal"><span class="pre">cdb.objects.cdb_file.CDB_File.copy_file</span></code>. At this time this function
does not reset the locking information.</p>
<p>The function might be replaced in future versions - you should use
<code class="xref py py-obj docutils literal"><span class="pre">cdb.objects.operations.operation</span></code> for the regular behaviour.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.get_template_preset_attributes">
<code class="descname">get_template_preset_attributes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.get_template_preset_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of attribute names that are to be copied from the
template document, when the operation <span class="guilabel">New from template</span>
is called. You may overwrite this method to customize the list of
attributes.</p>
</dd></dl>

<dl class="method">
<dt id="cs.documents.Document.resolveReferencedDocuments">
<code class="descname">resolveReferencedDocuments</code><span class="sig-paren">(</span><em>depth=0</em><span class="sig-paren">)</span><a class="headerlink" href="#cs.documents.Document.resolveReferencedDocuments" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a list of all documents that are referenced by <code class="xref py py-obj docutils literal"><span class="pre">self</span></code> by
navigating <code class="xref py py-obj docutils literal"><span class="pre">DocumentReferences</span></code> until depth is reached or a
recursion occures. If depth is <code class="docutils literal"><span class="pre">0</span></code> all references will be returned.
The result does not contain any duplicates and
will be sorted in a way that if <code class="docutils literal"><span class="pre">D1</span></code> references <code class="docutils literal"><span class="pre">D2</span></code> that
<code class="docutils literal"><span class="pre">D1</span></code> is located before <code class="docutils literal"><span class="pre">D2</span></code> in the result as long a there are
no recursions.</p>
<p>If a document reference points to an invalid document this reference
will be ignored.</p>
</dd></dl>

</dd></dl>

</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cs_documents_std_hooks.html" class="btn btn-neutral float-right" title="Dialog Hooks" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="powerscript.html" class="btn btn-neutral" title="PowerScript API" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Contact Software.
      Last updated on 29.10.2018.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'15.2.3.7',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>