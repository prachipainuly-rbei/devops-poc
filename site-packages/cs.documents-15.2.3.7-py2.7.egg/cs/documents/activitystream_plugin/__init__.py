#!/usr/bin/env python
# -*- python -*- coding: iso-8859-1 -*-
#
# Copyright (C) 1990 - 2013 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#


"""
Register activity stream plugin.
"""

__docformat__ = "restructuredtext en"
__revision__ = "$Id: __init__.py 136949 2016-02-09 09:05:05Z yzh $"

from cdb import sig
from cdb import elink
from cs.documents import Document


__all__ = []


@elink.using_template_engine("chameleon")
class ActivityStreamPlugin(elink.Application):
    pass


# lazy initialization
app = None


@sig.connect(Document, "cs.activitystream.getplugins")
def get_plugin():
    global app
    if app is None:
        app = ActivityStreamPlugin()
    return app
