/*
 * Copyright (C) 2018 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: DocTemplateCatalog.jsx 174283 2018-03-09 10:30:35Z gwe $"
 */

import React from 'react';
import {FlatCatalog, getAppSetup, ObjectContent} from 'cs-web-components-base';
import {PropTypes} from 'cs-web-components-externals';

/**
 * Renderes the catalog that is used to select a document template
 * Can only be used with the doc template creation app that supplies
 * the necessary information in the appSetup.
 */
export default class DocTemplateCatalog extends React.Component {
    render() {
        const appSetup = getAppSetup();
        const props = appSetup.get('template_catalog_config');
        return (
            <FlatCatalog
                selectButtonLabel="dialog.button.next"
                onSelect={this.props.onSelect}
                {...props.toJS()}
                previewComponent={<ObjectContent showPlaceholder minified/>}
                withPreview={true}
                previewWidth="300px"
            />
        );
    }
}

DocTemplateCatalog.propTypes = {
    onSelect: PropTypes.func
};
