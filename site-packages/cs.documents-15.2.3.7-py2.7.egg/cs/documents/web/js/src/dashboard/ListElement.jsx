/*
 * Copyright (C) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ListElement.jsx 183605 2018-09-10 13:31:19Z heiko $"
 */
import React from 'react';
import {PropTypes} from 'cs-web-components-externals';
import {IconAndLabel, Icon} from 'cs-web-components-base';
import {prefixNS} from '../helpers.js';

export function ListElement(props) {
    const {title, icon, stateTitle, uiLink} = props;
    let color = null;
    if (props.stateColor && props.stateColor.substring(0, 1) === "#") {
        color = props.stateColor;
    } else {
        // Old versions of cs.web uses a hex representation of the color
        const color_part = props.stateColor ? props.stateColor.substring(2, 8) : null;
        color = String("#" + color_part);
    }
    return (
        <div className={prefixNS('listelement')}>
            <div
                style={{backgroundColor: color}}
                title={stateTitle}
                className={prefixNS('listelement__status')}>
            </div>
            <div className={prefixNS('listelement__text-wrapper')}>
                <IconAndLabel
                    label={uiLink ?
                            <a href={uiLink}>{title}</a> :
                            <p>{title}</p>}
                    icon={<Icon src={icon}/>}>
                </IconAndLabel>
            </div>
        </div>
    );
}

ListElement.propTypes = {
    title: PropTypes.string,
    icon: PropTypes.string,
    stateTitle: PropTypes.string,
    stateColor: PropTypes.string,
    uiLink: PropTypes.string
};

export function ListElementGroup(props) {
    const {title} = props;
    return (
        <div>
            <p className={prefixNS('listelement__group-headline')}>
                {title}
             </p>
             {props.children}
        </div>
    );
}

ListElementGroup.propTypes = {
    title: PropTypes.string.isRequired
};
