/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: Channel.jsx 166061 2017-09-28 13:27:35Z yzh $"
 */

import React from 'react';
import {Navigation, updateQuery} from 'cs-web-components-base';
import {ImmutablePropTypes, classNames, PropTypes} from 'cs-web-components-externals';
import {prefixNS} from '../helpers';

export default function Channel(props) {
    const {channel, location, currentTopic} = props;
    const cid = channel.get('cdb_object_id');
    const text = channel.get('description');
    const isActive = currentTopic === cid;
    const to = updateQuery(location, {topic: cid});
    const clsname = classNames(
        props.className,
        prefixNS('channel'),
        {[prefixNS('channel-active')]: isActive}
    );
    return (
        <Navigation.Link to={to}
                         title={text}
                         className={clsname}>
           {text}
        </Navigation.Link>
    );
}

Channel.propTypes = {
    channel: ImmutablePropTypes.map,
    className: PropTypes.string,
    currentTopic: PropTypes.string,
    location: PropTypes.object
};
