/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: ObjectPostings.jsx 162376 2017-07-28 13:55:03Z yzh $"
 */

import React from 'react';
import Immutable from 'immutable';
import PostingList from './PostingList';
import {TOPIC_LINK} from '../constants';
import {ImmutablePropTypes, PropTypes} from 'cs-web-components-externals';

const ObjectPostings = ({contextObject, instanceName, filter}) => {
    if (contextObject === undefined) {
        return null;
    }
    const url = `${TOPIC_LINK}/${contextObject.get('cdb_object_id')}`;
    return (
        <PostingList instanceName={instanceName} initDataURL={url} filter={filter}/>
    );
};

ObjectPostings.propTypes = {
    instanceName: PropTypes.string.isRequired,
    contextObject: ImmutablePropTypes.map,
    filter: ImmutablePropTypes.map
};

ObjectPostings.defaultProps = {
    filter: Immutable.Map()
};

export default ObjectPostings;
