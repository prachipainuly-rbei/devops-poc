#!/usr/bin/env python
# -*- mode: python; coding: utf-8 -*-
#
# Copyright (C) 1990 - 2015 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#
"""
"""

__docformat__ = "restructuredtext en"
__revision__ = "$Id: attachment.py 130322 2015-09-03 14:08:36Z yzh $"

from cdb import constants
from cdb.objects import Object
from cdb.objects.operations import operation


class Attachment(Object):
    __classname__ = "cdbblog_attachment"
    __maps_to__ = "cdbblog_attachment"

    @classmethod
    def addAttachment(cls, posting_id, attachment_id):
        """Helper function to create attachment using operation routine
        to ensure calling event handler.
        """
        # TODO: access rights should be configured
        if posting_id and attachment_id:
            return operation(constants.kOperationNew,
                             cls,
                             posting_id=posting_id,
                             attachment_id=attachment_id)
        return None
