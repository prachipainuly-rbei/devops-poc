

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Aktivitäten &mdash; Activities</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Stichwortverzeichnis"
              href="genindex.html"/>
        <link rel="search" title="Suche" href="search.html"/>
    <link rel="top" title="Activities" href="index.html"/>
        <link rel="next" title="Objekte teilen" href="sharing_overview.html"/>
        <link rel="prev" title="Einleitung" href="admin_activitystream_intro.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="/doc/de" class="icon fa-book">
            Dokumentationsportal
          </a>
        

        
          <a href="index.html" class="icon icon-home"> Activities
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="admin_activitystream_intro.html">Einleitung</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Aktivitäten</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#themen-abonnieren">Themen abonnieren</a></li>
<li class="toctree-l2"><a class="reference internal" href="#systembeitrag">Systembeitrag</a></li>
<li class="toctree-l2"><a class="reference internal" href="#anzeige-der-aktivitaten-als-registerkarte">Anzeige der Aktivitäten als Registerkarte</a></li>
<li class="toctree-l2"><a class="reference internal" href="#kanale">Kanäle</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="#tagliche-zusammenfassung-als-e-mail">Tägliche Zusammenfassung als E-Mail</a></li>
<li class="toctree-l1"><a class="reference internal" href="sharing_overview.html">Objekte teilen</a><ul>
<li class="toctree-l2"><a class="reference internal" href="sharing_overview.html#operationsablauf">Operationsablauf</a></li>
<li class="toctree-l2"><a class="reference internal" href="sharing_overview.html#groups">Empfängerlisten</a></li>
<li class="toctree-l2"><a class="reference internal" href="sharing_overview.html#eingebettete-esearch">Eingebettete Enterprise-Search</a></li>
<li class="toctree-l2"><a class="reference internal" href="sharing_overview.html#einrichtung-fur-eigene-klassen">Einrichtung für eigene Klassen</a></li>
</ul>
</li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Activities</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Aktivitäten</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/admin_activitystream.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="aktivitaten">
<span id="admin-activitystream"></span><h1>Aktivitäten<a class="headerlink" href="#aktivitaten" title="Link zu dieser Überschrift">¶</a></h1>
<div class="section" id="themen-abonnieren">
<h2>Themen abonnieren<a class="headerlink" href="#themen-abonnieren" title="Link zu dieser Überschrift">¶</a></h2>
<p><span class="guilabel">Ist Aktivitäten-Kanal</span></p>
<blockquote>
<div>Jedes Objekt mit einer <code class="docutils literal"><span class="pre">cdb_object_id</span></code> kann ein Thema sein, dem Beiträge
zugeordnet werden können. Alternativ zu <em>Thema</em> wird auch der Begriff <em>Kanal</em>
verwendet. Im globalen Stream sehen Anwender Beiträge derzeit nur,
wenn sie das entsprechende Thema abonniert haben. Ist diese
Checkbox gesetzt, werden die Operationen <code class="docutils literal"><span class="pre">CDB_SubscribeToChannel</span></code>
bzw. <code class="docutils literal"><span class="pre">CDB_UnsubscribeFromChannel</span></code> automatisch der Klasse zugeordnet bzw. entfernt.</div></blockquote>
</div>
<div class="section" id="systembeitrag">
<span id="cdbfunctions-cdbblog-system-postings"></span><h2>Systembeitrag<a class="headerlink" href="#systembeitrag" title="Link zu dieser Überschrift">¶</a></h2>
<p>Das System ist in der Lage automatisch bei Anlage, Änderung oder
Statusänderung einen Systembeitrag zu erzeugen, die dann in <span class="guilabel">Aktivitäten</span> auftaucht. Systembeiträge werden dabei in allen aktiven
Sprachen der Installation erzeugt (siehe <span class="xref std std-ref">multilanguage-activate</span>).</p>
<div class="admonition note">
<p class="first admonition-title">Bemerkung</p>
<p class="last">Aus Performancegründen werden Teile des Codes zum Erstellen von Systembeiträgen
durch einen separaten Dienst durchgeführt. Die Aktivierierung dieses
Dienstes mit dem Namen <code class="docutils literal"><span class="pre">System</span> <span class="pre">Posting</span> <span class="pre">Queue</span></code> ist im Installations- und
Betriebshandbuch beschrieben. Damit Aufträge für die Queue erzeugt werden, muss
der <code class="xref py py-class docutils literal"><span class="pre">cs.activitystream.activitylistener</span></code> aktiv sein. Dies ist z.B. bei
reinen Powerscript-Anwendungen nicht automatisch der Fall.</p>
</div>
<p>Die Basiskonfiguration wird dabei in den
Klasseneigenschaften vorgenommen (siehe
<span class="xref std std-ref">datadict-class-properties</span> ).</p>
<p>Attribute, die alle Aktionen der Aktivitäten betreffen haben folgende Bedeutung:</p>
<div class="section" id="allgemeine-aktivitatenkonfiguration-in-der-klassendefinition">
<span id="cdb-class-activity-attributes"></span><h3>Allgemeine Aktivitätenkonfiguration in der Klassendefinition<a class="headerlink" href="#allgemeine-aktivitatenkonfiguration-in-der-klassendefinition" title="Link zu dieser Überschrift">¶</a></h3>
<p><span class="guilabel">Systembeiträge erzeugen</span></p>
<blockquote>
<div><p>Damit für Objekte einer Klasse überhaupt Systembeiträge erzeugt
werden, muss diese Checkbox aktiviert werden. Ist sie aktiv, gilt
die Einstellung auch für abgeleitete Klassen. Dies ist unabhängig davon, ob
die Checkbox dort an- oder abgeschaltet ist. Ist sie deaktiviert
haben alle anderen Konfigurationen zu den Aktivitäten keine Auswirkung.</p>
<p>Systembeiträge können nur für Klassen erzeugt werden, die das Attribut
<code class="docutils literal"><span class="pre">cdb_object_id</span></code> besitzen. Das System überprüft beim Anlegen und Ändern von
Klassen, ob dieses Attribut vorhanden ist. Ist dies nicht der Fall, wird es
automatisch ergänzt. Die Klasse muss dann in der Regel noch manuell über
die Funktion <span class="guilabel">Compile</span> erzeugt werden.</p>
</div></blockquote>
<p><span class="guilabel">Regel</span></p>
<blockquote>
<div><p>Hier kann
eine <span class="xref std std-ref">Objektregel</span>
referenziert werden, welche die Menge der Objekte, zu denen ein
Systembeitrag erzeugt werden soll, einschränkt. Beispielsweise
könnten Sie festlegen, dass nur für Aufgaben einer bestimmten
Kategorie Beiträge erzeugt werden sollen.</p>
<p>Ist eine Regel
angegeben, muss dieses Regel in dieser Klasse und in allen
abgeleiteten Klassen erfüllt sein, damit ein Beitrag erzeugt
wird. Wird in einer abgeleiteten Klasse eine Regel definiert, muss
diese zusätzlich zu allen in Basisklassen dieser Klasse definierten
Regeln gelten.</p>
</div></blockquote>
<p>Die weiteren Attribute sind in den folgenden Kapiteln beschrieben.</p>
</div>
<div class="section" id="generierung-von-beitragen-bei-der-anlage-von-objekten">
<span id="cdbfunctions-cdbblog-system-postings-create"></span><h3>Generierung von Beiträgen bei der Anlage von Objekten<a class="headerlink" href="#generierung-von-beitragen-bei-der-anlage-von-objekten" title="Link zu dieser Überschrift">¶</a></h3>
<p>Sind die Grundvoraussetzungen für die Generierung von Systembeiträgen
gegeben (siehe <a class="reference internal" href="#cdb-class-activity-attributes"><span class="std std-ref">Allgemeine Aktivitätenkonfiguration in der Klassendefinition</span></a> ), kann
durch weitere Einstellungen festgelegt werden, ob bei der Anlage eines Objekts ein
Beitrag generiert werden soll. Die Basiskonfiguration wird dabei in den
Klasseneigenschaften vorgenommen (siehe <span class="xref std std-ref">datadict-class-properties</span> ).</p>
<div class="section" id="aktivitatenkonfiguration-fur-anlage-eines-neuen-objekts">
<span id="cdb-class-activity-attributes-posting-on-create"></span><h4>Aktivitätenkonfiguration für Anlage eines neuen Objekts<a class="headerlink" href="#aktivitatenkonfiguration-fur-anlage-eines-neuen-objekts" title="Link zu dieser Überschrift">¶</a></h4>
<p>Die relevanten Attribute haben folgende Bedeutung:</p>
<p><span class="guilabel">Systembeitrag bei Anlage</span></p>
<blockquote>
<div>Ist diese Checkbox gesetzt, wird bei der Anlage eines neuen Objektes
der Klasse ein Beitrag erzeugt.
Ist sie aktiv, gilt die Einstellung auch für abgeleitete Klassen.
Dies ist unabhängig davon, ob die Checkbox dort an- oder abgeschaltet ist.</div></blockquote>
<p><span class="guilabel">Text</span></p>
<blockquote>
<div>Hier kann über ein Label eine (Fehler-)Meldung referenziert werden. In dieser Meldung
wird der Text des Systembeitrags vorgegeben. Die Auswertung
erfolgt analog zur Konfiguration
von <span class="xref std std-ref">Objektbeschreibung</span>
im Data Dictionary, d.h. es können feste Textbestandteile und
Attributwerte konkateniert werden. Wird kein Text konfiguriert,
wird die Meldung <code class="docutils literal"><span class="pre">activity_obj_created</span></code>
verwendet, wobei die im Data Dictionary konfigurierte
Objektbeschreibung als Replacement verwendet wird.</div></blockquote>
<p><span class="guilabel">Kanal für Anlage-Beiträge</span></p>
<blockquote>
<div>Es gibt den Fall, dass sich Anwender mittels der Aktivitäten über die
Anlage von neuen Objekten informieren lassen wollen. Für Objekte, die keinem
Thema zugeordnet sind, kann in diesem Fall ein Kanal angelegt werden,
z.B. der Kanal <em>Neue Ideen</em> für das Ideen-Management (siehe <a class="reference internal" href="#cdbblog-channel"><span class="std std-ref">Zugriffsrechte für Beiträge</span></a>). Auf diesen Kanal
kann sich dann ein Anwender, der neue Ideen im globalen Aktivitätenfenster
sehen will, abonnieren. Wird dieser Kanal in dem hier beschriebenen Feld
referenziert, wird ein Anlage-Systembeitrag automatisch dem Kanal
zugeordnet - unabhängig von der Implementierung der PowerScript- Methode <code class="docutils literal"><span class="pre">GetActivityStreamTopics</span></code>.</div></blockquote>
</div>
</div>
<div class="section" id="generierung-von-beitragen-bei-anderungen">
<span id="activity-posting-on-update"></span><span id="cdbfunctions-cdbblog-system-postings-update"></span><span id="helpid-cdb-activity-posting-on-update"></span><h3>Generierung von Beiträgen bei Änderungen<a class="headerlink" href="#generierung-von-beitragen-bei-anderungen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Sind die Grundvoraussetzungen für die Generierung von Systembeiträgen
gegeben (siehe <a class="reference internal" href="#cdb-class-activity-attributes"><span class="std std-ref">Allgemeine Aktivitätenkonfiguration in der Klassendefinition</span></a> ), kann
durch weitere Einstellungen festgelegt werden,
ob bei der Änderung von Objekten
ein Beitrag generiert werden soll. Die Konfiguration wird dabei in der
Registerkarte <span class="guilabel">Aktivitäten</span> der
Attributeigenschaften im Data-Dictionary vorgenommen
(siehe <span class="xref std std-ref">cdb-classdef-attributes</span>).</p>
<div class="section" id="aktivitatenkonfiguration-fur-anderung">
<span id="cdb-class-activity-attributes-posting-on-update"></span><h4>Aktivitätenkonfiguration für Änderung<a class="headerlink" href="#aktivitatenkonfiguration-fur-anderung" title="Link zu dieser Überschrift">¶</a></h4>
<p>Die Attribute haben folgende Bedeutung:</p>
<p><span class="guilabel">Systembeitrag bei Änderung</span></p>
<blockquote>
<div>Ist diese Checkbox gesetzt, wird bei der Änderung eines Objektes
überprüft, ob dieses Attribut geändert wurde. Ist dies der Fall, wird
ein Beitrag erzeugt.</div></blockquote>
<p><span class="guilabel">Text</span></p>
<blockquote>
<div><p>Hier kann über ein Label eine (Fehler-)Meldung referenziert werden.
In dieser Meldung
wird der Text des Systembeitrags vorgegeben. Die Auswertung
erfolgt analog zur Konfiguration
von <span class="xref std std-ref">Objektbeschreibung</span>
im Data Dictionary, d.h. es können feste Textbestandteile und
Attributwerte konkateniert werden. Ist ein Text konfiguriert,
wird ein separater Beitrag mit dem Text erzeugt, d.h. wenn mehrere
Attribute geändert werden, für die jeweils ein Text konfiguriert
ist, werden auch mehrere Beiträge erzeugt.</p>
<p>Wird kein Text konfiguriert,
wird die Meldung <code class="docutils literal"><span class="pre">activity_obj_modified</span></code>
verwendet. Dabei werden alle geänderten Attribute, deren
Änderung einen Beitrag verursacht und für die keine spezielle
Meldung konfiguriert ist, aufgesammelt. Als Replacements für die
Meldung werden die Objektbeschreibung und die Liste der
geänderten Attribute mit ihren Werten verwendet.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="generierung-von-beitragen-bei-statusanderung">
<span id="cdbfunctions-cdbblog-system-postings-wfstep"></span><h3>Generierung von Beiträgen bei Statusänderung<a class="headerlink" href="#generierung-von-beitragen-bei-statusanderung" title="Link zu dieser Überschrift">¶</a></h3>
<p>Sind die Grundvoraussetzungen für die Generierung von Systembeiträgen
gegeben (siehe <a class="reference internal" href="#cdb-class-activity-attributes"><span class="std std-ref">Allgemeine Aktivitätenkonfiguration in der Klassendefinition</span></a>), kann
durch weitere Einstellungen festgelegt werden, ob im Rahmen einer
Statusänderung ein Beitrag generiert werden soll. Die Einstellungen
werden bei der Konfiguration
der <span class="xref std std-ref">Statusdefinition</span> vorgenommen.</p>
<div class="section" id="aktivitatenkonfiguration-fur-statusanderung">
<span id="cdb-class-activity-attributes-posting-on-wfstep"></span><h4>Aktivitätenkonfiguration für Statusänderung<a class="headerlink" href="#aktivitatenkonfiguration-fur-statusanderung" title="Link zu dieser Überschrift">¶</a></h4>
<p>Die Attribute haben folgende Bedeutung:</p>
<p><span class="guilabel">Beitrag bei interaktiver Statusänderung generieren</span></p>
<blockquote>
<div>Ist diese Checkbox gesetzt, wird bei einer interaktiven
Statusänderung in diesen Status ein Beitrag generiert.</div></blockquote>
<p><span class="guilabel">Beitrag bei automatischer Statusänderung generieren</span></p>
<blockquote>
<div>Ist diese Checkbox gesetzt, wird bei einer automatischen
Statusänderung in diesen Status ein Beitrag generiert. Dies sind
die Statusänderungen, die das System z.B. durch den Aufruf von
Statusänderungen innerhalb von User Exits durchführt.</div></blockquote>
<p><span class="guilabel">Text</span></p>
<blockquote>
<div><p>Hier kann über ein Label eine Meldung aus der
(Fehler)-meldungsverwaltung referenziert werden. In dieser Meldung
wird der Text des Systembeitrags vorgegeben. Die Auswertung
erfolgt analog zur Konfiguration
von <span class="xref std std-ref">Objektbeschreibungen</span>
im Data Dictionary, d.h. es können feste Textbestandteile und
Attributwerte konkateniert werden.</p>
<p>Wird kein Text konfiguriert,
wird die Meldung <code class="docutils literal"><span class="pre">activity_obj_wfstep</span></code>
verwendet. Als Replacements für die
Meldung werden die Objektbeschreibung und der Zielstatus verwendet.</p>
</div></blockquote>
</div>
</div>
<div class="section" id="zuordnung-der-themen">
<h3>Zuordnung der Themen<a class="headerlink" href="#zuordnung-der-themen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Ein Beitrag kann mehreren Themen zugeordnet sein - beispielsweise kann
der Beitrag, dass eine neue Aufgabe angelegt wurde, der Aktivität
des zugeordneten Projekts und der Aktivität der Aufgabe zugeordnet
werden. Zum Zweck der Zuordnung wird die Methode <code class="docutils literal"><span class="pre">GetActivityStreamTopics</span></code>
der PowerScript-Klasse <code class="docutils literal"><span class="pre">cdb.objects.Object</span></code> verwendet. Details entnehmen Sie
bitte dem PowerScript-Handbuch.</p>
</div>
<div class="section" id="zugriffsrechte-fur-beitrage">
<span id="cdbblog-channel"></span><span id="helpid-cdb-blog-channel"></span><h3>Zugriffsrechte für Beiträge<a class="headerlink" href="#zugriffsrechte-fur-beitrage" title="Link zu dieser Überschrift">¶</a></h3>
<p>Das read-Recht für Beiträge hängt im Standard am Recht <code class="docutils literal"><span class="pre">read</span></code> des Objeks, auf
dass sich der Beitrag bezieht. Im Kern ist dies ähnlich wie ein
Beziehungsrechteprofil abgebildet, d.h. bei einer Suche über <code class="docutils literal"><span class="pre">CDB_Search</span></code>
wird das Recht nicht ausgewertet. An den Stellen, an denen Beiträge
üblicherweise angezeigt werden, also in der Enterprise-Search oder in den Aktivitäten
wird das Recht ausgewertet.</p>
</div>
<div class="section" id="automatisches-loschen-von-beitragen">
<h3>Automatisches Löschen von Beiträgen<a class="headerlink" href="#automatisches-loschen-von-beitragen" title="Link zu dieser Überschrift">¶</a></h3>
<p>Wird ein Objekt gelöscht, werden automatisch auch die Beiträge, die diesem
Objekt zugeordnet sind, mitgelöscht.</p>
</div>
</div>
<div class="section" id="anzeige-der-aktivitaten-als-registerkarte">
<h2>Anzeige der Aktivitäten als Registerkarte<a class="headerlink" href="#anzeige-der-aktivitaten-als-registerkarte" title="Link zu dieser Überschrift">¶</a></h2>
<p>Sie können ein <span class="xref std std-ref">cdb-gui-maskconfig-dlgitemtypes-sect-cdbelinkcontrol</span> einsetzen, um die
Aktivitäten zu einem bestimmten Thema/Kanal anzeigen zu lassen. Das System
besitzt bereits eine vordefinierte Maske, die nur dieses Control enthält. Diese
Maske hat den Namen <code class="docutils literal"><span class="pre">cdb_elink_activitystream</span></code>. Sie kann als Registerkarte in
einen <span class="xref std std-ref">Maskenverbund</span> eingepflegt
werden. Bei der Anlage neuer Objekte und beim Suchen bleibt die eLink-Anwendung
inaktiv, daher ist es in der Regel sinnvoll, entweder unterschiedliche
Maskenverbünde für die unterschiedlichen Aktionen zu definieren oder die Registerkarte mit Hilfe der
PowerScript-Funktion <code class="xref py py-func docutils literal"><span class="pre">disable_registers()</span></code> auszublenden. Dies passiert
beispielsweise in der Klasse <code class="xref py py-class docutils literal"><span class="pre">Channel</span></code>:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Channel</span><span class="p">(</span><span class="n">Object</span><span class="p">):</span>
    <span class="n">__maps_to__</span> <span class="o">=</span> <span class="s2">&quot;cdbblog_channel&quot;</span>
    <span class="n">__classname__</span> <span class="o">=</span> <span class="s2">&quot;cdbblog_channel&quot;</span>

    <span class="k">def</span> <span class="nf">_skip_activity_register</span><span class="p">(</span><span class="n">cls</span><span class="p">,</span> <span class="n">ctx</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">ctx</span><span class="o">.</span><span class="n">action</span> <span class="o">!=</span> <span class="s2">&quot;info&quot;</span> <span class="ow">and</span> <span class="n">ctx</span><span class="o">.</span><span class="n">action</span> <span class="o">!=</span> <span class="s2">&quot;modify&quot;</span><span class="p">:</span>
            <span class="k">try</span><span class="p">:</span>
                <span class="n">ctx</span><span class="o">.</span><span class="n">disable_registers</span><span class="p">([</span><span class="s2">&quot;cdb_elink_activitystream&quot;</span><span class="p">])</span>
            <span class="k">except</span><span class="p">:</span>
                <span class="c1"># Some context adaptors does not support disable_registers</span>
                <span class="k">pass</span>

    <span class="n">event_map</span> <span class="o">=</span> <span class="p">{(</span><span class="s2">&quot;*&quot;</span><span class="p">,</span> <span class="s2">&quot;pre_mask&quot;</span><span class="p">):</span> <span class="s2">&quot;_skip_activity_register&quot;</span><span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="kanale">
<h2>Kanäle<a class="headerlink" href="#kanale" title="Link zu dieser Überschrift">¶</a></h2>
<p>Damit ein Beitrag für den Anwender sichtbar wird, muss es ein Thema geben,
dem der Beitrag zugeordnet ist. In vielen Fällen ist dieses Thema ein
Objekt, z.B. ein Projekt. In manchen Fällen existiert aber kein
geeignetes Objekt. Für diesen Fall können Sie einen Kanal anlegen, dem
Beiträge zugeordnet werden. Ein solcher Kanal könnte beispielsweise der Kanal
<em>Neue Ideen</em> sein. Wie in
<a class="reference internal" href="#cdb-class-activity-attributes-posting-on-create"><span class="std std-ref">Aktivitätenkonfiguration für Anlage eines neuen Objekts</span></a> beschrieben, können Sie
konfigurativ erreichen, dass die Systembeiträge zur Anlage neuer Objekte einem Kanal
zugeordnet werden.
Den Konfigurationszugang zu  Kanälen erreichen sie im Menübaum über
<span class="menuselection">Administration/Konfiguration ‣ Aktivitäten ‣ Kanäle</span>.
Im Standard dürfen nur Administratoren neue Kanälen anlegen.</p>
</div>
</div>
<div class="section" id="tagliche-zusammenfassung-als-e-mail">
<h1>Tägliche Zusammenfassung als E-Mail<a class="headerlink" href="#tagliche-zusammenfassung-als-e-mail" title="Link zu dieser Überschrift">¶</a></h1>
<p>Damit diese optional von jedem Benutzer einstellbare Funktion verwendet werden kann,
muss der Dienst <code class="xref py py-obj docutils literal"><span class="pre">cs.activitystream.daily_mail_service.DailyMailService</span></code> laufen.
Dieser wiederum setzt voraus, dass ein Mailserver konfiguriert ist (üblicherweise in
<code class="xref py py-obj docutils literal"><span class="pre">$CADDOK_BASE/etc/site.conf</span></code>).</p>
<p>Der Dienst verschickt, wenn er aktiv ist, einmal täglich alle Benachrichtigungen. Im
Auslieferungszustand passiert das jeweils um 0 Uhr eines Tages. Sie können die Startzeit
ändern, indem Sie dem Dienst den Parameter &#8220;&#8211;start&#8221; mit einem Wert &#8220;20:15&#8221; (im Format
&#8220;%H:%M&#8221;) hinzufügen und anschließend neu starten. Bitte beachten Sie, dass Sie so eine
Umstellung ggf. am Wochenende durchführen sollten, da der Dienst immer die innerhalb der
letzten 24 Stunden geänderten Objekte als neu betrachtet. Es kann also bei einer Verschiebung
der Startzeit zu vereinzelten Doppelmeldungen oder fehlenden Aktivitäten in der Zusammenfassung
kommen.</p>
<p>Die Zusammenfassung enthält den vollständigen Text aller Beiträge und Kommentare des letzten
Tages. Falls Sie stattdessen nur Textauszüge anzeigen möchten, kann die Vorlage für die E-Mails
angepasst werden.</p>
<p>Die Vorlage finden Sie im Modulverzeichnis unter <code class="xref py py-obj docutils literal"><span class="pre">chrome/activity_digest.html</span></code>.
Wenn Sie diese anpassen möchten, empfiehlt es sich, die Vorlage in Ihr Kundenmodul zu kopieren
und die Klasse <code class="xref py py-obj docutils literal"><span class="pre">cs.activitystream.daily_mails.DailyMailer</span></code> so zu überschreiben, dass die
neue Vorage verwendet wird. Dazu müssen Sie in Ihrer Klasse den neuen Pfad zur Vorlage
angeben, z.B. so:</p>
<div class="highlight-python"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">cdb</span> <span class="kn">import</span> <span class="n">CADDOK</span>
<span class="kn">from</span> <span class="nn">cs.activitystream.daily_mails</span> <span class="kn">import</span> <span class="n">DailyMailer</span>

<span class="k">class</span> <span class="nc">CustomMailer</span><span class="p">(</span><span class="n">DailyMailer</span><span class="p">):</span>
    <span class="n">__notification_template_folder__</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">CADDOK</span><span class="o">.</span><span class="n">BASE</span><span class="p">,</span> <span class="s2">&quot;email_templates&quot;</span><span class="p">)</span>
    <span class="n">__notification_template__</span> <span class="o">=</span> <span class="s2">&quot;activity_digest.html&quot;</span>
</pre></div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="sharing_overview.html" class="btn btn-neutral float-right" title="Objekte teilen" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="admin_activitystream_intro.html" class="btn btn-neutral" title="Einleitung" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Contact Software.
      Zuletzt aktualisiert am 04.06.2018.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'15.3.1.4',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>