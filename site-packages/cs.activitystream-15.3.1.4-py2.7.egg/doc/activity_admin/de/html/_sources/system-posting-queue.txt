.. _`system-posting-queue`:

System Posting Queue
####################

|elements| generiert - abhängig von der Konfiguration - automatisch Systembeiträge
für die Aktivitäten. Diese Beiträge müssen einzelnen Themen zugeordnet
werden, z.B. wird der Beitrag, dass eine Aufgabe erledigt ist, dem Projekt, zu
dem die Aufgabe gehört, zugeordnet. Da die Zuordnung dieser Themen
ggf. aufwändig sein kann, erfolgt sie nicht direkt im Prozess des Anwenders,
der die Aktivität, die den Beitrag erzeugt, ausführt. Stattdessen wird ein
Beitragsauftrag angelegt, der von diesem Dienst verarbeitet wird.

Die nicht abgearbeiteten Aufträge sind unter
:menuselection:`Administration/Konfiguration --> Aktivitäten --> Systembeitragsaufträge` recherchierbar.


Administration des Dienstes
===========================

Die Konfiguration des Dienstes zur Abarbeitung der Job-Queue erfolgt über die
Dienstekonfiguration (siehe :ref:`servicedaemon-config`) für
den Dienst ``cs.activitystream.service.SystemPostingQueue``.
Grundsätzlich kann dieser Dienst auf jedem Rechner laufen, der sich mit der
Datenbank verbinden kann. Da der Dienst von einer allgemeinen
Message-Queue-Implementierung ableitet hat er nicht nur die unten angegebenen
Parameter.

.. program:: cs.activitystream.service.SystemPostingQueue

.. rubric:: Dienstparameter

.. option:: --timeout <time>

   Der Wert dieser Option legt fest, nach welcher Zeitspanne ohne
   Interaktion mit einem Client sich der Dienst
   beendet. Der Default ist ``0`` Sekunden, was
   darin resultiert, dass der Dienst nie beendet wird.

.. option:: --user <login>

   Das Login des |elements|-Anwenders unter dessen Account der Prozess
   agieren soll. Der für diesen Zweck vorbereitete Anwender
   hat das Login ``aspostingqueue``. Ihm sind auch automatisch
   über die allgemeine Rolle ``System Posting Queue Service``
   die notwendigen Lizenzen zugeordnet.
