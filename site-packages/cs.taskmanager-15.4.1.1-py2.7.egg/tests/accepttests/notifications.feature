# -*- mode: feature; coding: utf-8 -*-
#
# Copyright (C) 1990 - 2018 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

@slow
Feature: Notifications
    User is notified about new and already completed tasks.


Scenario: Completed Tasks Are Not Shown Anymore
    GIVEN a task with OLC exists
    WHEN user opens the Task Manager
        AND user completes the task
    THEN the task is not shown anymore


Scenario: Tasks Completed in Other Session Is Shown As Deleted
    GIVEN a task with OLC exists
        AND notification interval is 500 ms
    WHEN user opens the Task Manager
        AND another user completes the task
        AND user refreshes the Task Manager
    THEN the task is shown as deleted


Scenario: Notification About Tasks Completed in Other Session
    GIVEN a task with OLC exists
        AND notification interval is 500 ms
    WHEN user opens the Task Manager
        AND another user completes the task
    THEN the user is notified about 1 completed task(s)


Scenario Outline: Notification About New Task
    GIVEN notification interval is 500 ms
    WHEN user opens the Task Manager
        AND another user adds <amount> task(s)
    THEN the user is notified about <amount> new task(s)

    Examples:

        | amount |
        | 1      |
        | 3      |
