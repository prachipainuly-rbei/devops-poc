# -*- mode: feature; coding: utf-8 -*-
#
# Copyright (C) 1990 - 2018 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

@slow
Feature: Details


Background:
    GIVEN the test task exists
    # the test task fixture contains related objects with files


Scenario: Show Task Details
    WHEN user opens the Task Manager
        AND user selects the test task
    THEN the task's details are displayed


Scenario: Open FileList
    WHEN user opens the Task Manager
        AND user selects the test task
        AND user toggles the first subtask's file list
    THEN the first subtask's file list is displayed


Scenario: Toggle FileList
    WHEN user opens the Task Manager
        AND user selects the test task
        AND user toggles the first subtask's file list
        AND user toggles the first subtask's file list again
    THEN the file list is hidden


Scenario: Toggle FileList Context
    WHEN user opens the Task Manager
        AND user selects the test task
        AND user toggles the first subtask's file list
        AND user toggles the second subtask's file list
    THEN the second subtask's file list is displayed


Scenario Outline: Display First x References
    GIVEN a task class exists
        AND <existing> subtasks exist
    WHEN user opens the Task Manager
        AND user selects the parent task
    THEN the tasks table is displayed
        AND <displayed> subtasks are displayed

    Examples:
        | existing | displayed |
        | 5        | 3         |
        | 4        | 4         |
        | 3        | 3         |
