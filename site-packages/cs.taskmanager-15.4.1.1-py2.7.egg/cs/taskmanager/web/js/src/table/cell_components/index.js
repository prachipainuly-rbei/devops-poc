import React from 'react';
import * as constants from '../../constants';
import {PropTypes, ImmutablePropTypes} from 'cs-web-components-externals';
import * as helpers from '../../helpers';

export const EMPTY = (
    <div className={helpers.prefixNS('empty')}>
        {constants.NULL}
    </div>
);

export const CELL_PROPTYPE = {
    column: ImmutablePropTypes.map,
    row: ImmutablePropTypes.map,
    isGroup: PropTypes.bool
};

export function isDeleted(row) {
    if (row.get('className')) {
        return row.get('className').indexOf('deleted') > -1;
    }
    return undefined;
}

/**
 *
 * @param {*} accessor
 * @param {*} defaultValue
 * @param {*} a Valuearray
 * @param {*} b Valuearray
 *
 * Valuearray is an array of length 2. The first item is the value of the property value
 * and the second item is the complete row.
 */
export const customSort = function(accessor, defaultValue, a, b) {
    const valA = a[0] ? accessor(a[0]) : defaultValue;
    const valB = b[0] ? accessor(b[0]) : defaultValue;
    return valA === valB ? 0 : (valA > valB ? 1 : -1);
};
