import React from 'react';
import Immutable from 'immutable';
import {storiesOf, appContainer} from 'cs-web-components-storybook';
// DO NOT import components use relative path! Only use Registry or
// from component libs(defined externals)
import {Registry} from 'cs-web-components-base';
import * as constants from '../../../constants';

const ProceedCell = Registry.findComponent('cs-taskmanager-web-ProceedCell');

const ROW = Immutable.Map({});
const TARGET_0 = Immutable.Map({
    data: Immutable.Map({
        status: 0,
        label: 'Example Status',
        color: '#abcdef',
    })
});
const TARGET_10 = Immutable.Map({
    data: Immutable.Map({
        priority: -1,
        status: 10,
        label: 'Ten',
        color: '',
        icon_url: '/resources/icons/byname/csweb_cancel',
        attributes: Immutable.Map({
            comment: Immutable.Map({
                mandatory: true,
                label: 'Kommentar'
            }),
            optional: Immutable.Map({
                mandatory: false,
                label: 'Optional',
                value: 'Test'
            })
        })
    })
});
const TARGET_20 = Immutable.Map({
    data: Immutable.Map({
        status: 20,
        label: 'Twenty',
        color: '',
        icon_url: '/resources/icons/byname/csweb_check',
        attributes: Immutable.Map({
            optional: Immutable.Map({
                mandatory: false,
                label: 'Optional'
            })
        })
    })
});
const TARGET_30 = Immutable.Map({
    data: Immutable.Map({
        priority: 5,
        status: 30,
        label: 'Thirty',
        color: '#ff00ff'
    })
});

storiesOf('ProceedCell', {})
    .addDecorator(appContainer)
    .add('Example Proceed Cell', () => (
        <ProceedCell row={ROW} value={Immutable.Map({
            current: TARGET_0,
            [constants.TARGETS]: Immutable.List([
                TARGET_30,
                TARGET_20,
                TARGET_10
            ])
        })} />
    ))
;
