import React from 'react';
import Immutable from 'immutable';
import {storiesOf, appContainer} from 'cs-web-components-storybook';
// DO NOT import components use relative path! Only use Registry or
// from component libs(defined externals)
import {Registry} from 'cs-web-components-base';
import * as helpers from '../../../helpers';

const TypeAheadBrowser = Registry.findComponent('cs-taskmanager-web-TypeAheadBrowser');

const DEFAULT_PROPS = {
    instanceName: helpers.prefixNS('user-browser'),
    className: helpers.prefixNS('user-browser'),
    placeholder: 'Type to filter',
    queryClassnames: ['angestellter'],
    // additionalFilter: o => (o.active_account === '1' && o.visibility_flag === 1),
    onSelect: () => null
};

const USER = Immutable.Map({
    name: "Doe, John",
    orgname: "ACME Inc.",
    abt_nummer: "Management",
    beruf: "CEO",
});

const USERS = Immutable.List([USER, USER, USER]);

storiesOf('UserTypeAheadBrowser', {})
    .addDecorator(appContainer)
    .add('Initial State', () => (
        <TypeAheadBrowser {...DEFAULT_PROPS} />
    ))
    .add('With Filter Text', () => (
        <TypeAheadBrowser {...DEFAULT_PROPS} query='John Doe' />
    ))
    .add('With Matches', () => (
        <TypeAheadBrowser {...DEFAULT_PROPS} matches={USERS} />
    ))
    .add('With More Matches', () => (
        <TypeAheadBrowser {...DEFAULT_PROPS} matches={USERS} hasMoreMatches={true} />
    ))
;
