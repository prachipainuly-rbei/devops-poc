.. _`15_4_1_changes`:

What's New in cs.taskmanager 15.4.1?
###################################################################################################

.. warning ::

    Make sure to read the following changes and adapt your configuration accordingly. The included
    update script should prompt you for any required manual steps by issuing warnings.

    Please fix all warnings to ensure |cs.taskmanager| is working as intended.

Filter by Task Deadline
===================================================================================================

Users can now filter their tasks by deadline. This imposes a new restriction on the configuration
regarding the deadline mapping:

- The attribute ``cs_tasks_col_deadline`` is now configured directly in each task class. It may
  only be a native date attribute of the Elements class. Other attributes, references or methods
  are not allowed anymore.
- The included update script will try to automatically update your configuration by reusing your
  current mappings for ``cs_tasks_col_deadline`` and migrating task read statuses.

.. note ::

    Because of these changes, it is recommended (but not required) to also update your tasks
    plugins along with |cs.taskmanager|.

Mandatory Attributes for Status Changes
===================================================================================================

The base class for tasks, ``cs.taskmanager.mixin.WithTasksIntegration`` now contains the method
``getProceedAttributes`` for determining attributes to be set during a task's status change
initiated from the table.

Make sure to refactor any custom plugins to use this method instead of just injecting the
"mandatory" key in status dicts returned from ``getCsTasksStatusData``.

Advanced Filters
===================================================================================================

|cs.taskmanager| now contains a set of advanced filters empowering users to choose what tasks are
shown at any one time.

Removed Component "ObjectCell"
===================================================================================================

The table cell component "cs-taskmanager-web-ObjectCell" has been removed. To render an object in a
table cell, it is now sufficient to return a cdb.objects.Object from your task attribute mapping.
