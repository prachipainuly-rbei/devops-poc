/* -*- mode: javascript; coding: utf-8 -*-
 * $Id: ActionDetails.jsx 150487 2016-12-08 09:26:36Z cso $
 *
 * Copyright (c) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 */

import React from 'react';
import {formatStr} from './i18n';
import {prefixNS} from './helpers';
import {Registry} from 'cs-web-components-base';
import {ImmutablePropTypes} from 'cs-web-components-externals';

const LongText = Registry.findComponent('cs-taskmanager-web-LongText');
const AttributeList = Registry.findComponent('cs-taskmanager-web-AttributeList');

/**
 * A Component to display a cs.actions.Action object's details.
 *
 * React Properties
 * ................
 *
 * +---------------+---------------+------------------+-------------------------------------------+
 * | Property      | Type          | Default          | Use                                       |
 * +===============+===============+==================+===========================================+
 * | task          | Immutable.Map | \-               | The object as returned by the REST API.   |
 * +---------------+---------------+------------------+-------------------------------------------+
 *
 */

const ActionDetails = ({task}) => (
    <div className={prefixNS('details')}>
        <AttributeList attributes={[
            {
                label: `${formatStr('cost')} [${task.get('mapped_currency')}]`,
                value: task.get('cost')
            },
            {
                label: formatStr('effort'),
                value: task.get('effort')
            }
        ]} />
        <br />
        <LongText text={task.get('cdb_action_txt')} />
    </div>
);

ActionDetails.propTypes = {
    task: ImmutablePropTypes.map.isRequired
};

export default ActionDetails;
