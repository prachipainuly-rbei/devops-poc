.. _`HELPID_qc-management-definition`:
.. _`qc-management-definition`:

Kennzahldefinition
##################

Entsprechend der Architektur können im System zwei Arten von Kennzahlen definiert werden. Bei den Objektkennzahlen wird dabei zusätzlich zwischen berechneten und nicht berechneten Kennzahlen unterschieden. Die Festlegung findet dabei bereits bei der Definition statt. Um die Unterschiede bei der Definition verständlich zu machen, wird bei den nachfolgenden Erläuterungen jeweils eine Beispielkennzahl aus dem entsprechenden Gebiet referenziert, d.h.

- **Berechnete Objektkennzahl: Kosteneffizienz (EVA-Kennzahl)**
- **Nicht berechnete Objektkennzahl: Produktgewicht**
- **Klassenkennzahl mit SQL-Statistik: Anzahl Dokumente**

Der Einstiegspunkt für das Kennzahlenmanagement befindet sich in der Navigation unter :menuselection:`Administration/Konfiguration --> Konfiguration --> Kennzahldefinition`. Unterhalb des Menüpunktes :guilabel:`Kennzahldefinition` können Sie jeweils auf die beiden Kennzahldefinitionstypen, Objekt- oder Klassenkennzahl, zugreifen. Anhand einer Suche werden die vordefinierten Kennzahlen, entsprechend der Kennzahldefinitionstypen, aufgelistet.

Initial befinden sich dabei sämtliche Kennzahldefinitionen im Status *Neu*. Die Bedeutung und die nachfolgenden Konsequenzen einer Statusänderung werden in den Abschnitten :ref:`Aktivierung von Kennzahlen <qc-management-activate>` und :ref:`Deaktivierung von Kennzahlen <qc-management-deactivate>` beschrieben. Nachfolgend soll das grundsätzliche Vorgehen bei der Definition von Objekt- bzw. Klassenkennzahlen erläutert werden.

Die Neuanlage einer Kennzahldefinition erfolgt über das Kontextmenü des Navigationspunktes :guilabel:`Kennzahldefinition` oder direkt bei den Unterpunkten :guilabel:`Objektkennzahlen` und :guilabel:`Klassenkennzahlen`. Ebenso kann die Neuanlage über das Kontextmenü einer Ergebnisliste von Objekt- oder Klassenkennzahlen erfolgen. In jedem Fall wird ein Dialog aufgerufen.

Die Angaben, die für eine Kennzahldefinition benötigt werden, sind bei Objekt- und Klassenkennzahlen nahezu identisch. Die äquivalenten Angaben umfassen den Namen, in deutscher und englischer Sprache, einen Code, die Auswahl des Typs sowie die Angabe einer Einheit und/oder eines Default Zielbereichs der Kennzahldefinition.

	.. note::
		Der Zielbereich muss nicht zwingend während der Kennzahldefinition angegeben werden, er kann jederzeit nachträglich erfasst oder geändert werden. 
		
In beiden Dialogen können darüber hinaus Einstellungen für die Cockpits (siehe :ref:`qc-menuezugang`) vorgenommen werden.

Pflichtfelder sind dabei der deutsche :guilabel:`Name`, der :guilabel:`Typ` und die :guilabel:`Personen- bzw. Rollenzuweisung` im Bereich KPI Cockpit. Der :guilabel:`Name` dient der Spezifikation der Kennzahldefinition bzw. der entsprechenden Kennzahlen. Das Eingabefeld :guilabel:`Typ` bezieht sich auf das Feld :guilabel:`Einheit` und grenzt einen Bereich für die konkrete Einheit ab. Beispielsweise könnten Sie als Einheitentyp *Währung* festlegen. Konkrete Einheiten dazu könnten *Euro*, *Pfund* oder *Dollar* sein. Die Auswahl erfolgt dabei jeweils über einen Katalog, der auch direkt erweitert werden kann.

Ebenso wird die Person bzw. die Rolle anhand einer Katalogauswahl festgelegt. Anhand der Person bzw. der Rolle wird die Berechtigung für die Anzeige und Bearbeitung der Kennzahl(en) festgelegt. Eine direkte Neuanlage von Personen oder Rollen ist an dieser Stelle allerdings nicht möglich.

Neben den Pflichtfeldern existieren die Felder :guilabel:`Name(en)`, :guilabel:`Code`, :guilabel:`Einheit`, :guilabel:`Default Zielbereich` und im Bereich KPI Cockpit die Felder :guilabel:`Sichtbar`, :guilabel:`Position` und :guilabel:`Zeitfenster ab`. Die Angabe von Werten in diesen Feldern ist optional.

:guilabel:`Name(en)` fordert schlicht die Bezeichnung der Kennzahldefinition auf Englisch. Als :guilabel:`Code` kann ein eindeutiges Kürzel für die Kennzahldefinition angegeben werden. Auf diesen Code kann bei der Definition von :ref:`Berechnungsregeln <qc-management-comp-rules>` zugegriffen werden, um die Berechnung, basierend auf weiteren Kennzahlen im System, zu realisieren. Auf die :guilabel:`Einheit` wurde bereits in einem vorangegangenen Abschnitt eingegangen.

Für den :guilabel:`Default Zielbereich` kann der angestrebte Wert bzw. Wertebereich für die Kennzahl festgelegt werden. Als gültige Ausdrücke für den Zielbereich gelten Kombinationen der Zeichen

- >
- <
- (
- )
- >=
- <=

der logischen Operatoren

- and
- or
- not

sowie ganzer und reeller Zahlen. Weiterhin kann eine Liste von Zahlen, durch Semikolon getrennt, angegeben werden.

Im Bereich KPI Cockpit werden zum einen die Sichtbarkeit und Position der Kennzahlen zum anderen der Beginn des im Cockpit anzuzeigenden Zeitfensters festgelegt. Sollen die Kennzahlen im Cockpit aufgelistet werden muss die Kontrollbox :guilabel:`Sichtbar` aktiviert werden. Für die Position kann ein ganzzahliger nummerischer Wert angegeben werden. Die Position dient der Sortierung von Kennzahleinträgen in den Tabellen der Prozess und Objekt KPI Cockpits.

Im Dialog der Objektkennzahldefinition existieren zusätzlich die Pflichtfelder bzw. Kontrollboxen :guilabel:`Berechnet` und :guilabel:`Asynchrone Aggregation`. Hier kann über eine Checkbox festgelegt werden, auf welche Weise die jeweiligen Kennzahlen berechnet werden sollen. Sämtlichen Eingaben werden durch das Schließen des Dialoges über die Schaltfläche :guilabel:`Neu` bestätigt.

An dieser Stelle soll auf das Vorgehen bei der Definition der genannten Beispielkennzahlen eingegangen werden.

.. rubric:: Berechnete Objektkennzahl: Kosteneffizienz 

Bei der Kennzahl Kosteneffizienz handelt es sich um eine Objektkennzahl. Zusätzlich soll diese automatisch berechnet werden. Im Neuanlagedialog für die Objektkennzahldefinition dieser Kennzahl sollen folgende Angaben erstellt werden:

	===================================		======================
	Dialogfeld								Wert
	===================================		======================
	:guilabel:`Name (de)`					Kosteneffizienz
	:guilabel:`Name (en)`					Cost Performance Index
	:guilabel:`Code`						CPI
	:guilabel:`Typ`							Indikator
	:guilabel:`Einheit`
	:guilabel:`Default Zielbereich`
	:guilabel:`Berechnet`					ja
	:guilabel:`Asynchrone Aggregation`		nein
	:guilabel:`Sichtbar`					ja
	:guilabel:`Person/Rolle` 				Projektleiter
	:guilabel:`Position`					0
	===================================		======================

Für die Angabe eines Codes gilt es zu bedenken, dass dieser für systemweite Kennzahldefinitionen eindeutig sein muss. Der :guilabel:`Typ` lässt sich über einen Katalog auswählen. Für die Auswahl Indikator wird keine zusätzliche Einheit benötigt. Darüber hinaus werden in diesem Beispiel kein :guilabel:`Default Zielbereich` und keine besondere :guilabel:`Position` angegeben. Ebenso findet für diese Kennzahl keine Aggregation statt, sondern eine Berechnung über weitere Kennzahlen im System. Daher wird die Kontrollbox für :guilabel:`Berechnet` ausgewählt.

.. rubric:: Nicht berechnete Objektkennzahl: Produktgewicht

Produktgewicht ist ebenfalls eine Objektkennzahl, allerdings soll diese nicht automatisch berechnet werden, sondern sich über eine Produktstruktur aggregieren. Die nötigen Angaben für die Kennzahldefinition wären:

	===================================		======================
	Dialogfeld								Wert
	===================================		======================
	:guilabel:`Name (de)`					Produktgewicht
	:guilabel:`Name (en)`					Product Weight
	:guilabel:`Code`
	:guilabel:`Typ`							Gewicht
	:guilabel:`Einheit`						Kilogramm
	:guilabel:`Default Zielbereich`
	:guilabel:`Berechnet`					nein
	:guilabel:`Asynchrone Aggregation`		nein
	:guilabel:`Sichtbar`					ja
	:guilabel:`Person/Rolle` 				public
	:guilabel:`Position`					0
	===================================		======================

Hierbei wird kein :guilabel:`Code` für die Kennzahldefinition festgelegt. Ebenso wird kein Zielbereich vorgegeben und es wird keine der verfügbaren Berechnungsregeln ausgewählt. In diesem Beispiel ergibt sich der Wert beim jeweiligen Objekt aus den Werten der untergeordneten Objekte, sprich das Gewicht eines Produktes ergibt sich aus den Gewichten möglicher Unterprodukte. Der Zugriff für die Kennzahlen dieser Definition ist hierbei durch die Angabe der Rolle ``public`` für alle Anwender möglich.

.. rubric:: Klassenkennzahl mit SQL-Statistik: Anzahl Dokumente

Anzahl Dokumente wird über eine Klassenkennzahl beschrieben. Die Berechnung erfolgt über eine sogenannte SQL-Statistik, die im Abschnitt :ref:`Berechnungsregeln <qc-management-comp-rules>` erklärt wird. Das heißt, es ergeben sich folgende nötige Angaben für die Kennzahldefinition:

	===================================		======================
	Dialogfeld								Wert
	===================================		======================
	:guilabel:`Name (de)`					Anzahl Dokumente
	:guilabel:`Name (en)`					Amount of documents
	:guilabel:`Code`
	:guilabel:`Typ`							Indikator
	:guilabel:`Einheit`
	:guilabel:`Default Zielbereich`
	:guilabel:`Sichtbar`					ja
	:guilabel:`Person/Rolle` 				public
	:guilabel:`Position`					20
	===================================		======================

Der :guilabel:`Typ` ist erneut ein Indikator, was bedeutet, dass keine spezielle Einheit benötigt wird. Wiederum wird auch für diese Kennzahldefinition zunächst kein Zielbereich vorgegeben, allerdings wird in diesem Fall ein Beispielwert für die :guilabel:`Position` eingetragen.
