# -*- mode: feature; coding: utf-8 -*-
#
# Copyright (C) 1990 - 2018 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

@slow
Feature: Webforms


Background:
    GIVEN a process was created
        AND the process has a execution task


Scenario: No Forms
    WHEN the user has opened the task's forms app
    THEN the missing object component is rendered


Scenario Outline: Single Form
    GIVEN the user adds an <mode> form to the task
    WHEN the user has opened the task's forms app
    THEN 0 <mode> form tabs are rendered
        AND 0 <other_mode> form tabs are rendered
        AND the rendered form is <editable>

    Examples:
        | mode | other_mode | editable     |
        | info | edit       | not editable |
        | edit | info       | editable     |


Scenario: Two Forms
    GIVEN the user adds an edit form to the task
        AND the user adds an info form to the task
    WHEN the user has opened the task's forms app
    THEN 1 edit form tabs are rendered
        AND 1 info form tabs are rendered


Scenario: Cancel Form Input
    GIVEN the user adds an edit form to the task
    WHEN the user has opened the task's forms app
        AND the user fills out a value
        AND the user cancels the form input
    THEN the form is not saved


Scenario: Submit Form Input
    GIVEN the user adds an edit form to the task
    WHEN the user has opened the task's forms app
        AND the user fills out a value
        AND the user submits the form input
    THEN the form is saved
