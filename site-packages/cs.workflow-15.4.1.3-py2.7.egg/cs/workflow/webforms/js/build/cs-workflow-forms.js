(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory(require("cs-web-components-base"), require("React"), require("cs-web-components-externals"), require("Immutable"), require("ReactBootstrap"));
	else if(typeof define === 'function' && define.amd)
		define(["cs-web-components-base", "React", "cs-web-components-externals", "Immutable", "ReactBootstrap"], factory);
	else if(typeof exports === 'object')
		exports["cs-workflow-forms"] = factory(require("cs-web-components-base"), require("React"), require("cs-web-components-externals"), require("Immutable"), require("ReactBootstrap"));
	else
		root["cs-workflow-forms"] = factory(root["cs-web-components-base"], root["React"], root["cs-web-components-externals"], root["Immutable"], root["ReactBootstrap"]);
})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_4__, __WEBPACK_EXTERNAL_MODULE_13__) {
return /******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 8);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_0__;

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.prefixNS = prefixNS;
/* -*- mode: javascript; coding: utf-8 -*-
 * $Id: helpers.js 161738 2017-07-14 14:15:02Z cso $
 *
 * Copyright (c) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 */

function prefixNS(name) {
  return "cs-workflow-forms" + "-" + name;
}

/***/ }),
/* 2 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_2__;

/***/ }),
/* 3 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_3__;

/***/ }),
/* 4 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_4__;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.DATA_FETCH_FAILURE = exports.DATA_FETCH_SUCCESS = undefined;
exports.loadFormsActionCreator = loadFormsActionCreator;
exports.submitFormsActionCreator = submitFormsActionCreator;

var _helpers = __webpack_require__(1);

var _csWebComponentsBase = __webpack_require__(0);

/* -*- mode: javascript; coding: utf-8 -*-
 * $Id: actions.js 165782 2017-09-26 07:16:31Z cso $
 *
 * Copyright (c) 2017 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 */

var DATA_FETCH_SUCCESS = exports.DATA_FETCH_SUCCESS = (0, _helpers.prefixNS)('DATA_FETCH_SUCCESS');
var DATA_FETCH_FAILURE = exports.DATA_FETCH_FAILURE = (0, _helpers.prefixNS)('DATA_FETCH_FAILURE');

function onDataReceived(payload) {
    return {
        type: DATA_FETCH_SUCCESS,
        payload: payload
    };
}

function onDataFailed(key) {
    return {
        type: DATA_FETCH_FAILURE,
        payload: {
            key: key
        }
    };
}

function loadFormsActionCreator(key, task_object_id, forms) {
    var payload = {
        key: key,
        forms: forms ? forms.toJS() : undefined
    };
    return function (dispatch) {
        (0, _csWebComponentsBase.getJSON)('/internal/cs-workflow-forms/' + task_object_id, payload).then(function (info) {
            dispatch(onDataReceived(Object.assign({}, info, { key: key })));
        }, function (err) {
            _csWebComponentsBase.Console.error("failed to load forms", err);
            dispatch(onDataFailed(key));
        });
    };
}

function submitFormsActionCreator(key, task_object_id, forms) {
    var payload = { key: key, forms: forms };
    return function (dispatch) {
        (0, _csWebComponentsBase.postJSON)('/internal/cs-workflow-forms/' + task_object_id, payload).then(function (info) {
            dispatch(onDataReceived(Object.assign({}, info, { key: key })));
        }, function (err) {
            _csWebComponentsBase.Console.error("submitForms failed", err);
            dispatch(onDataFailed());
        });
    };
}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _immutable = __webpack_require__(4);

var _immutable2 = _interopRequireDefault(_immutable);

var _csWebComponentsBase = __webpack_require__(0);

var _csWebComponentsExternals = __webpack_require__(3);

var _actions = __webpack_require__(5);

var _helpers = __webpack_require__(1);

var _FormTabs = __webpack_require__(12);

var _FormTabs2 = _interopRequireDefault(_FormTabs);

var _SingleForm = __webpack_require__(14);

var _SingleForm2 = _interopRequireDefault(_SingleForm);

var _ObjectMissing = __webpack_require__(7);

var _ObjectMissing2 = _interopRequireDefault(_ObjectMissing);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

/*
 * Renders forms of a given task (cdb_object_id)
 * Fetches two sets of mask names (edit, info)
 * Hides tab bar if only one mask found
 * Form App renders task.EditForms as tabs, then task.InfoForms as tabs
 */

var FORM_TYPE = '/api/v1/class/cdbwf_form';
var HANDLER = 'editor';

var SingleFormWrapper = (0, _csWebComponentsBase.WithOperations)((0, _csWebComponentsBase.WithOperationHandler)(_SingleForm2.default, HANDLER), {
    contextType: 'cdbwf_form',
    operationNames: ['cdbwf_submit_form']
});

var SingleFormWithOperations = function (_React$Component) {
    _inherits(SingleFormWithOperations, _React$Component);

    function SingleFormWithOperations() {
        _classCallCheck(this, SingleFormWithOperations);

        return _possibleConstructorReturn(this, (SingleFormWithOperations.__proto__ || Object.getPrototypeOf(SingleFormWithOperations)).apply(this, arguments));
    }

    _createClass(SingleFormWithOperations, [{
        key: 'render',
        value: function render() {
            var _props = this.props,
                contextObjects = _props.contextObjects,
                edit = _props.edit;
            // correct dialog URL is injected in SingleForm

            return _react2.default.createElement(SingleFormWrapper, { contextObjects: contextObjects,
                edit: edit,
                key: 'wrapped-' + contextObjects.get(0).get('cdb_object_id'),
                name: contextObjects.get(0).get('name') });
        }
    }]);

    return SingleFormWithOperations;
}(_react2.default.Component);

SingleFormWithOperations.propTypes = {
    contextObjects: _csWebComponentsExternals.ImmutablePropTypes.listOf(_csWebComponentsExternals.ImmutablePropTypes.map).isRequired,
    edit: _csWebComponentsExternals.PropTypes.bool.isRequired
};

var NForms = function NForms(_ref) {
    var edit_forms = _ref.edit_forms,
        info_forms = _ref.info_forms;
    return _react2.default.createElement(
        _FormTabs2.default,
        null,
        edit_forms.map(function (form) {
            return _react2.default.createElement(SingleFormWithOperations, {
                contextObjects: _immutable2.default.List([form]),
                key: 'formop-' + form.get('cdb_object_id'),
                name: form.get('name'),
                edit: true });
        }).concat(info_forms.map(function (form) {
            return _react2.default.createElement(SingleFormWithOperations, {
                contextObjects: _immutable2.default.List([form]),
                key: 'formop-' + form.get('cdb_object_id'),
                name: form.get('name'),
                edit: false });
        }))
    );
};

NForms.propTypes = {
    edit_forms: _csWebComponentsExternals.ImmutablePropTypes.list.isRequired,
    info_forms: _csWebComponentsExternals.ImmutablePropTypes.list.isRequired
};

var TaskForms = function (_Component) {
    _inherits(TaskForms, _Component);

    function TaskForms() {
        var _ref2;

        _classCallCheck(this, TaskForms);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        var _this2 = _possibleConstructorReturn(this, (_ref2 = TaskForms.__proto__ || Object.getPrototypeOf(TaskForms)).call.apply(_ref2, [this].concat(args)));

        _this2.state = { forms: null };
        _this2.loadForms = _this2.loadForms.bind(_this2);
        _this2.submitForms = _this2.submitForms.bind(_this2);
        return _this2;
    }

    _createClass(TaskForms, [{
        key: 'loadForms',
        value: function loadForms(props) {
            var load_forms = props.load_forms,
                ID = props.ID,
                task_object_id = props.task_object_id,
                forms = props.forms;

            load_forms(ID, task_object_id, forms);
        }
    }, {
        key: 'submitForms',
        value: function submitForms() {
            var _props2 = this.props,
                submit_forms = _props2.submit_forms,
                task_object_id = _props2.task_object_id;

            submit_forms(task_object_id);
        }
    }, {
        key: 'componentDidMount',
        value: function componentDidMount() {
            this.loadForms(this.props);
        }
    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            if (this.props.loadedForms !== nextProps.loadedForms) {
                this.setState({ forms: nextProps.loadedForms });
                // to fill up typesById for OpInfoWrapper
                nextProps.fetchType(FORM_TYPE);
            }
            if (this.props.task_object_id !== nextProps.task_object_id) {
                this.setState({ forms: null });
                this.loadForms(nextProps);
            }
        }
    }, {
        key: 'render',
        value: function render() {
            var forms = this.state.forms;


            if (forms) {
                var edit_forms = _immutable2.default.Set(forms.get('edit').map(function (f) {
                    return f.get('cdb_object_id');
                }));
                var info_forms = _immutable2.default.Set(forms.get('info').map(function (f) {
                    return f.get('cdb_object_id');
                })).subtract(edit_forms);

                switch (edit_forms.size + info_forms.size) {
                    case 0:
                        {
                            return _react2.default.createElement(_ObjectMissing2.default, null);
                        }
                    case 1:
                        {
                            // exactly one form: no need for tabs
                            return _react2.default.createElement(
                                _csWebComponentsBase.Form.OperationTrigger,
                                { handlerName: HANDLER },
                                _react2.default.createElement(SingleFormWithOperations, {
                                    contextObjects: _immutable2.default.List([forms.getIn([edit_forms.size ? 'edit' : 'info', 0])]),
                                    edit: Boolean(edit_forms.size) })
                            );
                        }
                    default:
                        {
                            // more than one form: use tabs
                            return _react2.default.createElement(
                                _csWebComponentsBase.Form.OperationTrigger,
                                { handlerName: HANDLER },
                                _react2.default.createElement(NForms, {
                                    edit_forms: forms.get('edit').filter(function (f) {
                                        return edit_forms.includes(f.get('cdb_object_id'));
                                    }),
                                    info_forms: forms.get('info').filter(function (f) {
                                        return info_forms.includes(f.get('cdb_object_id'));
                                    }) })
                            );
                        }
                }
            } else {
                return _react2.default.createElement(_csWebComponentsBase.Throbber, null);
            }
        }
    }]);

    return TaskForms;
}(_react.Component);

TaskForms.propTypes = {
    ID: _csWebComponentsExternals.PropTypes.string.isRequired,
    task_object_id: _csWebComponentsExternals.PropTypes.string.isRequired,
    forms: _csWebComponentsExternals.ImmutablePropTypes.list,
    loadedForms: _csWebComponentsExternals.ImmutablePropTypes.map,
    load_forms: _csWebComponentsExternals.PropTypes.func.isRequired,
    submit_forms: _csWebComponentsExternals.PropTypes.func.isRequired,
    fetchType: _csWebComponentsExternals.PropTypes.func.isRequired
};

function mapStateToProps(state, props) {
    var localState = state[(0, _helpers.prefixNS)('reducer')];
    return {
        loadedForms: localState.getIn(['forms', props.ID])
    };
}

function mapDispatchToProps(dispatch, props) {
    var ID = props.ID,
        task_object_id = props.task_object_id,
        forms = props.forms;

    return {
        load_forms: function load_forms(ID, task_object_id, forms) {
            dispatch((0, _actions.loadFormsActionCreator)(ID, task_object_id, forms));
        },
        submit_forms: function submit_forms() {
            dispatch((0, _actions.submitFormsActionCreator)(ID, task_object_id, forms));
        },
        fetchType: function fetchType(type) {
            dispatch((0, _csWebComponentsBase.fetchType)(type));
        }
    };
}

exports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps, mapDispatchToProps)(TaskForms);

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _csWebComponentsBase = __webpack_require__(0);

var _helpers = __webpack_require__(1);

var _i18n = __webpack_require__(15);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var ObjectMissing = function ObjectMissing() {
    return _react2.default.createElement(
        'div',
        { className: (0, _helpers.prefixNS)('object_missing') },
        _react2.default.createElement(_csWebComponentsBase.Icon, { name: 'object_missing',
            title: (0, _i18n.formatStr)('object_missing') }),
        _react2.default.createElement(
            'div',
            { className: (0, _helpers.prefixNS)('object_missing__label') },
            (0, _i18n.formatStr)('object_missing')
        )
    );
};

ObjectMissing.propTypes = {};

exports.default = ObjectMissing;

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});

var _csWebComponentsBase = __webpack_require__(0);

var _helpers = __webpack_require__(1);

var _reducers = __webpack_require__(9);

var _reducers2 = _interopRequireDefault(_reducers);

var _App = __webpack_require__(10);

var _App2 = _interopRequireDefault(_App);

var _TaskForms = __webpack_require__(6);

var _TaskForms2 = _interopRequireDefault(_TaskForms);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('App'), _App2.default); /* -*- mode: javascript; coding: utf-8 -*-
                                                                                                * $Id: index.js 161738 2017-07-14 14:15:02Z cso $
                                                                                                *
                                                                                                * Copyright (c) 2017 CONTACT Software GmbH
                                                                                                * All rights reserved.
                                                                                                * http://www.contact-software.com
                                                                                                */

_csWebComponentsBase.Registry.registerComponent((0, _helpers.prefixNS)('TaskForms'), _TaskForms2.default);
_csWebComponentsBase.Registry.registerReducer((0, _helpers.prefixNS)('reducer'), _reducers2.default);

exports.default = {
  App: _App2.default, // standalone app
  TaskForms: _TaskForms2.default // embedded component
};

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

exports.default = function () {
    var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _immutable2.default.Map();
    var action = arguments[1];

    _csWebComponentsBase.Console.log('reducer got ', action.type);
    switch (action.type) {
        case _actions.DATA_FETCH_SUCCESS:
            {
                return state.setIn(["forms", action.payload.key], _immutable2.default.fromJS(action.payload));
            }
        case _actions.DATA_FETCH_FAILURE:
            {
                _csWebComponentsBase.Console.error('Data fetch failed');
                return state.setIn(["forms", action.payload.key], _immutable2.default.fromJS({ 'edit': [], 'info': [] }));
            }
        default:
            {
                return state;
            }
    }
};

var _immutable = __webpack_require__(4);

var _immutable2 = _interopRequireDefault(_immutable);

var _actions = __webpack_require__(5);

var _csWebComponentsBase = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _csWebComponentsBase = __webpack_require__(0);

var _csWebComponentsExternals = __webpack_require__(3);

var _TaskFormsWrapper = __webpack_require__(11);

var _TaskFormsWrapper2 = _interopRequireDefault(_TaskFormsWrapper);

var _ObjectMissing = __webpack_require__(7);

var _ObjectMissing2 = _interopRequireDefault(_ObjectMissing);

var _helpers = __webpack_require__(1);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var basePath = (0, _csWebComponentsBase.getAppSetup)().getIn(['appSettings', 'basePath']);
var taskPath = basePath + '/:task_object_id';
var formPath = taskPath + '/:form';

var ROUTES = _react2.default.createElement(
    _csWebComponentsExternals.ReactRouter.Switch,
    null,
    _react2.default.createElement(_csWebComponentsExternals.ReactRouter.Route, { path: formPath, component: _TaskFormsWrapper2.default }),
    _react2.default.createElement(_csWebComponentsExternals.ReactRouter.Route, { path: taskPath, component: _TaskFormsWrapper2.default }),
    _react2.default.createElement(_csWebComponentsExternals.ReactRouter.Route, { component: _ObjectMissing2.default })
);

var App = function App() {
    return _react2.default.createElement(
        'div',
        { className: (0, _helpers.prefixNS)('main') },
        _react2.default.createElement(
            _csWebComponentsExternals.ReactRouter.Router,
            { history: _csWebComponentsExternals.browserHistory },
            ROUTES
        )
    );
};

exports.default = App;

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _immutable = __webpack_require__(4);

var _immutable2 = _interopRequireDefault(_immutable);

var _csWebComponentsExternals = __webpack_require__(3);

var _TaskForms = __webpack_require__(6);

var _TaskForms2 = _interopRequireDefault(_TaskForms);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var TaskFormsWrapper = function TaskFormsWrapper(_ref) {
    var task_object_id = _ref.task_object_id,
        form = _ref.form;
    return _react2.default.createElement(_TaskForms2.default, { task_object_id: task_object_id,
        ID: task_object_id,
        forms: _immutable2.default.List([form]) });
};

TaskFormsWrapper.propTypes = {
    task_object_id: _csWebComponentsExternals.PropTypes.string.isRequired,
    form: _csWebComponentsExternals.PropTypes.string
};

function mapStateToProps(state, ownProps) {
    return {
        task_object_id: ownProps.match.params.task_object_id,
        form: ownProps.match.params.form
    };
}

exports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps)(TaskFormsWrapper);

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _csWebComponentsBase = __webpack_require__(0);

var _csWebComponentsExternals = __webpack_require__(3);

var _reactBootstrap = __webpack_require__(13);

var _helpers = __webpack_require__(1);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var Icon = _csWebComponentsBase.Registry.findComponent('cs-web-components-base-Icon');
var EDIT_FORM_ICON = 'cdbwf_form_edit';
var INFO_FORM_ICON = 'cdbwf_form_info';

var FormTabs = function FormTabs(_ref) {
    var children = _ref.children;
    return _react2.default.createElement(
        _reactBootstrap.Tab.Container,
        { defaultActiveKey: 0, id: (0, _helpers.prefixNS)('tabs') },
        _react2.default.createElement(
            'div',
            { className: (0, _helpers.prefixNS)('form-tabs') },
            _react2.default.createElement(
                _reactBootstrap.Nav,
                { bsStyle: 'tabs' },
                children.map(function (child, idx) {
                    var form = child.props.contextObjects.get(0);
                    var form_id = form.get('cdb_object_id');
                    return _react2.default.createElement(
                        _reactBootstrap.NavItem,
                        { key: 'nav-' + form_id, eventKey: idx,
                            className: (0, _helpers.prefixNS)('tabs__' + (child.props.edit ? 'edit' : 'info')) },
                        _react2.default.createElement(Icon, { className: (0, _helpers.prefixNS)('tabs__iotype'),
                            name: child.props.edit ? EDIT_FORM_ICON : INFO_FORM_ICON }),
                        form.get('name')
                    );
                })
            ),
            _react2.default.createElement(
                _reactBootstrap.Tab.Content,
                { animation: true,
                    className: (0, _helpers.prefixNS)('form-tabs-content') },
                children.map(function (child, idx) {
                    var form = child.props.contextObjects.get(0);
                    var form_id = form.get('cdb_object_id');
                    return _react2.default.createElement(
                        _reactBootstrap.Tab.Pane,
                        { key: form_id,
                            eventKey: idx,
                            className: (0, _helpers.prefixNS)('form-tabs-content__pane') },
                        child
                    );
                })
            )
        )
    );
};

FormTabs.propTypes = {
    children: _csWebComponentsExternals.ImmutablePropTypes.listOf(_csWebComponentsExternals.PropTypes.element).isRequired
};

exports.default = FormTabs;

/***/ }),
/* 13 */
/***/ (function(module, exports) {

module.exports = __WEBPACK_EXTERNAL_MODULE_13__;

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _react = __webpack_require__(2);

var _react2 = _interopRequireDefault(_react);

var _immutable = __webpack_require__(4);

var _immutable2 = _interopRequireDefault(_immutable);

var _csWebComponentsBase = __webpack_require__(0);

var _csWebComponentsExternals = __webpack_require__(3);

var _helpers = __webpack_require__(1);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

var SingleForm = function (_React$Component) {
    _inherits(SingleForm, _React$Component);

    function SingleForm() {
        var _ref;

        _classCallCheck(this, SingleForm);

        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {
            args[_key] = arguments[_key];
        }

        var _this = _possibleConstructorReturn(this, (_ref = SingleForm.__proto__ || Object.getPrototypeOf(SingleForm)).call.apply(_ref, [this].concat(args)));

        _this.runOperation = _this.runOperation.bind(_this);
        _this.customOnCancel = _this.customOnCancel.bind(_this);
        return _this;
    }

    _createClass(SingleForm, [{
        key: 'runOperation',
        value: function runOperation(props) {
            var isOperationRunning = props.isOperationRunning,
                runOperation = props.runOperation,
                operations = props.operations,
                form = props.form;


            if (runOperation && !isOperationRunning) {
                runOperation(operations.get(0), {
                    contextObjects: _immutable2.default.List([form]),
                    dialog: form.get('dialog_name'),
                    successActions: [],
                    nonBlocking: true
                });
            }
        }
    }, {
        key: 'customOnCancel',
        value: function customOnCancel() {
            this.props.forceCancel();
        }
    }, {
        key: 'componentWillReceiveProps',
        value: function componentWillReceiveProps(nextProps) {
            if (this.props.operations !== nextProps.operations) {
                this.runOperation(nextProps);
            }
        }
    }, {
        key: 'render',
        value: function render() {
            var _props = this.props,
                form = _props.form,
                edit = _props.edit;

            return _react2.default.createElement(
                'div',
                { className: edit ? (0, _helpers.prefixNS)('data__editable') : (0, _helpers.prefixNS)('data__readonly') },
                _react2.default.createElement(_csWebComponentsBase.Form.ConfiguredForm, _extends({}, this.props, {
                    onCancel: this.customOnCancel,
                    key: 'form-' + form.get('cdb_object_id'),
                    readOnly: !edit }))
            );
        }
    }]);

    return SingleForm;
}(_react2.default.Component);

SingleForm.propTypes = {
    form: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired,
    name: _csWebComponentsExternals.PropTypes.string.isRequired,
    edit: _csWebComponentsExternals.PropTypes.bool,
    // injected by outer OperationHandler (edit only)
    contextObjects: _csWebComponentsExternals.ImmutablePropTypes.listOf(_csWebComponentsExternals.ImmutablePropTypes.map).isRequired,
    runOperation: _csWebComponentsExternals.PropTypes.func,
    onSubmit: _csWebComponentsExternals.PropTypes.func,
    onCancel: _csWebComponentsExternals.PropTypes.func,
    forceCancel: _csWebComponentsExternals.PropTypes.func,
    // injected by wrapper WithOperations (edit only)
    operations: _csWebComponentsExternals.ImmutablePropTypes.list
};

function mapStateToProps(state, ownProps) {
    return {
        // automatically map to form for less redundancy
        form: ownProps.contextObjects.get(0)
    };
}

exports.default = (0, _csWebComponentsExternals.connect)(mapStateToProps)(SingleForm);

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.formatStr = exports.Format = undefined;

var _csWebComponentsBase = __webpack_require__(0);

var Format = exports.Format = _csWebComponentsBase.i18ndb.makeFormat("cs-workflow-forms"); /* -*- mode: javascript; coding: utf-8 -*-
                                                                                           * $Id: i18n.js 165973 2017-09-27 13:10:02Z cso $
                                                                                           *
                                                                                           * Copyright (c) 2017 CONTACT Software GmbH
                                                                                           * All rights reserved.
                                                                                           * http://www.contact-software.com
                                                                                           */

var formatStr = exports.formatStr = _csWebComponentsBase.i18ndb.makeFormatStr("cs-workflow-forms");

/***/ })
/******/ ]);
});
//# sourceMappingURL=cs-workflow-forms.js.map