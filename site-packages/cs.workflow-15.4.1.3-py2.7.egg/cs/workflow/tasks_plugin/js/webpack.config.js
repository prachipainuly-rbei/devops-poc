/* -*- mode: javascript; coding: utf-8 -*-
 * $Id: webpack.config.js 161565 2017-07-12 07:07:25Z psz $
 *
 * Copyright (c) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 */
const webpack = require('webpack');
const configModule = require(process.env.WEBPACK_CONFIG_COMMON);
const commonConfig = configModule.makeConfig();

const Environment = new webpack.DefinePlugin({
    'process.env.NODE_ENV': JSON.stringify(process.env.NODE_ENV || 'development')
});

// const moreExternals = Object.assign({}, commonConfig.externals, {
//     // here more externals
// });

module.exports = Object.assign({}, commonConfig, {
    // here the app specific configs
    // externals: moreExternals
    plugins: commonConfig.plugins.concat([Environment])
});
