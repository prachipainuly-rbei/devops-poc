.. _`15_3_1_sls`:

Service Levels
##############

cs.workflow 15.3.1.19
=====================

Map Names of Inactive Users and Roles Correctly
-----------------------------------------------

This change introduces the view ``cdbwf_resp_mapping``, which is basically a
functional copy of ``cdbwf_resp_browser`` without the WHERE conditions.

This enables workflow tasks to map the names of their responsible roles and
persons even if they have been marked organizational or deactivated after the
fact and are not usable as responsibles for new tasks.

.. note::
    To enable this fix, revert any patches for the ``cdbdd_field`` entries for
    classname ``cdbwf_process_component`` and field name
    ``mapped_subject_name*``.

cs.workflow 15.3.1.18
=====================

Persist Changed Description on Blur in Workflow Designer
--------------------------------------------------------

Changed task descriptions in the Workflow Designer are now persisted
immediately after leaving the field ("on blur") instead of requiring an
explicit confirmation by clicking "ok".

.. warning::

    While making the description field's behavior consistent with other fields,
    this change makes it easy for users to accidentally delete long texts.

cs.workflow 15.3.1.16
=====================

Support transporting workflow templates
---------------------------------------

This service level includes a new command-line tool to generate control
statements for ``cdbexp`` to export a workflow structure.

Please see the docstring of ``cs.workflow.updates.tools.export_process`` for
usage details.

cs.workflow 15.3.1.15
=====================

.. warning::
    Please see the release notes of :ref:`15.3.0.15 <15_3_0_15_schema_change>`
    for details on a schema change.

cs.workflow 15.3.1.14
=====================

Visibility of Info Message
--------------------------

Please see the release notes of :ref:`10.2.1.14 <10_2_1_cancel_info_on_failure>`
for details on this change.

cs.workflow 15.3.1.13
=====================

.. _`15_3_1_13_wfserver_log`:

Workflow Queue Log
------------------

Starting with this service level, the queue executing system tasks and the
subprocesses it spawns use a dedicated configuration file, enabling separate
logging for system tasks. Enable logging by setting ``CADDOK_DEBUG`` in a new
configuration file `$CADDOK_BASE/etc/wfqueue.conf`.

.. _`15_3_1_13_wfserver_lang`:

Workflow Queue Language
-----------------------

To control the language the workflow queue generates messages in (for example,
when a system task fails), you can now explicitely set the language in the
service arguments.

.. warning::
    Starting with this service level, the default language will be english. If
    you want to change the queue's language back to german, you can add the
    string ``--language de`` to the service's current arguments. Make sure to
    separate arguments with at least one space (for example:
    ``--svcuser bhmrmnn --language tr``).

.. note::
    The service will immediately quit if the supplied language is not an active
    GUI language (see ``Multilingual capability > Configuration`` in the
    ``Administration and Configuration Manual``).

cs.workflow 15.3.1.11
=====================

Dedicated Service User
----------------------

For details, see the release notes of :ref:`15.3.0.13 <15_3_0_13_svcuser>`.

.. warning::
    As a result of this change, cs.workflow 15.3.1.11 requires |con15.1| SL 24
    or newer.

Flag for Processes Completing Successful
----------------------------------------

For details, see the release notes of :ref:`15.3.0.13 <15_3_0_13_completing_ok>`.

.. _`15_3_1_11_tm_urls`:

URL Generation in Notification E-Mails
--------------------------------------

Notification E-Mails directly link to the tasks in |cs.taskmanager|, which is
opened in a web browser by default.

If your users are mainly using the legacy PC Client, you can set the
environment variable :envvar:``CADDOK_PREFER_LEGACY_URLS`` to ``"True"`` to
generate old-style operation URLs that will open in the PC Client (if
registered to handle ``cdb://`` URLs).

System Task "Status Change" Can Now Unlock Objects
--------------------------------------------------

For details, see `Configuration of Standard System Task "Status Change"` in the
administrator's manual.

.. |con15.1| replace:: CONTACT Elements 15.1
