.. _`15_4_0_sls`:

Service Levels
##############

cs.workflow 15.4.0.13
=====================

Map Names of Inactive Users and Roles Correctly
-----------------------------------------------

This change introduces the view ``cdbwf_resp_mapping``, which is basically a
functional copy of ``cdbwf_resp_browser`` without the WHERE conditions.

This enables workflow tasks to map the names of their responsible roles and
persons even if they have been marked organizational or deactivated after the
fact and are not usable as responsibles for new tasks.

.. note::
    To enable this fix, revert any patches for the ``cdbdd_field`` entries for
    classname ``cdbwf_process_component`` and field name
    ``mapped_subject_name*``.

cs.workflow 15.4.0.12
=====================

Initial Render of Workflow Designer Doesn't Scale Well
------------------------------------------------------

Several optimizations reduce the runtime required for initially rendering the
Workflow Designer of large workflows:

- Most objects are now instantiated in a single pass per class,
- initial rendering does not wait for images and responsible catalog data to be
  loaded.

The most important optimizations, however, will not be available per default,
as they potentially disrupt customizing.

.. warning::
    Please see :ref:`Optional Performance Optimization<wfadmin:optional_performance_optimization>`
    for how to use these optimizations in your environment.

cs.workflow 15.4.0.11
=====================

Persist Changed Description on Blur in Workflow Designer
--------------------------------------------------------

Changed task descriptions in the Workflow Designer are now persisted
immediately after leaving the field ("on blur") instead of requiring an
explicit confirmation by clicking "ok".

.. warning::

    While making the description field's behavior consistent with other fields,
    this change makes it easy for users to accidentally delete long texts.

cs.workflow 15.4.0.7
====================

Remove Unused "cdbwf_ahwf%" Messages and Labels
-----------------------------------------------

The following obsolete configuration artifacts have been removed with this
service level:

Labels:

    - cdbwf_ahwf_00 - cdbwf_ahwf_03
    - cdbwf_ahwf_05 - cdbwf_ahwf_17
    - cdbwf_ahwf_19 - cdbwf_ahwf_26
    - cdbwf_ahwf_28 - cdbwf_ahwf_43
    - cdbwf_ahwf_copy
    - cdbwf_ahwf_create
    - cdbwf_ahwf_createT
    - cdbwf_ahwf_info
    - cdbwf_ahwf_modify
    - cdbwf_ahwf_newT
    - cdbwf_ahwf_new\_
    - cdbwf_ahwf_process

Error Messages:

    - cdbwf_ahwf_m01- cdbwf_ahwf_m08

Operation Names:

    - cdbwf_ahwf_copy
    - cdbwf_ahwf_create
    - cdbwf_ahwf_create_from_template
    - cdbwf_ahwf_info
    - cdbwf_ahwf_modify

cs.workflow 15.4.0.6
====================

Support transporting workflow templates
---------------------------------------

This service level includes a new command-line tool to generate control
statements for ``cdbexp`` to export a workflow structure.

Please see the docstring of ``cs.workflow.updates.tools.export_process`` for
usage details.

cs.workflow 15.4.0.5
====================

.. warning::
    Please see the release notes of :ref:`15.3.0.15 <15_3_0_15_schema_change>`
    for details on a schema change.

.. _`15_4_0_4`:

cs.workflow 15.4.0.4
====================

.. warning::
    Because of changes made to the setting system of |cs.taskmanager|, this
    service level requires `cs.taskmanager 15.4.0.6` or newer and |con15.2|
    SL 20 or newer.

Setup for cs.web
----------------

This service level includes a lot of configuration changes to integrate with
new ``cs.web`` features:

- |cs.workflow| now requires ``cs.web``.
- The following classes and operations have been activated for use with the
  REST API:

    - cdbwf_briefcase
    - cdbwf_form

        - CDB_ShowObject
        - cdbwf_submit_form
    - cdbwf_info_message
    - cdbwf_process

        - CDB_Create
        - CDB_Modify
        - CDB_Search
        - CDB_ShowObject
        - cdb_share_objects
        - cdbwf_cancel_workflow
        - cdbwf_dismiss_workflow
        - cdbwf_new_process_from_template
        - cdbwf_onhold_workflow
        - cdbwf_start_workflow
        - cdbwf_start_workflow_designer
    - cdbwf_process_component
    - cdbwf_protocol

        - CDB_Search
        - CDB_ShowObject
- Added an object header for processes.
- Sorted relationships with referer ``cdbwf_process``.
- The Workflow Designer...

    - ...now supports dragging object UI links to add objects as briefcase
      contents. Legacy URLs are not supported anymore. This enables users to
      add objects of ``cs.web`` applications by dragging them into a briefcase.
    - ...has been updated to use the new URLs wherever possible.

.. warning::
    As of now, only ``CDB_ShowObject`` can be used in the Workflow Designer.
    Modifying the process or using other operations of briefcase contents is
    currently not supported. This is a regression and will likely be possible
    again at some point.

Changed event_map of Process Powerscript class
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The following methods of ``cs.workflow.processes.Process`` are now called in
``pre`` instead of ``post_mask`` for compatibility with ``cs.web``:

- ``setObjektArt`` (``create`` and ``copy``)
- ``check_copy_from_template`` (``copy``)

Please make sure to check your code for potential incompatibilities.

Workflow Queue Log
------------------

For details, see the release notes of
:ref:`15.3.1.13 <15_3_1_13_wfserver_log>`.

Workflow Queue Language
-----------------------

For details, see the release notes of
:ref:`15.3.1.13 <15_3_1_13_wfserver_lang>`.

Visibility of Info Message
--------------------------

Please see the release notes of :ref:`10.2.1.14 <10_2_1_cancel_info_on_failure>`
for details on this change.

cs.workflow 15.4.0.1
====================

Dedicated Service User
----------------------

For details, see the release notes of :ref:`15.3.0.13 <15_3_0_13_svcuser>`. The
user account has to be marked as a system user (attribute `is_system_account`).

.. warning::
    As a result of this change, cs.workflow 15.4.0.1 requires |con15.2| SL 15
    or newer.

Flag for Processes Completing Successful
----------------------------------------

For details, see the release notes of :ref:`15.3.0.13 <15_3_0_13_completing_ok>`.

URL Generation in Notification E-Mails
--------------------------------------

For details, see the release notes of :ref:`15.3.1.11 <15_3_1_11_tm_urls>`.

Briefcase Mode in Tables
------------------------

The Python-based table column `cs.workflow.briefcases.IOTypeColumn` has been
added, requiring |con15.2| SL 5 or newer.


.. |con15.2| replace:: CONTACT Elements 15.2
