

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Workflow Templates &mdash; Workflows</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Workflows" href="index.html"/>
        <link rel="next" title="Configuration" href="conf.html"/>
        <link rel="prev" title="Error Handling" href="error_handling.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-nav-search">
        

        
          <a href="/doc/en" class="icon fa-book">
            Documentation Portal
          </a>
        

        
          <a href="index.html" class="icon icon-home"> Workflows
        

        
        </a>

        
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

        
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        
          
          
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="interfaces.html">Interfaces to Other Applications</a></li>
<li class="toctree-l1"><a class="reference internal" href="monitoring.html">Monitoring</a></li>
<li class="toctree-l1"><a class="reference internal" href="error_handling.html">Error Handling</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Workflow Templates</a></li>
<li class="toctree-l1"><a class="reference internal" href="conf.html">Configuration</a><ul>
<li class="toctree-l2"><a class="reference internal" href="conf_briefcases.html">Briefcases</a></li>
<li class="toctree-l2"><a class="reference internal" href="conf_constraints.html">Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="conf_forms.html">Forms</a></li>
<li class="toctree-l2"><a class="reference internal" href="conf_systemtasks.html">System Tasks</a></li>
<li class="toctree-l2"><a class="reference internal" href="conf_designer.html">Workflow Designer</a></li>
<li class="toctree-l2"><a class="reference internal" href="conf_misc.html">Miscellaneous</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="faq.html">FAQ</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

          
        
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">Workflows</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Workflow Templates</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/templates.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document">
            
  <div class="section" id="workflow-vorlagen">
<span id="templates"></span><h1>Workflow Templates<a class="headerlink" href="#workflow-vorlagen" title="Permalink to this headline">¶</a></h1>
<p>Usually repeatable <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflows</span></a> are controlled by templates. Domain experts can create templates, optionally assign some rules and release the templates for usage.</p>
<div class="section" id="vorlagen-transportieren">
<h2>Transporting Templates<a class="headerlink" href="#vorlagen-transportieren" title="Permalink to this headline">¶</a></h2>
<p>Since <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> templates are inherently part of the business logic, they should be handled accordingly and kept in sync between all systems (such as development, test and production).</p>
<p>The following tool chain supports this:</p>
<ol class="arabic simple">
<li><code class="docutils literal"><span class="pre">cs/workflow/updates/tools/export_process.py</span></code></li>
<li><code class="docutils literal"><span class="pre">cdbexp</span></code></li>
<li><code class="docutils literal"><span class="pre">cdbimp</span></code></li>
</ol>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">To avoid ID conflicts, you must take precautions. Possible solutions can be found in the section <a class="reference internal" href="#manage-ids"><span class="std std-ref">Avoiding ID Conflicts</span></a>.</p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Only the <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> is transported along with its structure (<a class="reference internal" href="glossary.html#term-aufgabe"><span class="xref std std-term">tasks</span></a>, <a class="reference internal" href="glossary.html#term-mappe"><span class="xref std std-term">briefcases</span></a>, <a class="reference internal" href="glossary.html#term-constraint"><span class="xref std std-term">constraints</span></a>…) and information (<a class="reference internal" href="glossary.html#term-protokoll"><span class="xref std std-term">Protocol</span></a>, activities). Excluded from the transport are referenced objects (but not the references themselves), such as <a class="reference internal" href="glossary.html#term-mappeninhalt"><span class="xref std std-term">briefcase contents</span></a> and attachments to posts and comments in the Activity Stream.</p>
</div>
<div class="section" id="vorgehen">
<h3>Procedure<a class="headerlink" href="#vorgehen" title="Permalink to this headline">¶</a></h3>
<p>First of all, the <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> to be transported should be tested extensively in the source system. It is recommended to always transport <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflows</span></a> only in a fixed order (e.g. from development to testing, from testing to production).</p>
<p>Then, a control file for <code class="docutils literal"><span class="pre">cdbexp</span></code> can be created with the supplied command line tool <code class="docutils literal"><span class="pre">export_process</span></code>. The control file will contain the database queries needed to export the <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> and its structure:</p>
<div class="highlight-bat"><div class="highlight"><pre><span></span>powerscript -m cs.workflow.updates.tools.export_process P00000000 <span class="p">&gt;</span> P.ctl
</pre></div>
</div>
<p>If the call succeeds, the output file (<code class="docutils literal"><span class="pre">P.ctl</span></code> in the above example) can be used as input for <code class="docutils literal"><span class="pre">cdbexp</span></code>:</p>
<div class="highlight-bat"><div class="highlight"><pre><span></span>cdbexp -c P.ctl -o P.exp
</pre></div>
</div>
<p>The output file <code class="docutils literal"><span class="pre">P.exp</span></code> now contains the exported <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> structure that can be imported in the target system (please manage potential ID conflicts):</p>
<div class="highlight-bat"><div class="highlight"><pre><span></span>cdbimp P.exp
</pre></div>
</div>
</div>
<div class="section" id="strategien-zur-vermeidung-von-konflikten-zwischen-ids">
<span id="manage-ids"></span><h3>Avoiding ID Conflicts<a class="headerlink" href="#strategien-zur-vermeidung-von-konflikten-zwischen-ids" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">Workflow</span></a> IDs (<code class="docutils literal"><span class="pre">cdbwf_process.cdb_process_id</span></code>) and <a class="reference internal" href="glossary.html#term-aufgabe"><span class="xref std std-term">task</span></a> IDs (<code class="docutils literal"><span class="pre">cdbwf_task.task_id</span></code>) are sequential numbers by default (<code class="docutils literal"><span class="pre">P000...</span></code> and <code class="docutils literal"><span class="pre">T000...</span></code>, respectively). This mechanism is not safe to use across multiple systems, so conflicts must be proactively avoided when transporting <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflows</span></a> and <a class="reference internal" href="glossary.html#term-aufgabe"><span class="xref std std-term">tasks</span></a>. See below for some possible strategies.</p>
<div class="section" id="separate-nummernkreise">
<h4>Separate ID Ranges<a class="headerlink" href="#separate-nummernkreise" title="Permalink to this headline">¶</a></h4>
<p>The simplest way is to have each system use its own ID range, such a dedicated prefix for IDs (For example, development systems might use <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> IDs <code class="docutils literal"><span class="pre">X000...</span></code> instead of <code class="docutils literal"><span class="pre">T000....</span></code>).</p>
<p>Using this strategy, nothing else has to be done when transporting templates.</p>
</div>
<div class="section" id="nummern-beim-transport-separieren">
<h4>Separating IDs Manually<a class="headerlink" href="#nummern-beim-transport-separieren" title="Permalink to this headline">¶</a></h4>
<p>The export is a simple text file. With a suitable editor you can replace potentially conflicting IDs. Additionally, this solution allows for use of slightly more descriptive template IDs, since both IDs of <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflows</span></a> and <a class="reference internal" href="glossary.html#term-aufgabe"><span class="xref std std-term">tasks</span></a> can also be short, unique texts.</p>
</div>
<div class="section" id="nummern-zusammenfuhren">
<h4>Joining ID Ranges<a class="headerlink" href="#nummern-zusammenfuhren" title="Permalink to this headline">¶</a></h4>
<p>If you want to use uniform IDs for <a class="reference internal" href="glossary.html#term-workflow"><span class="xref std std-term">workflow</span></a> templates across all systems, you should at least separate the ID ranges of the templates from those of the instances.</p>
<p>Then, whenever a template is created, this should immediately be mirrored in all systems to “reserve” the same number. This placeholder can then be deleted in the target systems immediately before transporting the finished template.</p>
</div>
</div>
</div>
</div>


          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="conf.html" class="btn btn-neutral float-right" title="Configuration" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="error_handling.html" class="btn btn-neutral" title="Error Handling" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2018, CONTACT Software.
      Last updated on 29.10.2018.
    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'15.4.1.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>