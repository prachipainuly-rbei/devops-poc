.. _`forms`:

Formulare
#########

:term:`Formulare <Formular>` nutzen die |maskconfig| und werden wie Masken mit
dem :term:`Formular` selbst als Kontextobjekt dargestellt. Damit eine Maske als
:term:`Formular` genutzt werden kann, muss eine Formularvorlage angelegt,
benannt und freigegeben werden.

Die Daten eines :term:`Formulars <Formular>` werden als ``JSON`` (JavaScript
Object Notation) im seinem Langtextattribut `cdbwf_form_contents_txt` abgelegt.

Formularvorlagen
================

Unter |nav_catalog| :menuselection:`Prozesse -> Formularvorlagen` können neue
Formularvorlagen angelegt oder bestehende gefunden werden. Folgende Daten sind
bei der Neuanlage relevant:

:guilabel:`Name`
    Benennung des :term:`Formulars <Formular>` in allen Login-Sprachen. Die
    Benennung sollte den Einsatzzweck klar verständlich machen.

:guilabel:`Maske`
    Name einer |maskconfig|. Diese gibt sowohl Aussehen als auch den
    Attributvorrat des :term:`Formulars <Formular>` vor. Außerdem kommen die
    üblichen Mechanismen (Kataloge, Pflichtfelder und Vorbelegungen) der Maske
    zur Anwendung.

.. warning::
    Es werden nur Masken, keine Maskenverbünde unterstützt.

.. warning::
    Es werden nur explizite Pflichtfelder ausgewertet. Da
    :term:`Formulare <Formular>` kontextlos sind, werden keine Pflichtfelder
    aus dem Data Dictionary angewandt.

Formularvorlagen können in :term:`Workflows <Workflow>` ausschließlich im
Status |formt20| verwendet werden. Die Rücknahme der Freigabe hat keine
Auswirkung auf bereits aus der Vorlage instanziierte
:term:`Formulare <Formular>`.

.. _`lifecycle_form_template.png`:

.. figure:: images/lifecycle_form_template.png
    :align: center

    Statusnetz einer Formularvorlage

Zugriffsrechte
==============

.. warning::
    In diesem Abschnitt werden die Berechtigungen im Auslieferungszustand
    beschrieben. Die Berechtigungen in Ihrem System können davon abweichen.

Zugriffsrechte auf Formularvorlagen
-----------------------------------

+-------------+------------------+----------------------------------+
| Bedingung   | Recht            | Gewährt für                      |
+=============+==================+==================================+
| Status      | - Vollzugriff    | - |role_admin|                   |
| |formt0|    |                  | - |role_admin_data|              |
|             |                  | - |role_wf_admin|                |
|             |                  | - |role_wf_lib_mgr|              |
+-------------+------------------+----------------------------------+
| Status      | - Lesen          | - |role_admin|                   |
| nicht       | - Statusänderung | - |role_admin_data|              |
| |formt0|    |                  | - |role_wf_admin|                |
|             |                  | - |role_wf_lib_mgr|              |
+-------------+------------------+----------------------------------+

Zugriffsrechte auf Formularen
-----------------------------

Das Leserecht für :term:`Formulare <Formular>` ist grundsätzlich nicht
eingeschränkt.

Zugriffsrechte für :term:`Formulare <Formular>` werden Verantwortlichen einer
:term:`Aufgabe` durch die jeweils relevante Zuordnung zu einer :term:`Mappe`
gewährt.

Verantwortliche eines :term:`Workflows <Workflow>` erhalten die gleichen Rechte
wie auf den :term:`Aufgaben <Aufgabe>`. Die Berechtigungen auf
:term:`Formulare <Formular>` werden über das Beziehungsrechteprofil
``Workflow components`` auf das :term:`Workflow`-Recht ``edit schema``
abgebildet.

.. |maskconfig| replace::
    :ref:`Maskenkonfiguration <admin:cdb-gui-maskconfig-definition>`
