.. -*- rst -*-

Briefcase
=========

The APIs to manage a briefcase are defined in the standard object class
`cs.workflow.briefcases.Briefcase` and an interface class
`cs.workflow.designer.wfinterface.Briefcase`, which enable some advanced APIs
on the standard object class to handle briefcase programmatically.

.. autoclass:: cs.workflow.briefcases.Briefcase
   :members: ByContent,
             cancel_task,
             close_task,
             refuse_task,
             requiresComment

   .. method:: ModifyBriefcase(**kwargs)

        Interface method to modify the current briefcase.
        Checks permissions and executes user exits.

   .. method:: DeleteBriefcase()

        Interface method to delete a briefcase.
        Checks permissions and executes user exits.

   .. method:: SetGlobalMeaning(meaning, extends_rights=None)

        Set the global meaning of the briefcase for the current process.
        Overwrites an already existing global meaning.

        There should be no task specific meaning for any task
        in the process. Otherwise an exception is raised.

        :raises: cdb.ue.Exception

   .. method:: SetTaskMeaning(meaning, task, extends_rights)

        Set the meaning of the briefcase for a specific task.
        Overwrites an already existing meaning for the given task.

        There should be no global meaning for the given briefcase
        in the process. Otherwise an exception is raised.

        :raises: cdb.ue.Exception

   .. method:: RemoveTaskMeaning(task)

        Interface method to remove meaning of the briefcase
        for a specific task.. Checks permissions and executes user exits.

   .. method:: AddObject(object_id)

        Add an object to the briefcase

        :param object_id: the cdb_object_id of an existing object
        :type object_id: a cdb_object_id

   .. method:: RemoveObject(object_id)

        Remove an object from the briefcase

        :param object_id: the cdb_object_id of an existing object
        :type object_id: a cdb_object_id

Sort Order
----------

When displayed in the Workflow Designer or |cs.taskmanager|, briefcases are
usually sorted by their name. You can customize their sort order by overwriting
the default ``key`` function for the ``sorted`` call in |cdbpy|:

.. rubric:: Example *Sort briefcases by ID*

.. code-block:: python

    from cs.workflow.briefcases import WithBriefcase

    WithBriefcase.__briefcase_sorting_key__ = lambda self, x: x.briefcase_id

Briefcase Link
--------------

The meaning of a briefcase for the workflow or a task, is carrying on a
`cs.workflow.briefcases.BriefcaseLink` object.

.. autoclass:: cs.workflow.briefcases.BriefcaseLink

   .. method:: DeleteBriefcaseLink()

       Interface method to delete a briefcase link. Checks permissions
       and executes user exits.
