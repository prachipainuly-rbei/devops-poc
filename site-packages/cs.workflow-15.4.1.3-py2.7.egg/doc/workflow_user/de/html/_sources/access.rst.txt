.. _`rights_management`:

Berechtigungen
##############

Die Berechtigungen eines Anwenders auf einem :term:`Workflow` sind abhängig von

- den Eigentumsverhältnissen des :term:`Workflows <Workflow>`,
- dem Status des :term:`Workflows <Workflow>` sowie
- der Rollenzuordnung des Anwenders.

Rechte auf einer :term:`Aufgabe` hängen zusätzlich von ihrem eigenen Status ab.

Eigentümer von Workflows
========================

Jeder :term:`Workflow` besitzt einen oder mehrere Verantwortliche, aber nur
maximal einen :term:`Workflow-Besitzer`.

Der :term:`Workflow-Besitzer` wird bei Statusänderung eines
:term:`Workflows <Workflow>` in |wf10| automatisch eingetragen. Der
:term:`Workflow-Besitzer` hat eine besondere Bedeutung für den
:term:`Workflow`:

- Der :term:`Workflow` wird mit den effektiven Berechtigungen des
  :term:`Workflow-Besitzers <Workflow-Besitzer>` ausgeführt und
- Einträge im :term:`Protokoll` werden im Namen des
  :term:`Workflow-Besitzers <Workflow-Besitzer>` geschrieben.

Effektive Berechtigungen
========================

Die meisten Berechtigungen im Kontext von |cs.workflow| hängen von
Berechtigungen auf dem jeweiligen übergeordneten :term:`Workflow` ab.

Leserechte sind für keine in |cs.workflow| verwendeten Objekte eingeschränkt.

:term:`Protokolleinträge <Protokoll>` dürfen unabhängig vom Status eines
:term:`Workflows <Workflow>` und von jedem geschrieben (d.h. hinzugefügt)
werden.

Im Folgenden werden folgende Abkürzungen für Berechtigungen verwendet:

+-----------------+---------------------------------------------------------+----------------------+
| Berechtigung    | Beschreibung                                            | Interner Name        |
+=================+=========================================================+======================+
| Ändern          | Fasst Schreibrechte zusammen. Das Objekt kann angelegt, | WRITE ACCESS,        |
|                 | geändert oder gelöscht werden.                          | CHANGE               |
+-----------------+---------------------------------------------------------+----------------------+
| Struktur ändern | Bedeutung wie "Ändern", aber bezogen auf die dem Objekt | edit schema          |
|                 | untergeordneten Strukturelemente (                      |                      |
|                 | :term:`Sammelaufgaben <Sammelaufgabe>`,                 |                      |
|                 | :term:`Aufgaben <Aufgabe>`, ...).                       |                      |
+-----------------+---------------------------------------------------------+----------------------+
| Statusänderung  | Der Status des Objekts kann geändert werden. Kann auch  | process manage,      |
|                 | auf einen konkreten Zielstatus eingeschränkt sein.      | task complete,       |
|                 |                                                         | task_ready,          |
|                 |                                                         | wf_form_templ_status |
+-----------------+---------------------------------------------------------+----------------------+

.. note::

    Die Rechtevergabe an "Niemanden" steht in den folgenden Tabellen für einen
    expliziten Rechteentzug für alle Anwender durch exklusive Berechtigungen.

.. note::

    Die Rechtevergabe an "Jeden" steht in den folgenden Tabellen für Mitglieder
    der Rolle ``public``, insbesondere als keine externen Anwender des |cs.cp|.

Berechtigungen auf Workflow-Vorlagen
------------------------------------

+----------------+----------------------+----------------------------------+
| Bedingung      | Berechtigung         | Gewährt für                      |
+================+======================+==================================+
| Keine          | - Statusänderung     | - cdbwf: Process Library Manager |
+----------------+----------------------+----------------------------------+
| Status |wft0|  | - Ändern             | - cdbwf: Process Library Manager |
|                | - Struktur ändern    |                                  |
+----------------+----------------------+----------------------------------+
| Status *nicht* | - Ändern             | - Niemanden                      |
| |wft0|         | - Struktur ändern    |                                  |
+----------------+----------------------+----------------------------------+

Berechtigungen auf Workflows
----------------------------

+-----------------+----------------------+----------------------------------+
| Bedingung       | Berechtigung         | Gewährt für                      |
+=================+======================+==================================+
| Keine           | - Anlegen            | - cdbwf: Process Administrator   |
|                 | - Statusänderung     |                                  |
+-----------------+----------------------+----------------------------------+
| Keine           | - Statusänderung     | - Verantwortliche                |
+-----------------+----------------------+----------------------------------+
| Status |wf0|    | - Ändern             | - cdbwf: Process Administrator   |
|                 | - Struktur ändern    |                                  |
+-----------------+----------------------+----------------------------------+
| Status |wf0|    | - Ändern             | - Verantwortliche                |
|                 | - Struktur ändern    |                                  |
+-----------------+----------------------+----------------------------------+
| Status |wf10|   | - Struktur ändern    | - cdbwf: Process Administrator   |
|                 | - Statusänderung in  |                                  |
|                 |                      |                                  |
|                 |   - |task10|,        |                                  |
|                 |   - |task20| oder    |                                  |
|                 |   - |task30|         |                                  |
+-----------------+----------------------+----------------------------------+
| Status |wf10|   | - Struktur ändern    | - Verantwortliche                |
|                 | - Statusänderung in  |                                  |
|                 |                      |                                  |
|                 |   - |task10|,        |                                  |
|                 |   - |task20| oder    |                                  |
|                 |   - |task30|         |                                  |
+-----------------+----------------------+----------------------------------+
| Status |wf50|   | - Struktur ändern    | - Niemanden                      |
|                 | - Statusänderung in  |                                  |
|                 |                      |                                  |
|                 |   - |task10|,        |                                  |
|                 |   - |task20| oder    |                                  |
|                 |   - |task30|         |                                  |
+-----------------+----------------------+----------------------------------+

Berechtigungen auf Aufgaben
---------------------------

+------------------------+------------------------+---------------------------+
| Bedingung              | Berechtigung           | Gewährt für               |
+========================+========================+===========================+
| Status |task10|        | - Ändern               | - Verantwortliche         |
|                        | - Aufgabe reservieren  |                           |
|                        | - Reservierung abgeben |                           |
|                        | - Statusänderung in    |                           |
|                        |                        |                           |
|                        |   - |task20| oder      |                           |
|                        |   - |task30|           |                           |
+------------------------+------------------------+---------------------------+
| Status |task20|        | - Löschen              | - Niemanden               |
|                        | - Struktur ändern      |                           |
+------------------------+------------------------+---------------------------+
| - Status |task30| oder | - Ändern               | - Niemanden               |
| - Status |task35|      | - Struktur ändern      |                           |
+------------------------+------------------------+---------------------------+
| Workflow-Status        | - Ändern               | - Niemanden               |
| |wf50|                 | - Statusänderung in    |                           |
|                        |                        |                           |
|                        |   - |task10|,          |                           |
|                        |   - |task20| oder      |                           |
|                        |   - |task30|           |                           |
+------------------------+------------------------+---------------------------+

Berechtigungen auf Formularvorlagen
-----------------------------------

+-----------------+------------------------+----------------------------------+
| Bedingung       | Berechtigung           | Gewährt für                      |
+=================+========================+==================================+
| Status |formt0| | - Alles                | - Administrator                  |
|                 |   (uneingeschränkt)    | - Administrator: Master Data     |
|                 |                        | - cdbwf: Process Administrator   |
|                 |                        | - cdbwf: Process Library Manager |
+-----------------+------------------------+----------------------------------+
| Status *nicht*  | - Lesen                | - Administrator                  |
| |formt0|        | - Statusänderung       | - Administrator: Master Data     |
|                 |                        | - cdbwf: Process Administrator   |
|                 |                        | - cdbwf: Process Library Manager |
+-----------------+------------------------+----------------------------------+

Berechtigungen auf Mappeninhalten
---------------------------------

Bitte lesen Sie den Abschnitt :ref:`wf_user:briefcase_permissions`.
