.. _`forms`:

Formulare
#########

In den Details einer interaktiven :term:`Aufgabe` (Prüfung, Genehmigung,
Erledigung) im :term:`Workflow Designer` kann eine freigegebene Formularvorlage
ausgewählt werden. Dies instanziiert sofort ein neues :term:`Formular` aus der
Vorlage und legt eine gleichnamige lokale :term:`Mappe` zur :term:`Aufgabe` an,
die auch das :term:`Formular` enthält.

.. figure:: images/add_forms.png
    :align: center

    Ein :term:`Formular` zu einer :term:`Aufgabe` hinzufügen

:term:`Aufgaben <Aufgabe>` können beliebig viele :term:`Formulare <Formular>`
enthalten. Nur :term:`Formulare <Formular>`, die einer :term:`Mappe` im
:term:`Bearbeitungsmodus` |io_edit| zugeordnet sind, lassen sich tatsächlich
ausfüllen. :term:`Formulare <Formular>` in anderen :term:`Mappen <Mappe>`
werden schreibgeschützt als Zusatzinformation angezeigt.

Formulare vorbelegen
====================

Sobald einer :term:`Aufgabe` mindestens ein :term:`Formular` zugeordnet ist,
können diese in einem separaten Tab geöffnet werden.

.. figure:: images/open_forms.png
    :align: center

    :term:`Formulare <Formular>` zur :term:`Aufgabe` anzeigen

Der :term:`Workflow`-Verantwortliche kann Vorbelegungen im :term:`Formular`
selbst vornehmen oder der :term:`Mappe` des :term:`Formulars <Formular>`
weitere Objekte zuweisen. Diese lösen eine automatische Vorbelegung des
:term:`Formulars <Formular>` aus, sobald die :term:`Aufgabe` in den Status
|task10| versetzt wird. Manuell eingetragene Werte werden dabei nicht
überschrieben.

Wiederverwendung von Formularen im gesamten Workflow
====================================================

Die das :term:`Formular` enthaltende :term:`Mappe` kann in nachfolgenden
:term:`Aufgaben <Aufgabe>` wiederverwendet werden, um bspw. eingegebene Daten
zu prüfen oder als Eingabe für :term:`Systemaufgaben <Systemaufgabe>` des Typs
:ref:`run_operation` zu nutzen.

.. note::

    Vor einer eventuellen automatischen Verarbeitung der Daten eines
    :term:`Formulars <Formular>` durch :term:`Systemaufgaben <Systemaufgabe>`
    wird empfohlen, die eingegebenen Formulardaten durch einen
    :term:`Workflow`-Verantwortlichen manuell genehmigen zu lassen.

.. figure:: images/form_example.png
    :align: center

    Beispielverkettung von :term:`Formular`, Genehmigung und
    :term:`Systemaufgabe` "Operation ausführen"

Formulare bearbeiten
====================

Sobald eine :term:`Formulare <Formular>` enthaltende :term:`Aufgabe` in den
Status |task10| versetzt wird, kann der Verantwortliche die
:term:`Formulare <Formular>` in |cs.taskmanager| oder |cs.cp| sehen und - falls
diese einer :term:`Mappe` im :term:`Bearbeitungsmodus` |io_edit| zugeordnet
sind - bearbeiten.

Solche beschreibbaren :term:`Formulare <Formular>` können beschrieben oder
Katalogwerte ausgewählt werden. Um die eingegebenen Daten zu sichern, muss die
Bearbeitung mit der Schaltfläche ``Werte übernehmen`` bestätigt werden.

:term:`Aufgaben <Aufgabe>` mit :term:`Formulare <Formular>` können nur dann
abgeschlossen werden, wenn alle Pflichtfelder des jeweiligen
:term:`Formulars <Formular>` ausgefüllt sind.
