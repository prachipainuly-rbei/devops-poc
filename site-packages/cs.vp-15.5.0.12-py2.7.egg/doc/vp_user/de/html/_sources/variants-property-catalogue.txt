.. _`HELPID_cs_vp_property_catalogue`:
.. _`variants-property-catalogue`:

Merkmalkatalog
##############

Merkmale dienen der Beschreibung der Variabilität eines Produkts.
|cs.vp| bietet die Möglichkeit, Merkmale in Form eines Merkmalkatalogs
zu verwalten, um so die Wiederverwendung von Merkmalen zu unterstützen
bzw. zu erleichtern.
In der Regel wird der Merkmalkatalog mit dem entsprechenden Katalog
aus einem ERP-System synchronisiert.

.. NOTE::

   Um den Merkmalkatalog bearbeiten und somit Merkmale verwalten zu können, muss
   einem Anwender die Rolle :guilabel:`Administration Variantenmanagement` zugewiesen sein.

Katalogordner
=============

Katalogmerkmale können über Ordner strukturiert werden.
Eine Übersicht über die Ordnerstruktur des Merkmalkatalogs erhalten
Sie durch Klicken auf :guilabel:`Übersicht` im Kontextmenü des Navigationsknotens
:menuselection:`Administration/Konfiguration --> Katalogverwaltung --> Produkte --> Katalogmerkmale`
Hier finden Sie einen vordefinierten Top-Level-Ordner namens *Merkmalkatalog*.
Im Kontext eines Katalogordners können Sie Unterordner anlegen.
Benutzen Sie hierfür die Operation :guilabel:`Neu` im Kontextmenü
des Katalogordners.

Zuordnen von Merkmalen
----------------------

Katalogmerkmale brauchen einen Ordnerkontext.
Bei Zuordnung zu mehreren Ordnern zuordnen erfolgt die Zuordnung  dann in der Regel per |dragndrop| in der Katalogübersicht.

Wenn Sie die Ordnerzuordnung eines Merkmals löschen, welches keinem weiteren
Ordner zugeordnet ist, wird das Merkmal automatisch dem Top-Level-Ordner
zugeordnet.

Katalogmerkmale
===============

Sie können Katalogmerkmale nur im Kontext eines Katalogordners anlegen.
Wenn Sie ein Katalogmerkmal kontextlos anlegen, etwa durch den
Navigationsknoten
:menuselection:`Administration/Konfiguration -> Katalogverwaltung -> Produkte -> Katalogmerkmale`,
so wird das Merkmal automatisch dem vordefinierten Top-Level-Ordner
*Merkmalkatalog* zugeordnet.

Neuanlage
---------

Um ein neues Katalogmerkmal anzulegen, öffnen Sie das Kontextmenü
von Katalogmerkmalen und wählen Sie dort den Eintrag :guilabel:`Neu`.
Es öffnet sich die Neuanlagemaske zu Katalogmerkmalen.
Hier können Sie die Daten des neuen Merkmals eintragen.
Hierbei beachten Sie die folgenden Hinweise:

:guilabel:`Name (de)`
    Hier tragen Sie die deutsche Bezeichnung für das Katalogmerkmal ein. Dieses Feld ist ein Pflichtfeld.

:guilabel:`Name (en)`
    Hier tragen Sie die englische Bezeichnung für das Katalogmerkmal ein. Dieses Feld ist optional. Falls hier nichts eingetragen wird, trägt das System automatisch einen Wert nach dem Muster :guilabel:`{<deutscher Name>}` (deutscher Name in geschweiften Klammern) ein.

:guilabel:`Datentyp`
    Wählen Sie hier einen Wert mit Hilfe einer Auswahlliste aus. Sie haben die Auswahl zwischen ``alphanumeric``,
    ``numeric`` und ``boolean``. Die getroffene Auswahl beeinflusst die Definition von Merkmalswerten für das neue Merkmal.

:guilabel:`Beschreibung`
    In diesem Freitextfeld können sie das definierte Katalogmerkmal beschreiben

:guilabel:`ERP-Code`
    In diesem Feld können Sie eine eindeutige Bezeichnung für das Merkmal eingeben. Das Feld wird mit dem Wert ``--auto--`` vorbelegt. Wenn Sie diesen Wert nicht ändern, wird der ERP-Code anhand der eingetragenen Daten automatisch durch das System belegt. Bei Merkmalen, welche aus einem ERP-System importiert werden, wird der ERP-Code in der Regel mit der eindeutigen Bezeichnung aus dem ERP-System belegt.

:guilabel:`Status`
    Das System trägt bei Neuanlage den Wert :guilabel:`Neu` ein.

.. note::
   Es gelten folgende Beschränkungen bei der Änderung des Datentyps eines Katalogmerkmals:
      - Ein Katalogmerkmal mit Datentyp ``alphanumeric`` kann nicht auf den Datentyp ``numeric`` geändert werden.
      - Ein Katalogmerkmal mit Datentyp ``alphanumeric`` kann nicht auf den Datentyp ``boolean`` geändert werden.
      - Ein Katalogmerkmal mit Datentyp ``numeric`` kann nicht auf den Datentyp ``boolean`` geändert werden.

Lifecycle
---------

Ein Katalogmerkmal kann die Statuswerte :guilabel:`Neu`, :guilabel:`Gültig` und :guilabel:`Ungültig` annehmen.

:guilabel:`Neu`
    Neuangelegte Merkmale befinden sich zunächst im Status :guilabel:`Neu` und können noch nicht in einem Produkt verwendet werden.

:guilabel:`Gültig`
    Sie können ein Katalogmerkmal dann zur Verwendung freigeben, indem Sie eine Statusänderung in den Status :guilabel:`Gültig` vornehmen. Der Status kann danach nicht mehr geändert werden.

:guilabel:`Ungültig`
    Ein Katalogmerkmal im Status :guilabel:`Neu` können Sie in den Status :guilabel:`Ungültig` überführen. Der Status kann danach nicht mehr geändert werden.

Verwendungen
------------

Sie können einen Überblick über die Verwendungen eines Katalogmerkmals in der
Änderungs- bzw. Informationsmaske erhalten.
Aktivieren Sie hierfür die Registerkarte :guilabel:`Verwendungen`.

Katalogmerkmalwerte
===================

Merkmale besitzen eine diskrete Menge von Werten, welche die Variabilität eines Produkts beschreiben. Im Produktkontext ergeben sich aus der Auswahl eines Wertes für jedes Merkmal die entsprechenden Varianten.

Neuanlage
---------

Sie können Merkmalwerte im Kontext eines Katalogmerkmals anlegen. Hierbei werden numerische, alphanumerische und boolsche Merkmalwerte unterschieden. Bei numerischen Merkmalwerten genügt es, in der Neuanlagemaske eine Dezimalzahl einzutragen. Bei alphanumerischen Merkmalwerten werden ein beschreibender Text für jede konfigurierte Sprache und ein ERP-Code erfasst. Hierbei gelten die folgenden Hinweise:

:guilabel:`Werteordner`
    Sie haben die Möglichkeit,  die Werte innerhalb eines Katalogmerkmals über Ordner, sogenannte Werteordner zu strukturieren. Somit lassen sich Merkmalwerte aus ERP-Systemen hierarchisch abbilden und importieren. In den Verwendungen wird diese Ordnerstruktur jedoch nicht übernommen, d.h. die Merkmalwerte bilden in ihren Verwendungen immer eine flache Liste. Das Anlegen von Werteordnern erfolgt in der Registerkarte :guilabel:`Werteordner` des Katalogmerkmals.

:guilabel:`Wert (de)`
    Hier tragen Sie die deutsche Bezeichnung für den Katalogmerkmalwert ein. Dieses Feld ist ein Pflichtfeld.

:guilabel:`Wert (en)`
    Hier tragen Sie die englische Bezeichnung für den Katalogmerkmalwert ein. Dieses Feld ist optional. Falls hier nichts eingetragen wird, trägt das System automatisch einen Wert nach dem Muster ``{<deutscher Name>}`` (deutscher Name in geschweiften Klammern) ein.

:guilabel:`ERP-Code`
    In diesem Feld können Sie eine eindeutige Bezeichnung für den Merkmalswert eingeben. Das Feld wird mit dem Wert ``--auto--`` vorbelegt. Wenn Sie diesen Wert nicht ändern, wird der ERP-Code anhand der eingetragenen Daten automatisch durch das System belegt. Bei Merkmalwerten, welche aus einem ERP-System importiert werden, wird der ERP-Code in der Regel mit der eindeutigen Bezeichnung aus dem ERP-System belegt.

.. note::
    Beachten Sie, dass Merkmalwerte nur für Merkmale geändert, gelöscht oder neu angelegt werden können, die sich im Status :guilabel:`Neu` befinden.

.. note::
   Wird ein Katalogmerkmal mit dem Datentyp ``boolean`` angelegt, so werden im Zuge der Neuanlage
   automatisch zwei Katalogmerkmalswerte erzeugt und dem Katalogmerkmal zugewiesen.
   Diese Werte sind jeweils mit 0 und 1 vorbelegt und können nicht geändert oder gelöscht werden.
   Es ist außerdem nicht möglich einen neuen Katalogmerkmalswert für ein boolsches Katalogmerkmal
   zu erstellen.

.. note::
   Sie können einem boolschen Merkmal keine berechneten Merkmalwerte zuweisen.


Rechte
======

Die im Standard vorkonfigurierte Einstellung erlaubt den Zugriff auf den Merkmalkatalog nur für die Rollen Administrator und Katalogverwalter. Die Verwendung von Katalogmerkmalen in einem Produkt ist für jeden Anwender erlaubt.
