.. _`cdbwinuserman-stl-export-componentstructure`:

Ausleitung aus CAD-Komponentenstrukturen
########################################

Dieses ist die Standardmethode, die in der Regel mit jedem CAD-System verwendet werden kann und weitestgehend der Methode der bisherigen klassischen CAD-Integration entspricht. Die Verbauungen in einer Baugruppe werden analysiert. Mehrfach verbaute Komponenten werden zusammengezählt und als eine Stücklistenposition eingetragen. Über Regeln können bestimmte Artikel von der Stückliste ausgeschlossen werden. Details dazu finden sich im Administrationshandbuch zu |cs.vp| im Abschnitt "Stücklistenausleitung aus CAD-Systemen/Ausschluss von Komponenten durch Objektregeln."

Der |cdbwsm| unterstützt die Möglichkeit, einem Dokument mehrere Dateien zuzuordnen. So können zum Beispiel eine Baugruppe und zwei Phantom-Baugruppen Bestandteil eines Dokumentes sein. Die Phantom-Baugruppen werden bei der Stücklistenausleitung nicht berücksichtigt.

Im dargestellten Beispiel (:ref:`figure.stl_ausleitung_beispiel_cad`) sind die Dateien "Oberteil.prt", "Unterteil.prt" und die "Schraube1.prt" jeweils einem eigenen Dokumentstammsatz mit eigener Artikelnummer zugeordnet. Die Dateien "Gehäuse.asm" und "Befestigungsschrauben.asm" gehören zum gemeinsamen Dokumentstammsatz. Wobei die Datei "Gehäuse.asm" die Ankerdatei (Hauptdatei) des Dokumentstammsatzes ist.

.. _`figure.stl_ausleitung_beispiel_cad`:

.. figure:: images\stl_gehaeuse_cad-ansicht.png
   :align: center

   Beispiel zur CAD-Komponentenstruktur

.. _`tab-stl-example`:

.. table:: Beispiel einer ausgeleiteten Stückliste

   +-------+-------------+-----+
   |Artikel|Benennung    |Menge|
   +=======+=============+=====+
   |002000 |Schraube1    |4    |
   +-------+-------------+-----+
   |001010 |Oberteil     |1    |
   +-------+-------------+-----+
   |001020 |Unterteil    |1    |
   +-------+-------------+-----+

Die Stückliste des Artikels "001000" (Gehäuse) wird jetzt wie folgt gebildet: Alle Referenzen der in der Ankerdatei ("Gehäuse.asm") verbauten Komponenten, die auf Ankerdateien in referenzierten Dokumenten verweisen, werden in die Stückliste aufgenommen. Im angeführten Beispiel ergibt sich daraus eine Stückliste mit drei Positionen (siehe :ref:`tab-stl-example`).

Für die so angelegten Stücklistenpositionen werden die Positionsnummern in bestimmten Abständen vergeben (z.B. ``10``, ``20``, ``30``, ...). Die Intervallgröße ist für Ihr CAD-System durch den Administrator konfigurierbar.

Diese Ausleitungsmethode setzt voraus, dass die Referenzen innerhalb des eingecheckten Workspace in sich abgeschlossen sind. Verschachtelte Workspaces mit Unterverzeichnissen können nicht ausgeleitet werden. Auf solchen Workspace-Strukturen kann diese Ausleitungsmethode daher nicht funktionieren, da referenzierte Dateien nicht gefunden werden können.