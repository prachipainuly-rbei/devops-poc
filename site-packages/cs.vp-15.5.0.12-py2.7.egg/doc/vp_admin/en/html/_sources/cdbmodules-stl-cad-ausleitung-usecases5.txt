.. _`cdbmodules-stl-cad-ausleitung-usecases5`:

Ausschluss von Komponenten durch Objektregeln
#############################################

Es existieren drei Objektregeln, mit deren Hilfe Artikel identifiziert werden, für die keine Stücklistenposition erzeugt wird.
Standardmäßig enthalten diese Regeln keine Prädikate und treffen daher auf keine Artikel zu.
Es handelt sich im einzelnen um folgende Regeln:

- ``BOM: Ignore Component Item``: Diese Regel wird auf Artikel ("Items") angewendet.
  Für jede Stücklistenposition wird überprüft, ob die Regel auf den verbauten Artikel zutrifft. Wenn sie zutrifft,
  wird kein Stücklisteneintrag erzeugt. Es ist darauf zu achten, dass bei der Definition von Prädikaten der :guilabel:`Typ`
  ``cs.vp.items.Item`` ausgewählt wird.

  Diese Regel wird von allen mitgelieferten Ausleitungsmethoden
  berücksichtigt.

- ``BOM: Ignore Component Document``: Diese Regel wird auf Dokumente angewendet.
  Beim Auftreten von CAD-Referenzen wird geprüft, ob die Regel auf das referenzierte Dokument zutrifft.
  Bei der Definition von Prädikaten muss der :guilabel:`Typ`
  ``cs.documents.Document`` ausgewählt werden.

  Diese Regel wird von den Ausleitungsmethoden
  :guilabel:`(Rekursives) Ausleiten aus der Komponentenstruktur` und
  :guilabel:`Auslesen aus der Appinfo, mit Dokument-Referenzen` ausgewertet.

- :guilabel:`BOM: Recursive Ignore Component`: Diese Regel wird auf Dokumente angewendet.
  Sie wird  ausschließlich von der Ausleitungsmethode :guilabel:`(Rekursives) Ausleiten aus der Komponentenstruktur`
  verwendet.
  Für referenzierte Dokumente, auf die die Regel zutrifft, wird keine eigene Stückliste erzeugt.
  Bei der Definition von Prädikaten muss der :guilabel:`Typ`
  ``cs.documents.Document`` ausgewählt werden.

Zur Definition von Objektregeln siehe :guilabel:`CONTACT Elements Plattform: Administration und Konfiguration`.


Ignorieren von Varianten durch Objektregeln
###########################################

Bei einigen CAD-System kann es erwünscht sein, dass bestimmte Varianten bei der
Stücklistenausleitung ignoriert werden. Insbesondere soll dann auch keine
Warnung oder Fehlermeldung angezeigt werden, wenn einer solchen Variante kein
Artikel zugewiesen wurde.

Zu diesem Zweck gibt es zwei Objektregeln:

- ``BOM: Ignore Variant``: CAD-Varianten, auf die diese Regel zutrifft, werden
  bei der Ermittlung der verbauten Komponente immer ignoriert.
  Stattdessen wird die Hauptbaugruppe (Artikel des CAD-Dokuments) benutzt.

- ``BOM: Ignore Singleton Variant``: CAD-Varianten, auf die diese Regel
  zutrifft, werden ignoriert, falls es nur eine einzige Variante für das
  betreffende Modell gibt. In der Standardkonfiguration ist diese Regel so
  konfiguriert, dass solche Varianten für das CAD-Systems SolidWorks
  herausgefiltert werden.

Bei der Definition von Prädikaten muss der :guilabel:`Typ`
``cs.vp.cad.CADVariant`` ausgewählt werden. Zur Definition der Terme können neben
den Attributen der Variante selbst auch die Attribute des CAD-Dokuments
herangezogen werden.

Diese Regeln werden von den Ausleitungsmethoden
:guilabel:`(Rekursives) Ausleiten aus der Komponentenstruktur` und
:guilabel:`Auslesen aus der Appinfo, mit Dokument-Referenzen` ausgewertet.
