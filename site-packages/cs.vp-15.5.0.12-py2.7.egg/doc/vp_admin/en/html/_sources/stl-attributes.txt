.. _`stl-attributes`:

Allgemeines
###########

Ein Artikel (ein Objekt der Klasse ``part``) ist
gleichzeitig der Stücklistenkopf. Ihm sind Stücklistenpositionen (Objekte
der Klasse ``bom_item``) zugeordnet.

Beim Ermitteln der Stückliste verwendet das System in der Regel eine der
Beziehungen aus dem *Beziehungsverzeichnis*, deren Name mit
``CDB::Relationship::STL`` beginnt. Bei diesen
Beziehungen gibt es die Besonderheit, dass aus Performancegründen kein
SQL-Select-Statement abgesetzt wird, wenn das
Attribut ``baugruppenart`` der
Klasse ``part`` leer ist. Stattdessen nimmt das System in
einem solchen Fall an, das es keine Stückliste zum Artikel gibt.

Das Systen selbst belegt das
Attribut beim Anlegen der ersten Stücklistenposition zu einem Artikel
automatisch mit dem Wert ``Baugruppe``.

.. note:: 

   Insbesondere bei einer Datenübernahme aus einem Fremdsystem ist darauf
   zu achten, dass das
   Datenbankattribut ``teile_stamm.baugruppe`` für
   Artikel mit Stückliste den Wert ``Baugruppe`` erhält -
   ansonsten ist die Stückliste ggf. nicht sichtbar.

.. toctree::
   :maxdepth: 2