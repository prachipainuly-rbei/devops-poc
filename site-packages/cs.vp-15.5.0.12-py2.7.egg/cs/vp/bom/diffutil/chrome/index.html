<metal:page use-macro="global_macros['cdb_welcome_page_layout']"
            tal:define="body_responsive_class 'cdb-responsive-normal';
                        cdbicon 'cdbvp_elink_diffutil';
                        no_title_bar True;
                        ">
<html>
    <head>
      <metal:head fill-slot="lib_block">
          <meta http-equiv="X-UA-Compatible" content="${x_ua_compaitble|'IE=9'}" />

        <link href="${options.css}less/cdb.css" rel="stylesheet" type="text/css" />
          <tal:useless condition="cdblessfile|nothing">
            <link href="${cdblessfile}" title="cdb.css" rel="stylesheet/less" type="text/less" />
            <style id="less:cdb.css" type="text/css"></style>
          </tal:useless>
          <script src="${options.localres}jquery-1.11.0.min.js" type="text/javascript"></script>
          <script src="${options.localres}jquery-ui.min.js"></script>
          <script src="${options.jscript}bootstrap.min.js" type="text/javascript"></script>
          <script src="${options.jscript}bootstrap.cdb.js" type="text/javascript"></script>
          <script src="${options.jscript}jquery/jquery.placeholder.min.js" type="text/javascript"></script>
          <script src="${options.jscript}jquery/jquery.cookie.js" type="text/javascript"></script>
          <script src="${options.localres}jquery.mousewheel.js" type="text/javascript"></script>
          <script src="${options.localres}antiscroll.js" type="text/javascript"></script>
      </metal:head>

      <metal:head fill-slot="head_block">
          <link rel="stylesheet" href="${options.localres}antiscroll.css" />
          <link rel="stylesheet" href="${options.localres}ember-table.css" />
          <link rel="stylesheet" href="${options.localres}component.css" />
          <link rel="stylesheet" href="${options.localres}app.css" />
          <script src="${options.localres}handlebars.js"></script>
          <!-- <script src="${options.localres}ember.js"></script> -->
          <script src="${options.localres}ember.min.js"></script>
          <script src="${options.localres}ember-table.js"></script>
      </metal:head>
    </head>
    <body>
        <metal:tabs fill-slot="page_title_content">
        </metal:tabs>
        <metal:tabs fill-slot="page_content">
        <div tal:omit-tag="1" tal:condition="error_msg==None">
            <div class="contain" id="diffutil"
                 data-template-url-root="${template_url_root}"
                 data-api-url-root="${api_root}"
                 data-app-data="${app_data if app_data is not None else ''}">
            </div>
            <script type="text/javascript">
                window.diffutilLabels = $.parseJSON('${labels}');
                window.statecolors = $.parseJSON('${statecolors}');
                window.product_object_id = '${product_object_id}';
                window.variant = $.parseJSON('${variant}');
                window.signature = '${signature}';
                window.urlpaths = {
                    localres: '${options.localres}',
                    preview: '${previewurl}'
                };
            </script>

            <!-- Compiled code and Handlebars templates
                 Use 'grunt watch' to dinamically generate it during
                 developing
             -->
            <script src="${options.localres}app-built.js"></script>
        </div>
        <div tal:omit-tag="1" tal:condition="error_msg!=None">
            <div class="main alert alert-error">
                ${error_msg}
            </div>
        </div>
        </metal:tabs>
    </body>
</html>
</metal:page>
