App.PreviewControlComponent = Ember.Component.extend({
    classNames: ['container-fluid', 'diffutil-preview-control-row'],
    toplabel: function() {
        var title = this.get('title');
        var description = this.get('description');
        if (title && description) {
            return this.get('labels.cdbvp_diffutil_selected_element') + ': ' +
                this.get('title') + ' / ' + this.get('description');
        } else {
            return this.get('placeholder');
        }
    }.property('title', 'description'),

    previewMode: null,
    preview2D: function() {
        return this.get('previewMode') === '2D';
    }.property('previewMode'),
    preview3D: function() {
        return this.get('previewMode') === '3D';
    }.property('previewMode'),

    sync3DIcon: function() {
        return this.get('urlpaths.localres') + 'synch_threed.png'
    }.property(),

    threedSynchUrl: function () {
        if (this.get('threedUrl.isFulfilled')) {
            return this.get('threedUrl.url');
        }
    }.property('threedUrl.isFulfilled'),

    actions: {
        refreshAll: function(){
          this.sendAction(this.get('refreshAll'));
        },
        setPreviewMode: function(mode) {
            this.set('previewMode',
                this.get('previewMode') === mode ? null : mode);
        }
    }
});
