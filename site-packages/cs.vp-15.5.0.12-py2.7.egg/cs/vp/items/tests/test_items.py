# -*- mode: python; coding: utf-8 -*-
#
# Copyright (C) 1990 - 2016 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/

"""
Module test_items

This is the documentation for the test_items module.
"""

__docformat__ = "restructuredtext en"
__revision__ = "$Id: test_items.py 146879 2016-09-28 13:23:22Z gda $"

# Some imports
from cdb import testcase
from cdb.objects import operations

from cs.vp import items

ITEM_CATEGORY = "Baukasten"


def generateItem(**args):
    item_args = dict(
        benennung="Blech",
        t_kategorie=ITEM_CATEGORY,
        t_bereich="Engineering",
        mengeneinheit="qm",
        **args
    )
    return operations.operation(
        "CDB_Create",
        items.Item,
        **item_args
    )


class ItemTests(testcase.RollbackTestCase):
    def test_set_cdb_objektart(self):
        """The attribute cdb_objektart is automatically set when creating items not interactively"""
        item = generateItem()
        self.assertIsNotNone(item.cdb_objektart, "cdb_objektart is None")
        self.assertNotEqual(item.cdb_objektart, "", "cdb_objektart is empty")
