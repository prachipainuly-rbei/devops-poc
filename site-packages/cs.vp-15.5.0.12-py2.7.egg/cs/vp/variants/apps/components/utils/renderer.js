import React from 'react';
import PropTypes from 'prop-types';
import {Glyphicon} from 'react-bootstrap';

export class RestObjectStatusIcon extends React.Component {
    render() {
        const iconStyle = () => {
            const fillColor = this.props.fillColor ? this.props.fillColor : 'white';
            const borderColor = this.props.borderColor ? this.props.borderColor : 'black';
            return {
                backgroundColor: fillColor,
                border: '1px solid ' + borderColor
            };
        };
        return (
            <div className="object-status-icon">
                <div className="state-icon" style={iconStyle()} />
            </div>
        );
    }
}

RestObjectStatusIcon.propTypes = {
    borderColor: PropTypes.string,
    fillColor: PropTypes.string.isRequired
};

export class RestObjectRenderer extends React.Component {
    render() {
        const statusIcon = this.props.statusIcon ?
            (<RestObjectStatusIcon {...this.props.statusIcon} />) : undefined;
        const icon = this.props.glyph !== undefined ?
            (<Glyphicon glyph={this.props.glyph} />) :
            (<img className="object-icon" src={this.props.iconSrc}/>);

        return (
            <div className={this.props.cssClasses}>
                <span>{icon}</span>
                <span>{statusIcon}</span>
                <span className="object-label" title={this.props.description}>
                    {this.props.description}
                </span>
            </div>
        );
    }
}

RestObjectRenderer.propTypes = {
    cssClasses: PropTypes.string,
    description: PropTypes.string.isRequired,
    glyph: PropTypes.string,
    iconSrc: PropTypes.string,
    statusIcon: PropTypes.object
};
