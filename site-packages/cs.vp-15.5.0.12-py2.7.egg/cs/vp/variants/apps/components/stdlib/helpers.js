/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: helpers.js 164057 2017-08-28 11:55:14Z gda $"
 */

export function referencedObjects(state, object, relshipName) {
    const relshipId = object.get('system:relships').get('relships').get(relshipName);
    const refVal = state.relshipsById.get(relshipId);

    if (refVal === undefined || refVal === null) {
        return undefined;
    }

    if (typeof refVal === 'string') {
        return state.objectsById.get(refVal);
    }

    return refVal
        .map(ref => state.objectsById.get(ref))
        .filter(obj => obj !== undefined);
}
