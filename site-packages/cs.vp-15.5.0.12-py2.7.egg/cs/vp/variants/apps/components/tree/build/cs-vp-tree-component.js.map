{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///cs-vp-tree-component.js","webpack:///webpack/bootstrap 9778b0438e7d5ec27215","webpack:///external \"cs-vp-utils\"","webpack:///webpack/cs-vp-tree-component/tree-actions.js","webpack:///external \"Immutable\"","webpack:///external \"cs-web-components-externals\"","webpack:///webpack/cs-vp-tree-component/index.js","webpack:///webpack/cs-vp-tree-component/tree-components.js","webpack:///external \"React\"","webpack:///c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/prop-types/index.js","webpack:///c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/prop-types/factoryWithThrowingShims.js","webpack:///c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/prop-types/lib/ReactPropTypesSecret.js","webpack:///external \"ReactBootstrap\"","webpack:///c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/keymaster/keymaster.js","webpack:///external \"jQuery\"","webpack:///./components.css?958f","webpack:///webpack/cs-vp-tree-component/components.css","webpack:///c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/sqlite/node_modules/css-loader/lib/css-base.js","webpack:///webpack/cs-vp-tree-component/search_icon.png","webpack:///c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/sqlite/node_modules/style-loader/addStyles.js","webpack:///webpack/cs-vp-tree-component/tree-reducers.js"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE_0__","__WEBPACK_EXTERNAL_MODULE_2__","__WEBPACK_EXTERNAL_MODULE_3__","__WEBPACK_EXTERNAL_MODULE_6__","__WEBPACK_EXTERNAL_MODULE_10__","__WEBPACK_EXTERNAL_MODULE_12__","modules","__webpack_require__","moduleId","installedModules","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","toggleTreeNode","containerId","id","type","TOGGLE_TREE_NODE","updateTreeNode","node","UPDATE_TREE_NODE","selectTreeNode","callback","selectTreeNodeById","content","dispatch","undefined","SELECT_TREE_NODE","expandTreeNode","EXPAND_TREE_NODE","navigateTreeNode","namespace","searchId","navigatedIdx","getState","state","search","getIn","nodeForIdx","gen","TreeTools","walkTopDownDepthFirst","searchMatchingIdx","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","child","value","err","return","nodeForIdxId","parent","_getParent","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","toArray","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","setNavigatedTreeNodeIdx","SET_NAVIGATED_TREE_NODE","searchTree","searchCondition","idFieldPath","idFieldPathList","matchedNodeIds","matches","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","push","setSearchResult","resultCnt","resultCount","length","_setSearchResult","setInitialTreeState","SET_INITIAL_TREE_STATE","activateKey","key","rootNode","selectedId","getSelected","iterate","Immutable","List","walkTopDownDepthFirstCustom","previous","selected","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","getParent","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","_getSelected","children","size","SET_SEARCH_RESULT","SEARCH_TREE","ACTIVE_KEYS","_immutable","_immutable2","obj","default","_csVpUtils","containerize","result","entries","_step$value","_slicedToArray","actions","reducer","sliceIterator","arr","_arr","_n","_d","_e","_s","_i","Array","isArray","TypeError","_csWebComponentsExternals","connect","tree","TreeContainer","_treeActions","_treeComponents","_treeReducers","_treeReducers2","_interopRequireDefault","_classCallCheck","instance","Constructor","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","create","constructor","writable","setPrototypeOf","__proto__","TreeNode","TreeContainerNavigation","TreeContainerSearchBox","TreeNodeDefaultRenderer","_extends","assign","target","arguments","source","_createClass","defineProperties","props","descriptor","protoProps","staticProps","_react","_react2","_propTypes","_propTypes2","_reactBootstrap","_keymaster","_keymaster2","_jquery","_jquery2","_React$Component","getPrototypeOf","apply","createElement","className","React","Component","propTypes","ImmutablePropTypes","map","isRequired","defaultProps","keys","_React$Component2","e","preventDefault","search_field","_this3","searchIcon","onSubmit","updateSearchResult","bind","FormGroup","InputGroup","FormControl","toJS","inputRef","tabIndex","Addon","PropTypes","func","number","_React$Component3","_props","onSelection","newIndex","_props2","position","positionStr","navigationCSSClasses","Glyphicon","glyph","onClick","navigatePrevious","navigateNext","string","function","_React$Component4","element","scrollIntoViewIfNeeded","scrollContainer","_this6","activeKeys","shortCut","event","_props3","hasFocus","keyBlacklistSelector","is","initTree","_this7","searchNavigations","entrySeq","_search2","val","searchBox","searchNavigation","treeClassName","ref","scrollToNode","focusId","bool","_React$Component5","scrollTarget","_props4","_props5","nextProps","current_node","next_node","_ifSelectedScrollToMe","_this9","expanded","has_children","treeIcon","contentClasses","forEach","nodeId","indexOf","customRenderer","treeNodeRenderer","loading","child_rendering","loader","aria-expanded","join","NodeRendererComponent","instanceOf","component","isOptional","emptyFunction","ReactPropTypesSecret","shim","propName","componentName","location","propFullName","secret","Error","getShim","ReactPropTypes","array","symbol","any","arrayOf","objectOf","oneOf","oneOfType","shape","exact","checkPropTypes","global","index","item","compareArray","a1","a2","updateModifierKey","k","_mods","modifierMap","handler","modifiersMatch","scope","keyCode","_downKeys","_MODIFIERS","assignKey","filter","_handlers","getScope","mods","method","returnValue","stopPropagation","cancelBubble","clearModifier","splice","resetModifiers","getKeys","split","getMods","code","shortcut","unbindKey","multipleKeys","j","isPressed","getPressedKeyCodes","slice","tagName","srcElement","setScope","_scope","deleteScope","handlers","replace","mi","addEvent","addEventListener","attachEvent","window","noConflict","previousKey","16","18","17","91","⇧","shift","⌥","alt","option","⌃","ctrl","control","⌘","command","_MAP","backspace","tab","clear","enter","esc","escape","space","left","up","right","down","del","delete","home","end","pageup","pagedown",",",".","/","`","-","=",";","'","[","]","\\","x","toUpperCase","charCodeAt","document","unbind","locals","list","toString","mediaQuery","alreadyImportedModules","addStylesToDom","styles","options","domStyle","stylesInDom","refs","parts","addStyle","listToStyles","newStyles","css","media","sourceMap","part","insertStyleElement","styleElement","head","getHeadElement","lastStyleElementInsertedAtTop","styleElementsInsertedAtTop","insertAt","nextSibling","insertBefore","appendChild","firstChild","removeStyleElement","parentNode","removeChild","idx","createStyleElement","createLinkElement","linkElement","rel","update","remove","singleton","styleIndex","singletonCounter","singletonElement","applyToSingletonTag","URL","createObjectURL","revokeObjectURL","Blob","btoa","updateLink","href","applyToTag","newObj","styleSheet","cssText","replaceText","cssNode","createTextNode","childNodes","setAttribute","unescape","encodeURIComponent","JSON","stringify","blob","oldSrc","memoize","fn","memo","isOldIE","test","navigator","userAgent","toLowerCase","getElementsByTagName","DEBUG","newList","mayRemove","textStore","replacement","Boolean","action","__reducer__","initialState","visitAndUpdate","visitor","visitTopDownDepthFirst","set","newNode","selection_matching_classes","_visit","visit","match","immutableNode","visitChildren","expand","some","setIn","newState","fromJS","searchField","placeholder","searchAction","searches","fetchNodeChildren","setInitialState","_len","reducers","_key","reduce","lhs","rhs","Map"],"mappings":"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","file":"cs-vp-tree-component.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-vp-utils\"), require(\"Immutable\"), require(\"cs-web-components-externals\"), require(\"React\"), require(\"ReactBootstrap\"), require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-vp-utils\", \"Immutable\", \"cs-web-components-externals\", \"React\", \"ReactBootstrap\", \"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-vp-tree-component\"] = factory(require(\"cs-vp-utils\"), require(\"Immutable\"), require(\"cs-web-components-externals\"), require(\"React\"), require(\"ReactBootstrap\"), require(\"jQuery\"));\n\telse\n\t\troot[\"cs-vp-tree-component\"] = factory(root[\"cs-vp-utils\"], root[\"Immutable\"], root[\"cs-web-components-externals\"], root[\"React\"], root[\"ReactBootstrap\"], root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_12__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"cs-vp-utils\"), require(\"Immutable\"), require(\"cs-web-components-externals\"), require(\"React\"), require(\"ReactBootstrap\"), require(\"jQuery\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"cs-vp-utils\", \"Immutable\", \"cs-web-components-externals\", \"React\", \"ReactBootstrap\", \"jQuery\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"cs-vp-tree-component\"] = factory(require(\"cs-vp-utils\"), require(\"Immutable\"), require(\"cs-web-components-externals\"), require(\"React\"), require(\"ReactBootstrap\"), require(\"jQuery\"));\n\telse\n\t\troot[\"cs-vp-tree-component\"] = factory(root[\"cs-vp-utils\"], root[\"Immutable\"], root[\"cs-web-components-externals\"], root[\"React\"], root[\"ReactBootstrap\"], root[\"jQuery\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__, __WEBPACK_EXTERNAL_MODULE_2__, __WEBPACK_EXTERNAL_MODULE_3__, __WEBPACK_EXTERNAL_MODULE_6__, __WEBPACK_EXTERNAL_MODULE_10__, __WEBPACK_EXTERNAL_MODULE_12__) {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 4);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.UPDATE_TREE_NODE = exports.SET_INITIAL_TREE_STATE = exports.SET_SEARCH_RESULT = exports.SEARCH_TREE = exports.ACTIVE_KEYS = exports.SELECT_TREE_NODE = exports.TOGGLE_TREE_NODE = exports.SET_NAVIGATED_TREE_NODE = exports.EXPAND_TREE_NODE = undefined;\nexports.toggleTreeNode = toggleTreeNode;\nexports.updateTreeNode = updateTreeNode;\nexports.selectTreeNode = selectTreeNode;\nexports.selectTreeNodeById = selectTreeNodeById;\nexports.expandTreeNode = expandTreeNode;\nexports.navigateTreeNode = navigateTreeNode;\nexports.setNavigatedTreeNodeIdx = setNavigatedTreeNodeIdx;\nexports.searchTree = searchTree;\nexports.setSearchResult = setSearchResult;\nexports.setInitialTreeState = setInitialTreeState;\nexports.activateKey = activateKey;\n\nvar _immutable = __webpack_require__(2);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csVpUtils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar EXPAND_TREE_NODE = exports.EXPAND_TREE_NODE = 'EXPAND_TREE_NODE';\nvar SET_NAVIGATED_TREE_NODE = exports.SET_NAVIGATED_TREE_NODE = 'SET_NAVIGATED_TREE_NODE';\nvar TOGGLE_TREE_NODE = exports.TOGGLE_TREE_NODE = 'TOGGLE_TREE_NODE';\nvar SELECT_TREE_NODE = exports.SELECT_TREE_NODE = 'SELECT_TREE_NODE';\nvar ACTIVE_KEYS = exports.ACTIVE_KEYS = 'ACTIVE_KEYS';\nvar SEARCH_TREE = exports.SEARCH_TREE = 'SEARCH_TREE';\nvar SET_SEARCH_RESULT = exports.SET_SEARCH_RESULT = 'SET_SEARCH_RESULT';\nvar SET_INITIAL_TREE_STATE = exports.SET_INITIAL_TREE_STATE = 'SET_INITIAL_TREE_STATE';\nvar UPDATE_TREE_NODE = exports.UPDATE_TREE_NODE = 'UPDATE_TREE_NODE';\n\n/*\r\n * action factories take containerId and return\r\n   specific action for specific containerInstance\r\n */\nfunction toggleTreeNode(containerId) {\n    return function (id) {\n        return {\n            type: TOGGLE_TREE_NODE,\n            id: id,\n            containerId: containerId\n        };\n    };\n}\n\nfunction updateTreeNode(containerId) {\n    return function (node, id) {\n        return {\n            type: UPDATE_TREE_NODE,\n            id: id,\n            node: node,\n            containerId: containerId\n        };\n    };\n}\n\nfunction selectTreeNode(containerId) {\n    return function (node, callback) {\n        return selectTreeNodeById(containerId)(node.get('id'), node.get('content'), callback);\n    };\n}\n\nfunction selectTreeNodeById(containerId) {\n    return function (id, content, callback) {\n        return function (dispatch) {\n            if (callback !== undefined) {\n                callback(id);\n            }\n\n            dispatch({\n                type: SELECT_TREE_NODE,\n                id: id,\n                content: content,\n                containerId: containerId\n            });\n        };\n    };\n}\n\nfunction expandTreeNode(containerId) {\n    return function (id) {\n        return {\n            type: EXPAND_TREE_NODE,\n            id: id,\n            containerId: containerId\n        };\n    };\n}\n\nfunction navigateTreeNode(containerId, namespace) {\n    return function (searchId, navigatedIdx, callback) {\n        return function (dispatch, getState) {\n            var state = getState()[namespace][containerId];\n            var search = state.getIn(['searches', searchId]);\n            if (search.get('resultCnt') > 0) {\n                // do not try to navigate when no results are available\n                var getNodeBySearchIdx = function getNodeBySearchIdx() {\n                    var gen = _csVpUtils.TreeTools.walkTopDownDepthFirst(state.get('node'));\n                    var searchMatchingIdx = 0;\n                    var _iteratorNormalCompletion = true;\n                    var _didIteratorError = false;\n                    var _iteratorError = undefined;\n\n                    try {\n                        for (var _iterator = gen[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                            var child = _step.value;\n\n                            if (search.get('match')(child, search.get('searchCondition'))) {\n                                if (searchMatchingIdx === navigatedIdx) {\n                                    return child;\n                                }\n                                searchMatchingIdx++;\n                            }\n                        }\n                    } catch (err) {\n                        _didIteratorError = true;\n                        _iteratorError = err;\n                    } finally {\n                        try {\n                            if (!_iteratorNormalCompletion && _iterator.return) {\n                                _iterator.return();\n                            }\n                        } finally {\n                            if (_didIteratorError) {\n                                throw _iteratorError;\n                            }\n                        }\n                    }\n\n                    return undefined;\n                };\n                var nodeForIdx = getNodeBySearchIdx();\n                var nodeForIdxId = nodeForIdx ? nodeForIdx.get('id') : undefined;\n                var getParent = function getParent() {\n                    var _getParent = function _getParent(node) {\n                        var _iteratorNormalCompletion2 = true;\n                        var _didIteratorError2 = false;\n                        var _iteratorError2 = undefined;\n\n                        try {\n                            for (var _iterator2 = node.get('children').toArray()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                                var child = _step2.value;\n\n                                if (child.get('id') === nodeForIdxId) {\n                                    return node;\n                                }\n                            }\n                        } catch (err) {\n                            _didIteratorError2 = true;\n                            _iteratorError2 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                                    _iterator2.return();\n                                }\n                            } finally {\n                                if (_didIteratorError2) {\n                                    throw _iteratorError2;\n                                }\n                            }\n                        }\n\n                        var parent = void 0;\n                        var _iteratorNormalCompletion3 = true;\n                        var _didIteratorError3 = false;\n                        var _iteratorError3 = undefined;\n\n                        try {\n                            for (var _iterator3 = node.get('children').toArray()[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                                var _child = _step3.value;\n\n                                parent = _getParent(_child);\n                                if (parent !== undefined) {\n                                    return parent;\n                                }\n                            }\n                        } catch (err) {\n                            _didIteratorError3 = true;\n                            _iteratorError3 = err;\n                        } finally {\n                            try {\n                                if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                                    _iterator3.return();\n                                }\n                            } finally {\n                                if (_didIteratorError3) {\n                                    throw _iteratorError3;\n                                }\n                            }\n                        }\n\n                        return undefined;\n                    };\n\n                    return _getParent(state.get('node'));\n                };\n                var parent = getParent();\n                if (nodeForIdxId) {\n                    if (parent) {\n                        dispatch(expandTreeNode(containerId)(parent.get('id')));\n                    }\n                    dispatch(setNavigatedTreeNodeIdx(containerId)(searchId, navigatedIdx));\n                    dispatch(selectTreeNode(containerId)(nodeForIdx, callback));\n                }\n            }\n        };\n    };\n}\n\nfunction setNavigatedTreeNodeIdx(containerId) {\n    return function (searchId, navigatedIdx) {\n        return {\n            type: SET_NAVIGATED_TREE_NODE,\n            searchId: searchId,\n            navigatedIdx: navigatedIdx,\n            containerId: containerId\n        };\n    };\n}\n\nfunction searchTree(containerId, namespace) {\n    return function (searchCondition, searchId, search, idFieldPath) {\n        var idFieldPathList = idFieldPath ? idFieldPath : ['id'];\n        return function (dispatch, getState) {\n            var state = getState()[namespace][containerId];\n            var search = state.getIn(['searches', searchId]);\n            var getMatchingNodeIds = function getMatchingNodeIds() {\n                var gen = _csVpUtils.TreeTools.walkTopDownDepthFirst(state.get('node'));\n                var matches = [];\n                var _iteratorNormalCompletion4 = true;\n                var _didIteratorError4 = false;\n                var _iteratorError4 = undefined;\n\n                try {\n                    for (var _iterator4 = gen[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                        var child = _step4.value;\n\n                        if (search.get('match')(child, searchCondition)) {\n                            matches.push(child.getIn(idFieldPathList));\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError4 = true;\n                    _iteratorError4 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                            _iterator4.return();\n                        }\n                    } finally {\n                        if (_didIteratorError4) {\n                            throw _iteratorError4;\n                        }\n                    }\n                }\n\n                return matches;\n            };\n            var matchedNodeIds = getMatchingNodeIds();\n            dispatch(setSearchResult(containerId, namespace)(searchCondition, searchId, search, matchedNodeIds, idFieldPathList));\n            return matchedNodeIds;\n        };\n    };\n}\n\nvar _setSearchResult = function _setSearchResult(containerId) {\n    return function (searchCondition, searchId, search, matchedNodeIds, idFieldPathList, resultCount) {\n        return {\n            type: SET_SEARCH_RESULT,\n            searchId: searchId,\n            searchCondition: searchCondition,\n            search: search,\n            matchedNodeIds: matchedNodeIds,\n            idFieldPathList: idFieldPathList,\n            resultCnt: resultCount,\n            containerId: containerId\n        };\n    };\n};\n\nfunction setSearchResult(containerId, namespace) {\n    return function (searchCondition, searchId, search, matchedNodeIds, idFieldPath, resultCnt) {\n        var idFieldPathList = idFieldPath ? idFieldPath : ['id'];\n        var resultCount = resultCnt ? resultCnt : matchedNodeIds ? matchedNodeIds.length : 0;\n        return function (dispatch) {\n            if (searchId !== undefined) {\n                dispatch(_setSearchResult(containerId)(searchCondition, searchId, search, matchedNodeIds, idFieldPathList, resultCount));\n                dispatch(navigateTreeNode(containerId, namespace)(searchId, 0));\n            }\n        };\n    };\n}\n\nfunction setInitialTreeState(containerId) {\n    return function (state) {\n        return {\n            type: SET_INITIAL_TREE_STATE,\n            state: state,\n            containerId: containerId\n        };\n    };\n}\n\nfunction activateKey(containerId) {\n    return function (key, rootNode, selectedId, callback) {\n        // get the selected node with its previous and next visible nodes\n        var getSelected = function getSelected() {\n            // iterate only on visible nodes\n            var iterate = function iterate(node) {\n                return node.get('expanded') ? node.get('children') : _immutable2.default.List();\n            };\n            var gen = _csVpUtils.TreeTools.walkTopDownDepthFirstCustom(iterate)(rootNode);\n\n            var previous = void 0,\n                selected = void 0,\n                next = void 0;\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n                for (var _iterator5 = gen[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                    var child = _step5.value;\n\n                    if (child.get('id') === selectedId) {\n                        selected = child;\n                        next = gen.next().value;\n                        break;\n                    }\n                    previous = child;\n                }\n            } catch (err) {\n                _didIteratorError5 = true;\n                _iteratorError5 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion5 && _iterator5.return) {\n                        _iterator5.return();\n                    }\n                } finally {\n                    if (_didIteratorError5) {\n                        throw _iteratorError5;\n                    }\n                }\n            }\n\n            return {\n                previous: previous,\n                selected: selected,\n                next: next\n            };\n        };\n\n        var getParent = function getParent() {\n            var _getParent = function _getParent(node) {\n                var _iteratorNormalCompletion6 = true;\n                var _didIteratorError6 = false;\n                var _iteratorError6 = undefined;\n\n                try {\n                    for (var _iterator6 = node.get('children')[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                        var child = _step6.value;\n\n                        if (child.get('id') === selectedId) {\n                            return node;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError6 = true;\n                    _iteratorError6 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion6 && _iterator6.return) {\n                            _iterator6.return();\n                        }\n                    } finally {\n                        if (_didIteratorError6) {\n                            throw _iteratorError6;\n                        }\n                    }\n                }\n\n                var parent = void 0;\n                var _iteratorNormalCompletion7 = true;\n                var _didIteratorError7 = false;\n                var _iteratorError7 = undefined;\n\n                try {\n                    for (var _iterator7 = node.get('children')[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                        var _child2 = _step7.value;\n\n                        parent = _getParent(_child2);\n                        if (parent !== undefined) {\n                            return parent;\n                        }\n                    }\n                } catch (err) {\n                    _didIteratorError7 = true;\n                    _iteratorError7 = err;\n                } finally {\n                    try {\n                        if (!_iteratorNormalCompletion7 && _iterator7.return) {\n                            _iterator7.return();\n                        }\n                    } finally {\n                        if (_didIteratorError7) {\n                            throw _iteratorError7;\n                        }\n                    }\n                }\n\n                return undefined;\n            };\n\n            return _getParent(rootNode);\n        };\n\n        return function (dispatch) {\n            var _getSelected = getSelected(),\n                previous = _getSelected.previous,\n                selected = _getSelected.selected,\n                next = _getSelected.next;\n\n            switch (key) {\n                // Up and down arrow keys move between visible nodes\n                case 'down':\n                    if (next) {\n                        dispatch(selectTreeNode(containerId)(next, callback));\n                    }\n                    break;\n                case 'up':\n                    if (previous) {\n                        dispatch(selectTreeNode(containerId)(previous, callback));\n                    }\n                    break;\n                case 'left':\n                    if (selected) {\n                        if (selected.get('expanded')) {\n                            // Left arrow key on an expanded node closes the node\n                            dispatch(toggleTreeNode(containerId)(selectedId));\n                        } else {\n                            // Left arrow key on a closed or end node moves focus to the node's parent\n                            var parent = getParent();\n                            if (parent) {\n                                dispatch(selectTreeNode(containerId)(parent, callback));\n                            }\n                        }\n                    }\n                    break;\n                case 'right':\n                    if (selected) {\n                        if (selected.get('expanded')) {\n                            // Right arrow key moves to the first child of an open node\n                            var children = selected.get('children');\n                            if (children && children.size > 0) {\n                                dispatch(selectTreeNode(containerId)(children.get(0), callback));\n                            }\n                        } else {\n                            // expands a closed node\n                            dispatch(toggleTreeNode(containerId)(selectedId));\n                        }\n                        // or does nothing on an end node\n                    }\n                    break;\n            }\n        };\n    };\n}\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.reducer = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }(); /*\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Copyright (C) 2015 CONTACT Software GmbH\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * All rights reserved.\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * http://www.contact-software.com\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          *\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          * Revision \"$Id: index.js 164296 2017-08-31 12:39:57Z gda $\"\r\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          */\n\nexports.actions = actions;\n\nexports.default = function (namespace, containerId) {\n    return (0, _csWebComponentsExternals.connect)(function (state) {\n        return { tree: state[namespace][containerId] };\n    }, actions(namespace, containerId))(_treeComponents.TreeContainer);\n};\n\nvar _treeActions = __webpack_require__(1);\n\nvar _treeComponents = __webpack_require__(5);\n\nvar _treeReducers = __webpack_require__(18);\n\nvar _treeReducers2 = _interopRequireDefault(_treeReducers);\n\nvar _csWebComponentsExternals = __webpack_require__(3);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction containerize(obj, namespace, containerId) {\n    var result = {};\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = Object.entries(obj)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _step$value = _slicedToArray(_step.value, 2),\n                name = _step$value[0],\n                value = _step$value[1];\n\n            result[name] = value(containerId, namespace);\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n\n    return result;\n}\n\nfunction actions(namespace, containerId) {\n    return containerize({\n        toggleTreeNode: _treeActions.toggleTreeNode, selectTreeNode: _treeActions.selectTreeNode,\n        selectTreeNodeById: _treeActions.selectTreeNodeById,\n        expandTreeNode: _treeActions.expandTreeNode, navigateTreeNode: _treeActions.navigateTreeNode,\n        setNavigatedTreeNodeIdx: _treeActions.setNavigatedTreeNodeIdx, searchTree: _treeActions.searchTree,\n        setInitialTreeState: _treeActions.setInitialTreeState, activateKey: _treeActions.activateKey, updateTreeNode: _treeActions.updateTreeNode }, namespace, containerId);\n}\n\nexports.reducer = _treeReducers2.default;\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.TreeNode = exports.TreeContainer = exports.TreeContainerNavigation = exports.TreeContainerSearchBox = exports.TreeNodeDefaultRenderer = undefined;\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _react = __webpack_require__(6);\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _propTypes = __webpack_require__(7);\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _reactBootstrap = __webpack_require__(10);\n\nvar _csWebComponentsExternals = __webpack_require__(3);\n\nvar _keymaster = __webpack_require__(11);\n\nvar _keymaster2 = _interopRequireDefault(_keymaster);\n\nvar _jquery = __webpack_require__(12);\n\nvar _jquery2 = _interopRequireDefault(_jquery);\n\nvar _csVpUtils = __webpack_require__(0);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// jshint esversion:6\n__webpack_require__(13);\n\nvar TreeNodeDefaultRenderer = exports.TreeNodeDefaultRenderer = function (_React$Component) {\n    _inherits(TreeNodeDefaultRenderer, _React$Component);\n\n    function TreeNodeDefaultRenderer() {\n        _classCallCheck(this, TreeNodeDefaultRenderer);\n\n        return _possibleConstructorReturn(this, (TreeNodeDefaultRenderer.__proto__ || Object.getPrototypeOf(TreeNodeDefaultRenderer)).apply(this, arguments));\n    }\n\n    _createClass(TreeNodeDefaultRenderer, [{\n        key: 'render',\n        value: function render() {\n            return _react2.default.createElement(\n                'div',\n                { className: 'tree-node-renderer' },\n                this.props.node.get('content')\n            );\n        }\n    }]);\n\n    return TreeNodeDefaultRenderer;\n}(_react2.default.Component);\n\nTreeNodeDefaultRenderer.propTypes = {\n    node: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nTreeNodeDefaultRenderer.defaultProps = {\n    keys: {}\n};\n\nvar TreeContainerSearchBox = exports.TreeContainerSearchBox = function (_React$Component2) {\n    _inherits(TreeContainerSearchBox, _React$Component2);\n\n    function TreeContainerSearchBox() {\n        _classCallCheck(this, TreeContainerSearchBox);\n\n        return _possibleConstructorReturn(this, (TreeContainerSearchBox.__proto__ || Object.getPrototypeOf(TreeContainerSearchBox)).apply(this, arguments));\n    }\n\n    _createClass(TreeContainerSearchBox, [{\n        key: 'updateSearchResult',\n        value: function updateSearchResult(e) {\n            e.preventDefault();\n            var search = this.props.tree.get('searchField');\n            var value = this.search_field.value;\n            if (search.get('searchAction')) {\n                search.get('searchAction')(value, search.get('searchId'));\n            } else {\n                this.props.searchTree(value, search.get('searchId'), search, search.get('idFieldPathList'));\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this3 = this;\n\n            var search = this.props.tree.get('searchField');\n            var searchIcon = _react2.default.createElement('span', { className: 'icon-search' });\n            return _react2.default.createElement(\n                'form',\n                {\n                    className: 'tree-search-form',\n                    onSubmit: this.updateSearchResult.bind(this)\n                },\n                _react2.default.createElement(\n                    _reactBootstrap.FormGroup,\n                    null,\n                    _react2.default.createElement(\n                        _reactBootstrap.InputGroup,\n                        null,\n                        _react2.default.createElement(_reactBootstrap.FormControl, _extends({ className: 'tree-search-text', type: 'text'\n                        }, search.toJS(), {\n                            inputRef: function inputRef(search_field) {\n                                return _this3.search_field = search_field;\n                            },\n                            tabIndex: this.props.tabIndex\n                        })),\n                        _react2.default.createElement(\n                            _reactBootstrap.InputGroup.Addon,\n                            null,\n                            searchIcon\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return TreeContainerSearchBox;\n}(_react2.default.Component);\n\nTreeContainerSearchBox.propTypes = {\n    searchTree: _propTypes2.default.func.isRequired,\n    tabIndex: _propTypes2.default.number.isRequired,\n    tree: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nvar TreeContainerNavigation = exports.TreeContainerNavigation = function (_React$Component3) {\n    _inherits(TreeContainerNavigation, _React$Component3);\n\n    function TreeContainerNavigation() {\n        _classCallCheck(this, TreeContainerNavigation);\n\n        return _possibleConstructorReturn(this, (TreeContainerNavigation.__proto__ || Object.getPrototypeOf(TreeContainerNavigation)).apply(this, arguments));\n    }\n\n    _createClass(TreeContainerNavigation, [{\n        key: 'navigatePrevious',\n        value: function navigatePrevious() {\n            var _props = this.props,\n                navigateTreeNode = _props.navigateTreeNode,\n                navigatedIdx = _props.navigatedIdx,\n                resultCnt = _props.resultCnt,\n                searchId = _props.searchId,\n                onSelection = _props.onSelection;\n\n\n            var newIndex = 0;\n            if (navigatedIdx !== undefined && resultCnt > 0) {\n                newIndex = navigatedIdx > 0 ? navigatedIdx - 1 : resultCnt - 1;\n            }\n            navigateTreeNode(searchId, newIndex, onSelection);\n        }\n    }, {\n        key: 'navigateNext',\n        value: function navigateNext() {\n            var _props2 = this.props,\n                navigateTreeNode = _props2.navigateTreeNode,\n                navigatedIdx = _props2.navigatedIdx,\n                resultCnt = _props2.resultCnt,\n                searchId = _props2.searchId,\n                onSelection = _props2.onSelection;\n\n\n            var newIndex = 0;\n            if (navigatedIdx !== undefined && resultCnt > 0) {\n                newIndex = navigatedIdx < resultCnt - 1 ? navigatedIdx + 1 : 0;\n            }\n            navigateTreeNode(searchId, newIndex, onSelection);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            // work on indexes - show position (+1)\n            var position = this.props.navigatedIdx;\n            if (position !== undefined && this.props.resultCnt !== undefined && this.props.resultCnt > 0 && position >= 0) {\n                position++;\n            }\n            var positionStr = position + '/' + this.props.resultCnt;\n            var navigationCSSClasses = this.props.navigationCSSClasses ? 'tree-navigation ' + this.props.navigationCSSClasses : 'tree-navigation';\n            return _react2.default.createElement(\n                'div',\n                { className: navigationCSSClasses },\n                _react2.default.createElement(_reactBootstrap.Glyphicon, {\n                    glyph: 'chevron-left',\n                    onClick: this.navigatePrevious.bind(this)\n                }),\n                positionStr,\n                _react2.default.createElement(_reactBootstrap.Glyphicon, {\n                    glyph: 'chevron-right',\n                    onClick: this.navigateNext.bind(this)\n                })\n            );\n        }\n    }]);\n\n    return TreeContainerNavigation;\n}(_react2.default.Component);\n\nTreeContainerNavigation.propTypes = {\n    navigateTreeNode: _propTypes2.default.func.isRequired,\n    navigatedIdx: _propTypes2.default.number,\n    navigationCSSClasses: _propTypes2.default.string,\n    onSelection: _propTypes2.default.function,\n    resultCnt: _propTypes2.default.number,\n    searchId: _propTypes2.default.string.isRequired,\n    tree: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nTreeContainerNavigation.defaultProps = {\n    resultCnt: 0,\n    navigatedIdx: 0\n};\n\nvar TreeContainer = exports.TreeContainer = function (_React$Component4) {\n    _inherits(TreeContainer, _React$Component4);\n\n    function TreeContainer() {\n        _classCallCheck(this, TreeContainer);\n\n        return _possibleConstructorReturn(this, (TreeContainer.__proto__ || Object.getPrototypeOf(TreeContainer)).apply(this, arguments));\n    }\n\n    _createClass(TreeContainer, [{\n        key: 'scrollToNode',\n        value: function scrollToNode(element) {\n            return (0, _csVpUtils.scrollIntoViewIfNeeded)(this.scrollContainer)(element);\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var _this6 = this;\n\n            // Register key bindings\n            var activeKeys = ['left', 'up', 'right', 'down'];\n\n            var keyHandler = function keyHandler(key) {\n                return function (event) {\n                    var _props3 = _this6.props,\n                        activateKey = _props3.activateKey,\n                        hasFocus = _props3.hasFocus,\n                        tree = _props3.tree;\n\n                    var target = (0, _jquery2.default)(event.target);\n                    if (hasFocus) {\n                        if (_this6.props.keyBlacklistSelector === undefined || !target.is(_this6.props.keyBlacklistSelector)) {\n                            activateKey(key, tree.get('node'), tree.get('selectedId'));\n                        }\n                    }\n                    // prevent browser from scrolling\n                    event.preventDefault();\n                };\n            };\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                for (var _iterator = activeKeys[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    var shortCut = _step.value;\n\n                    (0, _keymaster2.default)(shortCut, keyHandler(shortCut));\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            if (this.props.hasOwnProperty('initTree')) {\n                this.props.setInitialTreeState(this.props.initTree);\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            var searchNavigations = [];\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n                for (var _iterator2 = this.props.tree.get('searches').entrySeq().toArray()[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                    var _search = _step2.value;\n\n                    var _search2 = _slicedToArray(_search, 2),\n                        _key = _search2[0],\n                        val = _search2[1];\n\n                    if (val.get('resultCnt') > 0) {\n                        searchNavigations.push(_react2.default.createElement(TreeContainerNavigation, {\n                            key: _key,\n                            navigateTreeNode: this.props.navigateTreeNode,\n                            navigatedIdx: val.get('navigatedIdx'),\n                            navigationCSSClasses: val.get('navigationCSSClasses'),\n                            onSelection: this.props.onSelection,\n                            resultCnt: val.get('resultCnt'),\n                            searchId: _key,\n                            tree: this.props.tree\n                        }));\n                    }\n                }\n            } catch (err) {\n                _didIteratorError2 = true;\n                _iteratorError2 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                        _iterator2.return();\n                    }\n                } finally {\n                    if (_didIteratorError2) {\n                        throw _iteratorError2;\n                    }\n                }\n            }\n\n            var search = this.props.tree.get('searchField');\n            var searchBox = search.get('visible') ? _react2.default.createElement(\n                'div',\n                { className: 'tree-search' },\n                _react2.default.createElement(TreeContainerSearchBox, _extends({}, this.props, { tabIndex: this.props.tabIndex + 1 }))\n            ) : undefined;\n            var searchNavigation = search.get('visible') ? _react2.default.createElement(\n                'div',\n                { className: 'tree-navigations' },\n                searchNavigations\n            ) : undefined;\n\n            var treeClassName = 'tree';\n            if (search.get('visible')) {\n                if (search.get('label')) {\n                    treeClassName = 'tree-with-search-and-label';\n                } else {\n                    treeClassName = 'tree-with-search';\n                }\n            }\n\n            return _react2.default.createElement(\n                'div',\n                {\n                    className: this.props.className + ' tree-container' + (this.props.hasFocus ? ' focus' : '')\n                },\n                searchBox,\n                searchNavigation,\n                _react2.default.createElement(\n                    'div',\n                    { className: treeClassName, ref: function ref(scrollContainer) {\n                            return _this7.scrollContainer = scrollContainer;\n                        } },\n                    _react2.default.createElement(TreeNode, _extends({}, this.props, {\n                        node: this.props.tree.get('node'),\n                        scrollToNode: this.scrollToNode.bind(this),\n                        tabIndex: this.props.tabIndex + 2\n                    }))\n                )\n            );\n        }\n    }]);\n\n    return TreeContainer;\n}(_react2.default.Component);\n\nTreeContainer.propTypes = {\n    activateKey: _propTypes2.default.function,\n    className: _propTypes2.default.string,\n    focusId: _propTypes2.default.number,\n    hasFocus: _propTypes2.default.bool,\n    initTree: _propTypes2.default.object,\n    keyBlacklistSelector: _propTypes2.default.string,\n    navigateTreeNode: _propTypes2.default.function,\n    onSelection: _propTypes2.default.function,\n    setInitialTreeState: _propTypes2.default.function,\n    tabIndex: _propTypes2.default.number,\n    tree: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nTreeContainer.defaultProps = {\n    className: '',\n    hasFocus: true\n};\n\nvar TreeNode = exports.TreeNode = function (_React$Component5) {\n    _inherits(TreeNode, _React$Component5);\n\n    function TreeNode() {\n        _classCallCheck(this, TreeNode);\n\n        return _possibleConstructorReturn(this, (TreeNode.__proto__ || Object.getPrototypeOf(TreeNode)).apply(this, arguments));\n    }\n\n    _createClass(TreeNode, [{\n        key: '_ifSelectedScrollToMe',\n        value: function _ifSelectedScrollToMe() {\n            var scrollToNode = this.props.scrollToNode;\n\n\n            if (this.selected()) {\n                scrollToNode(this.scrollTarget);\n            }\n        }\n    }, {\n        key: 'selected',\n        value: function selected() {\n            var _props4 = this.props,\n                node = _props4.node,\n                tree = _props4.tree;\n\n            return tree.get('selectedId') === node.get('id');\n        }\n    }, {\n        key: 'toggleTreeNode',\n        value: function toggleTreeNode() {\n            this.props.toggleTreeNode(this.props.node.get('id'));\n        }\n    }, {\n        key: 'selectTreeNode',\n        value: function selectTreeNode() {\n            var _props5 = this.props,\n                selectTreeNode = _props5.selectTreeNode,\n                node = _props5.node,\n                onSelection = _props5.onSelection;\n\n            selectTreeNode(node, onSelection);\n        }\n    }, {\n        key: 'componentWillReceiveProps',\n        value: function componentWillReceiveProps(nextProps) {\n            var current_node = this.props.node;\n            var next_node = nextProps.node;\n\n            if (!current_node.get('expanded') && next_node.get('expanded') && next_node.get('children').size === 0 && next_node.get('has_children')) {\n                this.props.tree.get('fetchNodeChildren')(next_node);\n            }\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            this._ifSelectedScrollToMe();\n        }\n    }, {\n        key: 'componentDidUpdate',\n        value: function componentDidUpdate() {\n            this._ifSelectedScrollToMe();\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this9 = this;\n\n            var node = this.props.node;\n\n            var children = node.get('children');\n            var expanded = node.get('expanded');\n            var has_children = node.get('has_children');\n\n            var treeIcon = _react2.default.createElement(\n                'div',\n                {\n                    className: 'tree-icon',\n                    onClick: this.toggleTreeNode.bind(this)\n                },\n                has_children ? _react2.default.createElement(_reactBootstrap.Glyphicon, { glyph: expanded ? 'chevron-down' : 'chevron-right' }) : undefined\n            );\n\n            var contentClasses = ['tree-content'];\n            this.props.tree.get('searches').forEach(function (search) {\n                var nodeId = node.getIn(search.get('idFieldPathList'));\n                if (search.get('matchedNodeIds').indexOf(nodeId) !== -1) {\n                    Array.prototype.push.apply(contentClasses, [search.get('cssclass')]);\n                }\n            });\n\n            if (node.get('selection_matching_classes')) {\n                Array.prototype.push.apply(contentClasses, node.get('selection_matching_classes').toArray());\n            }\n\n            var customRenderer = this.props.tree.get('NodeRendererComponent');\n            var treeNodeRenderer = customRenderer ? customRenderer : TreeNodeDefaultRenderer;\n\n            var loading = node.get('expanded') && node.get('has_children') && node.get('children').size === 0;\n            var child_rendering = node.get('expanded') ? children.map(function (child) {\n                return _react2.default.createElement(TreeNode, _extends({}, _this9.props, { key: child.get('id'),\n                    node: child,\n                    tabIndex: undefined\n                }));\n            }) : undefined;\n\n            var loader = _react2.default.createElement(\n                'div',\n                { className: 'waiting-with-endless-loader' },\n                '\\xA0'\n            );\n\n            return _react2.default.createElement(\n                'div',\n                { className: 'tree-node', tabIndex: this.props.tabIndex },\n                _react2.default.createElement(\n                    'div',\n                    { ref: function ref(scrollTarget) {\n                            return _this9.scrollTarget = scrollTarget;\n                        } },\n                    treeIcon,\n                    _react2.default.createElement(\n                        'div',\n                        { 'aria-expanded': expanded,\n                            className: contentClasses.join(' '),\n                            onClick: this.selectTreeNode.bind(this)\n                        },\n                        _react2.default.createElement(treeNodeRenderer, this.props)\n                    )\n                ),\n                _react2.default.createElement(\n                    'div',\n                    { className: 'tree-subtree' },\n                    loading ? loader : child_rendering\n                )\n            );\n        }\n    }]);\n\n    return TreeNode;\n}(_react2.default.Component);\n\nTreeNode.propTypes = {\n    NodeRendererComponent: _propTypes2.default.instanceOf(_react2.default.component).isOptional,\n    keys: _propTypes2.default.object.isRequired,\n    node: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired,\n    onSelection: _propTypes2.default.function,\n    scrollToNode: _propTypes2.default.function,\n    selectTreeNode: _propTypes2.default.func.isRequired,\n    tabIndex: _propTypes2.default.number,\n    toggleTreeNode: _propTypes2.default.func.isRequired,\n    tree: _csWebComponentsExternals.ImmutablePropTypes.map.isRequired\n};\n\nTreeNode.defaultProps = {\n    keys: {\n        'activeKeys': [],\n        'tabIndex': -1\n    }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (false) {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = __webpack_require__(8)();\n}\n\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = __webpack_require__(9);\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n//     keymaster.js\n//     (c) 2011-2013 Thomas Fuchs\n//     keymaster.js may be freely distributed under the MIT license.\n\n;(function(global){\n  var k,\n    _handlers = {},\n    _mods = { 16: false, 18: false, 17: false, 91: false },\n    _scope = 'all',\n    // modifier keys\n    _MODIFIERS = {\n      '⇧': 16, shift: 16,\n      '⌥': 18, alt: 18, option: 18,\n      '⌃': 17, ctrl: 17, control: 17,\n      '⌘': 91, command: 91\n    },\n    // special keys\n    _MAP = {\n      backspace: 8, tab: 9, clear: 12,\n      enter: 13, 'return': 13,\n      esc: 27, escape: 27, space: 32,\n      left: 37, up: 38,\n      right: 39, down: 40,\n      del: 46, 'delete': 46,\n      home: 36, end: 35,\n      pageup: 33, pagedown: 34,\n      ',': 188, '.': 190, '/': 191,\n      '`': 192, '-': 189, '=': 187,\n      ';': 186, '\\'': 222,\n      '[': 219, ']': 221, '\\\\': 220\n    },\n    code = function(x){\n      return _MAP[x] || x.toUpperCase().charCodeAt(0);\n    },\n    _downKeys = [];\n\n  for(k=1;k<20;k++) _MAP['f'+k] = 111+k;\n\n  // IE doesn't support Array#indexOf, so have a simple replacement\n  function index(array, item){\n    var i = array.length;\n    while(i--) if(array[i]===item) return i;\n    return -1;\n  }\n\n  // for comparing mods before unassignment\n  function compareArray(a1, a2) {\n    if (a1.length != a2.length) return false;\n    for (var i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) return false;\n    }\n    return true;\n  }\n\n  var modifierMap = {\n      16:'shiftKey',\n      18:'altKey',\n      17:'ctrlKey',\n      91:'metaKey'\n  };\n  function updateModifierKey(event) {\n      for(k in _mods) _mods[k] = event[modifierMap[k]];\n  };\n\n  // handle keydown event\n  function dispatch(event) {\n    var key, handler, k, i, modifiersMatch, scope;\n    key = event.keyCode;\n\n    if (index(_downKeys, key) == -1) {\n        _downKeys.push(key);\n    }\n\n    // if a modifier key, set the key.<modifierkeyname> property to true and return\n    if(key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko\n    if(key in _mods) {\n      _mods[key] = true;\n      // 'assignKey' from inside this closure is exported to window.key\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = true;\n      return;\n    }\n    updateModifierKey(event);\n\n    // see if we need to ignore the keypress (filter() can can be overridden)\n    // by default ignore key presses if a select, textarea, or input is focused\n    if(!assignKey.filter.call(this, event)) return;\n\n    // abort if no potentially matching shortcuts found\n    if (!(key in _handlers)) return;\n\n    scope = getScope();\n\n    // for each potential shortcut\n    for (i = 0; i < _handlers[key].length; i++) {\n      handler = _handlers[key][i];\n\n      // see if it's in the current scope\n      if(handler.scope == scope || handler.scope == 'all'){\n        // check if modifiers match if any\n        modifiersMatch = handler.mods.length > 0;\n        for(k in _mods)\n          if((!_mods[k] && index(handler.mods, +k) > -1) ||\n            (_mods[k] && index(handler.mods, +k) == -1)) modifiersMatch = false;\n        // call the handler and stop the event if neccessary\n        if((handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91]) || modifiersMatch){\n          if(handler.method(event, handler)===false){\n            if(event.preventDefault) event.preventDefault();\n              else event.returnValue = false;\n            if(event.stopPropagation) event.stopPropagation();\n            if(event.cancelBubble) event.cancelBubble = true;\n          }\n        }\n      }\n    }\n  };\n\n  // unset modifier keys on keyup\n  function clearModifier(event){\n    var key = event.keyCode, k,\n        i = index(_downKeys, key);\n\n    // remove key from _downKeys\n    if (i >= 0) {\n        _downKeys.splice(i, 1);\n    }\n\n    if(key == 93 || key == 224) key = 91;\n    if(key in _mods) {\n      _mods[key] = false;\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = false;\n    }\n  };\n\n  function resetModifiers() {\n    for(k in _mods) _mods[k] = false;\n    for(k in _MODIFIERS) assignKey[k] = false;\n  };\n\n  // parse and assign shortcut\n  function assignKey(key, scope, method){\n    var keys, mods;\n    keys = getKeys(key);\n    if (method === undefined) {\n      method = scope;\n      scope = 'all';\n    }\n\n    // for each shortcut\n    for (var i = 0; i < keys.length; i++) {\n      // set modifier keys if any\n      mods = [];\n      key = keys[i].split('+');\n      if (key.length > 1){\n        mods = getMods(key);\n        key = [key[key.length-1]];\n      }\n      // convert to keycode and...\n      key = key[0]\n      key = code(key);\n      // ...store handler\n      if (!(key in _handlers)) _handlers[key] = [];\n      _handlers[key].push({ shortcut: keys[i], scope: scope, method: method, key: keys[i], mods: mods });\n    }\n  };\n\n  // unbind all handlers for given key in current scope\n  function unbindKey(key, scope) {\n    var multipleKeys, keys,\n      mods = [],\n      i, j, obj;\n\n    multipleKeys = getKeys(key);\n\n    for (j = 0; j < multipleKeys.length; j++) {\n      keys = multipleKeys[j].split('+');\n\n      if (keys.length > 1) {\n        mods = getMods(keys);\n        key = keys[keys.length - 1];\n      }\n\n      key = code(key);\n\n      if (scope === undefined) {\n        scope = getScope();\n      }\n      if (!_handlers[key]) {\n        return;\n      }\n      for (i = 0; i < _handlers[key].length; i++) {\n        obj = _handlers[key][i];\n        // only clear handlers if correct scope and mods match\n        if (obj.scope === scope && compareArray(obj.mods, mods)) {\n          _handlers[key][i] = {};\n        }\n      }\n    }\n  };\n\n  // Returns true if the key with code 'keyCode' is currently down\n  // Converts strings into key codes.\n  function isPressed(keyCode) {\n      if (typeof(keyCode)=='string') {\n        keyCode = code(keyCode);\n      }\n      return index(_downKeys, keyCode) != -1;\n  }\n\n  function getPressedKeyCodes() {\n      return _downKeys.slice(0);\n  }\n\n  function filter(event){\n    var tagName = (event.target || event.srcElement).tagName;\n    // ignore keypressed in any elements that support keyboard data input\n    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');\n  }\n\n  // initialize key.<modifier> to false\n  for(k in _MODIFIERS) assignKey[k] = false;\n\n  // set current scope (default 'all')\n  function setScope(scope){ _scope = scope || 'all' };\n  function getScope(){ return _scope || 'all' };\n\n  // delete all handlers for a given scope\n  function deleteScope(scope){\n    var key, handlers, i;\n\n    for (key in _handlers) {\n      handlers = _handlers[key];\n      for (i = 0; i < handlers.length; ) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);\n        else i++;\n      }\n    }\n  };\n\n  // abstract key logic for assign and unassign\n  function getKeys(key) {\n    var keys;\n    key = key.replace(/\\s/g, '');\n    keys = key.split(',');\n    if ((keys[keys.length - 1]) == '') {\n      keys[keys.length - 2] += ',';\n    }\n    return keys;\n  }\n\n  // abstract mods logic for assign and unassign\n  function getMods(key) {\n    var mods = key.slice(0, key.length - 1);\n    for (var mi = 0; mi < mods.length; mi++)\n    mods[mi] = _MODIFIERS[mods[mi]];\n    return mods;\n  }\n\n  // cross-browser events\n  function addEvent(object, event, method) {\n    if (object.addEventListener)\n      object.addEventListener(event, method, false);\n    else if(object.attachEvent)\n      object.attachEvent('on'+event, function(){ method(window.event) });\n  };\n\n  // set the handlers globally on document\n  addEvent(document, 'keydown', function(event) { dispatch(event) }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48\n  addEvent(document, 'keyup', clearModifier);\n\n  // reset modifiers to false whenever the window is (re)focused.\n  addEvent(window, 'focus', resetModifiers);\n\n  // store previously defined key\n  var previousKey = global.key;\n\n  // restore previously defined key and return reference to our key object\n  function noConflict() {\n    var k = global.key;\n    global.key = previousKey;\n    return k;\n  }\n\n  // set window.key and window.key.set/get/deleteScope, and the default filter\n  global.key = assignKey;\n  global.key.setScope = setScope;\n  global.key.getScope = getScope;\n  global.key.deleteScope = deleteScope;\n  global.key.filter = filter;\n  global.key.isPressed = isPressed;\n  global.key.getPressedKeyCodes = getPressedKeyCodes;\n  global.key.noConflict = noConflict;\n  global.key.unbind = unbindKey;\n\n  if(true) module.exports = assignKey;\n\n})(this);\n\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports) {\n\nmodule.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(14);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// add the styles to the DOM\nvar update = __webpack_require__(17)(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(false) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../sqlite/node_modules/css-loader/index.js!./components.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../sqlite/node_modules/css-loader/index.js!./components.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(15)();\n// imports\n\n\n// module\nexports.push([module.i, \"div.tree-container{height:100%;padding-top:10px;position:relative}div.tree{top:10px}div.tree,div.tree-with-search{bottom:5px;overflow:auto;left:0;position:absolute;right:0;width:100%}div.tree-with-search{top:85px}div.tree-with-search-and-label{bottom:5px;overflow-y:auto;overflow-x:hidden;left:0;position:absolute;right:0;top:105px;width:100%}div.tree-content,div.tree-subtree{margin-left:20px;width:calc(100%-40px)}div.tree-content{position:relative}div.tree-icon{position:absolute;cursor:pointer}div.tree-content.selected{background-color:#d3d3d3}div.tree-description img{margin-right:2px}.tree-search-text{margin-bottom:5px;position:relative}span.input-group-addon{margin:10px}.simple-search-match{background-color:hsla(0,0%,69%,.3)}.simple-search-navigated{font-weight:700}.user-selected-tree-node{background-color:#ddd;font-weight:700}.tree-navigation,span.icon-search{display:inline-block}span.icon-search{width:18px;height:18px;background-size:100% 100%;background-repeat:no-repeat;background-image:url(\" + __webpack_require__(16) + \")}\", \"\"]);\n\n// exports\n\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports) {\n\nmodule.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArVJREFUeNrcVUtrE1EUPvOKeZuXj9pYk5b6IK1oV4Juqm4EpXWv1EpxqbjTteDerYi4EAU32l+giO5azcJaEykmBkxTEpJJMpOZJHfGc8cZSUMyCaUbPXC4d+6c831nzv1yAvCvGzNs4MTY0g1c7qCf6nr1Bn154+eTZzsiQGAK+Bo9NiD0HfpVJKoMTWCCv0UP0GeXywFTJ6Mkss8ra5oGWwXRvb62ySlKy0qh4PFOEt4GPGBWboCfv5ggS7cu5OLjB0sEwRVFgXq9DulUbv/Txx8OfVsvcGYszZm1cLh+BKG9M/dwmaf7K3MzzQcPr63Fx6OSx+MBt8sFgiAAx7Hg9e2Rpk+PVL+nCqFiUWJpKzE3WxY/JWkua9OhBYMo7IXbdy9ngsEA4TgOGIYBulISjxvJkDAY9MvXb5755XQKVu6ctWFtem9c6tlzR+VIJFCjwJ3GsizwPA8OXgCH4IDRaHDr2IkDxHw9b0tg9Z1aYjpa10HvGWScIjHDMsDiGo545O4YdpBMdV0jqqpCq9XqONON5zY6IW3QiNanhP4q+iuzdDrvlSQJeI4Hp9MJLPZfIwSazSYoqgKq2jTICJ6VipJ7qC9AHSctkuRq1lcqlR1itQrUq+g1lGcdSSVJhobSMIg282I49UeqRtowMj1Ox0KljG1lNF98IlzGynVarYqACgJTcFlGkobCvXy+Mpn9UbIKvm/J1I5AxIXOH/j6JS/oWts/ethfbZMWURUVwRUEboAoSr5XL1YnP77fsDSawQ4s2o6K7hFh2ZF4GBJTI7WxWKiuazqXThW8n1dy7kql0Xl3s2aLexP0Ax/CMuawS3YeckOA06oumXv643P2AH6Evojgmb7j2gZ82yebcVZMpbtiO4LyIPCdGNv1z7Sr4NvuAHW7jNKMmX3eFfD/w34LMABgBj6YtxYrTwAAAABJRU5ErkJggg==\"\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports) {\n\n/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nexports.default = function (containerId) {\n    return function (state, action) {\n        if (containerId === action.containerId) {\n            return __reducer__(state, action);\n        } else {\n            return state === undefined ? initialState : state;\n        }\n    };\n};\n\nvar _immutable = __webpack_require__(2);\n\nvar _immutable2 = _interopRequireDefault(_immutable);\n\nvar _csVpUtils = __webpack_require__(0);\n\nvar _treeActions = __webpack_require__(1);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/*\r\n * Help Functions\r\n */\n\nvar visitAndUpdate = function visitAndUpdate(state, callback) {\n    var visitor = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : _csVpUtils.TreeTools.visitTopDownDepthFirst;\n\n    return state.set('node', visitor(state.get('node'), callback));\n};\n\n/*\r\n * Reducers\r\n */\n\nvar toggleTreeNode = function toggleTreeNode(state, action) {\n    var toggleNode = function toggleNode(id, state) {\n        return visitAndUpdate(state, function (node) {\n            if (node.get('id') === id) {\n                var expanded = node.get('expanded');\n                return node.set('expanded', !expanded);\n            } else {\n                return node;\n            }\n        });\n    };\n\n    switch (action.type) {\n        case _treeActions.TOGGLE_TREE_NODE:\n            return toggleNode(action.id, state);\n        default:\n            return state;\n    }\n};\n\nvar updateTreeNode = function updateTreeNode(state, action) {\n    var updateNode = function updateNode(newNode, state) {\n        var id = action.id ? action.id : newNode.get('id');\n        return visitAndUpdate(state, function (node) {\n            if (node.get('id') === id) {\n                return newNode;\n            } else {\n                return node;\n            }\n        });\n    };\n    switch (action.type) {\n        case _treeActions.UPDATE_TREE_NODE:\n            return updateNode(action.node, state);\n        default:\n            return state;\n    }\n};\n\nvar selectTreeNode = function selectTreeNode(state, action) {\n    // help function: selects the node with id === state.get('selectedId')\n    var select = function select(state) {\n        var selection_class = 'user-selected-tree-node';\n        return visitAndUpdate(state, function (node) {\n            var selection_matching_classes = node.get('selection_matching_classes') ? node.get('selection_matching_classes') : _immutable2.default.List();\n\n            if (node.get('id') === state.get('selectedId')) {\n                return node.set('selection_matching_classes', selection_matching_classes.push(selection_class));\n            } else {\n                return node.set('selection_matching_classes', selection_matching_classes.filter(function (x) {\n                    return x !== selection_class;\n                }));\n            }\n        });\n    };\n\n    switch (action.type) {\n        case _treeActions.SELECT_TREE_NODE:\n            return select(state.set('selectedId', action.id));\n        default:\n            return state;\n    }\n};\n\nvar expandTreeNode = function expandTreeNode(state, action) {\n    switch (action.type) {\n        case _treeActions.EXPAND_TREE_NODE:\n            {\n                var visit = function visit(match) {\n                    return function (node) {\n                        var immutableNode = node;\n\n                        var visitChildren = node.get('children').map(visit(match));\n                        immutableNode = immutableNode.set('children', visitChildren.map(function (child) {\n                            return child.node;\n                        }));\n\n                        var expand = match(immutableNode) || visitChildren.some(function (child) {\n                            return child.expand;\n                        });\n                        if (expand) {\n                            immutableNode = immutableNode.set('expanded', true);\n                        }\n\n                        return { expand: expand, node: immutableNode };\n                    };\n                };\n\n                var _visit = visit(function (node) {\n                    return node.get('id') === action.id;\n                })(state.get('node')),\n                    node = _visit.node;\n\n                return state.set('node', node);\n            }\n        default:\n            return state;\n    }\n};\n\nvar setNavigatedTreeNodeIdx = function setNavigatedTreeNodeIdx(state, action) {\n    switch (action.type) {\n        case _treeActions.SET_NAVIGATED_TREE_NODE:\n            return state.setIn(['searches', action.searchId, 'navigatedIdx'], action.navigatedIdx);\n        default:\n            return state;\n    }\n};\n\nvar searchTree = function searchTree(state, action) {\n    var newState = state;\n    switch (action.type) {\n        case _treeActions.SET_SEARCH_RESULT:\n            {\n                if (newState.getIn(['searches', action.search]) !== undefined) {\n                    // Add new search to the state if given\n                    newState = newState.setIn(['searches', action.searchId], action.search);\n                }\n                if (newState.getIn(['searches', action.searchId, 'searchCondition']) !== action.searchCondition) {\n                    // search condition changed -> reset navigatedIdx;\n                    newState = newState.setIn(['searches', action.searchId, 'navigatedIdx'], 0);\n                }\n                newState = newState.setIn(['searches', action.searchId, 'searchCondition'], action.searchCondition);\n                newState = newState.setIn(['searches', action.searchId, 'resultCnt'], action.resultCnt ? action.resultCnt : 0);\n                newState = newState.setIn(['searches', action.searchId, 'matchedNodeIds'], action.matchedNodeIds ? action.matchedNodeIds : []);\n                newState = newState.setIn(['searches', action.searchId, 'idFieldPathList'], action.idFieldPathList ? action.idFieldPathList : ['id']);\n                return newState;\n            }\n        default:\n            return newState;\n    }\n};\n\nvar initialState = _immutable2.default.fromJS({\n    node: _immutable2.default.fromJS({}),\n    searchField: {\n        placeholder: '',\n        searchId: undefined,\n        searchAction: undefined\n    },\n    searches: {},\n    NodeRendererComponent: undefined,\n    fetchNodeChildren: undefined\n});\n\nvar setInitialState = function setInitialState(state, action) {\n    switch (action.type) {\n        case _treeActions.SET_INITIAL_TREE_STATE:\n            return action.state;\n        default:\n            return state;\n    }\n};\n\nvar chainReducers = function chainReducers() {\n    for (var _len = arguments.length, reducers = Array(_len), _key = 0; _key < _len; _key++) {\n        reducers[_key] = arguments[_key];\n    }\n\n    return reducers.reduce(function (lhs, rhs) {\n        return function (state, action) {\n            return rhs(lhs(state, action), action);\n        };\n    }, function () {\n        var state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : _immutable2.default.Map();\n\n        return state;\n    });\n};\n\nvar __reducer__ = chainReducers(updateTreeNode, toggleTreeNode, selectTreeNode, searchTree, expandTreeNode, setNavigatedTreeNodeIdx, setInitialState);\n\n/***/ })\n/******/ ]);\n});\n\n\n// WEBPACK FOOTER //\n// cs-vp-tree-component.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 4);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 9778b0438e7d5ec27215","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-vp-utils\"\n// module id = 0\n// module chunks = 0","import Immutable from 'immutable';\r\n\r\nimport {TreeTools} from 'cs-vp-utils';\r\n\r\nexport const EXPAND_TREE_NODE = 'EXPAND_TREE_NODE';\r\nexport const SET_NAVIGATED_TREE_NODE = 'SET_NAVIGATED_TREE_NODE';\r\nexport const TOGGLE_TREE_NODE = 'TOGGLE_TREE_NODE';\r\nexport const SELECT_TREE_NODE = 'SELECT_TREE_NODE';\r\nexport const ACTIVE_KEYS = 'ACTIVE_KEYS';\r\nexport const SEARCH_TREE = 'SEARCH_TREE';\r\nexport const SET_SEARCH_RESULT = 'SET_SEARCH_RESULT';\r\nexport const SET_INITIAL_TREE_STATE = 'SET_INITIAL_TREE_STATE';\r\nexport const UPDATE_TREE_NODE = 'UPDATE_TREE_NODE';\r\n\r\n/*\r\n * action factories take containerId and return\r\n   specific action for specific containerInstance\r\n */\r\nexport function toggleTreeNode(containerId) {\r\n    return (id) => {\r\n        return {\r\n            type: TOGGLE_TREE_NODE,\r\n            id,\r\n            containerId\r\n        };\r\n    };\r\n}\r\n\r\nexport function updateTreeNode(containerId) {\r\n    return (node, id) => {\r\n        return {\r\n            type: UPDATE_TREE_NODE,\r\n            id,\r\n            node,\r\n            containerId\r\n        };\r\n    };\r\n}\r\n\r\nexport function selectTreeNode(containerId) {\r\n    return (node, callback) => {\r\n        return selectTreeNodeById(containerId)(node.get('id'), node.get('content'), callback);\r\n    };\r\n}\r\n\r\nexport function selectTreeNodeById(containerId) {\r\n    return (id, content, callback) => dispatch => {\r\n        if (callback !== undefined) {\r\n            callback(id);\r\n        }\r\n\r\n        dispatch({\r\n            type: SELECT_TREE_NODE,\r\n            id: id,\r\n            content: content,\r\n            containerId\r\n        });\r\n    };\r\n}\r\n\r\nexport function expandTreeNode(containerId) {\r\n    return (id) => {\r\n        return {\r\n            type: EXPAND_TREE_NODE,\r\n            id,\r\n            containerId\r\n        };\r\n    };\r\n}\r\n\r\nexport function navigateTreeNode(containerId, namespace) {\r\n    return (searchId, navigatedIdx, callback) => {\r\n        return (dispatch, getState) => {\r\n            const state = getState()[namespace][containerId];\r\n            const search = state.getIn(['searches', searchId]);\r\n            if (search.get('resultCnt') > 0) { // do not try to navigate when no results are available\r\n                const getNodeBySearchIdx = () => {\r\n                    const gen = TreeTools.walkTopDownDepthFirst(state.get('node'));\r\n                    let searchMatchingIdx = 0;\r\n                    for (const child of gen) {\r\n                        if (search.get('match')(child, search.get('searchCondition'))) {\r\n                            if (searchMatchingIdx === navigatedIdx) {\r\n                                return child;\r\n                            }\r\n                            searchMatchingIdx++;\r\n                        }\r\n                    }\r\n                    return undefined;\r\n                };\r\n                const nodeForIdx = getNodeBySearchIdx();\r\n                const nodeForIdxId = nodeForIdx ? nodeForIdx.get('id') : undefined;\r\n                const getParent = () => {\r\n                    const _getParent = (node) => {\r\n                        for (const child of node.get('children').toArray()) {\r\n                            if (child.get('id') === nodeForIdxId) {\r\n                                return node;\r\n                            }\r\n                        }\r\n\r\n                        let parent;\r\n                        for (const child of node.get('children').toArray()) {\r\n                            parent = _getParent(child);\r\n                            if (parent !== undefined) {\r\n                                return parent;\r\n                            }\r\n                        }\r\n\r\n                        return undefined;\r\n                    };\r\n\r\n                    return _getParent(state.get('node'));\r\n                };\r\n                const parent = getParent();\r\n                if (nodeForIdxId) {\r\n                    if (parent) {\r\n                        dispatch(expandTreeNode(containerId)(parent.get('id')));\r\n                    }\r\n                    dispatch(setNavigatedTreeNodeIdx(containerId)(searchId, navigatedIdx));\r\n                    dispatch(selectTreeNode(containerId)(nodeForIdx, callback));\r\n                }\r\n            }\r\n        };\r\n    };\r\n}\r\n\r\nexport function setNavigatedTreeNodeIdx(containerId) {\r\n    return (searchId, navigatedIdx) => {\r\n        return {\r\n            type: SET_NAVIGATED_TREE_NODE,\r\n            searchId,\r\n            navigatedIdx,\r\n            containerId\r\n        };\r\n    };\r\n}\r\n\r\nexport function searchTree(containerId, namespace) {\r\n    return (searchCondition, searchId, search, idFieldPath) => {\r\n        const idFieldPathList = idFieldPath ? idFieldPath : ['id'];\r\n        return (dispatch, getState) => {\r\n            const state = getState()[namespace][containerId];\r\n            const search = state.getIn(['searches', searchId]);\r\n            const getMatchingNodeIds = () => {\r\n                const gen = TreeTools.walkTopDownDepthFirst(state.get('node'));\r\n                const matches = [];\r\n                for (const child of gen) {\r\n                    if (search.get('match')(child, searchCondition)) {\r\n                        matches.push(child.getIn(idFieldPathList));\r\n                    }\r\n                }\r\n                return matches;\r\n            };\r\n            const matchedNodeIds = getMatchingNodeIds();\r\n            dispatch(setSearchResult(containerId, namespace)(searchCondition, searchId, search,\r\n                                                  matchedNodeIds, idFieldPathList));\r\n            return matchedNodeIds;\r\n        };\r\n    };\r\n}\r\n\r\nconst _setSearchResult = (containerId) => {\r\n    return (searchCondition, searchId, search, matchedNodeIds, idFieldPathList, resultCount) => {\r\n        return {\r\n            type: SET_SEARCH_RESULT,\r\n            searchId: searchId,\r\n            searchCondition: searchCondition,\r\n            search: search,\r\n            matchedNodeIds: matchedNodeIds,\r\n            idFieldPathList: idFieldPathList,\r\n            resultCnt: resultCount,\r\n            containerId: containerId\r\n        };\r\n    };\r\n};\r\n\r\nexport function setSearchResult(containerId, namespace) {\r\n    return (searchCondition, searchId, search, matchedNodeIds, idFieldPath, resultCnt) => {\r\n        const idFieldPathList = idFieldPath ? idFieldPath : ['id'];\r\n        const resultCount = resultCnt ? resultCnt : (matchedNodeIds ? matchedNodeIds.length : 0);\r\n        return (dispatch) => {\r\n            if (searchId !== undefined) {\r\n                dispatch(_setSearchResult(containerId)(searchCondition,\r\n                                                       searchId,\r\n                                                       search,\r\n                                                       matchedNodeIds,\r\n                                                       idFieldPathList,\r\n                                                       resultCount));\r\n                dispatch(navigateTreeNode(containerId, namespace)(searchId, 0));\r\n            }\r\n        };\r\n    };\r\n}\r\n\r\nexport function setInitialTreeState(containerId) {\r\n    return (state) => {\r\n        return {\r\n            type: SET_INITIAL_TREE_STATE,\r\n            state,\r\n            containerId\r\n        };\r\n    };\r\n}\r\n\r\nexport function activateKey(containerId) {\r\n    return (key, rootNode, selectedId, callback) => {\r\n        // get the selected node with its previous and next visible nodes\r\n        const getSelected = () => {\r\n            // iterate only on visible nodes\r\n            const iterate = node =>\r\n                (node.get('expanded') ? node.get('children') : Immutable.List());\r\n            const gen = TreeTools.walkTopDownDepthFirstCustom(iterate)(rootNode);\r\n\r\n            let previous, selected, next;\r\n            for (const child of gen) {\r\n                if (child.get('id') === selectedId) {\r\n                    selected = child;\r\n                    next = gen.next().value;\r\n                    break;\r\n                }\r\n                previous = child;\r\n            }\r\n\r\n            return {\r\n                previous,\r\n                selected,\r\n                next\r\n            };\r\n        };\r\n\r\n        const getParent = () => {\r\n            const _getParent = (node) => {\r\n                for (const child of node.get('children')) {\r\n                    if (child.get('id') === selectedId) {\r\n                        return node;\r\n                    }\r\n                }\r\n\r\n                let parent;\r\n                for (const child of node.get('children')) {\r\n                    parent = _getParent(child);\r\n                    if (parent !== undefined) {\r\n                        return parent;\r\n                    }\r\n                }\r\n\r\n                return undefined;\r\n            };\r\n\r\n            return _getParent(rootNode);\r\n        };\r\n\r\n        return dispatch => {\r\n            const {previous, selected, next} = getSelected();\r\n\r\n            switch (key) {\r\n                // Up and down arrow keys move between visible nodes\r\n                case 'down':\r\n                    if (next) {\r\n                        dispatch(selectTreeNode(containerId)(next, callback));\r\n                    }\r\n                    break;\r\n                case 'up':\r\n                    if (previous) {\r\n                        dispatch(selectTreeNode(containerId)(previous, callback));\r\n                    }\r\n                    break;\r\n                case 'left':\r\n                    if (selected) {\r\n                        if (selected.get('expanded')) {\r\n                            // Left arrow key on an expanded node closes the node\r\n                            dispatch(toggleTreeNode(containerId)(selectedId));\r\n                        } else {\r\n                            // Left arrow key on a closed or end node moves focus to the node's parent\r\n                            const parent = getParent();\r\n                            if (parent) {\r\n                                dispatch(selectTreeNode(containerId)(parent, callback));\r\n                            }\r\n                        }\r\n                    }\r\n                    break;\r\n                case 'right':\r\n                    if (selected) {\r\n                        if (selected.get('expanded')) {\r\n                            // Right arrow key moves to the first child of an open node\r\n                            const children = selected.get('children');\r\n                            if (children && children.size > 0) {\r\n                                dispatch(selectTreeNode(containerId)(children.get(0), callback));\r\n                            }\r\n                        } else {\r\n                            // expands a closed node\r\n                            dispatch(toggleTreeNode(containerId)(selectedId));\r\n                        }\r\n                        // or does nothing on an end node\r\n                    }\r\n                    break;\r\n            }\r\n        };\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./tree-actions.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"Immutable\"\n// module id = 2\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_3__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"cs-web-components-externals\"\n// module id = 3\n// module chunks = 0","/*\r\n * Copyright (C) 2015 CONTACT Software GmbH\r\n * All rights reserved.\r\n * http://www.contact-software.com\r\n *\r\n * Revision \"$Id: index.js 164296 2017-08-31 12:39:57Z gda $\"\r\n */\r\n\r\nimport {\r\n    toggleTreeNode, selectTreeNode,\r\n    selectTreeNodeById,\r\n    expandTreeNode, navigateTreeNode,\r\n    setNavigatedTreeNodeIdx, searchTree,\r\n    setInitialTreeState, activateKey, updateTreeNode\r\n} from './tree-actions';\r\nimport {TreeContainer} from './tree-components';\r\nimport reducer from './tree-reducers';\r\nimport {connect} from 'cs-web-components-externals';\r\n\r\nfunction containerize(obj, namespace, containerId) {\r\n    const result = {};\r\n    for (const [name, value] of Object.entries(obj)) {\r\n        result[name] = value(containerId, namespace);\r\n    }\r\n    return result;\r\n}\r\n\r\n\r\nexport function actions(namespace, containerId) {\r\n    return containerize({\r\n        toggleTreeNode, selectTreeNode,\r\n        selectTreeNodeById,\r\n        expandTreeNode, navigateTreeNode,\r\n        setNavigatedTreeNodeIdx, searchTree,\r\n        setInitialTreeState, activateKey, updateTreeNode}, namespace, containerId);\r\n}\r\n\r\nexport default function(namespace, containerId) {\r\n    return connect(state => {\r\n        return {tree: state[namespace][containerId]};\r\n    }, actions(namespace, containerId))(TreeContainer);\r\n}\r\n\r\nexport {reducer};\r\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","// jshint esversion:6\r\nrequire('./components.css');\r\n\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport {\r\n    Glyphicon,\r\n    FormGroup,\r\n    InputGroup,\r\n    FormControl\r\n} from 'react-bootstrap';\r\nimport {ImmutablePropTypes} from 'cs-web-components-externals';\r\nimport key from 'keymaster';\r\nimport jQuery from 'jquery';\r\nimport {scrollIntoViewIfNeeded} from 'cs-vp-utils';\r\n\r\nexport class TreeNodeDefaultRenderer extends React.Component {\r\n    render() {\r\n        return (\r\n            <div className=\"tree-node-renderer\">\r\n                {this.props.node.get('content')}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTreeNodeDefaultRenderer.propTypes = {\r\n    node: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nTreeNodeDefaultRenderer.defaultProps = {\r\n    keys: {\r\n    }\r\n};\r\n\r\nexport class TreeContainerSearchBox extends React.Component {\r\n    updateSearchResult(e) {\r\n        e.preventDefault();\r\n        const search = this.props.tree.get('searchField');\r\n        const value = this.search_field.value;\r\n        if (search.get('searchAction')) {\r\n            search.get('searchAction')(value,\r\n                                       search.get('searchId'));\r\n        } else {\r\n            this.props.searchTree(value,\r\n                search.get('searchId'), search, search.get('idFieldPathList'));\r\n        }\r\n    }\r\n    render() {\r\n        const search = this.props.tree.get('searchField');\r\n        const searchIcon = <span className=\"icon-search\"/>;\r\n        return (\r\n            <form\r\n                className=\"tree-search-form\"\r\n                onSubmit={this.updateSearchResult.bind(this)}\r\n            >\r\n                <FormGroup>\r\n                    <InputGroup>\r\n                        <FormControl className=\"tree-search-text\" type=\"text\"\r\n                            {...search.toJS()}\r\n                            inputRef={search_field => this.search_field = search_field}\r\n                            tabIndex={this.props.tabIndex}\r\n                        />\r\n                        <InputGroup.Addon>{searchIcon}</InputGroup.Addon>\r\n                    </InputGroup>\r\n                </FormGroup>\r\n            </form>\r\n        );\r\n    }\r\n}\r\n\r\nTreeContainerSearchBox.propTypes = {\r\n    searchTree: PropTypes.func.isRequired,\r\n    tabIndex: PropTypes.number.isRequired,\r\n    tree: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\n\r\nexport class TreeContainerNavigation extends React.Component {\r\n    navigatePrevious() {\r\n        const {\r\n            navigateTreeNode, navigatedIdx,\r\n            resultCnt, searchId, onSelection\r\n        } = this.props;\r\n\r\n        let newIndex = 0;\r\n        if (navigatedIdx !== undefined && resultCnt > 0) {\r\n            newIndex = navigatedIdx > 0 ? navigatedIdx - 1 : resultCnt - 1;\r\n        }\r\n        navigateTreeNode(searchId, newIndex, onSelection);\r\n    }\r\n    navigateNext() {\r\n        const {\r\n            navigateTreeNode, navigatedIdx,\r\n            resultCnt, searchId, onSelection\r\n        } = this.props;\r\n\r\n        let newIndex = 0;\r\n        if (navigatedIdx !== undefined && resultCnt > 0) {\r\n            newIndex = navigatedIdx < (resultCnt - 1) ? navigatedIdx + 1 : 0;\r\n        }\r\n        navigateTreeNode(searchId, newIndex, onSelection);\r\n    }\r\n    render() {\r\n        // work on indexes - show position (+1)\r\n        let position = this.props.navigatedIdx;\r\n        if (\r\n            position !== undefined &&\r\n            this.props.resultCnt !== undefined &&\r\n            this.props.resultCnt > 0 &&\r\n            position >= 0\r\n        ) {\r\n            position++;\r\n        }\r\n        const positionStr = position + '/' + this.props.resultCnt;\r\n        const navigationCSSClasses = this.props.navigationCSSClasses ?\r\n            'tree-navigation ' + this.props.navigationCSSClasses : 'tree-navigation';\r\n        return (\r\n            <div className={navigationCSSClasses}>\r\n                <Glyphicon\r\n                    glyph={'chevron-left'}\r\n                    onClick={this.navigatePrevious.bind(this)}\r\n                />\r\n                {positionStr}\r\n                <Glyphicon\r\n                    glyph={'chevron-right'}\r\n                    onClick={this.navigateNext.bind(this)}\r\n                />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTreeContainerNavigation.propTypes = {\r\n    navigateTreeNode: PropTypes.func.isRequired,\r\n    navigatedIdx: PropTypes.number,\r\n    navigationCSSClasses: PropTypes.string,\r\n    onSelection: PropTypes.function,\r\n    resultCnt: PropTypes.number,\r\n    searchId: PropTypes.string.isRequired,\r\n    tree: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nTreeContainerNavigation.defaultProps = {\r\n    resultCnt: 0,\r\n    navigatedIdx: 0\r\n};\r\n\r\n\r\nexport class TreeContainer extends React.Component {\r\n    scrollToNode(element) {\r\n        return scrollIntoViewIfNeeded(this.scrollContainer)(element);\r\n    }\r\n\r\n    componentDidMount() {\r\n        // Register key bindings\r\n        const activeKeys = ['left', 'up', 'right', 'down'];\r\n\r\n        const keyHandler = key => (event) => {\r\n            const {activateKey, hasFocus, tree} = this.props;\r\n            const target = jQuery(event.target);\r\n            if (hasFocus) {\r\n                if (\r\n                    this.props.keyBlacklistSelector === undefined ||\r\n                    !target.is(this.props.keyBlacklistSelector)\r\n                ) {\r\n                    activateKey(key, tree.get('node'), tree.get('selectedId'));\r\n                }\r\n            }\r\n            // prevent browser from scrolling\r\n            event.preventDefault();\r\n        };\r\n\r\n        for (const shortCut of activeKeys) {\r\n            key(shortCut, keyHandler(shortCut));\r\n        }\r\n        if (this.props.hasOwnProperty('initTree')) {\r\n            this.props.setInitialTreeState(this.props.initTree);\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const searchNavigations = [];\r\n        for (const search of this.props.tree.get('searches').entrySeq().toArray()) {\r\n            const [key, val] = search;\r\n\r\n            if (val.get('resultCnt') > 0) {\r\n                searchNavigations.push(\r\n                    <TreeContainerNavigation\r\n                        key={key}\r\n                        navigateTreeNode={this.props.navigateTreeNode}\r\n                        navigatedIdx={val.get('navigatedIdx')}\r\n                        navigationCSSClasses={val.get('navigationCSSClasses')}\r\n                        onSelection={this.props.onSelection}\r\n                        resultCnt={val.get('resultCnt')}\r\n                        searchId={key}\r\n                        tree={this.props.tree}\r\n                    />);\r\n            }\r\n        }\r\n\r\n        const search = this.props.tree.get('searchField');\r\n        const searchBox = (search.get('visible')) ? (\r\n            <div className=\"tree-search\">\r\n                <TreeContainerSearchBox {...this.props} tabIndex={this.props.tabIndex + 1} />\r\n            </div>\r\n        ) : undefined;\r\n        const searchNavigation = (search.get('visible')) ? (\r\n            <div className=\"tree-navigations\">\r\n                {searchNavigations}\r\n            </div>\r\n        ) : undefined;\r\n\r\n        let treeClassName = 'tree';\r\n        if (search.get('visible')) {\r\n            if (search.get('label')) {\r\n                treeClassName = 'tree-with-search-and-label';\r\n            }\r\n            else {\r\n                treeClassName = 'tree-with-search';\r\n            }\r\n        }\r\n\r\n        return (\r\n            <div\r\n                className={\r\n                    this.props.className + ' tree-container' +\r\n                    (this.props.hasFocus ? ' focus' : '')\r\n                }\r\n            >\r\n                {searchBox}\r\n                {searchNavigation}\r\n                <div className={treeClassName} ref={scrollContainer => this.scrollContainer = scrollContainer}>\r\n                    <TreeNode {...this.props}\r\n                        node={this.props.tree.get('node')}\r\n                        scrollToNode={this.scrollToNode.bind(this)}\r\n                        tabIndex={this.props.tabIndex + 2}\r\n                    />\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTreeContainer.propTypes = {\r\n    activateKey: PropTypes.function,\r\n    className: PropTypes.string,\r\n    focusId: PropTypes.number,\r\n    hasFocus: PropTypes.bool,\r\n    initTree: PropTypes.object,\r\n    keyBlacklistSelector: PropTypes.string,\r\n    navigateTreeNode: PropTypes.function,\r\n    onSelection: PropTypes.function,\r\n    setInitialTreeState: PropTypes.function,\r\n    tabIndex: PropTypes.number,\r\n    tree: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nTreeContainer.defaultProps = {\r\n    className: '',\r\n    hasFocus: true\r\n};\r\n\r\n\r\nexport class TreeNode extends React.Component {\r\n    _ifSelectedScrollToMe() {\r\n        const {scrollToNode} = this.props;\r\n\r\n        if (this.selected()) {\r\n            scrollToNode(this.scrollTarget);\r\n        }\r\n    }\r\n\r\n    selected() {\r\n        const {node, tree} = this.props;\r\n        return tree.get('selectedId') === node.get('id');\r\n    }\r\n\r\n    toggleTreeNode() {\r\n        this.props.toggleTreeNode(this.props.node.get('id'));\r\n    }\r\n\r\n    selectTreeNode() {\r\n        const {selectTreeNode, node, onSelection} = this.props;\r\n        selectTreeNode(node, onSelection);\r\n    }\r\n\r\n    componentWillReceiveProps(nextProps) {\r\n        const current_node = this.props.node;\r\n        const next_node = nextProps.node;\r\n\r\n        if (\r\n            !current_node.get('expanded') &&\r\n            next_node.get('expanded') &&\r\n            next_node.get('children').size === 0 &&\r\n            next_node.get('has_children')\r\n        ) {\r\n            this.props.tree.get('fetchNodeChildren')(next_node);\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this._ifSelectedScrollToMe();\r\n    }\r\n\r\n    componentDidUpdate() {\r\n        this._ifSelectedScrollToMe();\r\n    }\r\n\r\n    render() {\r\n        const {node} = this.props;\r\n        const children = node.get('children');\r\n        const expanded = node.get('expanded');\r\n        const has_children = node.get('has_children');\r\n\r\n        const treeIcon = (\r\n            <div\r\n                className=\"tree-icon\"\r\n                onClick={this.toggleTreeNode.bind(this)}\r\n            >\r\n                {\r\n                    has_children ?\r\n                        <Glyphicon glyph={expanded ? 'chevron-down' : 'chevron-right'}/> :\r\n                        undefined\r\n                }\r\n            </div>\r\n        );\r\n\r\n        const contentClasses = ['tree-content'];\r\n        this.props.tree.get('searches').forEach(search => {\r\n            const nodeId = node.getIn(search.get('idFieldPathList'));\r\n            if (search.get('matchedNodeIds').indexOf(nodeId) !== -1) {\r\n                Array.prototype.push.apply(contentClasses,\r\n                                           [search.get('cssclass')]);\r\n            }\r\n        });\r\n\r\n        if (node.get('selection_matching_classes')) {\r\n            Array.prototype.push.apply(contentClasses,\r\n                node.get('selection_matching_classes').toArray());\r\n        }\r\n\r\n        const customRenderer = this.props.tree.get('NodeRendererComponent');\r\n        const treeNodeRenderer = (customRenderer)\r\n            ? customRenderer\r\n            : TreeNodeDefaultRenderer;\r\n\r\n\r\n        const loading = (\r\n            node.get('expanded') &&\r\n            node.get('has_children') &&\r\n            node.get('children').size === 0\r\n        );\r\n        const child_rendering = (node.get('expanded')) ? children.map(child =>\r\n            <TreeNode {...this.props} key={child.get('id')}\r\n                node={child}\r\n                tabIndex={undefined}\r\n            />) : undefined;\r\n\r\n        const loader = (<div className=\"waiting-with-endless-loader\">&nbsp;</div>);\r\n\r\n        return (\r\n            <div className=\"tree-node\" tabIndex={this.props.tabIndex}>\r\n                <div ref={scrollTarget => this.scrollTarget = scrollTarget}>\r\n                    {treeIcon}\r\n                    <div aria-expanded={expanded}\r\n                        className={contentClasses.join(' ')}\r\n                        onClick={this.selectTreeNode.bind(this)}\r\n                    >\r\n                        {React.createElement(treeNodeRenderer, this.props)}\r\n                    </div>\r\n                </div>\r\n                <div className=\"tree-subtree\">\r\n                    {loading ? loader : child_rendering}\r\n                </div>\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nTreeNode.propTypes = {\r\n    NodeRendererComponent: PropTypes.instanceOf(React.component).isOptional,\r\n    keys: PropTypes.object.isRequired,\r\n    node: ImmutablePropTypes.map.isRequired,\r\n    onSelection: PropTypes.function,\r\n    scrollToNode: PropTypes.function,\r\n    selectTreeNode: PropTypes.func.isRequired,\r\n    tabIndex: PropTypes.number,\r\n    toggleTreeNode: PropTypes.func.isRequired,\r\n    tree: ImmutablePropTypes.map.isRequired\r\n};\r\n\r\nTreeNode.defaultProps = {\r\n    keys: {\r\n        'activeKeys': [],\r\n        'tabIndex': -1\r\n    }\r\n};\r\n\n\n\n// WEBPACK FOOTER //\n// ./tree-components.js","module.exports = __WEBPACK_EXTERNAL_MODULE_6__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"React\"\n// module id = 6\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nif (process.env.NODE_ENV !== 'production') {\n  var REACT_ELEMENT_TYPE = (typeof Symbol === 'function' &&\n    Symbol.for &&\n    Symbol.for('react.element')) ||\n    0xeac7;\n\n  var isValidElement = function(object) {\n    return typeof object === 'object' &&\n      object !== null &&\n      object.$$typeof === REACT_ELEMENT_TYPE;\n  };\n\n  // By explicitly using `prop-types` you are opting into new development behavior.\n  // http://fb.me/prop-types-in-prod\n  var throwOnDirectAccess = true;\n  module.exports = require('./factoryWithTypeCheckers')(isValidElement, throwOnDirectAccess);\n} else {\n  // By explicitly using `prop-types` you are opting into new production behavior.\n  // http://fb.me/prop-types-in-prod\n  module.exports = require('./factoryWithThrowingShims')();\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/prop-types/index.js\n// module id = 7\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = require('./lib/ReactPropTypesSecret');\n\nfunction emptyFunction() {}\n\nmodule.exports = function() {\n  function shim(props, propName, componentName, location, propFullName, secret) {\n    if (secret === ReactPropTypesSecret) {\n      // It is still safe when called from React.\n      return;\n    }\n    var err = new Error(\n      'Calling PropTypes validators directly is not supported by the `prop-types` package. ' +\n      'Use PropTypes.checkPropTypes() to call them. ' +\n      'Read more at http://fb.me/use-check-prop-types'\n    );\n    err.name = 'Invariant Violation';\n    throw err;\n  };\n  shim.isRequired = shim;\n  function getShim() {\n    return shim;\n  };\n  // Important!\n  // Keep this list in sync with production version in `./factoryWithTypeCheckers.js`.\n  var ReactPropTypes = {\n    array: shim,\n    bool: shim,\n    func: shim,\n    number: shim,\n    object: shim,\n    string: shim,\n    symbol: shim,\n\n    any: shim,\n    arrayOf: getShim,\n    element: shim,\n    instanceOf: getShim,\n    node: shim,\n    objectOf: getShim,\n    oneOf: getShim,\n    oneOfType: getShim,\n    shape: getShim,\n    exact: getShim\n  };\n\n  ReactPropTypes.checkPropTypes = emptyFunction;\n  ReactPropTypes.PropTypes = ReactPropTypes;\n\n  return ReactPropTypes;\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/prop-types/factoryWithThrowingShims.js\n// module id = 8\n// module chunks = 0","/**\n * Copyright (c) 2013-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\n'use strict';\n\nvar ReactPropTypesSecret = 'SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED';\n\nmodule.exports = ReactPropTypesSecret;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/prop-types/lib/ReactPropTypesSecret.js\n// module id = 9\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_10__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"ReactBootstrap\"\n// module id = 10\n// module chunks = 0","//     keymaster.js\n//     (c) 2011-2013 Thomas Fuchs\n//     keymaster.js may be freely distributed under the MIT license.\n\n;(function(global){\n  var k,\n    _handlers = {},\n    _mods = { 16: false, 18: false, 17: false, 91: false },\n    _scope = 'all',\n    // modifier keys\n    _MODIFIERS = {\n      '⇧': 16, shift: 16,\n      '⌥': 18, alt: 18, option: 18,\n      '⌃': 17, ctrl: 17, control: 17,\n      '⌘': 91, command: 91\n    },\n    // special keys\n    _MAP = {\n      backspace: 8, tab: 9, clear: 12,\n      enter: 13, 'return': 13,\n      esc: 27, escape: 27, space: 32,\n      left: 37, up: 38,\n      right: 39, down: 40,\n      del: 46, 'delete': 46,\n      home: 36, end: 35,\n      pageup: 33, pagedown: 34,\n      ',': 188, '.': 190, '/': 191,\n      '`': 192, '-': 189, '=': 187,\n      ';': 186, '\\'': 222,\n      '[': 219, ']': 221, '\\\\': 220\n    },\n    code = function(x){\n      return _MAP[x] || x.toUpperCase().charCodeAt(0);\n    },\n    _downKeys = [];\n\n  for(k=1;k<20;k++) _MAP['f'+k] = 111+k;\n\n  // IE doesn't support Array#indexOf, so have a simple replacement\n  function index(array, item){\n    var i = array.length;\n    while(i--) if(array[i]===item) return i;\n    return -1;\n  }\n\n  // for comparing mods before unassignment\n  function compareArray(a1, a2) {\n    if (a1.length != a2.length) return false;\n    for (var i = 0; i < a1.length; i++) {\n        if (a1[i] !== a2[i]) return false;\n    }\n    return true;\n  }\n\n  var modifierMap = {\n      16:'shiftKey',\n      18:'altKey',\n      17:'ctrlKey',\n      91:'metaKey'\n  };\n  function updateModifierKey(event) {\n      for(k in _mods) _mods[k] = event[modifierMap[k]];\n  };\n\n  // handle keydown event\n  function dispatch(event) {\n    var key, handler, k, i, modifiersMatch, scope;\n    key = event.keyCode;\n\n    if (index(_downKeys, key) == -1) {\n        _downKeys.push(key);\n    }\n\n    // if a modifier key, set the key.<modifierkeyname> property to true and return\n    if(key == 93 || key == 224) key = 91; // right command on webkit, command on Gecko\n    if(key in _mods) {\n      _mods[key] = true;\n      // 'assignKey' from inside this closure is exported to window.key\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = true;\n      return;\n    }\n    updateModifierKey(event);\n\n    // see if we need to ignore the keypress (filter() can can be overridden)\n    // by default ignore key presses if a select, textarea, or input is focused\n    if(!assignKey.filter.call(this, event)) return;\n\n    // abort if no potentially matching shortcuts found\n    if (!(key in _handlers)) return;\n\n    scope = getScope();\n\n    // for each potential shortcut\n    for (i = 0; i < _handlers[key].length; i++) {\n      handler = _handlers[key][i];\n\n      // see if it's in the current scope\n      if(handler.scope == scope || handler.scope == 'all'){\n        // check if modifiers match if any\n        modifiersMatch = handler.mods.length > 0;\n        for(k in _mods)\n          if((!_mods[k] && index(handler.mods, +k) > -1) ||\n            (_mods[k] && index(handler.mods, +k) == -1)) modifiersMatch = false;\n        // call the handler and stop the event if neccessary\n        if((handler.mods.length == 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91]) || modifiersMatch){\n          if(handler.method(event, handler)===false){\n            if(event.preventDefault) event.preventDefault();\n              else event.returnValue = false;\n            if(event.stopPropagation) event.stopPropagation();\n            if(event.cancelBubble) event.cancelBubble = true;\n          }\n        }\n      }\n    }\n  };\n\n  // unset modifier keys on keyup\n  function clearModifier(event){\n    var key = event.keyCode, k,\n        i = index(_downKeys, key);\n\n    // remove key from _downKeys\n    if (i >= 0) {\n        _downKeys.splice(i, 1);\n    }\n\n    if(key == 93 || key == 224) key = 91;\n    if(key in _mods) {\n      _mods[key] = false;\n      for(k in _MODIFIERS) if(_MODIFIERS[k] == key) assignKey[k] = false;\n    }\n  };\n\n  function resetModifiers() {\n    for(k in _mods) _mods[k] = false;\n    for(k in _MODIFIERS) assignKey[k] = false;\n  };\n\n  // parse and assign shortcut\n  function assignKey(key, scope, method){\n    var keys, mods;\n    keys = getKeys(key);\n    if (method === undefined) {\n      method = scope;\n      scope = 'all';\n    }\n\n    // for each shortcut\n    for (var i = 0; i < keys.length; i++) {\n      // set modifier keys if any\n      mods = [];\n      key = keys[i].split('+');\n      if (key.length > 1){\n        mods = getMods(key);\n        key = [key[key.length-1]];\n      }\n      // convert to keycode and...\n      key = key[0]\n      key = code(key);\n      // ...store handler\n      if (!(key in _handlers)) _handlers[key] = [];\n      _handlers[key].push({ shortcut: keys[i], scope: scope, method: method, key: keys[i], mods: mods });\n    }\n  };\n\n  // unbind all handlers for given key in current scope\n  function unbindKey(key, scope) {\n    var multipleKeys, keys,\n      mods = [],\n      i, j, obj;\n\n    multipleKeys = getKeys(key);\n\n    for (j = 0; j < multipleKeys.length; j++) {\n      keys = multipleKeys[j].split('+');\n\n      if (keys.length > 1) {\n        mods = getMods(keys);\n        key = keys[keys.length - 1];\n      }\n\n      key = code(key);\n\n      if (scope === undefined) {\n        scope = getScope();\n      }\n      if (!_handlers[key]) {\n        return;\n      }\n      for (i = 0; i < _handlers[key].length; i++) {\n        obj = _handlers[key][i];\n        // only clear handlers if correct scope and mods match\n        if (obj.scope === scope && compareArray(obj.mods, mods)) {\n          _handlers[key][i] = {};\n        }\n      }\n    }\n  };\n\n  // Returns true if the key with code 'keyCode' is currently down\n  // Converts strings into key codes.\n  function isPressed(keyCode) {\n      if (typeof(keyCode)=='string') {\n        keyCode = code(keyCode);\n      }\n      return index(_downKeys, keyCode) != -1;\n  }\n\n  function getPressedKeyCodes() {\n      return _downKeys.slice(0);\n  }\n\n  function filter(event){\n    var tagName = (event.target || event.srcElement).tagName;\n    // ignore keypressed in any elements that support keyboard data input\n    return !(tagName == 'INPUT' || tagName == 'SELECT' || tagName == 'TEXTAREA');\n  }\n\n  // initialize key.<modifier> to false\n  for(k in _MODIFIERS) assignKey[k] = false;\n\n  // set current scope (default 'all')\n  function setScope(scope){ _scope = scope || 'all' };\n  function getScope(){ return _scope || 'all' };\n\n  // delete all handlers for a given scope\n  function deleteScope(scope){\n    var key, handlers, i;\n\n    for (key in _handlers) {\n      handlers = _handlers[key];\n      for (i = 0; i < handlers.length; ) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);\n        else i++;\n      }\n    }\n  };\n\n  // abstract key logic for assign and unassign\n  function getKeys(key) {\n    var keys;\n    key = key.replace(/\\s/g, '');\n    keys = key.split(',');\n    if ((keys[keys.length - 1]) == '') {\n      keys[keys.length - 2] += ',';\n    }\n    return keys;\n  }\n\n  // abstract mods logic for assign and unassign\n  function getMods(key) {\n    var mods = key.slice(0, key.length - 1);\n    for (var mi = 0; mi < mods.length; mi++)\n    mods[mi] = _MODIFIERS[mods[mi]];\n    return mods;\n  }\n\n  // cross-browser events\n  function addEvent(object, event, method) {\n    if (object.addEventListener)\n      object.addEventListener(event, method, false);\n    else if(object.attachEvent)\n      object.attachEvent('on'+event, function(){ method(window.event) });\n  };\n\n  // set the handlers globally on document\n  addEvent(document, 'keydown', function(event) { dispatch(event) }); // Passing _scope to a callback to ensure it remains the same by execution. Fixes #48\n  addEvent(document, 'keyup', clearModifier);\n\n  // reset modifiers to false whenever the window is (re)focused.\n  addEvent(window, 'focus', resetModifiers);\n\n  // store previously defined key\n  var previousKey = global.key;\n\n  // restore previously defined key and return reference to our key object\n  function noConflict() {\n    var k = global.key;\n    global.key = previousKey;\n    return k;\n  }\n\n  // set window.key and window.key.set/get/deleteScope, and the default filter\n  global.key = assignKey;\n  global.key.setScope = setScope;\n  global.key.getScope = getScope;\n  global.key.deleteScope = deleteScope;\n  global.key.filter = filter;\n  global.key.isPressed = isPressed;\n  global.key.getPressedKeyCodes = getPressedKeyCodes;\n  global.key.noConflict = noConflict;\n  global.key.unbind = unbindKey;\n\n  if(typeof module !== 'undefined') module.exports = assignKey;\n\n})(this);\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/node_modules/keymaster/keymaster.js\n// module id = 11\n// module chunks = 0","module.exports = __WEBPACK_EXTERNAL_MODULE_12__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"jQuery\"\n// module id = 12\n// module chunks = 0","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../../sqlite/node_modules/css-loader/index.js!./components.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!../../../../../../sqlite/node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!../../../../../../sqlite/node_modules/css-loader/index.js!./components.css\", function() {\n\t\t\tvar newContent = require(\"!!../../../../../../sqlite/node_modules/css-loader/index.js!./components.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components.css\n// module id = 13\n// module chunks = 0","exports = module.exports = require(\"../../../../../../sqlite/node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"div.tree-container{height:100%;padding-top:10px;position:relative}div.tree{top:10px}div.tree,div.tree-with-search{bottom:5px;overflow:auto;left:0;position:absolute;right:0;width:100%}div.tree-with-search{top:85px}div.tree-with-search-and-label{bottom:5px;overflow-y:auto;overflow-x:hidden;left:0;position:absolute;right:0;top:105px;width:100%}div.tree-content,div.tree-subtree{margin-left:20px;width:calc(100%-40px)}div.tree-content{position:relative}div.tree-icon{position:absolute;cursor:pointer}div.tree-content.selected{background-color:#d3d3d3}div.tree-description img{margin-right:2px}.tree-search-text{margin-bottom:5px;position:relative}span.input-group-addon{margin:10px}.simple-search-match{background-color:hsla(0,0%,69%,.3)}.simple-search-navigated{font-weight:700}.user-selected-tree-node{background-color:#ddd;font-weight:700}.tree-navigation,span.icon-search{display:inline-block}span.icon-search{width:18px;height:18px;background-size:100% 100%;background-repeat:no-repeat;background-image:url(\" + require(\"./search_icon.png\") + \")}\", \"\"]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/sqlite/node_modules/css-loader!./components.css\n// module id = 14\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/sqlite/node_modules/css-loader/lib/css-base.js\n// module id = 15\n// module chunks = 0","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAArVJREFUeNrcVUtrE1EUPvOKeZuXj9pYk5b6IK1oV4Juqm4EpXWv1EpxqbjTteDerYi4EAU32l+giO5azcJaEykmBkxTEpJJMpOZJHfGc8cZSUMyCaUbPXC4d+6c831nzv1yAvCvGzNs4MTY0g1c7qCf6nr1Bn154+eTZzsiQGAK+Bo9NiD0HfpVJKoMTWCCv0UP0GeXywFTJ6Mkss8ra5oGWwXRvb62ySlKy0qh4PFOEt4GPGBWboCfv5ggS7cu5OLjB0sEwRVFgXq9DulUbv/Txx8OfVsvcGYszZm1cLh+BKG9M/dwmaf7K3MzzQcPr63Fx6OSx+MBt8sFgiAAx7Hg9e2Rpk+PVL+nCqFiUWJpKzE3WxY/JWkua9OhBYMo7IXbdy9ngsEA4TgOGIYBulISjxvJkDAY9MvXb5755XQKVu6ctWFtem9c6tlzR+VIJFCjwJ3GsizwPA8OXgCH4IDRaHDr2IkDxHw9b0tg9Z1aYjpa10HvGWScIjHDMsDiGo545O4YdpBMdV0jqqpCq9XqONON5zY6IW3QiNanhP4q+iuzdDrvlSQJeI4Hp9MJLPZfIwSazSYoqgKq2jTICJ6VipJ7qC9AHSctkuRq1lcqlR1itQrUq+g1lGcdSSVJhobSMIg282I49UeqRtowMj1Ox0KljG1lNF98IlzGynVarYqACgJTcFlGkobCvXy+Mpn9UbIKvm/J1I5AxIXOH/j6JS/oWts/ethfbZMWURUVwRUEboAoSr5XL1YnP77fsDSawQ4s2o6K7hFh2ZF4GBJTI7WxWKiuazqXThW8n1dy7kql0Xl3s2aLexP0Ax/CMuawS3YeckOA06oumXv643P2AH6Evojgmb7j2gZ82yebcVZMpbtiO4LyIPCdGNv1z7Sr4NvuAHW7jNKMmX3eFfD/w34LMABgBj6YtxYrTwAAAABJRU5ErkJggg==\"\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./search_icon.png\n// module id = 16\n// module chunks = 0","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0,\r\n\tstyleElementsInsertedAtTop = [];\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\t// By default, add <style> tags to the bottom of <head>.\r\n\tif (typeof options.insertAt === \"undefined\") options.insertAt = \"bottom\";\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction insertStyleElement(options, styleElement) {\r\n\tvar head = getHeadElement();\r\n\tvar lastStyleElementInsertedAtTop = styleElementsInsertedAtTop[styleElementsInsertedAtTop.length - 1];\r\n\tif (options.insertAt === \"top\") {\r\n\t\tif(!lastStyleElementInsertedAtTop) {\r\n\t\t\thead.insertBefore(styleElement, head.firstChild);\r\n\t\t} else if(lastStyleElementInsertedAtTop.nextSibling) {\r\n\t\t\thead.insertBefore(styleElement, lastStyleElementInsertedAtTop.nextSibling);\r\n\t\t} else {\r\n\t\t\thead.appendChild(styleElement);\r\n\t\t}\r\n\t\tstyleElementsInsertedAtTop.push(styleElement);\r\n\t} else if (options.insertAt === \"bottom\") {\r\n\t\thead.appendChild(styleElement);\r\n\t} else {\r\n\t\tthrow new Error(\"Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.\");\r\n\t}\r\n}\r\n\r\nfunction removeStyleElement(styleElement) {\r\n\tstyleElement.parentNode.removeChild(styleElement);\r\n\tvar idx = styleElementsInsertedAtTop.indexOf(styleElement);\r\n\tif(idx >= 0) {\r\n\t\tstyleElementsInsertedAtTop.splice(idx, 1);\r\n\t}\r\n}\r\n\r\nfunction createStyleElement(options) {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tstyleElement.type = \"text/css\";\r\n\tinsertStyleElement(options, styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement(options) {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tlinkElement.rel = \"stylesheet\";\r\n\tinsertStyleElement(options, linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement(options));\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement(options);\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement(options);\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tremoveStyleElement(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// c:/repository/cs.all.15.2/package_sources/cs.vp/parts/release/tmpanajjf/sqlite/node_modules/style-loader/addStyles.js\n// module id = 17\n// module chunks = 0","import Immutable from 'immutable';\r\nimport {TreeTools} from 'cs-vp-utils';\r\n\r\nimport {\r\n    EXPAND_TREE_NODE,\r\n    TOGGLE_TREE_NODE, SELECT_TREE_NODE,\r\n    SET_SEARCH_RESULT, SET_INITIAL_TREE_STATE,\r\n    SET_NAVIGATED_TREE_NODE,\r\n    UPDATE_TREE_NODE\r\n} from './tree-actions';\r\n\r\n\r\n/*\r\n * Help Functions\r\n */\r\n\r\nconst visitAndUpdate = (state, callback, visitor = TreeTools.visitTopDownDepthFirst) => {\r\n    return state.set('node', visitor(state.get('node'), callback));\r\n};\r\n\r\n\r\n/*\r\n * Reducers\r\n */\r\n\r\n\r\nconst toggleTreeNode = (state, action) => {\r\n    const toggleNode = (id, state) => {\r\n        return visitAndUpdate(state, node => {\r\n            if (node.get('id') === id) {\r\n                const expanded = node.get('expanded');\r\n                return node.set('expanded', !expanded);\r\n            } else {\r\n                return node;\r\n            }\r\n        });\r\n    };\r\n\r\n    switch (action.type) {\r\n        case TOGGLE_TREE_NODE:\r\n            return toggleNode(action.id, state);\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst updateTreeNode = (state, action) => {\r\n    const updateNode = (newNode, state) => {\r\n        const id = action.id ? action.id : newNode.get('id');\r\n        return visitAndUpdate(state, node => {\r\n            if (node.get('id') === id) {\r\n                return newNode;\r\n            } else {\r\n                return node;\r\n            }\r\n        });\r\n    };\r\n    switch (action.type) {\r\n        case UPDATE_TREE_NODE:\r\n            return updateNode(action.node, state);\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst selectTreeNode = (state, action) => {\r\n    // help function: selects the node with id === state.get('selectedId')\r\n    const select = state => {\r\n        const selection_class = 'user-selected-tree-node';\r\n        return visitAndUpdate(state, node => {\r\n            const selection_matching_classes =\r\n                node.get('selection_matching_classes') ?\r\n                node.get('selection_matching_classes') : Immutable.List();\r\n\r\n            if (node.get('id') === state.get('selectedId')) {\r\n                return node.set('selection_matching_classes',\r\n                    selection_matching_classes.push(selection_class));\r\n            } else {\r\n                return node.set('selection_matching_classes',\r\n                    selection_matching_classes.filter(x => x !== selection_class));\r\n            }\r\n        });\r\n    };\r\n\r\n    switch (action.type) {\r\n        case SELECT_TREE_NODE:\r\n            return select(state.set('selectedId', action.id));\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst expandTreeNode = (state, action) => {\r\n    switch (action.type) {\r\n        case EXPAND_TREE_NODE: {\r\n            const visit = match => node => {\r\n                let immutableNode = node;\r\n\r\n                const visitChildren = node.get('children').map(visit(match));\r\n                immutableNode = immutableNode.set('children',\r\n                    visitChildren.map(child => child.node));\r\n\r\n                const expand = match(immutableNode) ||\r\n                    visitChildren.some(child => child.expand);\r\n                if (expand) {\r\n                    immutableNode = immutableNode.set('expanded', true);\r\n                }\r\n\r\n                return {expand, node: immutableNode};\r\n            };\r\n\r\n            const {node} =\r\n                visit(node => (node.get('id') === action.id))(state.get('node'));\r\n\r\n            return state.set('node', node);\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst setNavigatedTreeNodeIdx = (state, action) => {\r\n    switch (action.type) {\r\n        case SET_NAVIGATED_TREE_NODE:\r\n            return state.setIn([\r\n                'searches', action.searchId, 'navigatedIdx'],\r\n                action.navigatedIdx\r\n            );\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst searchTree = (state, action) => {\r\n    let newState = state;\r\n    switch (action.type) {\r\n        case SET_SEARCH_RESULT: {\r\n            if (newState.getIn(['searches', action.search]) !== undefined) {\r\n                // Add new search to the state if given\r\n                newState = newState.setIn(['searches', action.searchId], action.search);\r\n            }\r\n            if (\r\n                newState.getIn(['searches', action.searchId, 'searchCondition']) !==\r\n                action.searchCondition\r\n            ) {\r\n                // search condition changed -> reset navigatedIdx;\r\n                newState = newState.setIn(['searches', action.searchId, 'navigatedIdx'], 0);\r\n            }\r\n            newState = newState.setIn(\r\n                ['searches', action.searchId, 'searchCondition'], action.searchCondition);\r\n            newState = newState.setIn(\r\n                ['searches', action.searchId, 'resultCnt'],\r\n                action.resultCnt ? action.resultCnt : 0\r\n            );\r\n            newState = newState.setIn(\r\n                ['searches', action.searchId, 'matchedNodeIds'],\r\n                action.matchedNodeIds ? action.matchedNodeIds : []\r\n            );\r\n            newState = newState.setIn(\r\n                ['searches', action.searchId, 'idFieldPathList'],\r\n                action.idFieldPathList ? action.idFieldPathList : ['id']\r\n            );\r\n            return newState;\r\n        }\r\n        default:\r\n            return newState;\r\n    }\r\n};\r\n\r\nconst initialState = Immutable.fromJS({\r\n    node: Immutable.fromJS({\r\n    }),\r\n    searchField: {\r\n        placeholder: '',\r\n        searchId: undefined,\r\n        searchAction: undefined\r\n    },\r\n    searches: {\r\n    },\r\n    NodeRendererComponent: undefined,\r\n    fetchNodeChildren: undefined\r\n});\r\n\r\nconst setInitialState = (state, action) => {\r\n    switch (action.type) {\r\n        case SET_INITIAL_TREE_STATE:\r\n            return action.state;\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\n\r\nconst chainReducers = (...reducers) => reducers.reduce(\r\n    (lhs, rhs) => (\r\n        (state, action) => {\r\n            return rhs(lhs(state, action), action);\r\n        }\r\n    ),\r\n    function(state = Immutable.Map()) {\r\n        return state;\r\n    }\r\n);\r\n\r\nconst __reducer__ = chainReducers(\r\n    updateTreeNode,\r\n    toggleTreeNode,\r\n    selectTreeNode,\r\n    searchTree,\r\n    expandTreeNode,\r\n    setNavigatedTreeNodeIdx,\r\n    setInitialState\r\n);\r\n\r\n\r\nexport default function(containerId) {\r\n    return (state, action) => {\r\n        if (containerId === action.containerId) {\r\n            return __reducer__(state, action);\r\n        } else {\r\n            return state === undefined ? initialState : state;\r\n        }\r\n    };\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./tree-reducers.js"],"sourceRoot":""}