/*
 * Copyright (C) 2016 CONTACT Software GmbH
 * All rights reserved.
 * http://www.contact-software.com
 *
 * Revision "$Id: index.js 164274 2017-08-31 10:31:31Z gda $"
 */

// jshint esversion:6

import {connect} from 'cs-web-components-externals';

import {
    activateKey,
    filterChange,
    selectListEntry,
    setInitialState,
    setContent,
    setListContext,
    push
} from './list-actions';
import {FilterList} from './list-components';
import reducer from './list-reducers';
import * as constants from './list-constants';

function containerize(obj, containerId) {
    const result = {};
    for (const [name, value] of Object.entries(obj)) {
        result[name] = value(containerId);
    }
    return result;
}

export {constants};

export function actions(namespace, containerId) {
    return containerize(
        {
            activateKey,
            filterChange,
            selectListEntry,
            setInitialState,
            setContent,
            setListContext,
            push
        },
        containerId, namespace);
}

export default function(namespace, containerId) {
    return connect(state => {
        return {list: state[namespace][containerId]};
    }, actions(namespace, containerId))(FilterList);
}

export {reducer};
