// jshint esversion:6

import Immutable from 'immutable';

import { visitTopDownDepthFirst } from '../../utils/tree-tools';

const rootNode = visitTopDownDepthFirst(
    Immutable.fromJS(require('../../tree/demo/mammalia.json')), node => {
        return Immutable.Map({
            id: node.get('description'),
            content: node.get('description'),
            expanded: false,
            children: node.get('children'),
            has_children: node.get('children').size > 0
        })
    }
);


let treeData =
    Immutable.fromJS({
            node: rootNode,
            searchField: {
                label: 'Search',
                placeholder: 'Bitte Suchbegriff eingeben',
                visible: true
            },
            searches: {
                'simple-text-search': {
                    cssclass: 'simple-search-match',
                    match: (node, search) => {
                        if (search !== '' && node.get('content').indexOf(search) != -1) {
                            return true;
                        } else {
                            return false;
                        }
                    },
                    resultCnt: 0,
                    navigatedIdx: 0,
                    navigationCSSClass: 'simple-search-navigated'
                }
            }
        });


export default treeData;
