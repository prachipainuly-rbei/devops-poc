import React from 'react';
import PropTypes from 'prop-types';

import {RestObjectRenderer} from 'cs-vp-utils';

export class TreeNodeRestDefaultRenderer extends React.Component {
    render() {
        const description = this.props.node.getIn(['content', 'system:description']);
        const cssClasses = 'tree-node-renderer';
        const iconSrc = this.props.node.getIn(['content', 'system:icon_link']);
        const statusBackgroundColor = this.props.node.getIn([
            'content', 'system:current_status', 'color']);
        const statusIcon = statusBackgroundColor ? (
            <div style={'background-color:' + statusBackgroundColor + ';'}>&nbsp;</div>
        ) : undefined;
        return (
            <RestObjectRenderer
                cssClasses={cssClasses}
                description={description}
                iconSrc={iconSrc}
                statusIcon={statusIcon}
            />
        );
    }
}
TreeNodeRestDefaultRenderer.propTypes = {
    node: PropTypes.object.isRequired
};
