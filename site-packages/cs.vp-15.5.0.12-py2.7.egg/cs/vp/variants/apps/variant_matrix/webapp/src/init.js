// jshint esversion:6

import {Registry} from 'cs-web-components-base';
import {combineReducers} from 'cs-web-components-externals';

import {reducer as listReducerFactory} from 'cs-vp-list-component';
import {reducer as tableReducerFactory} from 'cs-vp-table-component';
import {
    config as configReducer,
    context as contextReducer,
    variantReducer,
} from './reducers';

export const namespace = 'cs-vp-variant-matrix';

// Init table
import tableContainerFactory from 'cs-vp-table-component';
import {actions as variantTableActionsFactory} from 'cs-vp-table-component';
export const VariantTableContainerId = 'variantTable';
export const VariantTableContainer = tableContainerFactory(namespace, VariantTableContainerId);
export const VariantTableActions = variantTableActionsFactory(namespace, VariantTableContainerId);
Registry.registerComponent('cs.vp.variants.apps.variant_matrix.variant_table',
    VariantTableContainer);

// Init list
import listContainerFactory from 'cs-vp-list-component';
import {actions as listActionsFactory} from 'cs-vp-list-component';
export const ArticleListContainerId = 'articleList';
export const ArticleListContainer = listContainerFactory(namespace, ArticleListContainerId);
export const ArticleListActions = listActionsFactory(namespace, ArticleListContainerId);
Registry.registerComponent('cs.vp.variants.apps.variant_matrix.article_list',
    ArticleListContainer);

// Init reducers
const reducers = {};
reducers[ArticleListContainerId] = listReducerFactory(ArticleListContainerId);
reducers[VariantTableContainerId] = tableReducerFactory(VariantTableContainerId);
reducers['config'] = configReducer;
reducers['context'] = contextReducer;
reducers['variantContext'] = variantReducer;

Registry.registerReducer(namespace, combineReducers(reducers));
