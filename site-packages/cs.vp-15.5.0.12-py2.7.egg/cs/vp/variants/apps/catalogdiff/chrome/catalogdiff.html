<html metal:use-macro="global_templates['cdb_master_layout.html'].macros.elink_page_layout">
    <metal:header fill-slot="head_block">
        <link rel="stylesheet" href="${options.localres}css/catalogdiff.css?version=3" type="text/css"/>
    </metal:header>

    <body metal:fill-slot="body_block">
        <table class="table table-condensed">
            <thead tal:condition="propdiff or any(values)" class="title">
                <th>${options.labels['cdbvp_catalogdiff_attribute']}</th>
                <th>${options.labels['cdbvp_catalogdiff_usage']}</th>
                <th>${options.labels['cdbvp_catalogdiff_catalog']}</th>
            </thead>
            
            <tr tal:condition="propdiff">
                <td colspan="3" class="subtitle">
                    ${options.labels['cdbvp_catalogdiff_property_attributes']}
                </td>
            </tr>
            <tr tal:repeat="field propdiff">
                <td class="firstcolumn">${field[0]}</td>
                <td>${field[1]}</td>
                <td>${field[2]}</td>
            </tr>
            
            <tr tal:condition="any(values)">
                <td colspan="3" class="subtitle">
                    ${options.labels['cdbvp_catalogdiff_property_values']}
                </td>
            </tr>

            <tal:value repeat="value values.keys()">
                <tr class="subsubtitle">
                    <td class="firstcolumn">ID</td>
                    <td colspan="2">${value}</td>
                </tr>
                <tr tal:repeat="field values[value]">
                    <td>${field[0]}</td>
                    <td>${field[1]}</td>
                    <td>${field[2]}</td>
                </tr>
            </tal:value>
            
            <tr tal:condition="new_values">
                <td colspan="3" class="subtitle">
                    ${options.labels['cdbvp_catalogdiff_additional_values']}
                </td>
            </tr>
            <tr tal:repeat="value new_values">
                <td colspan="3">
                    ${value.GetDescription()}
                </td>
            </tr>
        </table>
    </body>
</html>
