<metal:title define-macro="widget_title"
             tal:define="product obj|nothing">
        <a href="${product.MakeURL('CDB_ShowObject')}"
           target="_blank">
            <h2>${product.Name[""]}</h2>
        </a>
</metal:title>

<metal:title define-macro="widget_dropdown"
             tal:define="product obj|nothing">
  <metal:menu use-macro="global_plugins['components'].macros.operations_dropdown_menu"
              tal:define="oplist options.operations.get_object_operations_for_context(product)" />
</metal:title>

<metal:filters define-macro="widget_filters">
</metal:filters>

<metal:widgetcontent define-macro="widget_content"
                     tal:define="product obj|nothing"
                     tal:condition="product">
    <div class="container-fluid"  data-elink-cdb_product_id="${product.cdb_object_id}">
        <div class="row-fluid">
            <div class="span4">
                 <tal:previewImage metal:use-macro="global_plugins['picture_uploader'].macros['preview_image']"
                                  define="prev_img get_preview_img(product)"/>
            </div>
          <div class="span8">
            <div class="productdetail-info">
              <div class="container-fluid">
                <div class="row-fluid detailinfo-label">
                  <div class="span6 fix-text muted">${product.Label("code")}</div>
                </div>
                <div class="row-fluid">
                  <div class="span6 fix-text">${product.code}</div>
                </div>
                <div class="row-fluid detailinfo-label">
                  <div class="span6 fix-text muted">${product.Label("name_de")}</div>
                  <div class="span6 fix-text muted">${product.Label("name_en")}</div>
                </div>
                <div class="row-fluid">
                  <div class="span6 fix-text">${product.Name["de"]}</div>
                  <div class="span6 fix-text">${product.Name["en"]}</div>
                </div>
                <div class="row-fluid detailinfo-label">
                  <div class="span6 fix-text muted">${product.Label("maturity")}</div>
                  <div class="span6 fix-text muted">${product.Label("joined_status_name")}</div>
                </div>
                <div class="row-fluid">
                  <div class="span6 fix-text">${product.ProductMaturity.Name[""] if product.ProductMaturity else ""}</div>
                  <div class="span6 fix-text">${product.joined_status_name}</div>
                </div>
                <div class="row-fluid detailinfo-label">
                  <div class="span6 fix-text muted">${product.Label("erp_code")}</div>
                  <div class="span6 fix-text muted">${product.Label("mapped_subject_name")}</div>
                </div>
                <div class="row-fluid">
                  <div class="span6 fix-text">${product.erp_code}</div>
                  <div class="span6 fix-text">${product.mapped_subject_name}</div>
                </div>
             </div>
            </div>
          </div>
        </div>
    </div>
</metal:widgetcontent>
