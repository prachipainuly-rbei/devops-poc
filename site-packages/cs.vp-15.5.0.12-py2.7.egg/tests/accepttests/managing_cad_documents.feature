# Copyright (C) 1990 - 2012 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#
@nobrowser
Feature: Managing CAD-Documents


Background:
    GIVEN a released item exists


Scenario Outline: Create New CAD-Document
    WHEN <role> creates a new CAD-Document
    THEN a new CAD-Document is <creation>

    Examples:
        | role                               |   creation    |
        | Engineering, Documentation, public |   generated   |
        | public                             | not generated |


Scenario Outline: Change CAD-Document
    GIVEN a CAD-Document exists
    WHEN <role> changes this CAD-Document
    THEN the changed CAD-Document is <state>

    Examples:
        | role                               | state     |
        | Engineering, Documentation, public | saved     |
        | public                             | not saved |


Scenario Outline: Copy CAD-Document
    GIVEN a CAD-Document exists
    WHEN <role> copies this CAD-Document
    THEN the CAD-Document is <state>
        AND no new item is generated
        AND the copy of the CAD-Document is <allocation_state> to the item

    Examples:
        | role                | state      | allocation_state |
        | Engineering, public | copied     | allocated        |
        | public              | not copied | not allocated    |


Scenario Outline: Delete CAD-Document
    GIVEN a CAD-Document exists
    WHEN <role> deletes this CAD-Document
    THEN the CAD-Document is <state>

    Examples:
        | role                               | state       |
        | Documentation, Engineering, public | deleted     |
        | public                             | not deleted |


Scenario Outline: Generate An Index Of A CAD-Document
    GIVEN a released CAD-Document exists
    WHEN <role> generates an index of this CAD-Document
    THEN an index of the original CAD-Document is <action>
        AND the original CAD-Document is <state_original>

    Examples:
        | role                | action        | state_original |
        | Engineering, public | generated     | Revision    |
        | public              | not generated | Released       |


Scenario Outline: Change State Of A CAD-Document
    GIVEN a CAD-Document exists
    WHEN <role> changes the state of this CAD-Document
        |  FROM |    TO  |
        | Draft | Review |
    THEN the changed state of the CAD-Document is <state>

    Examples:
        | role                | state     |
        | Engineering, public | saved     |
        | public              | not saved |


Scenario Outline: Change a released CAD-Document
    GIVEN a released CAD-Document exists
    WHEN <role> changes this CAD-Document
    THEN the changed CAD-Document is <state>

    Examples:
        | role                | state     |
        | Engineering, public | not saved |


Scenario Outline: Release an Index
    GIVEN a released CAD-Document exists
        AND an index of this CAD-Document is generated
    WHEN <role> releases the index of the CAD-Document
    THEN the index of the CAD-Document is <state>
    AND the original CAD-Document is <state_original>

    Examples:
        | role                                | state        | state_original  |
        | Engineering, Design Release, public | Released     | Obsolete        |
        | public                              | not Released | Revision        |


@slow
Scenario Outline: Import A File Into A CAD-Document
    GIVEN a file exists
        AND a CAD-Document exists
    WHEN <role> imports this file into the CAD-Document
    THEN the file is <state> into the CAD-Document

    Examples:
        | role                | state        |
        | Engineering, public | embedded     |
        | public              | not embedded |
