# Copyright (C) 1990 - 2016 CONTACT Software GmbH
# All rights reserved.
# https://www.contact-software.com/
#

@instancewizard
Feature: Instance wizard

@engineering
Scenario Outline: Instantiate a variant, create new parts
    Given a product with 2 <maxbom> and 1 variant and 0 instantiation for this variant exists
    And the user opens the instance wizard for variant 1
    When the user clicks on the button to instantiate the variant
    Then a new instantiated variant exists using a new article for the variable part

    Examples:
        | maxbom         |
        | maxbom         |
        | indexed maxbom |

    Examples:
        | maxbom         |
        | maxbom         |
        | indexed maxbom |

@engineering
Scenario Outline: Instantiate a variant, use existing parts
    Given a product with 2 <maxbom> and 1 variant and 1 instantiation for this variant exists
    And the user opens the instance wizard for variant 1
    When the user selects an existing article in the dropdown
    And the user clicks on the button to instantiate the variant
    Then a new instantiated variant exists using an existing article for the variable part

    Examples:
        | maxbom         |
        | maxbom         |
        | indexed maxbom |

@engineering
Scenario: Instantiate a variant from an outdated maxbom
    Given a product with an outdated maxbom and 1 variant exists
        And the user opens the instance wizard for variant 1
    When the user clicks on the button to instantiate the variant
    Then a new instantiated variant exists


# regression tests
Scenario: Text Search
    Given a product with 1 maxbom and 1 variant and 0 instantiation for this variant exists
        And the user opens the instance wizard for variant 1
    When the user searches for a part in the search field
    Then the part is navigated

# this should be a frontend test, but we don't have those right now
Scenario: Click on table header
    Given a product with 1 maxbom and 1 variant and 0 instantiation for this variant exists
        And the user opens the instance wizard for variant 1
    When the user clicks on the table heading of the todo list
    Then no javascript error is produced
