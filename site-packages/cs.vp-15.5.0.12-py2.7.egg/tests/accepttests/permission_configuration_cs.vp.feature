# Copyright (C) 1990 - 2012 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#

Feature: Permissions on CAD-Documents/Items

In order to work with items and CAD-documents in a controlled and secure way
As an engineer/writer
I want to
     - have all necessary system permissions to do my work*
     - be corrected by the system if I accidentally try to change a released CAD-Document/item
     - have the system to prevent the access to my CAD-documents/items from users which *don't* have
       the necessary permissions to access them

* this is already tested by the various other features


Scenario Outline: A Non-Engineer Tries To Create A CAD-Document
    GIVEN an item exists
    WHEN a <role> tries to create a CAD-Document
    THEN he's <result> to do so
    Examples:
    | role   | result        |
    | public | not permitted |


Scenario Outline: A Non-Engineer Tries To Create An Item
    WHEN a <role> tries to create an item
    THEN he's <result> to create an item
    Examples:
    | role   | result        |
    | public | not permitted |


Scenario Outline: A Non-Engineer Tries To Handle An Unreleased CAD-Document
    GIVEN a CAD-Document exists
    WHEN a <role> tries to <action> this CAD-Document
    THEN he's <result> the necessary permissions
    Examples:
    | role   | action | result      |
    | public | read   | granted     |
    | public | save   | not granted |

    # The above examples list should probably be extended


Scenario Outline: A Non-Engineer Tries To Handle An Unreleased Item
    GIVEN an item exists
    WHEN a <role> tries to <action> this item
    THEN he's <result> the necessary permissions
    Examples:
    | role   | action | result      |
    | public | read   | granted     |
    | public | save   | not granted |


Scenario Outline: An Engineer Tries To Handle A Released CAD-Document
    GIVEN a released item exists
    GIVEN a released CAD-Document exists
    WHEN an engineer tries to <action> this released CAD-Document
    THEN he's <result> the necessary permissions
    Examples:
    | action | result      |
    | read   | granted     |
    | save   | not granted |

    # The above examples list should probably be extended

Scenario Outline: An Engineer Tries To Handle A Released Item
    GIVEN a released item exists
    WHEN an engineer tries to <action> this released Item
    THEN he's <result> the necessary permissions
    Examples:
    | action | result      |
    | read   | granted     |
    | save   | not granted |

    # The above examples list should probably be extended
