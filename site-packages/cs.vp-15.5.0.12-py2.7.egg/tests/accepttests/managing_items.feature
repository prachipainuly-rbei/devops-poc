# Copyright (C) 1990 - 2012 CONTACT Software GmbH
# All rights reserved.
# http://www.contact.de/
#
Feature: Managing Items


Scenario Outline: Create New Item
    WHEN <role> creates a new item
    THEN a new item is <action>

    Examples:
        | role                | action        |
        | Engineering, public | generated     |
        | public              | not generated |


Scenario Outline: Create New Item With Predefines
    WHEN <role> creates a new item with
        | benennung2  | mengeneinheit |
        | Other Item  | qm            |
    THEN the predefined attributes are <state> on the item

    Examples:
        | role                | state   |
        | Engineering, public | set     |
        | public              | not set |


Scenario Outline: Change Item
    GIVEN an item exists
    WHEN <role> changes this item
    THEN the changed item is <state>

    Examples:
        | role                | state     |
        | Engineering, public | saved     |
        | public              | not saved |


Scenario Outline: Copy Item
    GIVEN an item exists
    WHEN <role> copies this item
    THEN the item is <action>

    Examples:
        | role                | action     |
        | Engineering, public | copied     |
        | public              | not copied |


Scenario Outline: Delete Item
    GIVEN an item exists
    WHEN <role> deletes this item
    THEN the item is <state>

    Examples:
        | role                | state       |
        | Engineering, public | deleted     |
        | public              | not deleted |


Scenario Outline: Delete Item and delete its assembly components
    GIVEN an assembly exists
    AND an item exists
    AND a parts list position exists
    WHEN <role> deletes the assembly
    THEN the parts list position is <state>

    Examples:
        | role                | state       |
        | Engineering, public | deleted     |
        | public              | not deleted |


Scenario Outline: Delete Item and delete its bom predicates
    GIVEN an assembly exists
    AND an item exists
    AND a parts list position exists
    AND a boolean property value exists
    AND the bom item has a predicate
    AND the predicate has a term
    WHEN <role> deletes the assembly
    THEN the bom predicate is <state>

    Examples:
        | role                | state       |
        | Engineering, public | deleted     |
        | public              | not deleted |


Scenario Outline: Generate An Index Of An Item
    GIVEN a released item exists
    WHEN <role> generates an index of this item
    THEN an index of the original item is <action>
        AND the original item is <status>

    Examples:
        | role                                | action        | status      |
        | Engineering, Design Release, public | generated     | Revision |
        | public                              | not generated | Released    |


Scenario Outline: Change State Of An Item
    GIVEN an item exists
    WHEN <role> changes the state of this item
        | FROM    | TO       |
        | Draft   | Review   |
    THEN the state of the item is <action>

    Examples:
        | role                | action    |
        | Engineering, public | saved     |
        | public              | not saved |


Scenario Outline: Allocate An Item To A Parts List Position
    GIVEN an assembly exists
        AND an item exists
    WHEN <role> allocates this item to the assembly
    THEN the item is <state> to the assembly

    Examples:
        | role                | state         |
        | Engineering, public | allocated     |
        | public              | not allocated |

Scenario Outline: Change A Released Item
    GIVEN a released item exists
    WHEN <role> changes this item
    THEN the changed item is <status>

    Examples:
        | role                  | status    |
        | Administrator, public | saved     |
        | Engineering, public   | not saved |


Scenario Outline: Release An Index
    GIVEN a released item exists
        AND an index of this item exists
    WHEN <role> releases the index of the item
    THEN the index of the item is <status>
        AND the state of the original item is <status_original>

    Examples:
        | role                                | status       | status_original |
        | Engineering, Design Release, public | Released     | Obsolete        |
        | public                              | not Released | Revision        |


Scenario Outline: Copy an Item Allocated to a CAD-Document
    GIVEN an item exists
        AND a CAD-Document exists
    WHEN <role> copies this item
    THEN a new item is <action>
        AND no new document is generated
        AND the copy is <state> to the document

    Examples:
        | role                | action        | state         |
        | Engineering, public | generated     | not allocated |
        | public              | not generated | not allocated |


Scenario Outline: Create Manufacturing View
    GIVEN an EBOM exists
    WHEN creating a manufacturing view <with_or_without> the first BOM level
    THEN the EBOM has a MBOM <with_or_without> a copy of the first BOM level

    Examples:
        | with_or_without |
        | with            |
        | without         |
