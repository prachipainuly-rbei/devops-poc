<metal:page use-macro="global_macros['cdb_welcome_page_layout']"
            tal:define="page_title options.labels.cdblauchpad|'Launchpad';
                        body_responsive_class 'cdb-responsive-normal';
                        current_toolbar_op 'CDB_Launchpad';
                        cdbhelpid 'user_launchpad'">
  <html>
    <head>
      <metal:head fill-slot="head_block">
        <link href="${options.localres}launchpad.css" rel="stylesheet" type="text/css" />
        <tal:extcss repeat="categ categories">
        <link href="${categ.getURLPaths()['localres']}${categ.cssfile}" rel="stylesheet" type="text/css"
              tal:condition="categ.cssfile|nothing"/>
        </tal:extcss>
      </metal:head>
    </head>
    <body>
      <metal:pt fill-slot="page_content">
        <div class="tiles-wrapper">
          <tal:foo repeat="category categories">
            <div class="launchpad-list">
              <h1 class="launchpad-headline" title="${category.category_label}">${category.category_label}</h1>
              <!--Tiles-->
              <tal:foo repeat="tile category.tiles">
                <a href="${tile.url}" target="_blank"
                   tal:define="entry_count getCount(tile)">
                  <div class="launchpad-tile tile-${tile.cssid} count-${entry_count}">
                    <div tal:condition="entry_count" class="launchpad-count">${entry_count}</div>
                    <img style="" src="${category.getURLPaths()['localres']}tiles/${tile.cssid}.png"/>
                    <span class="launchpad-tps-label">${tile.label}</span>
                  </div>
                </a>
              </tal:foo>
              <!--Tiles end-->
            </div>
          </tal:foo>
        </div>
      </metal:pt>
    </body>
  </html>
</metal:page>
